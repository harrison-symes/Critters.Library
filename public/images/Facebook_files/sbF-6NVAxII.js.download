;/*FB_PKG_DELIM*/

__d("ChannelShareDialogLoggingContext",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["BROADCAST_CHANNEL_CREATION","THREAD_DETAILS_SHARE_ITEM","THREAD_DETAILS_QUICK_ACTION","CONTEXT_BANNER_QUICK_ACTION"]);c=a;f["default"]=c}),66);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24894243323513219"}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometIXTFacebookProactiveWarningFlowTriggerRootQuery_facebookRelayOperation"),metadata:{},name:"CometIXTFacebookProactiveWarningFlowTriggerRootQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint",["CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters","JSResourceForInteraction","WebPixelRatio","react","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h;h||c("react");a={getPreloadProps:function(a){return{queries:{reference:{parameters:c("CometIXTFacebookProactiveWarningFlowTriggerRootQuery$Parameters"),variables:{input:babelHelpers["extends"]({},a,{nt_context:null,trigger_session_id:c("uuidv4")()}),scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometIXTFacebookProactiveWarningFlowTriggerRoot.react").__setRef("CometIXTFacebookProactiveWarningFlowTriggerEntryPoint.entrypoint")};b=a;g["default"]=b}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null};e.exports=a}),null);
__d("SafetyInterventionEngagementFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2113");b=d("FalcoLoggerInternal").create("safety_intervention_engagement",a);e=b;g["default"]=e}),98);
__d("SafetyInterventionErrorFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2114");b=d("FalcoLoggerInternal").create("safety_intervention_error",a);e=b;g["default"]=e}),98);
__d("SafetyInterventionImpressionFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2115");b=d("FalcoLoggerInternal").create("safety_intervention_impression",a);e=b;g["default"]=e}),98);
__d("SafetyInterventionPlatformTriggeredFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2118");b=d("FalcoLoggerInternal").create("safety_intervention_platform_triggered",a);e=b;g["default"]=e}),98);
__d("SafetyInterventionPlatformAnalyticsLogger",["SafetyInterventionEngagementFalcoEvent","SafetyInterventionErrorFalcoEvent","SafetyInterventionImpressionFalcoEvent","SafetyInterventionPlatformTriggeredFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d,e,f,g,h,i,j){c("SafetyInterventionImpressionFalcoEvent").log(function(){return{client_session_id:a,expiration_ts:b,other_user_id:h,safety_intervention_impression_trigger_action:i,safety_intervention_type:j,server_evaluation_id:d,thread_id:e,thread_type:f,user_id:g}})}function b(a,b,d,e,f,g,h,i,j,k){c("SafetyInterventionEngagementFalcoEvent").log(function(){return{client_session_id:a,expiration_ts:b,intervention_engagement_action_type:k,intervention_engagement_type:j,other_user_id:h,safety_intervention_type:i,server_evaluation_id:d,thread_id:e,thread_type:f,user_id:g}})}function d(a,b,d,e,f,g,h){c("SafetyInterventionErrorFalcoEvent").log(function(){return{client_session_id:a,extra_field:h,other_user_id:g,server_evaluation_id:b,thread_id:d,thread_type:e,user_id:f}})}function e(a,b,d,e,f,g,h){c("SafetyInterventionPlatformTriggeredFalcoEvent").log(function(){return{client_session_id:a,other_user_id:g,safety_intervention_platform_trigger_source:h,server_evaluation_id:b,thread_id:d,thread_type:e,user_id:f}})}g.logSafetyInterventionImpression=a;g.logSafetyInterventionEngagement=b;g.logSafetyInterventionError=d;g.logSafetyInterventionTriggered=e}),98);
__d("SafetyNoticeThreadType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum").Mirrored(["AI_BOT","ARMADILLO_GROUP","ARMADILLO_ONE_TO_ONE","CARRIER_MESSAGING_GROUP","CARRIER_MESSAGING_ONE_TO_ONE","COMMUNITY_ANNOUNCEMENT_JOINED_THREAD","COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD","COMMUNITY_BROADCAST_JOINED_THREAD","COMMUNITY_BROADCAST_UNJOINED_THREAD","COMMUNITY_CHANNEL_CATEGORY","COMMUNITY_FOLDER","COMMUNITY_GROUP","COMMUNITY_GROUP_INVITED_UNJOINED","COMMUNITY_GROUP_UNJOINED","COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD","COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD","COMMUNITY_SUB_THREAD","DISCOVERABLE_PUBLIC_BROADCAST_CHAT","DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT","DISCOVERABLE_PUBLIC_CHAT_UNJOINED","DISCOVERABLE_PUBLIC_CHAT_V2","DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED","FOLDER","GROUP","LWG","MARKETPLACE","MONTAGE","ONE_TO_ONE","PAGE_FOLLOW_UP","PHONE_NUMBER","PINNED","ROOM","SECURE_MESSAGE_OVER_WA_GROUP","SECURE_MESSAGE_OVER_WA_ONE_TO_ONE","SELF_THREAD","TINCAN_GROUP_DISAPPEARING","TINCAN_ONE_TO_ONE","TINCAN_ONE_TO_ONE_DISAPPEARING","UNKNOWN","XAC_GROUP"]);c=a;f["default"]=c}),66);
__d("SafetyNoticeEnumConverter",[],(function(a,b,c,d,e,f,g){"use strict";function a(a){switch(a){case 201:return"AI_BOT";case-2:return"ARMADILLO_GROUP";case-1:return"ARMADILLO_ONE_TO_ONE";case 11:return"CARRIER_MESSAGING_GROUP";case 10:return"CARRIER_MESSAGING_ONE_TO_ONE";case 17:return"COMMUNITY_FOLDER";case 18:return"COMMUNITY_GROUP";case 152:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT";case 150:return"DISCOVERABLE_PUBLIC_CHAT";case 6:return"FOLDER";case 2:return"GROUP";case 102:return"LWG";case 5:return"MARKETPLACE";case 4:return"MONTAGE";case 1:return"ONE_TO_ONE";case 14:return"PAGE_FOLLOW_UP";case 101:return"PINNED";case 3:return"ROOM";case 12:return"SELF_THREAD";case 0:return"UNKNOWN";case 200:return"XAC_GROUP";case 23:return"COMMUNITY_BROADCAST_JOINED_THREAD";case 24:return"COMMUNITY_BROADCAST_UNJOINED_THREAD";case 20:return"COMMUNITY_CHANNEL_CATEGORY";case 25:return"COMMUNITY_GROUP_INVITED_UNJOINED";case 19:return"COMMUNITY_GROUP_UNJOINED";case 21:return"COMMUNITY_PRIVATE_HIDDEN_JOINED_THREAD";case 22:return"COMMUNITY_PRIVATE_HIDDEN_UNJOINED_THREAD";case 26:return"COMMUNITY_SUB_THREAD";case 153:return"DISCOVERABLE_PUBLIC_BROADCAST_CHAT_UNJOINED";case 151:return"DISCOVERABLE_PUBLIC_CHAT_UNJOINED";case 154:return"DISCOVERABLE_PUBLIC_CHAT_V2";case 155:return"DISCOVERABLE_PUBLIC_CHAT_V2_UNJOINED";case 16:return"SECURE_MESSAGE_OVER_WA_GROUP";case 15:return"SECURE_MESSAGE_OVER_WA_ONE_TO_ONE";case 8:return"TINCAN_GROUP_DISAPPEARING";case 7:return"TINCAN_ONE_TO_ONE";case 13:return"TINCAN_ONE_TO_ONE_DISAPPEARING";case 202:return"AI_BOT";case 27:return"COMMUNITY_ANNOUNCEMENT_JOINED_THREAD";case 28:return"COMMUNITY_ANNOUNCEMENT_UNJOINED_THREAD";case 203:return"AI_BOT";default:return"UNKNOWN"}}g.convertLSThreadTypeToSafetyNoticeThreadType=a}),98);
__d("CometMsgrSafetyInterventionsAboveComposerBanner.react",["fbt","Actor","CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql","I64","LsThreadType","MWXCircleButton.react","MWXIconCross","MWXImage.react","MWXListCellPressable.react","MWXText.react","MWXTextPairing.react","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));e=j;var m=e.useEffect,n=e.useState,o={boxShadow:"0px 1px 6px rgba(0, 0, 0, 0.1), 0px -4px 6px rgba(0, 0, 0, 0.1)",display:"block",marginTop:"10px"};i!==void 0?i:i=b("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql");function p(a){var b=d("react-compiler-runtime").c(29),e=a.client_session_id,f=a.expiration_ts,g=a.header,i=a.image,j=a.is_dismissable,p=a.other_user_id,r=a.safety_intervention_type,s=a.server_evaluation_id,t=a.text,u=a.thread;a=d("Actor").useActor();var v=a[0];a=n(!1);var w=a[0],x=a[1];if(b[0]!==u.threadType){a=d("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(c("castToEnum")((k||(k=d("I64"))).to_int32((a=u.threadType)!=null?a:(k||(k=d("I64"))).zero),c("LsThreadType"),0));b[0]=u.threadType;b[1]=a}else a=b[1];var y=a;b[2]!==v||b[3]!==e||b[4]!==y||b[5]!==f||b[6]!==p||b[7]!==r||b[8]!==s||b[9]!==u.threadKey?(a=function(){x(!0),d("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionEngagement(e,f,s,(k||(k=d("I64"))).to_string(u.threadKey),y,v,p,r,"dismissal","DISMISS")},b[2]=v,b[3]=e,b[4]=y,b[5]=f,b[6]=p,b[7]=r,b[8]=s,b[9]=u.threadKey,b[10]=a):a=b[10];a=a;var z,A;b[11]!==v||b[12]!==e||b[13]!==y||b[14]!==f||b[15]!==p||b[16]!==r||b[17]!==s||b[18]!==u.threadKey?(z=function(){return d("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionImpression(e,f,s,(k||(k=d("I64"))).to_string(u.threadKey),y,v,p,"thread_open",r)},A=[v,e,y,f,p,r,s,u.threadKey],b[11]=v,b[12]=e,b[13]=y,b[14]=f,b[15]=p,b[16]=r,b[17]=s,b[18]=u.threadKey,b[19]=z,b[20]=A):(z=b[19],A=b[20]);m(z,A);b[21]!==a||b[22]!==g||b[23]!==(i==null?void 0:i.image_type)||b[24]!==(i==null?void 0:i.stock_image_type_v2)||b[25]!==w||b[26]!==j||b[27]!==t?(z=!w&&l.jsx("div",{style:o,children:l.jsx(c("MWXListCellPressable.react"),{addOnEnd:j===!0?l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"Dismiss"),onPress:a,size:24}):l.jsx(l.Fragment,{}),addOnStart:(i==null?void 0:i.image_type)==="STOCK_IMAGE"?l.jsx(c("MWXImage.react"),{src:q(i==null?void 0:i.stock_image_type_v2)}):l.jsx(l.Fragment,{}),content:l.jsx(c("MWXTextPairing.react"),{body:l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:t}),headline:g,level:4})})}),b[21]=a,b[22]=g,b[23]=i==null?void 0:i.image_type,b[24]=i==null?void 0:i.stock_image_type_v2,b[25]=w,b[26]=j,b[27]=t,b[28]=z):z=b[28];return z}function a(a){var b=d("react-compiler-runtime").c(11),e=a.client_session_id,f=a.expiration_ts,g=a.fragment$key,h=a.other_user_id,i=a.safety_intervention_type,j=a.server_evaluation_id;a=a.thread;g=d("RelayHooks").useFragment(c("CometMsgrSafetyInterventionsAboveComposerBannerFragment.graphql"),g);if((g==null?void 0:g.header)==null||g.body==null||g.is_dismissable==null||g.body.text==null)return null;var k=g==null?void 0:g.is_dismissable,m;b[0]!==e||b[1]!==g.body.text||b[2]!==g.header||b[3]!==g.image||b[4]!==f||b[5]!==h||b[6]!==i||b[7]!==j||b[8]!==k||b[9]!==a?(m=l.jsx(p,{client_session_id:e,expiration_ts:f,header:g.header,image:g.image,is_dismissable:k,other_user_id:h,safety_intervention_type:i,server_evaluation_id:j,text:g.body.text,thread:a}),b[0]=e,b[1]=g.body.text,b[2]=g.header,b[3]=g.image,b[4]=f,b[5]=h,b[6]=i,b[7]=j,b[8]=k,b[9]=a,b[10]=m):m=b[10];return m}function q(a){return a==="exclamation_mark_warning_filled"?"/images/messenger_web/msip/messenger_warning_alpha_light.png":""}g["default"]=a}),226);
__d("CometMsgrSafetyInterventionsUIEngineFragment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMsgrSafetyInterventionsUIEngineFragment",selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsAboveComposerBannerFragment"}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],type:"XFBMsgrSafetyInterventionsOneToOneThreadResult",abstractKey:null};e.exports=a}),null);
__d("CometMsgrSafetyInterventionsUIEngine.react",["Actor","CometMsgrSafetyInterventionsAboveComposerBanner.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","I64","LsThreadType","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||c("react");h!==void 0?h:h=b("CometMsgrSafetyInterventionsUIEngineFragment.graphql");var l=["ABOVE_COMPOSER_BANNER"];function a(a){var b,e=a.client_session_id,f=a.fragment$key,g=a.other_user_id;a=a.thread;f=d("RelayHooks").useFragment(c("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),f);var h=d("Actor").useActor(),j=h[0];h[1];if(f==null)return null;h=f.eligible_interventions;if(h==null||h[0]==null)return null;h=f.eligible_interventions[0];if(!l.includes((b=h.component)==null?void 0:b.component_type))return null;try{switch((b=h.component)==null?void 0:b.component_type){case"ABOVE_COMPOSER_BANNER":return k.jsx(c("CometMsgrSafetyInterventionsAboveComposerBanner.react"),{client_session_id:e,expiration_ts:String((b=h.client_instructions)==null?void 0:b.expiration_ts),fragment$key:h.component,other_user_id:g,safety_intervention_type:h.intervention_type,server_evaluation_id:f.evaluation_id,thread:a});default:return null}}catch(k){h=d("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(c("castToEnum")((i||(i=d("I64"))).to_int32((b=a.threadType)!=null?b:(i||(i=d("I64"))).zero),c("LsThreadType"),0));d("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionError(e,f.evaluation_id,i.to_string(a.threadKey),h,j,g,String(k))}return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ComponentMountUnmountSubspanLogger.react",["InteractionTracingMetrics","hero-tracing-placeholder","performanceNow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=b.useContext,k=b.useEffect;function a(a){var b=d("react-compiler-runtime").c(4),e=a.description,f=j(d("hero-tracing-placeholder").HeroInteractionIDContext),g;b[0]!==e||b[1]!==f?(a=function(){var a=(h||(h=c("performanceNow")))();return function(){if(f!=null){var b=(h||(h=c("performanceNow")))();c("InteractionTracingMetrics").addSubspan(f,e,"AppTiming",a,b,{})}}},g=[e,f],b[0]=e,b[1]=f,b[2]=a,b[3]=g):(a=b[2],g=b[3]);k(a,g)}g["default"]=a}),98);
__d("E2EELinkPreviewXMASendStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({SENDING:1});f["default"]=a}),66);
__d("FBIconMinusFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.25 1080.5h8a.75.75 0 1 0 0-1.5h-8a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("FBIconNaviconFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M452.75 1077.5h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5zm0 3h6.5a.75.75 0 1 0 0-1.5h-6.5a.75.75 0 1 0 0 1.5z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("GroupsCometChatEditChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9627401294020921"}),null);
__d("GroupsCometChatEditChatDialogQuery$Parameters",["GroupsCometChatEditChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("GroupsCometChatEditChatDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometChatEditChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("GroupsCometChatEditChatDialog.entrypoint",["GroupsCometChatEditChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("GroupsCometChatEditChatDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("GroupsCometChatEditChatDialog.react").__setRef("GroupsCometChatEditChatDialog.entrypoint")};g["default"]=a}),98);
__d("useIXTProactiveWarningFlowTriggerDialog",["cr:2998","cr:3116"],(function(a,b,c,d,e,f,g){"use strict";function a(a,c,d){return b("cr:3116")(b("cr:2998"),a,void 0,void 0,{baseModalProps:c,carryOverRelayEnvironment_EXPERIMENTAL:d})}g["default"]=a}),98);
__d("IXTProactiveWarningFollowUpActionsCell.react",["FDSButton.react","react","react-compiler-runtime","useIXTProactiveWarningFlowTriggerDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.context,f=a.label,g=a.onClose,h=a.onPress,j=a.setPWDismissTime;b[0]!==e?(a={proactive_warning_request_context:e,trigger_event_type:"OPEN_PROACTIVE_WARNING_FLOW"},b[0]=e,b[1]=a):a=b[1];e=c("useIXTProactiveWarningFlowTriggerDialog")(a);var k=e[0];b[2]!==g?(a=function(){g()},b[2]=g,b[3]=a):a=b[3];var l=a;b[4]!==h||b[5]!==j||b[6]!==k||b[7]!==l?(e=function(){j(),h(),k({flowCallbacks:{onClose:l}})},b[4]=h,b[5]=j,b[6]=k,b[7]=l,b[8]=e):e=b[8];b[9]!==f||b[10]!==e?(a=i.jsx(c("FDSButton.react"),{label:f,onPress:e,reduceEmphasis:!1,type:"secondary"}),b[9]=f,b[10]=e,b[11]=a):a=b[11];return a}g["default"]=a}),98);
__d("LSClearReactionsV2DetailsAndRange",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(a){return b.sequence([function(a){return b.forEach(b.db.table(239).fetch(),function(a){return a["delete"]()})},function(a){return b.forEach(b.db.table(243).fetch(),function(a){return a["delete"]()})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxClearReactionsV2DetailsAndRangeStoredProcedure";a.__tables__=["reactions_v2_details","reactions_v2_details_ranges_v2__generated"];e.exports=a}),null);
__d("LSClearReactionsV2DetailsAndRangeStoredProcedure",["LSClearReactionsV2DetailsAndRange","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a){a=a.storedProcedure(c("LSClearReactionsV2DetailsAndRange"));return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSCommunityPublicGroupParticipationApprovalStatus",[],(function(a,b,c,d,e,f){a=Object.freeze({CAN_PARTICIPATE:1,PARTICIPATION_REQUEST_REQUIRED:2,PARTICIPATION_REQUEST_PENDING:3});f["default"]=a}),66);
__d("LSFetchAdditionalThreadData",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=d[0].get("thread_key"),d[2]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),["fetch_additional_thread_data","_",c.i64.to_string(d[1])].join(""),c.i64.cast([0,733]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxFetchAdditionalThreadDataStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSFetchAdditionalThreadDataStoredProcedure",["LSFetchAdditionalThreadData","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchAdditionalThreadData"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchProactiveWarningsIfNeeded",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[5]=b.syncGroup,c.i64.neq(d[5],void 0)?d[4]=d[5]:d[4]=c.i64.cast([0,1]),d[0]=d[4])})},function(e){return c.db.table(183).fetch([[[a[0]]]]).next().then(function(e,f){var g=e.done;e=e.value;return g?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[4]=new c.Map(),d[4].set("thread_key",a[0]),d[4].set("sync_group",d[0]),d[5]=c.toJSON(d[4]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[2]=c.i64.cast([0,1])}]):(f=e.item,c.sequence([function(e){return d[5]=f.nextCheckTimestampMs,d[4]=c.i64.of_float(Date.now()),c.i64.neq(d[5],void 0)&&c.i64.ge(d[4],d[5])?c.sequence([function(b){return c.db.table(183).put({threadKey:a[0],suspectId:a[0]})},function(e){return d[7]=new c.Map(),d[7].set("thread_key",a[0]),d[7].set("sync_group",d[0]),d[8]=c.toJSON(d[7]),c.storedProcedure(b("LSIssueNewTask"),"proactive_warnings_fetch_queue",c.i64.cast([0,192]),d[8],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return d[6]=c.i64.cast([0,1])}]):c.resolve((c.i64.neq(d[5],void 0)&&f.tag!==void 0?d[7]=c.i64.cast([0,2]):d[7]=c.i64.cast([0,3]),d[6]=d[7]))},function(a){return d[2]=d[6]}]))})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSProactiveWarningsFetchProactiveWarningsIfNeededStoredProcedure";a.__tables__=["threads","thread_proactive_warning_settings"];e.exports=a}),null);
__d("LSFetchProactiveWarningsIfNeededStoredProcedure",["LSFetchProactiveWarningsIfNeeded","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchProactiveWarningsIfNeeded"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePointQueryForRollCallConversion",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("roll_call_id",a[1]),d[0].set("thread_key",a[0]),d[0].set("query_purpose",c.i64.cast([0,2])),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"roll_call_point_query",c.i64.cast([0,611]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssuePointQueryForRollCallConversionStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSIssuePointQueryForRollCallConversionStoredProcedure",["LSIssuePointQueryForRollCallConversion","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePointQueryForRollCallConversion"),e.threadKey,e.rollCallId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSIssuePollCreationForThreadTask",["LSGetViewerFBID","LSIssueNewTaskWithExtraOperations"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=new c.Map(),d[2].set("question_text",a[0]),d[2].set("thread_key",a[1]),d[2].set("options",a[2]),d[2].set("sync_group",d[0]),c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[3]=a[0],a})},function(b){return c.db.table(9).fetch([[[a[1]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[4]=!1:(b=a.item,c.sequence([function(a){return c.filter(c.db.table(14).fetch([[[b.threadKey,d[3]]]]),function(a){return c.i64.eq(a.threadKey,b.threadKey)&&c.i64.eq(c.i64.cast([0,0]),b.mailboxType)&&c.i64.eq(a.contactId,d[3])}).next().then(function(e,f){var a=e.done;e=e.value;return a?d[7]=!1:(f=e.item,c.i64.eq(b.threadType,c.i64.cast([0,152]))?(d[10]=f.threadRoles,c.i64.lt(c.i64.cast([0,7]),c.i64.cast([0,0]))||c.i64.gt(c.i64.cast([0,7]),c.i64.cast([0,9]))?d[11]=!1:d[11]=!c.i64.eq(c.i64.and_(c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.cast([0,7]))),d[10]),c.i64.cast([0,0])),d[12]=b.capabilities,d[13]=b.capabilities2,d[14]=b.capabilities3,d[15]=b.capabilities4,d[16]=b.capabilities5,d[18]=c.i64.div(c.i64.cast([0,223]),c.i64.cast([0,64])),d[19]=c.i64.lsl_(c.i64.cast([0,1]),c.i64.to_int32(c.i64.sub(c.i64.cast([0,223]),c.i64.mul(d[18],c.i64.cast([0,64]))))),c.i64.lt(c.i64.cast([0,223]),c.i64.cast([0,0]))||c.i64.gt(c.i64.cast([0,223]),c.i64.cast([0,291]))?d[17]=!1:(c.i64.eq(d[18],c.i64.cast([0,0]))?d[20]=!c.i64.eq(c.i64.and_(d[19],d[12]),c.i64.cast([0,0])):(c.i64.eq(d[18],c.i64.cast([0,1]))?d[21]=!c.i64.eq(c.i64.and_(d[19],d[13]),c.i64.cast([0,0])):(c.i64.eq(d[18],c.i64.cast([0,2]))?d[22]=!c.i64.eq(c.i64.and_(d[19],d[14]),c.i64.cast([0,0])):(c.i64.eq(d[18],c.i64.cast([0,3]))?d[23]=!c.i64.eq(c.i64.and_(d[19],d[15]),c.i64.cast([0,0])):(c.i64.eq(d[18],c.i64.cast([0,4]))?d[24]=!c.i64.eq(c.i64.and_(d[19],d[16]),c.i64.cast([0,0])):d[24]=!1,d[23]=d[24]),d[22]=d[23]),d[21]=d[22]),d[20]=d[21]),d[17]=d[20]),d[11]===d[17]?0:(function(a){c.logger(a).mustfix(a)}("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting"),c["throw"]("LS::assert is failed. Thread role and thread capability don't agree for Broadcast Channels message-as-page functionality; aborting")),d[9]=d[11]):d[9]=!1,d[7]=d[9])})},function(a){return d[4]=d[7]}]))})},function(a){return d[4]?d[2].set("perform_action_as_page",!0):0,d[6]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTaskWithExtraOperations"),"poll_creation",c.i64.cast([0,163]),d[6],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),void 0,c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxIssuePollCreationForThreadTaskStoredProcedure";a.__tables__=["threads","participants"];e.exports=a}),null);
__d("LSIssuePollCreationForThreadTaskStoredProcedure",["LSIssuePollCreationForThreadTask","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSIssuePollCreationForThreadTask"),e.questionText,e.threadKey,e.options);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSMessageTakedownState",[],(function(a,b,c,d,e,f){a=Object.freeze({TAKEN_DOWN_BY_META:1,TAKEN_DOWN_BY_ADMIN:2,GEO_BLOCKED:3,MESSENGER_KIDS_PARENT_UNSENT:4});f["default"]=a}),66);
__d("LSNullstateCTAType",[],(function(a,b,c,d,e,f){a=Object.freeze({NONE:0,GET_STARTED:1,ICEBREAKER:2,PRIVACY_DISCLOSURE:3,MP_EMPTY_ICEBREAKER:4});f["default"]=a}),66);
__d("LSOptimisticEditMessage",["LSEditMessage","LSIssueNewTaskAndGetTaskID"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.db.table(12).fetch([[[a[0]]],"messageId"]).next().then(function(e,f){var g=e.done;e=e.value;return g?0:(f=e.item,d[2]=f.editCount,d[1]=c.i64.of_float(Date.now()),c.i64.lt(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,5]))&&c.i64.le(d[1],c.i64.add(f.timestampMs,c.i64.cast([0,9e5])))?c.sequence([function(e){return c.storedProcedure(b("LSEditMessage"),f.messageId,c.i64.cast([0,20]),a[1],c.i64.add(d[2]==null?c.i64.cast([0,0]):d[2],c.i64.cast([0,1])))},function(e){return d[3]=new c.Map(),d[3].set("message_id",a[0]),d[3].set("text",a[1]),c.i64.gt(c.i64.cast([0,0]),c.i64.cast([0,0]))?(d[7]=c.i64.of_float(Date.now()),d[4]=c.i64.add(d[7],c.i64.cast([0,0]))):d[4]=c.i64.cast([0,0]),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTaskAndGetTaskID"),"edit_message",c.i64.cast([0,742]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,d[4],c.i64.cast([0,0])).then(function(a){return a=a,d[6]=a[0],a})},function(a){return void 0!==void 0?(d[7]=c.i64.of_float(Date.now()),c.forEach(c.db.table(2).fetch([[[d[6]]]]),function(a){var b=a.update;a.item;return b({dataTraceId:void 0,initTraceTimestampMs:d[7]})})):c.resolve()}]):c.resolve(void 0!==void 0?0:0))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxOptimisticEditMessageStoredProcedure";a.__tables__=["messages","pending_tasks"];e.exports=a}),null);
__d("LSOptimisticEditMessageStoredProcedure",["LSOptimisticEditMessage","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSOptimisticEditMessage"),e.messageId,e.text);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSendTypingIndicator",["LSIssueNewFireAndForgetTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=["typing","_",c.i64.to_string(a[0])].join(""),c.sequence([function(a){return c.forEach(c.filter(c.db.table(5).fetch(),function(a){return d[0]===a.queueName}),function(a){return a["delete"]()})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[1]=c.i64.cast([0,1]):(b=a.item,d[7]=b.syncGroup,c.i64.neq(d[7],void 0)?d[6]=d[7]:d[6]=c.i64.cast([0,1]),d[1]=d[6])})},function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[3]=void 0:(b=a.item,d[3]=b.threadType)})},function(e){return d[5]=new c.Map(),d[5].set("thread_key",a[0]),d[5].set("is_group_thread",a[1]),d[5].set("is_typing",a[2]),d[5].set("attribution",c.i64.cast([0,0])),d[5].set("sync_group",d[1]),d[5].set("thread_type",d[3]),d[6]=c.toJSON(d[5]),c.storedProcedure(b("LSIssueNewFireAndForgetTask"),d[0],c.i64.cast([0,3]),d[6])}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSTypingSendTypingIndicatorStoredProcedure";a.__tables__=["threads","pending_fire_and_forget_tasks"];e.exports=a}),null);
__d("LSSendTypingIndicatorStoredProcedure",["LSSendTypingIndicator","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSendTypingIndicator"),e.threadKey,e.isGroupThread,e.isTyping);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSSetProactiveWarningDismissTime",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(b){return c.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var e=a.done;a=a.value;return e?d[0]=c.i64.cast([0,1]):(b=a.item,d[8]=b.syncGroup,c.i64.neq(d[8],void 0)?d[7]=d[8]:d[7]=c.i64.cast([0,1]),d[0]=d[7])})},function(e){return d[2]=c.i64.of_float(Date.now()),d[6]=c.i64.div(d[2],c.i64.cast([0,1e3])),d[3]=new c.Map(),d[3].set("thread_key",a[0]),d[3].set("timestamp",d[6]),d[3].set("sync_group",d[0]),d[4]=d[3].get("thread_key"),d[5]=c.toJSON(d[3]),c.storedProcedure(b("LSIssueNewTask"),c.i64.to_string(d[4]),c.i64.cast([0,438]),d[5],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(b){return c.forEach(c.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({proactiveWarningDismissTime:d[6]})})}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMailboxSetProactiveWarningDismissTimeStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("LSSetProactiveWarningDismissTimeStoredProcedure",["LSSetProactiveWarningDismissTime","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSSetProactiveWarningDismissTime"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSTypingIndicatorSettingState",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,DISABLED:1,ENABLED:2});f["default"]=a}),66);
__d("LSUpdateE2eeHdMediaSettings",["LSGetViewerFBID","LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.storedProcedure(b("LSGetViewerFBID")).then(function(a){return a=a,d[0]=a[0],a})},function(b){return c.forEach(c.db.table(288).fetch([[[d[0]]]]),function(b){var c=b.update;b.item;return c({e2eeHdMediaEnabled:a[0]})})},function(e){return d[1]=new c.Map(),d[1].set("hd_media_enabled",a[0]),d[2]=c.toJSON(d[1]),c.storedProcedure(b("LSIssueNewTask"),"toggle_e2ee_hd_media_settings",c.i64.cast([0,1030]),d[2],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSOmnistoreSettingsUpdateE2eeHdMediaSettingsStoredProcedure";a.__tables__=["messaging_privacy_settings"];e.exports=a}),null);
__d("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2898");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_primary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2899");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_secondary_action_tapped",a);e=b;g["default"]=e}),98);
__d("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("2900");b=d("FalcoLoggerInternal").create("ls_frx_messenger_feedback_proactive_warning_banner_shown",a);e=b;g["default"]=e}),98);
__d("LsReplyRenderedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743878");b=d("FalcoLoggerInternal").create("ls_reply_rendered",a);e=b;g["default"]=e}),98);
__d("MAWCreateOptimisticSecureMessageWithAttachment",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MAWSendFileMsgTypes","QPLUserFlow","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b,e,f,g,j,k,l,m,n,o,p,q){m(o);m=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp();var r=(h||(h=d("I64"))).of_float(m);a=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(a,b,e,f,"",g,void 0,l,void 0,o,r,i(k.type));f=p==null?void 0:p.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(j));f!=null&&(a=babelHelpers.extends({},a,{groupId:f.groupId,groupIndex:(h||(h=d("I64"))).of_float(f.groupIndex),groupSize:h.of_float(f.groupSize)}));await b.messages.add(a);p=d("MAWOptimisticMessageUtils").buildOptimisticAttachment({attachmentType:n,isHd:q,messageExternalId:o,offlineAttachmentId:j,optimisticMediaAttachment:k,senderId:e,threadKey:g,timestampMsI64:r});await b.attachments.add(p);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:l});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:l});await d("MAWOptimisticMessageUtils").optimisticBumpThreadMedia(b,{optimisticMediaAttachment:k,senderId:e,threadKey:g});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:l});return{messageExternalId:o,offlineAttachmentId:d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(j),offlineMsgTimestamp:m}}function i(a){switch(a){case"animated_image":return 16384;case"image":return 2;case"video":return 2;case"audio":return 4;case"document":return 64;case"sticker":return 4096;default:return 1}}g.createOptimisticMessageWithAttachment=a}),98);
__d("MAWDumbRangeDataSource",["I64","ReplayLastSubject","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=function(){this.getOrCreateMessageRangeCoveringCursor=function(a,b,c){return d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({range:{hasMoreAfter:!1,hasMoreBefore:!1,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:"",maxTimestampMs:(h||(h=d("I64"))).max_int,minMessageId:(b=a.messageId)!=null?b:"",minTimestampMs:h.min_int,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:null,minExternalId:null}}))},this.extendRange=async function(a,b,c,d,e){}},j;function a(){j==null&&(j=new i());return j}g.default=a}),98);
__d("MAWFetchExternalAttachmentBlob",["sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";async function a(a,b){a=await window.fetch(a,{}).then(function(a){return a.blob()}).catch(function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"fetch_external_attachment_failed");throw a});return a}g.fetchExternalAttachmentBlob=a}),98);
__d("MAWLinkPreviewDataStatusUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataStatusIsOfType=a}),98);
__d("MAWLinkPreviewDataTypeUtils",["I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){return a!=null&&(h||(h=d("I64"))).equal(a,(i||(i=d("LSIntEnum"))).ofNumber(b))}g.linkPreviewDataTypeIsOfType=a}),98);
__d("MWMediaComposerLinkPreviewXMARenderQpl",["I64","LSIntEnum","MAWLoggerUtils","MWMediaRenderQplUtils","MessagingAttachmentType","QPLUserFlow","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useMemo,m=b.useRef;function a(a,b,e,f){a===void 0&&(a="");b===void 0&&(b="");var g=d("MAWLoggerUtils").getInstanceKeyFromId(a.concat(b)),h=m(!1),n=l(function(){if(a==null||b==null)return null;var k=(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA);c("QPLUserFlow").start(d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,{annotations:{string:{attachment_type:d("MWMediaRenderQplUtils").getAttachmentTypeStringFromEnum(k),content_type:d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(k),entry_point:"composer_view",linkPreviewDataType:d("MWMediaRenderQplUtils").getE2EELinkPreviewXMADataTypeStringFromEnum(e!=null?e:(j||(j=d("I64"))).zero),thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(f!=null?f:(j||(j=d("I64"))).zero)}},cancelOnUnload:!0,instanceKey:g,timeoutInMs:d("MWMediaRenderQplUtils").QPL_TIMEOUT});h.current=!1;return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT,g,h))},[g]);k(function(){return function(){h.current===!1&&(n==null?void 0:n.getInstanceKey())!=null&&(n==null||n.endCancel(706))}},[n]);return n}g.useMediaComposerLinkPreviewXMARenderQpl=a}),98);
__d("MWXIconLink",["MWXSvgIcon","SVGIcon","cr:22385","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22385")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXLinkPreviewLoadingIndicator.react",["MWXGlimmer.react","MWXIconLink","MWXIconStrict.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xng8ra",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(5);a=a.title;if(a==null)return null;var e,f,g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x1amjocr x78zum5 x1q0g3np x5yr21d x1xnnf8n x106a9eq"},f=i.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconLink"),size:16}),g={className:"x1iyjqo2"},b[0]=e,b[1]=f,b[2]=g):(e=b[0],f=b[1],g=b[2]);b[3]!==a?(e=i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer,children:i.jsxs("div",babelHelpers["extends"]({},e,{children:[f,i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("MWXText.react"),{type:"body4",children:a})}))]}))}),b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("MWXLinkPreviewTruncateText",[],(function(a,b,c,d,e,f){"use strict";var g={body:100,headline:80,subtext:100},h={body:30,headline:20,subtext:30};function a(a){var b=a.isChatTab,c=a.position;a=a.text;b=b?h:g;b=b[c];if(a==null)return void 0;c=a.replace(/\r?\n|\r/g,"").trim();return c.length<=b?c:Array.from(c).slice(0,b).join("").trim()+"..."}f.truncateText=a}),66);
__d("MAWLinkPreviewCard.react",["fbt","BaseView.react","ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","FDSCrossFilled12Icon","I64","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MWLSThreadDisplayContext","MWMediaComposerLinkPreviewXMARenderQpl","MWXIcon_DEPRECATED.react","MWXImage.react","MWXLinkPreviewLoadingIndicator.react","MWXLinkPreviewTruncateText","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useEffect,n={container:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"x1qughib",$$css:!0},content:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xlqzeqv",width:"xh8yej3",$$css:!0},image:{borderStartStartRadius:"xjwep3j",borderStartEndRadius:"x1t39747",borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x1pczhz8",height:"xng8ra",marginInlineEnd:"x1sa5p1d",objectFit:"xl1xv1r",width:"x1247r65",$$css:!0},isReplying:{borderTopWidth:"x972fbf",$$css:!0},outerContainer:{backgroundColor:"x57kliw",borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",paddingInlineStart:"x1gx403c",paddingInlineEnd:"x1q3ajuy",paddingLeft:null,paddingRight:null,paddingTop:"x889kno",$$css:!0},textSection:{flexShrink:"xs83m0k",minWidth:"xeuugli",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(60),e=a.draftID,g=a.isReplying,k=a.linkPreview,o=a.threadType;a=a.xmaData;var p=d("MWMediaComposerLinkPreviewXMARenderQpl").useMediaComposerLinkPreviewXMARenderQpl(e,a.url,k.dataType,o),q=(i||(i=c("useReStore")))();e=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="ChatTab";b[0]!==k.dataType?(o=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(k.dataType,c("E2EELinkPreviewXMADataType").FALLBACK),b[0]=k.dataType,b[1]=o):o=b[1];o=o;var r=a.author_name,s=a.iframeMediaURL,t=a.title,u=a.url;if(b[2]!==e||b[3]!==o||b[4]!==u){var v;v=u!=null?(v=d("ConstUriUtils").getUri(u))==null?void 0:v.getDomain():"";v=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:e,position:"subtext",text:o?u:v});b[2]=e;b[3]=o;b[4]=u;b[5]=v}else v=b[5];u=v;v=o?void 0:t;var w;b[6]!==e||b[7]!==v?(w=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:e,position:"headline",text:v}),b[6]=e,b[7]=v,b[8]=w):w=b[8];v=w;w=o?t:r;b[9]!==e||b[10]!==w?(o=d("MWXLinkPreviewTruncateText").truncateText({isChatTab:e,position:"body",text:w}),b[9]=e,b[10]=w,b[11]=o):o=b[11];t=o;r=k==null?void 0:k.status;b[12]!==r?(e=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(r,c("E2EELinkPreviewXMADataStatus").LOADING),b[12]=r,b[13]=e):e=b[13];var x=e;b[14]!==s||b[15]!==x||b[16]!==p?(w=function(){!Boolean(s)&&!x?p==null||p.endSuccess({bool:{has_media_preview_url:!1}}):p==null||p.addPoint("link-preview-card-render")},o=[s,x,p],b[14]=s,b[15]=x,b[16]=p,b[17]=o,b[18]=w):(o=b[17],w=b[18]);m(w,o);b[19]!==p?(r=function(){p==null||p.endFail("load-image-error")},b[19]=p,b[20]=r):r=b[20];e=r;b[21]!==p?(w=function(){p==null||p.endSuccess({bool:{has_media_preview_url:!0}})},b[21]=p,b[22]=w):w=b[22];o=w;if(x){p==null||p.addPoint("render_preview_loading_indicator");r=g&&n.isReplying;b[23]!==r?(w=[n.outerContainer,r],b[23]=r,b[24]=w):w=b[24];b[25]!==a.title?(r=l.jsx(c("BaseView.react"),{xstyle:n.container,children:l.jsx(c("MWXLinkPreviewLoadingIndicator.react"),{title:a.title})}),b[25]=a.title,b[26]=r):r=b[26];b[27]!==w||b[28]!==r?(a=l.jsx(c("BaseView.react"),{xstyle:w,children:r}),b[27]=w,b[28]=r,b[29]=a):a=b[29];return a}w=g&&n.isReplying;b[30]!==w?(r=[n.outerContainer,w],b[30]=w,b[31]=r):r=b[31];b[32]!==s||b[33]!==e||b[34]!==o?(a=s!=null&&l.jsx(c("MWXImage.react"),{onError:e,onLoad:o,src:s,xstyle:n.image}),b[32]=s,b[33]=e,b[34]=o,b[35]=a):a=b[35];b[36]!==v?(g=l.jsx(c("MWXText.react"),{type:"headline4",children:v}),b[36]=v,b[37]=g):g=b[37];b[38]!==t||b[39]!==u||b[40]!==g?(w=l.jsx(c("BaseView.react"),{xstyle:n.textSection,children:l.jsx(c("MWXTextPairing.react"),{body:t,bodyLineLimit:1,headline:g,level:4,meta:u})}),b[38]=t,b[39]=u,b[40]=g,b[41]=w):w=b[41];b[42]!==a||b[43]!==w?(e=l.jsxs(c("BaseView.react"),{xstyle:n.content,children:[a,w]}),b[42]=a,b[43]=w,b[44]=e):e=b[44];b[45]===Symbol.for("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Remove link preview from message"),b[45]=o):o=b[45];b[46]!==q||b[47]!==k.data||b[48]!==k.dataType||b[49]!==k.draftId?(v=function(){q.runInTransaction(async function(a){await a.e2ee_composer_draft_link_preview.put({data:(a=k.data)!=null?a:void 0,dataType:(a=k.dataType)!=null?a:void 0,draftId:k.draftId,status:(j||(j=d("I64"))).of_int32(c("E2EELinkPreviewXMADataStatus").DISABLED)})},"readwrite",void 0,void 0,f.id+":189")},b[46]=q,b[47]=k.data,b[48]=k.dataType,b[49]=k.draftId,b[50]=v):v=b[50];b[51]!==o||b[52]!==v?(t=l.jsx(c("MWXIcon_DEPRECATED.react"),{"aria-label":o,color:"primary",icon:c("FDSCrossFilled12Icon"),onPress:v}),b[51]=o,b[52]=v,b[53]=t):t=b[53];b[54]!==e||b[55]!==t?(u=l.jsxs(c("BaseView.react"),{xstyle:n.container,children:[e,t]}),b[54]=e,b[55]=t,b[56]=u):u=b[56];b[57]!==r||b[58]!==u?(g=l.jsx(c("BaseView.react"),{xstyle:r,children:u}),b[57]=r,b[58]=u,b[59]=g):g=b[59];return g}g.default=a}),226);
__d("MAWParseLinkPreviewXMAData",["E2EELinkPreviewXMADataStatus","I64","LSIntEnum"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=a==null?void 0:a.status,e=a==null?void 0:a.data;if(a==null||b==null||e==null)return null;a=(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("E2EELinkPreviewXMADataStatus").DISABLED));b=JSON.parse(e);return Object.keys(b).length===0||b.url==null||a?null:b}g.parseLinkPreviewXMAData=a}),98);
__d("MAWLinkPreview.react",["MAWLinkPreviewCard.react","MAWParseLinkPreviewXMAData","MWPComposerDraftMessages","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.isReplying,g=a.threadKey;a=a.threadType;var i=(h||(h=c("useReStore")))(),k,l;b[0]!==i.tables.e2ee_composer_draft_link_preview||b[1]!==g?(k=function(){return d("ReQL").fromTableAscending(i.tables.e2ee_composer_draft_link_preview).filter(function(a){return a.draftId===((a=d("MWPComposerDraftMessages").getDraftMessage(g))==null?void 0:a.id)})},l=[i.tables.e2ee_composer_draft_link_preview,g],b[0]=i.tables.e2ee_composer_draft_link_preview,b[1]=g,b[2]=k,b[3]=l):(k=b[2],l=b[3]);k=d("ReQLSuspense").useArray(k,l,f.id+":32");l=k.length>0?k[0]:void 0;b[4]!==l?(k=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(l),b[4]=l,b[5]=k):k=b[5];k=k;if((l==null?void 0:l.draftId)==null||k==null)return null;var m=l==null?void 0:l.draftId,n;b[6]!==e||b[7]!==l||b[8]!==m||b[9]!==a||b[10]!==k?(n=j.jsx(c("MAWLinkPreviewCard.react"),{draftID:m,isReplying:e,linkPreview:l,threadType:a,xmaData:k}),b[6]=e,b[7]=l,b[8]=m,b[9]=a,b[10]=k,b[11]=n):n=b[11];return n}g["default"]=a}),98);
__d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector",["MAWSharedProtocolQueueConst"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){return function(b){var c=b.offlineQueueCount,e=b.offlineQueueSyncState;b=b.offlineQueueThreadStatus;return a!=null&&Object.keys(b).length>0?b[a]!=null&&b[a].chatStatus!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete:c>0&&e!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}};g.outstandingUIReadyOfflineQueueSelector=a}),98);
__d("MAWObservableUtils",["Random","ReStoreKeyComparer","err"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return{id:c("Random").uint32()}}function b(a,b){if(!(Array.isArray(a)||Array.isArray(b)))return(h||(h=d("ReStoreKeyComparer"))).compareKey([a],[b]);else if(Array.isArray(a)&&Array.isArray(b))return(h||(h=d("ReStoreKeyComparer"))).compareKey(a,b);throw c("err")("[Separate Read Chunked Observable] Cannot compare array and non-array")}function e(a,b,d,e){var f=[];for(var g=0;g<a.length;g+=b){var h=g+b;while(h>g&&h<a.length-1&&d(e(a[h-1]),e(a[h]))===0)h--;if(h===g)throw c("err")("Entire pagination window sorts identically: this should never happen.");f.push(a.slice(g,h));g-=g+b-h}return f}g.getUniqueRef=a;g.wrappedCompareKey=b;g.chunkArray=e}),98);
__d("MAWOptimisticUpdateContactRelationship",["I64","LSAddMessengerContactStoredProcedure","LSFactory","LSMessagingThreadTypeUtil","ReQL","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return;c("promiseDone")(b.runInTransaction(async function(f){var g;g=(g=await d("ReQL").firstAsync(d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).filter(function(a){a[0];a=a[1];return!(h||(h=d("I64"))).equal(a.id,e)})))!=null?g:[void 0,void 0];g[0];g=g[1];if(g==null)return;var i=babelHelpers.extends({},g,{contactViewerRelationship:(h||(h=d("I64"))).of_string("2")});await f.contacts.upsert([g.id],i);d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)&&await c("LSAddMessengerContactStoredProcedure")(c("LSFactory")(f),{contactId:g.id})},"readwrite",void 0,void 0,f.id+":39"))}g.call=a}),98);
__d("MAWPrepareAttachmentsFromMediaManager",["MAWExternalId","MAWSendFileMsgTypes","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e,f){d("sendToSentQPLLogger").addSendToSentAnnotations(f,{"int":{media_staging_count:a.length}});var g=b.hasFile;g=g===void 0?!1:g;var h=b.hasImage;h=h===void 0?!1:h;b=b.hasVideo;b=b===void 0?!1:b;var i=null;if(b||h||g){b=a[a.length-1];i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)}else i=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId());c(i);h=a.reduce(function(a,b){var c=e.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId));c!=null?a.push([c,d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId)]):d("sendToSentQPLLogger").markSendToSentPoint(f,"prepare_attachments_from_media_manager_missing_attachment");return a},[]);return{attachmentOfflineId:i,attachments:h}}g.prepareAttachmentsFromMediaManagerImpl=a}),98);
__d("getMAWNonAddressableContactBannerStrings",["fbt","IntlVariations"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a,b){var d;if(a)return{details:h._(/*BTDS*/"You invited them. They will only see messages sent after they join."),headline:h._(/*BTDS*/"Some people can't see this chat yet")};a=((a=b.firstName)!=null?a:"")===""?null:b.firstName;d=((d=b.name)!=null?d:"")===""?null:b.name;a=(b=a!=null?a:d)!=null?b:"recipient";d=c("IntlVariations").GENDER_UNKNOWN;return{details:h._(/*BTDS*/"_j{\"*\":\"You'll be able to send messages when {message recipient name} next logs into Messenger.\"}",[h._name("message recipient name",a,d)]),headline:h._(/*BTDS*/"_j{\"*\":\"{message recipient name} can't access this chat yet\"}",[h._name("message recipient name",a,d)])}}g["default"]=a}),226);
__d("useMAWNonAddressableParticipant",["I64","LSAuthorityLevel","LSIntEnum","LSWhatsAppConnectStatus","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(9),e=(j||(j=c("useReStore")))(),g=d("MWPActor.react").useActor(),l;b[0]!==g||b[1]!==e.tables.contacts||b[2]!==e.tables.participants||b[3]!==a?(l=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants,[]).getKeyRange(a),d("ReQL").fromTableAscending(e.tables.contacts,["waConnectStatus","authorityLevel","id","name","firstName"])).filter(function(a){a=a[1];if((h||(h=d("I64"))).equal(a.waConnectStatus,(i||(i=d("LSIntEnum"))).ofNumber(c("LSWhatsAppConnectStatus").WHATSAPP_NOT_ADDRESSABLE))&&(h||(h=d("I64"))).ge(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE_PENDING_REPLACEMENT)))return!(h||(h=d("I64"))).equal(a.id,g);else return!1}).map(k)},b[0]=g,b[1]=e.tables.contacts,b[2]=e.tables.participants,b[3]=a,b[4]=l):l=b[4];var m;b[5]!==g||b[6]!==e||b[7]!==a?(m=[e,a,g],b[5]=g,b[6]=e,b[7]=a,b[8]=m):m=b[8];b=d("ReQLSuspense").useFirst(l,m,f.id+":36");return b}function k(a){a=a[1];return a}g["default"]=a}),98);
__d("useHasNonAddressableParticipantWAI",["CurrentMessengerUser","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MAWBridgeSendAndReceive","MWGetChatTabOpenQPLEventTrace","MWGetInboxNavigateQPLEventTrace","MWPActor.react","ODS","ReQL","ReQLSuspense","WAJids","WALogger","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m,n,o=(n||d("react")).useState;function a(a){var b=d("react-compiler-runtime").c(22),e=a.isComposerBlocked,g=a.isGroup,h=a.isSecure,i=a.threadKey,m=(j||(j=c("useReStore")))(),n=d("MWPActor.react").useActor();a=o(null);var r=a[0],s=a[1],t;b[0]!==n||b[1]!==m.tables.contacts||b[2]!==m.tables.participants||b[3]!==h||b[4]!==i?(a=function(){return h?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(i),d("ReQL").fromTableAscending(m.tables.contacts,["authorityLevel","firstName","name"])).map(function(a){var b=a[0];a=a[1];b=b.contactId;return(k||(k=d("I64"))).ge(a.authorityLevel,(l||(l=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&!(k||(k=d("I64"))).equal(b,n)?[d("WAJids").toMsgrUserJid((k||(k=d("I64"))).to_string(b)),a]:null}).filter(Boolean):d("ReQL").empty()},t=[n,m.tables.contacts,m.tables.participants,h,i],b[0]=n,b[1]=m.tables.contacts,b[2]=m.tables.participants,b[3]=h,b[4]=i,b[5]=a,b[6]=t):(a=b[5],t=b[6]);var u=d("ReQLSuspense").useArray(a,t,f.id+":62");b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==i||b[11]!==u?(a=function(){if(!h){s(null);return}var a=u.map(p);c("promiseDone")(d("MAWBridgeSendAndReceive").sendAndReceive("backend","getWAIDevices",{users:a}).then(function(a){var b=u.find(function(b){b=b[0];return!a.has(b)||((b=a.get(b))==null?void 0:b.length)===0});q(i,g,e,b!=null);s(b!=null?{hasNonAddressableParticipant:!0,nonAddressableParticipantName:b[1]}:{hasNonAddressableParticipant:!1})}))},b[7]=e,b[8]=g,b[9]=h,b[10]=i,b[11]=u,b[12]=a):a=b[12];b[13]!==m.tables.contacts||b[14]!==m.tables.participants||b[15]!==m.tables.threads||b[16]!==e||b[17]!==g||b[18]!==h||b[19]!==i||b[20]!==u?(t=[m.tables.contacts,m.tables.participants,m.tables.threads,e,g,h,i,u],b[13]=m.tables.contacts,b[14]=m.tables.participants,b[15]=m.tables.threads,b[16]=e,b[17]=g,b[18]=h,b[19]=i,b[20]=u,b[21]=t):t=b[21];d("Int64Hooks").useEffectInt64(a,t);return r}function p(a){a=a[0];return a}function q(a,b,e,f){b=b?"group":"1:1";var g=d("CurrentMessengerUser").isTestUser()?"test user":"prod user",j=function(a){a.addAnnotationBoolean("hasNonAddressableParticipantOccam",e),a.addAnnotationBoolean("hasNonAddressableParticipantWAI",f)};c("MWGetChatTabOpenQPLEventTrace")(a,j);c("MWGetInboxNavigateQPLEventTrace")(a,j);e&&!f?((m||(m=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_not_reachable_with_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(h||(h=babelHelpers.taggedTemplateLiteralLoose(["occam_not_reachable_with_wai_devices in "," (",")"])),b,g),c("FBLogger")("messenger_e2ee_web","occam_not_reachable").mustfix("occam returned not reachable but WA devices available. Thread: %s, Thread Type: %s, User Type: %s",(k||(k=d("I64"))).to_string(a),b,g)):!e&&f&&((m||(m=d("ODS"))).bumpEntityKey(3185,"mwchat_composer","occam_reachable_with_no_wai_devices in "+b+" ("+g+")"),d("WALogger").DEV(i||(i=babelHelpers.taggedTemplateLiteralLoose(["occam_reachable_with_no_wai_devices in "," (",")"])),b,g))}g.useHasNonAddressableParticipantWAI=a}),98);
__d("useMAWOverrideNonAddressableParticipantWithWAI",["getMAWNonAddressableContactBannerStrings","gkx","react-compiler-runtime","useHasNonAddressableParticipantWAI"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(8),e=a.bannerFromOccam,f=a.isGroup,g=a.isSecure;a=a.threadKey;var h=e!=null,i;b[0]!==h||b[1]!==f||b[2]!==g||b[3]!==a?(i={isComposerBlocked:h,isGroup:f,isSecure:g,threadKey:a},b[0]=h,b[1]=f,b[2]=g,b[3]=a,b[4]=i):i=b[4];a=d("useHasNonAddressableParticipantWAI").useHasNonAddressableParticipantWAI(i);if(!g||a==null)return e;if(!a.hasNonAddressableParticipant&&h)return null;if(a.hasNonAddressableParticipant&&!h&&!(f&&c("gkx")("10382"))){b[5]!==a.nonAddressableParticipantName||b[6]!==f?(i=c("getMAWNonAddressableContactBannerStrings")(f,a.nonAddressableParticipantName),b[5]=a.nonAddressableParticipantName,b[6]=f,b[7]=i):i=b[7];return i}return e}g["default"]=a}),98);
__d("MAWSecureThreadNonAddressableContactBanner.react",["fbt","Int64Hooks","LSMessagingThreadTypeUtil","MWXCircleButton.react","MWXIconCross","MWXRow.react","MWXRowItem.react","MWXText.react","MessengerWebUXLogger","getMAWNonAddressableContactBannerStrings","gkx","react","react-compiler-runtime","useMAWNonAddressableParticipant","useMAWOverrideNonAddressableParticipantWithWAI"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useState;function a(a){var b=d("react-compiler-runtime").c(30),e=a.setHideComposerEditor,f=a.thread;a=c("useMAWNonAddressableParticipant")(f.threadKey);var g,i;b[0]!==a||b[1]!==f.threadType?(g=d("LSMessagingThreadTypeUtil").isGroup(f.threadType),i=a!=null&&!(g&&c("gkx")("10382"))?c("getMAWNonAddressableContactBannerStrings")(g,a):null,b[0]=a,b[1]=f.threadType,b[2]=g,b[3]=i):(g=b[2],i=b[3]);a=i;b[4]!==a||b[5]!==g||b[6]!==f.threadKey?(i={bannerFromOccam:a,isGroup:g,isSecure:!0,threadKey:f.threadKey},b[4]=a,b[5]=g,b[6]=f.threadKey,b[7]=i):i=b[7];a=c("useMAWOverrideNonAddressableParticipantWithWAI")(i);i=k(!1);var l=i[0],m=i[1],n=c("MessengerWebUXLogger").useInteractionLogger(),o;b[8]!==n||b[9]!==f.threadKey||b[10]!==f.threadType?(i=function(){m(!0),n==null||n({eventName:"non_addressable_contact_banner_dismissed",threadKey:f.threadKey,threadType:f.threadType})},o=[n,f.threadKey,f.threadType],b[8]=n,b[9]=f.threadKey,b[10]=f.threadType,b[11]=i,b[12]=o):(i=b[11],o=b[12]);i=d("Int64Hooks").useCallbackInt64(i,o);var p=g;o=p?!l:!0;var q=a!=null&&o;b[13]!==f.threadKey||b[14]!==f.threadType?(g={eventName:"non_addressable_contact_banner_rendered",threadKey:f.threadKey,threadType:f.threadType},b[13]=f.threadKey,b[14]=f.threadType,b[15]=g):g=b[15];l=c("MessengerWebUXLogger").useImpressionLoggerRef(g);e(function(){if(q)return!p;else return!1});if(q){b[16]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x13fuv20 x178xt8z x1n2onr6 x1ja2u2z x57kliw x1epquy7"},b[16]=o):o=b[16];b[17]!==p||b[18]!==i?(g=p?j.jsx("div",{className:"x11dcrhx x10l6tqk xfr5jun x1vjfegm",children:j.jsx(c("MWXCircleButton.react"),{color:"primary",icon:c("MWXIconCross"),label:h._(/*BTDS*/"Close"),onPress:i,size:24})}):null,b[17]=p,b[18]=i,b[19]=g):g=b[19];e=a==null?void 0:a.headline;b[20]!==e?(i=j.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingVertical:12,spacingVertical:0,testid:void 0,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",isSemanticHeading:!0,type:"headlineEmphasized4",children:e})})}),b[20]=e,b[21]=i):i=b[21];e=a==null?void 0:a.details;b[22]!==e?(a=j.jsx(c("MWXRow.react"),{align:"center",expanding:!0,paddingTop:4,paddingVertical:16,spacingVertical:4,testid:void 0,children:j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:e})})}),b[22]=e,b[23]=a):a=b[23];b[24]!==l||b[25]!==a||b[26]!==o||b[27]!==g||b[28]!==i?(e=j.jsxs("div",babelHelpers["extends"]({ref:l},o,{children:[g,i,a]})),b[24]=l,b[25]=a,b[26]=o,b[27]=g,b[28]=i,b[29]=e):e=b[29];return e}else return null}g["default"]=a}),226);
__d("MAWSecureTypingState",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSIntEnum","LSMessagingThreadTypeUtil","MAWBridgeFireAndForget","MAWMiActOnActThreadReady","MWPActor.react","MessengerWebUXLogger","ReQL","ReQLSuspense","WAChatState","WAJids","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function k(a,b,e,f){if(!(i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(15)))return Promise.resolve(!0);e=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.participants,["contactId"]).getKeyRange(b).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,f)}));if(e==null)return!1;b=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(a.tables.contacts).getKeyRange(e.contactId));return b==null?!1:(i||(i=d("I64"))).equal(b.blockedByViewerStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))}function a(a,b,e){var g=d("react-compiler-runtime").c(24),m=(h||(h=c("useReStore")))(),n=d("MWPActor.react").useActor(),o;g[0]!==b?(o=(i||(i=d("I64"))).to_string(b),g[0]=b,g[1]=o):o=g[1];o=o;var p=c("MessengerWebUXLogger").useInteractionLogger(),q;g[2]!==m.tables.participants||g[3]!==b?(q=function(){return d("ReQL").fromTableAscending(m.tables.participants,["contactId"]).getKeyRange(b).map(l)},g[2]=m.tables.participants,g[3]=b,g[4]=q):q=g[4];var r;g[5]!==m||g[6]!==b?(r=[m,b],g[5]=m,g[6]=b,g[7]=r):r=g[7];q=d("ReQLSuspense").useArray(q,r,f.id+":83");g[8]!==n||g[9]!==a||g[10]!==m||g[11]!==p||g[12]!==b||g[13]!==e?(r=function(f){(i||(i=d("I64"))).ge(a,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(e)&&c("promiseDone")(k(m,b,e,n).then(function(a){return!a?Promise.resolve():d("MAWMiActOnActThreadReady").onActThreadReady(m.tables,b,"MAWSecureTypingState",function(a,c){p==null||p({eventName:"send_typing_indicators",threadKey:b,threadType:e});d("MAWBridgeFireAndForget").fireAndForget("backend","sendChatStateFromComposer",{chatJid:c,state:f?d("WAChatState").TYPING:d("WAChatState").IDLE});return Promise.resolve()})}))},g[8]=n,g[9]=a,g[10]=m,g[11]=p,g[12]=b,g[13]=e,g[14]=r):r=g[14];var s;g[15]!==n||g[16]!==a||g[17]!==m||g[18]!==p||g[19]!==b||g[20]!==o||g[21]!==e||g[22]!==q?(s=[m,q,a,b,e,n,o,p],g[15]=n,g[16]=a,g[17]=m,g[18]=p,g[19]=b,g[20]=o,g[21]=e,g[22]=q,g[23]=s):s=g[23];return d("Int64Hooks").useCallbackInt64(r,s)}function l(a){return d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(a.contactId))}g.useOnTypingStateChanged=a}),98);
__d("MAWSupportedFileTypes",[],(function(a,b,c,d,e,f){"use strict";a=["*/*"];f.supportedFileTypes=a}),66);
__d("MAWVoiceClipLimit",[],(function(a,b,c,d,e,f){"use strict";var g=60,h=180;function a(a){return a?h:g}f.getMAWMaxVoiceClipDurationInSeconds=a}),66);
__d("MWXIconPhotoPlus",["MWXSvgIcon","SVGIcon","cr:22434","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22434")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerAttachmentPreview.react",["fbt","MWXCircleButton.react","MWXIconCross","MWXIconDocument","MWXIconPhotoPlus","MWXIconStrict.react","MWXImage.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MWXVideoStatusListener.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i,l=k.useEffect,m=k.useRef,n={cancelButton:{insetInlineEnd:"xgvahye",left:null,right:null,position:"x10l6tqk",top:"x1v4kod4",$$css:!0},card:{marginInlineEnd:"xbmvrgn",position:"x1n2onr6",$$css:!0},contentWrapper:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xsdox4t",minWidth:"x900493",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},filePreview:{alignItems:"x6s0dn4",boxSizing:"x9f619",display:"x78zum5",rowGap:"xp1r0qw",columnGap:"xtqikln",height:"xsdox4t",maxWidth:"x1kbpmyu",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",width:"xezivpi",$$css:!0},imagePreview:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0},playIcon:{insetInlineStart:"xbudbmw",left:null,right:null,marginInlineStart:"x18xomjl",marginTop:"x7wgvq7",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(13),c=a.hasError;a=a.progress;c=c===void 0?!1:c;if(a===1||a==null)return null;c=c?"var(--negative)":"var(--chat-composer-button-color, var(--accent))";a=Math.ceil(a*100);var e=2..toString();e="M 0,"+e+" L 100,"+e;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f="x15mokao x1ga7v0g xde0f50 x15x8krk x1ey2m1c x1o0tod x10l6tqk xh8yej3",b[0]=f):f=b[0];var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={height:4..toString()},b[1]=g):g=b[1];var h;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(h=j.jsx("path",{d:e,stroke:"rgba(0,0,0,.5)",strokeLinecap:"round",strokeWidth:4..toString()}),b[2]=h):h=b[2];var i=a===0?0:4,k;b[3]!==i?(k=i.toString(),b[3]=i,b[4]=k):k=b[4];i=100-a;b[5]!==i?(a=i.toString(),b[5]=i,b[6]=a):a=b[6];b[7]!==a?(i={strokeDasharray:"100",strokeDashoffset:a,transition:"stroke-dashoffset .5s, stroke .5s"},b[7]=a,b[8]=i):i=b[8];b[9]!==c||b[10]!==k||b[11]!==i?(a=j.jsxs("svg",{"aria-hidden":!0,className:f,preserveAspectRatio:"none",style:g,viewBox:"0 0 100 "+4..toString(),children:[h,j.jsx("path",{d:e,stroke:c,strokeLinecap:"round",strokeWidth:k,style:i})]}),b[9]=c,b[10]=k,b[11]=i,b[12]=a):a=b[12];return a}function p(a){var b=d("react-compiler-runtime").c(12),e=a.children,f=a.hasError,g=a.onCancel,i=a.progress;a=a.testid;f=f===void 0?!1:f;var k;b[0]!==f||b[1]!==i?(k=j.jsx(o,{hasError:f,progress:i}),b[0]=f,b[1]=i,b[2]=k):k=b[2];b[3]!==e||b[4]!==k?(f=j.jsxs(d("react-strict-dom").html.div,{style:n.contentWrapper,children:[e,k]}),b[3]=e,b[4]=k,b[5]=f):f=b[5];b[6]!==g?(i=g!=null&&j.jsx(d("react-strict-dom").html.div,{style:n.cancelButton,children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconCross"),label:h._(/*BTDS*/"Cancel"),onPress:g,size:24,type:"overlay"})}),b[6]=g,b[7]=i):i=b[7];b[8]!==f||b[9]!==i||b[10]!==a?(e=j.jsxs(d("react-strict-dom").html.div,{"data-testid":void 0,style:n.card,children:[f,i]}),b[8]=f,b[9]=i,b[10]=a,b[11]=e):e=b[11];return e}function a(a){var b=d("react-compiler-runtime").c(9),e=a.hasError,f=a.onCancel,g=a.onError,h=a.onLoad,i=a.progress;a=a.src;e=e===void 0?!1:e;var k;b[0]!==g||b[1]!==h||b[2]!==a?(k=j.jsx(c("MWXImage.react"),{objectFit:"contain",onError:g,onLoad:h,src:a,xstyle:n.imagePreview}),b[0]=g,b[1]=h,b[2]=a,b[3]=k):k=b[3];b[4]!==e||b[5]!==f||b[6]!==i||b[7]!==k?(g=j.jsx(p,{hasError:e,onCancel:f,progress:i,testid:void 0,children:k}),b[4]=e,b[5]=f,b[6]=i,b[7]=k,b[8]=g):g=b[8];return g}function b(a){var b=d("react-compiler-runtime").c(13),e=a.hasError,f=a.onCancel,g=a.onError,h=a.onLoad,i=a.progress;a=a.src;e=e===void 0?!1:e;var k=m(null),l;b[0]!==g||b[1]!==h?(l=j.jsx(c("MWXVideoStatusListener.react"),{onError:g,onLoad:h,videoRef:k}),b[0]=g,b[1]=h,b[2]=l):l=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xl1xv1r"},b[3]=g):g=b[3];b[4]!==a?(h=j.jsx("video",babelHelpers["extends"]({},g,{height:"48",ref:k,src:a,width:"48"})),b[4]=a,b[5]=h):h=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(d("react-strict-dom").html.div,{style:n.playIcon,children:j.jsx(c("MWXImage.react"),{src:"/images/video/play_24dp.png"})}),b[6]=g):g=b[6];b[7]!==e||b[8]!==f||b[9]!==i||b[10]!==l||b[11]!==h?(k=j.jsxs(p,{hasError:e,onCancel:f,progress:i,testid:void 0,children:[l,h,g]}),b[7]=e,b[8]=f,b[9]=i,b[10]=l,b[11]=h,b[12]=k):k=b[12];return k}function e(a){var b=d("react-compiler-runtime").c(14),e=a.hasError,f=a.onCancel,g=a.onLoad,h=a.progress;a=a.title;e=e===void 0?!1:e;var i,k;b[0]!==g?(i=function(){g==null||g()},k=[g],b[0]=g,b[1]=i,b[2]=k):(i=b[1],k=b[2]);l(i,k);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=j.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconDocument"),isDecorative:!0,size:20}),b[3]=i):i=b[3];b[4]!==a?(k=j.jsxs(d("react-strict-dom").html.div,{style:n.filePreview,children:[i,j.jsx(c("MWXText.react"),{numberOfLines:2,type:"bodyLink3",children:a})]}),b[4]=a,b[5]=k):k=b[5];b[6]!==k||b[7]!==a?(i=j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:k}),b[6]=k,b[7]=a,b[8]=i):i=b[8];b[9]!==e||b[10]!==f||b[11]!==h||b[12]!==i?(k=j.jsx(p,{hasError:e,onCancel:f,progress:h,testid:void 0,children:i}),b[9]=e,b[10]=f,b[11]=h,b[12]=i,b[13]=k):k=b[13];return k}function f(a){var b=d("react-compiler-runtime").c(7),e=a.isDisabled;a=a.onPress;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Upload another file"),b[0]=f):f=b[0];f=f;var g=e?"disabled":"primary",i;b[1]!==g?(i=j.jsx(c("MWXIconStrict.react"),{color:g,icon:c("MWXIconPhotoPlus"),size:24}),b[1]=g,b[2]=i):i=b[2];b[3]!==e||b[4]!==a||b[5]!==i?(g=j.jsx(p,{children:j.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:e,onPress:a,testid:void 0,xstyle:n.imagePreview,children:i})}),b[3]=e,b[4]=a,b[5]=i,b[6]=g):g=b[6];return g}g.MWXComposerImageAttachmentPreview=a;g.MWXComposerVideoAttachmentPreview=b;g.MWXComposerFileAttachmentPreview=e;g.MWXComposerAddAttachmentButton=f}),226);
__d("MWXComposerButtonContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({});g["default"]=b}),98);
__d("MWXComposerRow.react",["react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding12:{paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",$$css:!0},padding4:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},padding6:{paddingTop:"x1yrsyyn",paddingInlineEnd:"x1icxu4v",paddingBottom:"x10b6aqq",paddingInlineStart:"x25sj25",$$css:!0},row:{alignItems:"xpqajaz",boxSizing:"x9f619",display:"x78zum5",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",position:"x1n2onr6",width:"xh8yej3",$$css:!0},scrollable:{contain:"x41o525",overflowX:"xw2csxc",overflowY:"x1odjw0f",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(10),c=a.children,e=a["data-testid"],f=a.padding,g=a.scrollable;a=a.xStyle;f=f===void 0?0:f;var h=f===12&&j.padding12,k=f===4&&j.padding4;f=f===6&&j.padding6;g=g===!0&&j.scrollable;var l;b[0]!==h||b[1]!==k||b[2]!==f||b[3]!==g||b[4]!==a?(l=[j.row,h,k,f,g,a],b[0]=h,b[1]=k,b[2]=f,b[3]=g,b[4]=a,b[5]=l):l=b[5];b[6]!==c||b[7]!==l||b[8]!==e?(h=i.jsx(d("react-strict-dom").html.div,{"data-testid":void 0,style:l,children:c}),b[6]=c,b[7]=l,b[8]=e,b[9]=h):h=b[9];return h}g["default"]=a}),98);
__d("MWXComposerHeader.react",["MWXComposerButtonContext.react","MWXComposerRow.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={body:{alignItems:"x6s0dn4",paddingBottom:"x1120s5i",paddingInlineStart:"x1onr9mi",paddingInlineEnd:"x1pic42t",paddingLeft:null,paddingRight:null,paddingTop:"xz9dl7a",$$css:!0},border:{borderTopColor:"x8cjs6t",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},rightAddon:{marginInlineStart:"xvc5jky",$$css:!0}},k={color:"secondary",size:24};function a(a){var b=d("react-compiler-runtime").c(23),e=a.bodyText,f=a.bodyTextColor,g=a.bodyTextType,h=a["data-testid"],l=a.hasTopBorder,m=a.headlineText,n=a.headlineTextType,o=a.leftAddon,p=a.level,q=a.loadingIndicator,r=a.rightAddon,s=a.subtext;a=a.xstyle;l=l===void 0?!1:l;p=p===void 0?3:p;if(q!=null){var t;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(t=[j.body],b[0]=t):t=b[0];b[1]!==q||b[2]!==h?(t=i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:t,children:q}),b[1]=q,b[2]=h,b[3]=t):t=b[3];return t}q=l&&j.border;b[4]!==q||b[5]!==a?(t=[j.body,q,a],b[4]=q,b[5]=a,b[6]=t):t=b[6];l=o!=null&&o;b[7]!==e||b[8]!==f||b[9]!==g||b[10]!==m||b[11]!==n||b[12]!==p||b[13]!==s?(q=(e!=null||s!=null||m!=null)&&i.jsx(c("MWXTextPairing.react"),{body:e!=null&&g!=null?i.jsx(c("MWXText.react"),{color:f,type:g,children:e}):e!=null?i.jsx(c("MWXText.react"),{color:f,type:"body4",children:e}):void 0,headline:m!=null&&n!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:n,children:m}):m!=null?i.jsx(c("MWXText.react"),{isSemanticHeading:!0,type:"headline4",children:m}):void 0,level:p,meta:s}),b[7]=e,b[8]=f,b[9]=g,b[10]=m,b[11]=n,b[12]=p,b[13]=s,b[14]=q):q=b[14];b[15]!==r?(a=r!=null&&i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsx(d("react-strict-dom").html.div,{style:j.rightAddon,children:r})}),b[15]=r,b[16]=a):a=b[16];b[17]!==t||b[18]!==l||b[19]!==q||b[20]!==a||b[21]!==h?(o=i.jsxs(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:t,children:[l,q,a]}),b[17]=t,b[18]=l,b[19]=q,b[20]=a,b[21]=h,b[22]=o):o=b[22];return o}g["default"]=a}),98);
__d("MWXComposerIconButton.react",["MWXCircleButton.react","MWXComposerButtonContext.react","MWXThreadThemeColor","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["color","disableTooltip","isShown","size","type","wrapperStyle","wrapperXStyle"],j,k=j||(j=d("react")),l=j.useContext,m={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",transition:"x1el4u5y",$$css:!0},shown:{transform:"x1158fpu",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(36),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g,j,o,p,q,r,s;if(b[3]!==e){a=e;g=a.color;j=a.disableTooltip;o=a.isShown;p=a.size;q=a.type;r=a.wrapperStyle;s=a.wrapperXStyle;a=babelHelpers.objectWithoutPropertiesLoose(a,i);b[3]=e;b[4]=g;b[5]=j;b[6]=o;b[7]=a;b[8]=p;b[9]=q;b[10]=r;b[11]=s}else g=b[4],j=b[5],o=b[6],a=b[7],p=b[8],q=b[9],r=b[10],s=b[11];q=q===void 0?"deemphasized":q;var t=l(c("MWXComposerButtonContext.react")),u=t.color,v=t.iconRatio,w=t.paddingHorizontal;t=t.size;v=v===void 0?"medium":v;w=w===void 0?"none":w;t=t===void 0?36:t;w=w==="small"&&m.horizontalPaddingSmall;var x;b[12]!==r||b[13]!==s?(x=[s,r],b[12]=r,b[13]=s,b[14]=x):x=b[14];r=o===!0&&m.shown;b[15]!==w||b[16]!==x||b[17]!==r?(s=[w,m.layoutWrapper,x,r],b[15]=w,b[16]=x,b[17]=r,b[18]=s):s=b[18];if(b[19]!==g||b[20]!==u){w=(o=g!=null?g:u)!=null?o:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))");b[19]=g;b[20]=u;b[21]=w}else w=b[21];x=p!=null?p:t;b[22]!==v||b[23]!==a||b[24]!==f||b[25]!==x||b[26]!==w||b[27]!==q?(r=k.jsx(c("MWXCircleButton.react"),babelHelpers["extends"]({},a,{color:w,iconRatio:v,ref:f,size:x,type:q})),b[22]=v,b[23]=a,b[24]=f,b[25]=x,b[26]=w,b[27]=q,b[28]=r):r=b[28];b[29]!==j||b[30]!==e.label||b[31]!==r?(o=k.jsx(n,{disableTooltip:j,label:e.label,children:r}),b[29]=j,b[30]=e.label,b[31]=r,b[32]=o):o=b[32];b[33]!==o||b[34]!==s?(g=k.jsx(d("react-strict-dom").html.div,{style:s,children:o}),b[33]=o,b[34]=s,b[35]=g):g=b[35];return g}function n(a){var b=d("react-compiler-runtime").c(4),e=a.children,f=a.disableTooltip;a=a.label;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=f===!0?e:k.jsx(c("MWXTooltip.react"),{position:"above",tooltip:a,children:e}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWXComposerInputArea.react",["MWXComposerButtonContext.react","MWXComposerRow.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={colors:{backgroundColor:"x16sw7j7",borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x1lun4ml",borderBottomWidth:"xso031l",borderInlineStartWidth:"xpilrb4",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",$$css:!0},flexLayout:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",minWidth:"x13qp9f6",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},k={iconRatio:"large",paddingHorizontal:"none",size:28};function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.composerRowXStyle,g=a.header;a=a.xstyle;var h;b[0]!==a?(h=[j.colors,j.flexLayout,a],b[0]=a,b[1]=h):h=b[1];b[2]!==e||b[3]!==f?(a=i.jsx(c("MWXComposerRow.react"),{padding:4,xStyle:f,children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==h||b[7]!==a?(e=i.jsx(c("MWXComposerButtonContext.react").Provider,{value:k,children:i.jsxs(d("react-strict-dom").html.div,{style:h,children:[g,a]})}),b[5]=g,b[6]=h,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("MWXComposerSpinner.react",["MWXComposerButtonContext.react","MWXSpinner.react","MWXTooltip.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h=["color","label","size","spinnerSize","wrapperStyle","wrapperXStyle"],i,j=i||(i=d("react")),k=i.useContext,l={horizontalPaddingSmall:{paddingInlineStart:"xyiysdx",paddingInlineEnd:"x14vy60q",paddingLeft:null,paddingRight:null,$$css:!0},layoutWrapper:{alignItems:"x6s0dn4",display:"x78zum5",flexGrow:"x1c4vz4f",flexShrink:"x2lah0s",justifyContent:"xl56j7k",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e,f,g,i,m,n,o;b[0]!==a?(i=a.color,e=a.label,f=a.size,m=a.spinnerSize,n=a.wrapperStyle,o=a.wrapperXStyle,g=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=m,b[6]=n,b[7]=o):(e=b[1],f=b[2],g=b[3],i=b[4],m=b[5],n=b[6],o=b[7]);a=i===void 0?"blue":i;i=m===void 0?20:m;m=k(c("MWXComposerButtonContext.react"));var p=m.paddingHorizontal;m=m.size;p=p===void 0?"none":p;m=m===void 0?36:m;f=(f!=null?f:m)+"px";m=p==="small"&&l.horizontalPaddingSmall;b[8]!==n||b[9]!==o?(p=[o,n],b[8]=n,b[9]=o,b[10]=p):p=b[10];b[11]!==f?(n=[{height:f,width:f}],b[11]=f,b[12]=n):n=b[12];b[13]!==m||b[14]!==p||b[15]!==n?(o=[m,l.layoutWrapper,p,n],b[13]=m,b[14]=p,b[15]=n,b[16]=o):o=b[16];b[17]!==a||b[18]!==g||b[19]!==i?(f=j.jsx(c("MWXSpinner.react"),babelHelpers["extends"]({color:a,size:i},g)),b[17]=a,b[18]=g,b[19]=i,b[20]=f):f=b[20];b[21]!==e||b[22]!==f?(m=j.jsx(c("MWXTooltip.react"),{position:"above",tooltip:e,children:f}),b[21]=e,b[22]=f,b[23]=m):m=b[23];b[24]!==m||b[25]!==o?(p=j.jsx(d("react-strict-dom").html.div,{style:o,children:m}),b[24]=m,b[25]=o,b[26]=p):p=b[26];return p}g["default"]=a}),98);
__d("MWXComposerTextEditor.react",["CometLexicalContentEditable.react","CometLexicalPlaceholder.react","LexicalErrorBoundary","LexicalPlainTextPlugin","MWXRowItem.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={padding:{marginBottom:"x12nagc",marginInlineEnd:"xbelrpt",marginInlineStart:"xdzw4kq",marginTop:"x1gslohp",maxHeight:"xctk3hg",minWidth:"x900493",overflowY:"x1odjw0f",paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.contentEditableProps,g=a.placeholderText;a=a.testid;var h;b[0]!==g?(h=g==null?{}:{"aria-placeholder":g,placeholder:i.jsx(c("CometLexicalPlaceholder.react"),{children:g})},b[0]=g,b[1]=h):h=b[1];g=h;b[2]!==f||b[3]!==g||b[4]!==a?(h=i.jsx(c("CometLexicalContentEditable.react"),babelHelpers["extends"]({tabIndex:0,webDriverTestID:a},g,f)),b[2]=f,b[3]=g,b[4]=a,b[5]=h):h=b[5];f=h;b[6]!==f?(g=i.jsx(d("LexicalPlainTextPlugin").PlainTextPlugin,{ErrorBoundary:d("LexicalErrorBoundary").LexicalErrorBoundary,contentEditable:f}),b[6]=f,b[7]=g):g=b[7];b[8]!==e||b[9]!==g?(a=i.jsxs(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",xstyle:j.padding,children:[g,e]}),b[8]=e,b[9]=g,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWXComposer.react",["LexicalComposerContext","LexicalHistoryPlugin","MWXComposerAttachmentPreview.react","MWXComposerHeader.react","MWXComposerIconButton.react","MWXComposerInputArea.react","MWXComposerRow.react","MWXComposerSpinner.react","MWXComposerTextEditor.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;var j={composer:{backgroundColor:"xt5xv9l",contain:"x6wvzqs",$$css:!0},flexLayout:{alignItems:"xpqajaz",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1c4vz4f",flexShrink:"xs83m0k",minWidth:"x13qp9f6",$$css:!0},padding:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"x135b78x",paddingInlineEnd:"x11lfxj5",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.children,f=a.editor,g=a.header,h=a.testid;a=a.xstyle;var k;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(k=d("LexicalComposerContext").createLexicalComposerContext(),b[0]=k):k=b[0];k=k;b[1]!==f?(k=[f,k],b[1]=f,b[2]=k):k=b[2];f=k;k=f;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=[j.composer,j.flexLayout],b[3]=f):f=b[3];var l;b[4]!==a?(l=[j.padding,a],b[4]=a,b[5]=l):l=b[5];b[6]!==e||b[7]!==l||b[8]!==h?(a=i.jsx(c("MWXComposerRow.react"),{"data-testid":void 0,xStyle:l,children:e}),b[6]=e,b[7]=l,b[8]=h,b[9]=a):a=b[9];b[10]!==g||b[11]!==a?(e=i.jsxs(d("react-strict-dom").html.div,{style:f,children:[g,a]}),b[10]=g,b[11]=a,b[12]=e):e=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(l=i.jsx(d("LexicalHistoryPlugin").HistoryPlugin,{}),b[13]=l):l=b[13];b[14]!==k||b[15]!==e?(h=i.jsxs(d("LexicalComposerContext").LexicalComposerContext.Provider,{value:k,children:[e,l]}),b[14]=k,b[15]=e,b[16]=h):h=b[16];return h}b={Add:d("MWXComposerAttachmentPreview.react").MWXComposerAddAttachmentButton,FilePreview:d("MWXComposerAttachmentPreview.react").MWXComposerFileAttachmentPreview,ImagePreview:d("MWXComposerAttachmentPreview.react").MWXComposerImageAttachmentPreview,VideoPreview:d("MWXComposerAttachmentPreview.react").MWXComposerVideoAttachmentPreview};g.Composer=a;g.Button=c("MWXComposerIconButton.react");g.TextEditor=c("MWXComposerTextEditor.react");g.InputArea=c("MWXComposerInputArea.react");g.Header=c("MWXComposerHeader.react");g.Row=c("MWXComposerRow.react");g.Spinner=c("MWXComposerSpinner.react");g.Attachments=b}),98);
__d("MWXComposerButtonGroupContext.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({isMenu:!1});g["default"]=b}),98);
__d("MWXComposerButtonGroupButton.react",["MWXComposerButtonGroupContext.react","MWXComposerIconButton.react","MWXMenuItem.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i=["color","icon","label","onPress","preventClosingMenuOnSelect","testid"],j,k=j||(j=d("react")),l=j.useContext;function a(a){var b=d("react-compiler-runtime").c(36),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);var g,j,m,n,o,p;if(b[3]!==e){a=e;g=a.color;j=a.icon;m=a.label;n=a.onPress;o=a.preventClosingMenuOnSelect;p=a.testid;a=babelHelpers.objectWithoutPropertiesLoose(a,i);b[3]=e;b[4]=g;b[5]=j;b[6]=m;b[7]=n;b[8]=a;b[9]=o;b[10]=p}else g=b[4],j=b[5],m=b[6],n=b[7],a=b[8],o=b[9],p=b[10];e=l(c("MWXComposerButtonGroupContext.react"));var q=e.isMenu,r=e.styleForButton;e=e.xstyleForButton;if(q){b[11]!==j?(q=j.asMenuItemIcon_ESCAPE_HATCH(),b[11]=j,b[12]=q):q=b[12];var s;b[13]!==g?(s=g!=null?g:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-composer-button-color, var(--accent))"),b[13]=g,b[14]=s):s=b[14];var t;b[15]!==m||b[16]!==n||b[17]!==a||b[18]!==o||b[19]!==f||b[20]!==q||b[21]!==s||b[22]!==p?(t=k.jsx(c("MWXMenuItem.react"),babelHelpers["extends"]({"aria-label":m,icon:q,iconColor:s,onClick:n,preventClosingMenuOnSelect:o,primaryText:m,ref:f,testid:void 0},a)),b[15]=m,b[16]=n,b[17]=a,b[18]=o,b[19]=f,b[20]=q,b[21]=s,b[22]=p,b[23]=t):t=b[23];return t}b[24]!==g?(o=g!=null?{color:g}:{},b[24]=g,b[25]=o):o=b[25];b[26]!==j||b[27]!==m||b[28]!==n||b[29]!==a||b[30]!==f||b[31]!==r||b[32]!==o||b[33]!==p||b[34]!==e?(q=k.jsx(c("MWXComposerIconButton.react"),babelHelpers["extends"]({icon:j,label:m,onPress:n,ref:f,testid:void 0,wrapperStyle:r,wrapperXStyle:e},o,a)),b[26]=j,b[27]=m,b[28]=n,b[29]=a,b[30]=f,b[31]=r,b[32]=o,b[33]=p,b[34]=e,b[35]=q):q=b[35];return q}g["default"]=a}),98);
__d("withMWXPopover",["BaseMenuContext","BaseMultiPageViewContext","BasePopoverTrigger.react","MWXPopover.react","MWXPopoverLoadingState.react","lazyLoadComponent","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h=["onHoverIn","onHoverOut","popover","popoverPresentationProps","popoverProps","preloadTrigger"],i=["align","position"],j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;function a(a,b){function e(e){var f=d("react-compiler-runtime").c(42),g,j,m,n,o,p,q;f[0]!==e?(g=e.onHoverIn,j=e.onHoverOut,m=e.popover,n=e.popoverPresentationProps,o=e.popoverProps,p=e.preloadTrigger,q=babelHelpers.objectWithoutPropertiesLoose(e,h),f[0]=e,f[1]=g,f[2]=j,f[3]=m,f[4]=n,f[5]=o,f[6]=p,f[7]=q):(g=f[1],j=f[2],m=f[3],n=f[4],o=f[5],p=f[6],q=f[7]);e=(e=l(c("BaseMenuContext")))!=null?e:{};var r=e.onClose;e=(e=l(c("BaseMultiPageViewContext")))!=null?e:{};var s=e.pushPage;if(f[8]!==m){f[10]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!1}),f[10]=e):e=f[10];e=d("withCometPlaceholder").withCometPlaceholder(c("lazyLoadComponent")(m),e,b);f[8]=m;f[9]=e}else e=f[9];e=e;var t=e;f[11]!==m?(e=c("tracePolicyFromResource")("comet.popover",m),f[11]=m,f[12]=e):e=f[12];e=c("useCometPopoverInteractionTracing")(e,"lazy");var u;f[13]!==n?(u=n!=null?n:{},f[13]=n,f[14]=u):u=f[14];var v,w;if(f[15]!==u){n=u;v=n.align;w=n.position;n=babelHelpers.objectWithoutPropertiesLoose(n,i);f[15]=u;f[16]=n;f[17]=v;f[18]=w}else n=f[16],v=f[17],w=f[18];u=v===void 0?"middle":v;v=w===void 0?"above":w;f[19]!==t?(w=function(a){return k.jsx(c("MWXPopover.react"),{withArrow:!0,children:k.jsx(t,babelHelpers["extends"]({},a))})},f[19]=t,f[20]=w):w=f[20];w=w;w=w;var x;f[21]!==t||f[22]!==r?(x=function(a){return function(b){b=b.onReturn;return k.jsx(t,babelHelpers["extends"]({},a,{onClose:r!=null?r:b}))}},f[21]=t,f[22]=r,f[23]=x):x=f[23];x=x;var y=x;f[24]!==y||f[25]!==r||f[26]!==g||f[27]!==j||f[28]!==o||f[29]!==s||f[30]!==q?(x=function(b,c,d,e,f){return k.jsx(a,babelHelpers["extends"]({onHoverIn:function(a){e(a),g==null||g(a)},onHoverOut:function(a){f(),j==null||j(a)}},q,{onPress:function(){var b;for(var d=arguments.length,a=new Array(d),e=0;e<d;e++)a[e]=arguments[e];var f=a;s!=null&&r!=null?s(y(o)):c();q.onPress==null||(b=q).onPress.apply(b,f)},preventClosingMenuOnSelect:!0,ref:b}))},f[24]=y,f[25]=r,f[26]=g,f[27]=j,f[28]=o,f[29]=s,f[30]=q,f[31]=x):x=f[31];var z;f[32]!==w||f[33]!==u||f[34]!==n||f[35]!==m||f[36]!==o||f[37]!==v||f[38]!==p||f[39]!==x||f[40]!==e?(z=k.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({align:u,position:v},n,{interactionTracker:e,popover:w,popoverPreloadResource:m,popoverProps:o,preloadTrigger:p,children:x})),f[32]=w,f[33]=u,f[34]=n,f[35]=m,f[36]=o,f[37]=v,f[38]=p,f[39]=x,f[40]=e,f[41]=z):z=f[41];return z}return e}g["default"]=a}),98);
__d("MWXComposerButtonGroupPopoverButton.react",["MWXComposerButtonGroupButton.react","react","withMWXPopover"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("withMWXPopover")(c("MWXComposerButtonGroupButton.react"));b=a;g["default"]=b}),98);
__d("MWXIconFaceHappy",["MWXSvgIcon","SVGIcon","cr:22315","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22315")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerEmojiButton.react",["fbt","JSResourceForInteraction","LexicalComposerContext","MWXComposerButtonGroupPopoverButton.react","MWXIconFaceHappy","MessengerWebUXLogger","Promise","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("cometAddEmojiToComposerForLexical").__setRef("MWXComposerEmojiButton.react");function a(){var a=d("react-compiler-runtime").c(9),e=d("LexicalComposerContext").useLexicalComposerContext(),f=e[0],g=c("MessengerWebUXLogger").useInteractionLogger();a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Choose an emoji"),a[0]=e):e=a[0];var j;a[1]!==g?(j=function(){l.preload(),g==null||g({eventName:"composer_open_emoji_picker"})},a[1]=g,a[2]=j):j=a[2];var m;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("MWV2ComposerEmojiPickerForJSResource").__setRef("MWXComposerEmojiButton.react"),a[3]=m):m=a[3];var n;a[4]!==f?(n={onSelect:function(a){return c("promiseDone")(l.load(),function(c){c(a,f,16);return(i||(i=b("Promise"))).resolve()})},withArrow:!1},a[4]=f,a[5]=n):n=a[5];a[6]!==j||a[7]!==n?(e=k.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconFaceHappy"),label:e,onPress:j,popover:m,popoverProps:n,preloadTrigger:"button",testid:void 0}),a[6]=j,a[7]=n,a[8]=e):e=a[8];return e}g["default"]=a}),226);
__d("useMAWGetSendEditActionForSecure",["FBLogger","LSMessagingThreadAttributionType","MAWBridgeSendAndReceive","MAWDbMsg","MAWExternalId","MAWGetProtocolMsgIdByMsgIdInUI","MAWLoggerUtils","MAWMessageSendReporter","MAWMiActOnActThreadReady","QPLUserFlow","ReQL","ReQLSuspense","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(9),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=d("MAWLoggerUtils").getInstanceKey(),b[0]=e):e=b[0];var g=e,i=(h||(h=c("useReStore")))(),j;b[1]!==i||b[2]!==a?(e=function(){return a!=null?d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(a):d("ReQL").empty()},j=[i,a],b[1]=i,b[2]=a,b[3]=e,b[4]=j):(e=b[3],j=b[4]);var k=d("ReQLSuspense").useFirst(e,j,f.id+":41");c("useLSMessagingSource")();b[5]!==i||b[6]!==k||b[7]!==a?(e=function(b,e){if(a==null||b==null)return;var f=d("MAWDbMsg").toMsgId(b);if(f==null)return;c("QPLUserFlow").start(c("qpl")._(1056849558,"2236"),{instanceKey:g});c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(i.tables,a,"MWV2ComposerEditContainer.react",function(a,b){return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(f).then(function(a){if(a!=null){var b=d("MAWExternalId").generateExternalId(),f=a.chat,g=function(g){return d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendEditMsg",{args:{editMsgContent:{content:e,mentionedJids:[]},originalProtocolMsgId:a},chatJid:f,externalId:b,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:g})},h=d("sendToSentQPLLogger").markSendToSentStartWithAnnotation(k,{isEdit:!0},c("LSMessagingThreadAttributionType").UNKNOWN,void 0,void 0,b);return d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:f,externalId:b},g(h),{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:h},i)}}).then(function(a){c("QPLUserFlow").endSuccess(c("qpl")._(1056849558,"2236"),{instanceKey:g})})["catch"](function(a){c("FBLogger")("messenger_web").catching(a).mustfix("Failed to edit message: %s.",a),c("QPLUserFlow").endFailure(c("qpl")._(1056849558,"2236"),"failure",{instanceKey:g})})}))},b[5]=i,b[6]=k,b[7]=a,b[8]=e):e=b[8];return e}g["default"]=a}),98);
__d("useMAWGetSendEditActionforOpen",["LSFactory","LSOptimisticEditMessageStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a,d){return c("promiseDone")(b.runInTransaction(function(b){return c("LSOptimisticEditMessageStoredProcedure")(c("LSFactory")(b),{messageId:a,text:d})},"readwrite",void 0,void 0,f.id+":27"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWComposerEmojiTransform",["react","react-compiler-runtime","requireDeferred","useDeferredModuleOnReady"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect,j=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("useMWComposerEmojiTransform");function a(a){var b=d("react-compiler-runtime").c(4),e=c("useDeferredModuleOnReady")(j),f,g;b[0]!==e||b[1]!==a?(f=function(){return e==null?void 0:e(a,16)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);i(f,g)}g["default"]=a}),98);
__d("useMWXComposerClearAndSendOnEnter",["Lexical","MLCKeyBindingUtil","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useInsertionEffect,j=b.useLayoutEffect,k=b.useRef,l=250;function a(a,b){var e=d("react-compiler-runtime").c(13),f=a.clearReplyState,g=a.editor,h=a.onSend,m=k(null),n=k(b),o;e[0]!==b?(a=function(){n.current=b},o=[b],e[0]=b,e[1]=a,e[2]=o):(a=e[1],o=e[2]);i(a,o);e[3]!==f||e[4]!==g||e[5]!==h?(a=function(){var a=h(n.current);f==null||f();(a||!1)&&g.dispatchCommand(d("Lexical").CLEAR_EDITOR_COMMAND)},e[3]=f,e[4]=g,e[5]=h,e[6]=a):a=e[6];var p=a;e[7]!==g||e[8]!==p?(o=function(){return g.registerCommand(d("Lexical").KEY_ENTER_COMMAND,function(a){if(a!=null&&!a.shiftKey&&!a.altKey&&(!c("gkx")("23402")||d("MLCKeyBindingUtil").hasCommandModifier(a))){a.preventDefault();var b=m.current;if(b!=null&&a.timeStamp-b<=l&&c("gkx")("15485")){m.current=a.timeStamp;return!0}p();m.current=a.timeStamp;return!0}return!1},d("Lexical").COMMAND_PRIORITY_LOW)},a=[g,p],e[7]=g,e[8]=p,e[9]=o,e[10]=a):(o=e[9],a=e[10]);j(o,a);e[11]!==p?(o={onSend:p},e[11]=p,e[12]=o):o=e[12];return o}g["default"]=a}),98);
__d("useMWXLexicalEditor",["CometLexicalEmojiNode","Lexical","MessengerLexicalActorNode","cometLexicalBaseTheme","cr:11494","react-compiler-runtime","useLexicalInitializeEditor__DEPRECATED","useMWPLexicalClearEditor","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=[d("MessengerLexicalActorNode").MessengerLexicalActorNode,b("cr:11494")==null?void 0:b("cr:11494").MessengerLexicalCommandNode,d("CometLexicalEmojiNode").EmojiNode];function a(){var a=d("react-compiler-runtime").c(2),b=c("useStable")(i);c("useMWPLexicalClearEditor")(b);c("useLexicalInitializeEditor__DEPRECATED")(b);var e;a[0]!==b?(e={editor:b},a[0]=b,a[1]=e):e=a[1];return e}function i(){return d("Lexical").createEditor({namespace:"MWPEditor",nodes:h.filter(Boolean),onError:j,theme:babelHelpers["extends"]({},c("cometLexicalBaseTheme"),{paragraph:"xat24cr xdj266r"})})}function j(){}g.useMWXLexicalEditor=a}),98);
__d("MWV2ComposerEditContainer.react",["fbt","LSMessagingThreadTypeUtil","Lexical","LexicalText","MAWEditMessageContext.react","MAWVault","MWLSThreadDisplayContext","MWPActor.react","MWXComposer.react","MWXComposerEmojiButton.react","MWXIconCheckmarkCircle","MWXIconCross","ReQL","ReQLSuspense","isStringNullOrEmpty","react","react-compiler-runtime","useLogMAWEditMessage","useMAWGetSendEditActionForSecure","useMAWGetSendEditActionforOpen","useMWComposerEmojiTransform","useMWXComposerClearAndSendOnEnter","useMWXLexicalEditor","usePrepopulateLexicalEditor","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useContext,m=b.useEffect;b.useMemo;var n=b.useState,o={editMessageContainer:{animationDuration:"x4afe7t",animationName:"x1axgj95",animationTimingFunction:"x1debuo4",boxSizing:"x9f619",height:"x1dqyrwa",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(62),e=a.confirmationText,g=a.contentEditableProps,j=a.editMessageData,q=a.headerText,r=a.onEditCancelCallback;a=a.onEditTriggerCallback;e=e===void 0?null:e;q=q===void 0?null:q;var s=r===void 0?null:r,t=a===void 0?null:a,u=(i||(i=c("useReStore")))();r=l(d("MAWEditMessageContext.react").Context);var v=r.setEditMessageData,w=d("MWPActor.react").useActor();b[0]!==u.tables.messages||b[1]!==(j==null?void 0:j.messageId)||b[2]!==(j==null?void 0:j.threadKey)||b[3]!==(j==null?void 0:j.timestampMs)?(a=function(){return d("ReQL").fromTableAscending(u.tables.messages).getKeyRange(j==null?void 0:j.threadKey,j==null?void 0:j.timestampMs,j==null?void 0:j.messageId)},b[0]=u.tables.messages,b[1]=j==null?void 0:j.messageId,b[2]=j==null?void 0:j.threadKey,b[3]=j==null?void 0:j.timestampMs,b[4]=a):a=b[4];r=j==null?void 0:j.messageId;var x=j==null?void 0:j.threadKey,y=j==null?void 0:j.timestampMs,z;b[5]!==u||b[6]!==r||b[7]!==x||b[8]!==y?(z=[u,r,x,y],b[5]=u,b[6]=r,b[7]=x,b[8]=y,b[9]=z):z=b[9];var A=d("ReQLSuspense").useFirst(a,z,f.id+":71"),B=c("useMAWGetSendEditActionforOpen")(),C=c("useMAWGetSendEditActionForSecure")(A==null?void 0:A.threadKey);A==null||A.text;x=(r=A==null?void 0:A.text)!=null?r:"";b[10]!==x?(y=d("MAWVault").unvault(x).trim(),b[10]=x,b[11]=y):y=b[11];a=y;var D=a,E=c("useLogMAWEditMessage")();z=d("useMWXLexicalEditor").useMWXLexicalEditor();var F=z.editor;b[12]!==w||b[13]!==j||b[14]!==F||b[15]!==E||b[16]!==(A==null?void 0:A.messageId)||b[17]!==t||b[18]!==B||b[19]!==C||b[20]!==D||b[21]!==v?(r=function(){var a=F.getEditorState().read(d("LexicalText").$rootTextContent).trim();if(c("isStringNullOrEmpty")(a)||a===D)return!1;d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType)?C(A==null?void 0:A.messageId,a):B(j.messageId,a);E(j.threadType,j.threadKey,j.messageId,w,"EDIT_MESSAGE");v(null);t&&t();return!0},b[12]=w,b[13]=j,b[14]=F,b[15]=E,b[16]=A==null?void 0:A.messageId,b[17]=t,b[18]=B,b[19]=C,b[20]=D,b[21]=v,b[22]=r):r=b[22];var G=r;p(F,v,s);b[23]!==F||b[24]!==G?(x={clearReplyState:null,editor:F,onSend:G},b[23]=F,b[24]=G,b[25]=x):x=b[25];c("useMWXComposerClearAndSendOnEnter")(x);y=n(!1);a=y[0];var H=y[1];b[26]!==F||b[27]!==D?(z=function(){return F.registerTextContentListener(function(a){a=a.trim();H(!c("isStringNullOrEmpty")(a)&&a!==D)})},r=[F,D],b[26]=F,b[27]=D,b[28]=z,b[29]=r):(z=b[28],r=b[29]);m(z,r);c("usePrepopulateLexicalEditor")(F,D,!0);c("useMWComposerEmojiTransform")(F);x=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();y=x==="Inbox"?32:24;b[30]!==q?(z=q!=null?q:h._(/*BTDS*/"Edit message"),b[30]=q,b[31]=z):z=b[31];b[32]===Symbol["for"]("react.memo_cache_sentinel")?(r=h._(/*BTDS*/"Cancel edit"),b[32]=r):r=b[32];b[33]!==s||b[34]!==v?(x=function(){v(null),s&&s()},b[33]=s,b[34]=v,b[35]=x):x=b[35];b[36]!==y||b[37]!==x?(q=k.jsx(d("MWXComposer.react").Button,{color:"primary",icon:c("MWXIconCross"),label:r,onPress:x,size:y}),b[36]=y,b[37]=x,b[38]=q):q=b[38];b[39]!==z||b[40]!==q?(r=k.jsx(d("MWXComposer.react").Header,{hasTopBorder:!0,headlineText:z,rightAddon:q,xstyle:o.editMessageContainer},0),b[39]=z,b[40]=q,b[41]=r):r=b[41];b[42]!==g?(y=k.jsx(d("MWXComposer.react").TextEditor,{contentEditableProps:g,testid:void 0}),b[42]=g,b[43]=y):y=b[43];b[44]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx(c("MWXComposerEmojiButton.react"),{}),b[44]=x):x=b[44];b[45]!==y?(z=k.jsxs(d("MWXComposer.react").InputArea,{children:[y,x]}),b[45]=y,b[46]=z):z=b[46];q=!a;b[47]!==e?(g=e!=null?e:h._(/*BTDS*/"Edit"),b[47]=e,b[48]=g):g=b[48];b[49]!==G?(x=function(){G()},b[49]=G,b[50]=x):x=b[50];b[51]!==q||b[52]!==g||b[53]!==x?(y=k.jsx(d("MWXComposer.react").Button,{disabled:q,icon:c("MWXIconCheckmarkCircle"),label:g,onPress:x,testid:void 0}),b[51]=q,b[52]=g,b[53]=x,b[54]=y):y=b[54];b[55]!==z||b[56]!==y?(a=k.jsxs(d("MWXComposer.react").Row,{children:[z,y]}),b[55]=z,b[56]=y,b[57]=a):a=b[57];b[58]!==F||b[59]!==r||b[60]!==a?(e=k.jsx(d("MWXComposer.react").Composer,{editor:F,header:r,children:a}),b[58]=F,b[59]=r,b[60]=a,b[61]=e):e=b[61];return e}function p(a,b,c){var e=d("react-compiler-runtime").c(5),f=c===void 0?null:c,g;e[0]!==a||e[1]!==f||e[2]!==b?(c=function(){return a.registerCommand(d("Lexical").KEY_ESCAPE_COMMAND,function(a){a.preventDefault();a.stopImmediatePropagation();a.stopPropagation();b(null);f&&f();return!0},d("Lexical").COMMAND_PRIORITY_CRITICAL)},g=[a,b,f],e[0]=a,e[1]=f,e[2]=b,e[3]=c,e[4]=g):(c=e[3],g=e[4]);m(c,g)}g["default"]=a}),226);
__d("MWChatReplyText.react",["fbt","MWChatTextFormatting","MWChatTextTransform","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useMemo;function a(a){var e=d("react-compiler-runtime").c(13),f=a.isBumpMessage,g=a.isHotLike,i=a.mentionIds,k=a.ranges,l=a.text,m=a.threadKey;a=a.transformEmoticons;f=f===void 0?!1:f;g=g===void 0?!1:g;a=a===void 0?!0:a;if(e[0]!==i){var n;n=new Set((n=i==null||i.split==null?void 0:i.split(","))!=null?n:[]);e[0]=i;e[1]=n}else n=e[1];i=n;n=i;e[2]!==l?(i=b("cr:2472")==null?l:b("cr:2472").unvault(l),e[2]=l,e[3]=i):i=e[3];l=i;i=(n=(i=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(l,[],n,m))==null?void 0:i.textWithSubstitutions)!=null?n:l;m=(n=d("useStringWithSubstitutions").useStringWithSubstitutions(l,m))!=null?n:l;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(n=h._(/*BTDS*/"Sticker").toString(),e[4]=n):n=e[4];l=n;n=g?l:f?m:i;e[5]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xi81zsa"},e[5]=g):g=e[5];e[6]===Symbol["for"]("react.memo_cache_sentinel")?(l={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[6]=l):l=e[6];e[7]!==a?(f=a?d("MWChatTextTransform").textTransformsNoVault:[],e[7]=a,e[8]=f):f=e[8];e[9]!==k||e[10]!==f||e[11]!==n?(m=j.jsx("div",babelHelpers["extends"]({},g,{dir:"auto",children:j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:2,ranges:k,renderers:l,text:n,transforms:f,truncationStyle:"ellipsis-only",withParagraphs:!1})})),e[9]=k,e[10]=f,e[11]=n,e[12]=m):m=e[12];return m}g["default"]=a}),226);
__d("MWV2ComposerReplyView.react",["fbt","CometErrorBoundary.react","CometTriggerAccessibilityAlertContext","FDSCrossFilled12Icon","I64","LSContactGenderToGenderConst","LSHotEmojiSize","LSIntEnum","LSMessagingThreadTypeUtil","LsFalcoEventEntryPoint","LsReplyRenderedFalcoEvent","MWChatReplyText.react","MWPActor.react","MWPReplyContext.react","MWXIcon_DEPRECATED.react","MWXText.react","MWXTextPairing.react","MessagingAttachmentType","ReQL","ReQLSuspense","cr:2472","getFBTSafeGenderFromGenderConst","isMWBumpMessage","mwCMIsAnyCMThread","react","react-compiler-runtime","shouldDisableAnimations","useGetOriginalMsgFromBumpMsg","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;var n=e.useContext,o=e.useEffect;function p(a,e,f,g){if(g===!0)return h._(/*BTDS*/"This message was sent before the chat was end-to-end encrypted.");g=a.text;g=g!=null?b("cr:2472")==null?g:b("cr:2472").unvault(g):"";g=g==="\ud83d\udc4d"&&((k||(k=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(k||(k=d("I64"))).neg_one,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").SMALL))||(k||(k=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(k||(k=d("I64"))).neg_one,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").MEDIUM))||(k||(k=d("I64"))).equal((g=a.hotEmojiSize)!=null?g:(k||(k=d("I64"))).neg_one,(l||(l=d("LSIntEnum"))).ofNumber(c("LSHotEmojiSize").LARGE)))&&e;if(a.isUnsent)return h._(/*BTDS*/"Removed message");var i=c("isMWBumpMessage")(a.replyType);if(a.text!=null&&a.text!==""){return m.jsx(c("MWChatReplyText.react"),{isBumpMessage:i,isHotLike:g,mentionIds:e?a.mentionIds:null,text:(i=a.text)!=null?i:h._(/*BTDS*/"Message"),threadKey:a.threadKey})}if(f!=null){if((k||(k=d("I64"))).equal(f==null?void 0:f.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)))return h._(/*BTDS*/"Image");if((k||(k=d("I64"))).equal(f==null?void 0:f.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)))return h._(/*BTDS*/"Sticker");if((k||(k=d("I64"))).equal(f==null?void 0:f.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)))return h._(/*BTDS*/"Video");if((k||(k=d("I64"))).equal(f==null?void 0:f.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return h._(/*BTDS*/"GIF");return(k||(k=d("I64"))).equal(f==null?void 0:f.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO))?h._(/*BTDS*/"Audio"):h._(/*BTDS*/"Attachment")}return h._(/*BTDS*/"Message")}function q(a,b,d,e,f){if(f===!0)return h._(/*BTDS*/"You can't reply to this message");if(a)return h._(/*BTDS*/"Replying to yourself");if(b!=null){return h._(/*BTDS*/"_j{\"*\":\"Replying to {name}\"}",[h._param("name",m.jsx(c("MWXText.react"),{type:"headlineEmphasized5",children:e?b.name:(f=d!=null?d:b.firstName)!=null?f:b.name}),[1,c("getFBTSafeGenderFromGenderConst")(c("LSContactGenderToGenderConst")(b.gender))])])}return h._(/*BTDS*/"Replying to Facebook User")}function r(a){var b=d("react-compiler-runtime").c(23),e=a.isSecureThread,g=a.message,h=a.threadType;a=a.useContactFullname;var j=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),n=(k||(k=d("I64"))).equal(g.senderId,l);b[0]!==j.tables.contacts||b[1]!==g.senderId?(l=function(){return d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(g.senderId)},b[0]=j.tables.contacts,b[1]=g.senderId,b[2]=l):l=b[2];var r;b[3]!==j||b[4]!==g.senderId?(r=[j,g.senderId],b[3]=j,b[4]=g.senderId,b[5]=r):r=b[5];var t=d("ReQLSuspense").useFirst(l,r,f.id+":263");l=c("useGetOriginalMsgFromBumpMsg")(g.replyType,g.replySourceId,g.threadKey);var v=l!=null?l:g;b[6]!==j.tables.attachments||b[7]!==v.messageId||b[8]!==v.threadKey?(r=function(){return d("ReQL").fromTableAscending(j.tables.attachments).getKeyRange(v.threadKey,v.messageId)},l=[j.tables.attachments,v.messageId,v.threadKey],b[6]=j.tables.attachments,b[7]=v.messageId,b[8]=v.threadKey,b[9]=r,b[10]=l):(r=b[9],l=b[10]);r=d("ReQLSuspense").useFirst(r,l,f.id+":275");l=d("ReQLSuspense").useFirst(function(){return t!=null&&!n?d("ReQL").fromTableAscending(j.tables.threads).getKeyRange(g.threadKey).map(function(a){var b=a.parentThreadKey;a=a.threadType;if(c("mwCMIsAnyCMThread")(a))return d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.tables.community_folders).getKeyRange(b).map(function(a){a=a.folderId;return d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a,t.id).map(u),f.id+":298")}),f.id+":294");else{a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(g.threadKey,t.id),f.id+":312");return(b=a==null?void 0:a.nickname)!=null?b:null}}):d("ReQL").empty()},[j,g.threadKey,t,n],f.id+":288");var w;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=[],b[11]=w):w=b[11];o(s,w);b[12]!==h?(w={fallbackThreadType:h},b[12]=h,b[13]=w):w=b[13];h=c("useIsSecureMessage")(j,g,w);w=e&&!h;b[14]!==r||b[15]!==w||b[16]!==e||b[17]!==v?(h=p(v,e,r,w),b[14]=r,b[15]=w,b[16]=e,b[17]=v,b[18]=h):h=b[18];r=h;e=q(n,t,l,a,w);b[19]===Symbol["for"]("react.memo_cache_sentinel")?(h={className:"x1sa5p1d"},b[19]=h):h=b[19];b[20]!==r||b[21]!==e?(l=m.jsx("div",babelHelpers["extends"]({},h,{children:m.jsx(c("MWXTextPairing.react"),{body:r,headline:e,level:4})})),b[20]=r,b[21]=e,b[22]=l):l=b[22];return l}function s(){c("LsReplyRenderedFalcoEvent").log(t)}function t(){return{funnel:{entry_point:d("LsFalcoEventEntryPoint").messageActions}}}function u(a){return a.profileName}function v(a){var b=d("react-compiler-runtime").c(15),e=a.isSecureThread,f=a.message,g=a.threadType;a=a.useContactFullname;e=e===void 0?!1:e;var i=n(d("MWPReplyContext.react").MWPReplyContext),j=i.clearReply,k=n(c("CometTriggerAccessibilityAlertContext")),l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xrdv0aw"},l={0:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno"},1:{className:"x6s0dn4 x8cjs6t x13fuv20 x178xt8z x78zum5 x1qughib xg8j3zb x1q3ajuy x1gx403c x889kno x4afe7t x150e7gq x1debuo4"}}[!!!c("shouldDisableAnimations")()<<0],b[0]=i,b[1]=l):(i=b[0],l=b[1]);var o;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a?(o=m.jsx(c("CometErrorBoundary.react"),{fallback:w,children:m.jsx(r,{isSecureThread:e,message:f,threadType:g,useContactFullname:a})}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=o):o=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Cancel reply"),b[7]=e):e=b[7];b[8]!==j||b[9]!==f.threadKey||b[10]!==k?(g=m.jsx(c("MWXIcon_DEPRECATED.react"),{"aria-label":e,color:"primary",icon:c("FDSCrossFilled12Icon"),onPress:function(){j(f.threadKey,!0),k(h._(/*BTDS*/"Replying to message has been canceled.").toString(),{assertive:!1})}}),b[8]=j,b[9]=f.threadKey,b[10]=k,b[11]=g):g=b[11];b[12]!==o||b[13]!==g?(a=m.jsx("div",babelHelpers["extends"]({},i,{children:m.jsxs("div",babelHelpers["extends"]({},l,{"data-testid":void 0,children:[o,g]}))})),b[12]=o,b[13]=g,b[14]=a):a=b[14];return a}function w(){return m.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"Replying to message")})}w.displayName=w.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(17),e=a.messageId,g=a.messageThreadKey,h=a.messageTimestamp,j=a.thread;a=a.useContactFullname;a=a===void 0?!1:a;var k=(i||(i=c("useReStore")))(),l;b[0]!==j.threadType?(l=d("LSMessagingThreadTypeUtil").isArmadilloSecure(j.threadType),b[0]=j.threadType,b[1]=l):l=b[1];l=l;var n;b[2]!==k.tables.messages||b[3]!==e||b[4]!==g||b[5]!==h?(n=function(){return d("ReQL").fromTableAscending(k.tables.messages).getKeyRange(g,h,e)},b[2]=k.tables.messages,b[3]=e,b[4]=g,b[5]=h,b[6]=n):n=b[6];var o;b[7]!==k||b[8]!==e||b[9]!==g||b[10]!==h?(o=[k,g,h,e],b[7]=k,b[8]=e,b[9]=g,b[10]=h,b[11]=o):o=b[11];n=d("ReQLSuspense").useFirst(n,o,f.id+":434");if(n!=null){b[12]!==l||b[13]!==n||b[14]!==j.threadType||b[15]!==a?(o=m.jsx(v,{isSecureThread:l,message:n,threadType:j.threadType,useContactFullname:a}),b[12]=l,b[13]=n,b[14]=j.threadType,b[15]=a,b[16]=o):o=b[16];return o}else return null}g.MWV2ComposerReplyViewContainer=v;g.MWV2ComposerReplyView=a}),226);
__d("MWAudioRecorder.react",["MWPAudioHighlightStylesHooks","MWPAudioPlayerButtons.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerKeyCommands.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXTooltip.react","cr:2673","react","react-compiler-runtime","requireDeferred","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useRef,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWAudioRecorder.react");function a(a){var e=d("react-compiler-runtime").c(54);a=a.voiceRecorder;var f=a.audioEl,g=a.state,i=a.toggle;a=k();var n=d("MWPAudioPlayerUtils").useResetHighlightProgress(a),o;e[0]!==g?(o=b("cr:2673").hasScrubber(g),e[0]=g,e[1]=o):o=e[1];o=o;var p;e[2]!==g.currentTime||e[3]!==g.duration||e[4]!==g.stage||e[5]!==i?(p=function(){i();switch(g.stage){case"Unopen":return;case"Recording":l.onReady(m);return;case"Recorded":var a=g.currentTime,b=g.duration;a===0?l.onReady(function(a){return a.logPlaybackStart(b)}):l.onReady(function(c){return c.logPlaybackResume(b,a)});return;case"Playing":var c=g.currentTime,d=g.duration;l.onReady(function(a){return a.logPlaybackPause(d,c)});return}},e[2]=g.currentTime,e[3]=g.duration,e[4]=g.stage,e[5]=i,e[6]=p):p=e[6];p=p;var q;e[7]!==g?(q=b("cr:2673").getDuration(g),e[7]=g,e[8]=q):q=e[8];var r;e[9]!==g?(r=b("cr:2673").getCurrentTime(g),e[9]=g,e[10]=r):r=e[10];var s;e[11]!==g?(s=b("cr:2673").isProgressing(g),e[11]=g,e[12]=s):s=e[12];var t;e[13]!==g?(t=b("cr:2673").isCompleted(g),e[13]=g,e[14]=t):t=e[14];q=d("MWPAudioPlayerUtils").useProgressLiveUpdate(q,f,r,s,!1,t);r=d("MWPAudioHighlightStylesHooks").useHighlightStyles(!0);e[15]!==g?(s=b("cr:2673").getPlaybackLabel(g),e[15]=g,e[16]=s):s=e[16];t=s;bb0:{switch(g.stage){case"Unopen":case"Recording":s=null;break bb0;case"Recorded":case"Playing":var u;e[17]!==g.currentTime||e[18]!==g.duration?(u=j.jsx(d("MWPAudioPlayerUtils").ScreenReaderLabel,{currentTime:g.currentTime,duration:g.duration}),e[17]=g.currentTime,e[18]=g.duration,e[19]=u):u=e[19];s=u;break bb0}s=void 0}u=s;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(s={backgroundColor:"var(--chat-composer-button-color, var(--accent))",borderRadius:"18px"},e[20]=s):s=e[20];var v;e[21]!==r||e[22]!==q?(v=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:q,xstyle:r}),e[21]=r,e[22]=q,e[23]=v):v=e[23];e[24]!==r?(q=j.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV1,{ref:a,xstyle:r}),e[24]=r,e[25]=q):q=e[25];e[26]===Symbol["for"]("react.memo_cache_sentinel")?(r=(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.playbackButtonContainer),e[26]=r):r=e[26];n=o?n:void 0;var w;e[27]!==g?(w=b("cr:2673").getPlaybackIcon(g,"var(--chat-composer-button-color, var(--accent))"),e[27]=g,e[28]=w):w=e[28];var x;e[29]!==p||e[30]!==t||e[31]!==w?(x=j.jsx(d("MWPAudioPlayerButtons.react").AudioPlayerPlaybackButton,{icon:w,label:t,onPress:p}),e[29]=p,e[30]=t,e[31]=w,e[32]=x):x=e[32];e[33]!==t||e[34]!==x?(p=j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:t,children:x}),e[33]=t,e[34]=x,e[35]=p):p=e[35];e[36]!==n||e[37]!==p?(w=j.jsx("div",babelHelpers["extends"]({},r,{onMouseMove:n,children:p})),e[36]=n,e[37]=p,e[38]=w):w=e[38];e[39]!==g?(t=b("cr:2673").getTimerTime(g),e[39]=g,e[40]=t):t=e[40];e[41]!==t?(x=j.jsx(c("MWPAudioPlayerTimer.react"),{time:t}),e[41]=t,e[42]=x):x=e[42];e[43]!==f||e[44]!==u||e[45]!==v||e[46]!==q||e[47]!==w||e[48]!==x?(r=j.jsxs(c("MWPAudioPlayerKeyCommands.react"),{audioEl:f,children:[v,u,q,w,x]}),e[43]=f,e[44]=u,e[45]=v,e[46]=q,e[47]=w,e[48]=x,e[49]=r):r=e[49];e[50]!==f||e[51]!==o||e[52]!==r?(n=j.jsx(c("MWPAudioPlayerContainer.react"),{audioEl:f,hasScrubber:o,mediaRenderQpl:null,scrubberRef:a,style:s,testid:void 0,useCase:d("MWPAudioPlayerUtils").UseCase.RECORDER,children:r}),e[50]=f,e[51]=o,e[52]=r,e[53]=n):n=e[53];return n}function m(a){return a.logClickStopRecording(0)}g["default"]=a}),98);
__d("MWV2ChatHotlikeButtonAnimation.react",["BaseView.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");b=150;e=2500;f=b+e;b={medium:.7,small:.35};var j={almostPoppingShakeAnimationHotlike:{animationDelay:"x1uhpyvt",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1kol0s",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},animationBox:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1qx5ct2",justifyContent:"xl56j7k",pointerEvents:"x47corl",width:"xw4jnvo",$$css:!0},growAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"x1h5mrz9",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"x1kvv0nh",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0},shakeAnimationHotlike:{animationDelay:"xmmqq2k",animationDuration:"xtsvl71",animationFillMode:"x10e4vud",animationIterationCount:"xa4qsjk",animationName:"x1dogid2",animationTimingFunction:"x1fjjn57",transformOrigin:"xhmqdbg",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.animationsContainerRef,f=a.children;a=a.shouldShowGrowAnimation;var g=a&&j.growAnimationHotlike,h=a&&j.shakeAnimationHotlike;a=a&&j.almostPoppingShakeAnimationHotlike;var k;b[0]!==a?(k=[j.animationBox,a],b[0]=a,b[1]=k):k=b[1];b[2]!==f||b[3]!==k?(a=i.jsx(c("BaseView.react"),{xstyle:k,children:f}),b[2]=f,b[3]=k,b[4]=a):a=b[4];b[5]!==h||b[6]!==a?(f=i.jsx(c("BaseView.react"),{xstyle:h,children:a}),b[5]=h,b[6]=a,b[7]=f):f=b[7];b[8]!==e||b[9]!==g||b[10]!==f?(k=i.jsx(c("BaseView.react"),{ref:e,xstyle:g,children:f}),b[8]=e,b[9]=g,b[10]=f,b[11]=k):k=b[11];return k}g.TOTAL_GROW_ANIMATION_TIME_MS=f;g.EMOJI_SIZE_PERCENTAGE_THRESHOLDS=b;g.MWV2ChatHotlikeButtonAnimation=a}),98);
__d("useMWV2ChatHotlikeButton",["I64","LSHotEmojiSize","LSIntEnum","MWV2ChatHotlikeButtonAnimation.react","MessengerWebUXLogger","QPLUserFlow","StickerConstants","clearTimeout","gkx","isStringNullOrEmpty","qpl","react","react-compiler-runtime","requireDeferred","setTimeout","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");b.useCallback;var k=b.useEffect,l=b.useRef,m=b.useState,n=c("requireDeferred")("MWV2ChatHotlikeSounds").__setRef("useMWV2ChatHotlikeButton"),o=500,p=50,q=(e={},e[c("LSHotEmojiSize").NONE]=(i||(i=d("I64"))).of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").SMALL]=i.of_string(c("StickerConstants").HOT_LIKE_SMALL_STICKER_ID),e[c("LSHotEmojiSize").MEDIUM]=i.of_string(c("StickerConstants").HOT_LIKE_MEDIUM_STICKER_ID),e[c("LSHotEmojiSize").LARGE]=i.of_string(c("StickerConstants").HOT_LIKE_LARGE_STICKER_ID),e);function r(a){if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.small)return c("LSHotEmojiSize").SMALL;else if(a<=d("MWV2ChatHotlikeButtonAnimation.react").EMOJI_SIZE_PERCENTAGE_THRESHOLDS.medium)return c("LSHotEmojiSize").MEDIUM;else return c("LSHotEmojiSize").LARGE}function s(){n.onReadyImmediately(function(a){return a.start()})}function t(){n.onReadyImmediately(function(a){return a.pop()})}function u(a){n.onReadyImmediately(function(b){return b.snap(a)})}function a(a,b,e,f){var g=d("react-compiler-runtime").c(28),h;g[0]!==a?(h=c("isStringNullOrEmpty")(a),g[0]=a,g[1]=h):h=g[1];var i=h;h=m(!1);var n=h[0],v=h[1],w=l(null),x=l(null),y=l(!1),z=c("MessengerWebUXLogger").useInteractionLogger();g[2]!==i||g[3]!==z||g[4]!==e?(h=function(a){z==null||z({eventName:i?"send_hot_like":"send_hot_emoji",extraData:{size:a.toString()},threadType:e})},g[2]=i,g[3]=z,g[4]=e,g[5]=h):h=g[5];var A=h;g[6]!==f||g[7]!==a||g[8]!==i||g[9]!==A||g[10]!==b?(h=function(c){!i?b(a,void 0,void 0,(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f):b(void 0,void 0,q[c],(j||(j=d("LSIntEnum"))).ofNumber(c),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,f),A(c)},g[6]=f,g[7]=a,g[8]=i,g[9]=A,g[10]=b,g[11]=h):h=g[11];h=h;var B;g[12]===Symbol["for"]("react.memo_cache_sentinel")?(B={leading:!0,wait:p},g[12]=B):B=g[12];var C=c("useDebouncedComet")(h,B);g[13]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){c("clearTimeout")(w.current),w.current=null},g[13]=h):h=g[13];var D=h;g[14]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){return function(){D()}},h=[],g[14]=B,g[15]=h):(B=g[14],h=g[15]);k(B,h);g[16]!==n?(B=function(){return y.current===!0&&(!n||w.current==null)},g[16]=n,g[17]=B):B=g[17];var E=B;g[18]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){y.current===!0&&(c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"hover-out"}}}),t()),y.current=!1,v(!1),D()},g[18]=h):h=g[18];B=h;g[19]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){if(c("gkx")("23249"))return;c("QPLUserFlow").start(c("qpl")._(25311430,"2261"));y.current=!0;v(!0);s();w.current=c("setTimeout")(function(){t(),v(!1),w.current=null,c("QPLUserFlow").endCancel(c("qpl")._(25311430,"2261"),{annotations:{string:{reason:"long-press-pop"}}})},d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS+o)},g[19]=h):h=g[19];h=h;var F;g[20]===Symbol["for"]("react.memo_cache_sentinel")?(F=function(){var a;a=(a=x.current)==null?void 0:a.getAnimations()[0];a=a==null?void 0:a.currentTime;return a!=null?a/d("MWV2ChatHotlikeButtonAnimation.react").TOTAL_GROW_ANIMATION_TIME_MS:0},g[20]=F):F=g[20];var G=F;g[21]!==C||g[22]!==i||g[23]!==E?(F=function(){if(c("gkx")("23249")){C(c("LSHotEmojiSize").SMALL);return}if(E()){y.current=!1;return}D();v(!1);y.current=!1;var a=G();a=r(a);u(a);C(a);c("QPLUserFlow").endSuccess(c("qpl")._(25311430,"2261"),{annotations:{bool:{isDefaultLike:i},"int":{size:a}}})},g[21]=C,g[22]=i,g[23]=E,g[24]=F):F=g[24];F=F;g[25]!==F||g[26]!==n?(B={animationsContainerRef:x,handleHoverOut:B,handleOnPress:F,handlePressIn:h,shouldShowGrowAnimation:n},g[25]=F,g[26]=n,g[27]=B):B=g[27];return B}g["default"]=a}),98);
__d("MWV2ChatHotlikeButton.react",["fbt","BaseView.react","CometEmoji.react","EmojiRenderer","MWLikeSvgIcon.react","MWV2ChatHotlikeButtonAnimation.react","MWXPressable.react","MWXTooltip.react","gkx","isStringNullOrEmpty","react","react-compiler-runtime","useMWV2ChatHotlikeButton"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;b=20;var k=56;b/k;var l={adjustEmojiSize:{transform:"xtzsbya",$$css:!0},customEmojiButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},customEmojiButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingInlineStart:"x1pixwil",paddingInlineEnd:"x1bjonze",paddingLeft:null,paddingRight:null,$$css:!0},hotlikeButtonFDS:{marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},hotlikeButtonMDS:{marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},m=h._(/*BTDS*/"_j[\"Send a like\",\"c94482ebd9b72b746183c50a4d4208d6\",1]");function a(a){var b=d("react-compiler-runtime").c(42),e=a.customEmoji,f=a.disabled,g=a.onSendMessage,i=a.shouldHideTooltip;a=a.threadType;f=f===void 0?!1:f;i=i===void 0?!1:i;g=c("useMWV2ChatHotlikeButton")(e,g,a,"MWV2ChatHotlikeButton");a=g.animationsContainerRef;var q=g.handleHoverOut,r=g.handleOnPress,s=g.handlePressIn;g=g.shouldShowGrowAnimation;var t;b[0]!==e?(t=function(a){if(c("isStringNullOrEmpty")(e))return;var b=d("EmojiRenderer").parse(e).map(p);if(b.length!==1)return j.jsx("span",{children:e});b=b[0];return a===k?j.jsx(c("BaseView.react"),{xstyle:l.adjustEmojiSize,children:j.jsx(c("CometEmoji.react"),{emoji:b,size:a})}):j.jsx(c("CometEmoji.react"),{emoji:b,size:a})},b[0]=e,b[1]=t):t=b[1];t=t;if(!c("isStringNullOrEmpty")(e)){var u;b[2]!==e?(u=h._(/*BTDS*/"Send a {emoji}",[h._param("emoji",e)]),b[2]=e,b[3]=u):u=b[3];u=u;var v=f||g,w;b[4]!==t?(w=t(k),b[4]=t,b[5]=w):w=b[5];var x;b[6]!==a||b[7]!==g||b[8]!==w?(x=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:w}),b[6]=a,b[7]=g,b[8]=w,b[9]=x):x=b[9];b[10]!==f||b[11]!==q||b[12]!==r||b[13]!==s||b[14]!==g||b[15]!==v||b[16]!==x||b[17]!==u?(w=j.jsx(c("MWXPressable.react"),{"aria-label":u,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:v,overlayRadius:"50%",testid:void 0,xstyle:o,children:x}),b[10]=f,b[11]=q,b[12]=r,b[13]=s,b[14]=g,b[15]=v,b[16]=x,b[17]=u,b[18]=w):w=b[18];v=w;if(i)return v;b[19]!==t?(x=h._(/*BTDS*/"Send a {emoji}",[h._param("emoji",t(16))]),b[19]=t,b[20]=x):x=b[20];u=x;w=g?null:u;b[21]!==v||b[22]!==w?(t=j.jsx(c("MWXTooltip.react"),{align:"middle",label:m,position:"above",tooltip:w,children:v}),b[21]=v,b[22]=w,b[23]=t):t=b[23];return t}x=f||g;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(u="xsrhx6k",b[24]=u):u=b[24];v=f?void 0:"var(--chat-composer-button-color)";b[25]!==v?(w=j.jsx(c("MWLikeSvgIcon.react"),{className:u,color:v,size:20}),b[25]=v,b[26]=w):w=b[26];b[27]!==a||b[28]!==g||b[29]!==w?(t=j.jsx(d("MWV2ChatHotlikeButtonAnimation.react").MWV2ChatHotlikeButtonAnimation,{animationsContainerRef:a,shouldShowGrowAnimation:g,children:w}),b[27]=a,b[28]=g,b[29]=w,b[30]=t):t=b[30];b[31]!==f||b[32]!==q||b[33]!==r||b[34]!==s||b[35]!==g||b[36]!==x||b[37]!==t?(u=j.jsx(c("MWXPressable.react"),{"aria-label":m,disabled:f,hideFocusOverlay:g,hideHoverOverlay:g,onHoverOut:q,onPress:r,onPressIn:s,overlayDisabled:x,overlayRadius:"50%",testid:void 0,xstyle:n,children:t}),b[31]=f,b[32]=q,b[33]=r,b[34]=s,b[35]=g,b[36]=x,b[37]=t,b[38]=u):u=b[38];v=u;if(i)return v;a=g?null:m;b[39]!==v||b[40]!==a?(w=j.jsx(c("MWXTooltip.react"),{align:"middle",label:m,position:"above",tooltip:a,children:v}),b[39]=v,b[40]=a,b[41]=w):w=b[41];return w}function n(){return[c("gkx")("23219")?l.hotlikeButtonMDS:l.hotlikeButtonFDS]}function o(){return[c("gkx")("23219")?l.customEmojiButtonMDS:l.customEmojiButtonFDS]}function p(a){return a.emoji}g["default"]=a}),226);
__d("MWV2ComposerMenuButtonTrigger.react",["fbt","MWChatChatButtonColorConstants","MWXPressable.react","MWXTooltip.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=h._(/*BTDS*/"View menu options"),m={buttonFDS:{flexShrink:"x2lah0s",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},buttonMDS:{flexShrink:"x2lah0s",marginInlineStart:"x13fj5qh",marginInlineEnd:"x1xegmmw",marginLeft:null,marginRight:null,paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(11),e=a.color,f=a.contextRef,g=a.disabled;a=a.onShow;var h;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=(i||(i=c("stylex"))).props(d("MWChatChatButtonColorConstants").styles.strokeGrey),b[0]=h):h=b[0];var j,m,o;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(j=k.jsx("path",{d:"M1.5,1.5 H22.5"}),m=k.jsx("path",{d:"M1.5,9 H22.5"}),o=k.jsx("path",{d:"M1.5,16.5 H22.5"}),b[1]=j,b[2]=m,b[3]=o):(j=b[1],m=b[2],o=b[3]);b[4]!==e?(h=k.jsx("svg",babelHelpers["extends"]({"aria-hidden":"true"},h,{height:"20",viewBox:"0 0 24 18",width:"20",children:k.jsxs("g",{stroke:e,strokeLinecap:"round",strokeWidth:"2.5",children:[j,m,o]})})),b[4]=e,b[5]=h):h=b[5];b[6]!==f||b[7]!==g||b[8]!==a||b[9]!==h?(j=k.jsx(c("MWXTooltip.react"),{forceInlineDisplay:!0,position:"above",tooltip:l,children:k.jsx(c("MWXPressable.react"),{disabled:g,label:l,onPress:a,overlayDisabled:g,overlayRadius:"50%",ref:f,xstyle:n,children:h})}),b[6]=f,b[7]=g,b[8]=a,b[9]=h,b[10]=j):j=b[10];return j}function n(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]}g["default"]=a}),226);
__d("MWV2ComposerMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(12),e=a.color,f=a.disabled,g=a.editor,h=a.hasPersistentMenu,j=a.onSendMessage;a=a.threadKey;var k=f===void 0?!1:f;b[0]!==g||b[1]!==h||b[2]!==j||b[3]!==a?(f={editor:g,hasPersistentMenu:h,onClose:c("emptyFunction"),onSendMessage:j,threadKey:a},b[0]=g,b[1]=h,b[2]=j,b[3]=a,b[4]=f):f=b[4];b[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("JSResourceForInteraction")("MWComposerCommandsMenu.react").__setRef("MWV2ComposerMenuButton.react"),b[5]=g):g=b[5];b[6]!==e||b[7]!==k?(h=function(a,b){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:e,contextRef:a,disabled:k,onShow:b})},b[6]=e,b[7]=k,b[8]=h):h=b[8];b[9]!==f||b[10]!==h?(j=i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:f,popoverResource:g,children:h}),b[9]=f,b[10]=h,b[11]=j):j=b[11];return j}g["default"]=a}),98);
__d("useMWComposerPersistentMenuItemSelect",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(3),c=a.composerEntrypointForLogging,e=a.onSendMessage;b[0]!==c||b[1]!==e?(a=function(a){var b=a.id;a=a.title;return e(a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0,void 0,void 0,void 0,void 0,void 0,c)},b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}g["default"]=a}),98);
__d("MWV2ComposerPersistentMenuButton.react",["JSResourceForInteraction","MWV2ComposerMenuButtonTrigger.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useMWComposerPersistentMenuItemSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.color,f=a.disabled;a=a.onSendMessage;var g=f===void 0?!1:f;b[0]!==a?(f={composerEntrypointForLogging:"MWV2ComposerPersistentMenuButton",onSendMessage:a},b[0]=a,b[1]=f):f=b[1];a=c("useMWComposerPersistentMenuItemSelect")(f);b[2]!==a?(f={onClose:c("emptyFunction"),onSelect:a},b[2]=a,b[3]=f):f=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2ComposerPersistentMenuButton.react"),b[4]=a):a=b[4];var h;b[5]!==e||b[6]!==g?(h=function(a,b){return i.jsx(c("MWV2ComposerMenuButtonTrigger.react"),{color:e,contextRef:a,disabled:g,onShow:b})},b[5]=e,b[6]=g,b[7]=h):h=b[7];b[8]!==f||b[9]!==h?(a=i.jsx(c("MWXLazyPopoverTrigger.react"),{align:"end",popoverProps:f,popoverResource:a,children:h}),b[8]=f,b[9]=h,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWComposerEndButtonsGroup.react",["MWV2ChatHotlikeButton.react","MWV2ComposerMenuButton.react","MWV2ComposerPersistentMenuButton.react","MWV2ComposerSendButton.react","cr:4892","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j="var(--chat-composer-button-color)";function a(a){var e=d("react-compiler-runtime").c(15),f=a.alwaysShowSend,g=a.customEmoji,h=a.disabled,k=a.editor,l=a.hasPersistentMenu,m=a.hasStuffToSend,n=a.isVoiceRecorderOpen,o=a.onSendMessage,p=a.sendMessage,q=a.shouldHideHotLike,r=a.shouldHideTooltip,s=a.showCommands,t=a.threadKey;a=a.threadType;f=f===void 0?!1:f;r=r===void 0?!1:r;var u;e[0]!==f||e[1]!==g||e[2]!==h||e[3]!==k||e[4]!==l||e[5]!==m||e[6]!==n||e[7]!==o||e[8]!==p||e[9]!==q||e[10]!==r||e[11]!==s||e[12]!==t||e[13]!==a?(u=n?null:m||f?i.jsx(c("MWV2ComposerSendButton.react"),{disabled:h,hasStuffToSend:m,onPress:p,shouldHideTooltip:r}):s?i.jsx(c("MWV2ComposerMenuButton.react"),{color:j,disabled:h,editor:k,hasPersistentMenu:l,onSendMessage:o,threadKey:t}):l?i.jsx(c("MWV2ComposerPersistentMenuButton.react"),{color:j,disabled:h,onSendMessage:o}):q?i.jsx("span",{className:"x135b78x x11lfxj5"}):i.jsxs(i.Fragment,{children:[i.jsx(c("MWV2ChatHotlikeButton.react"),{customEmoji:g,disabled:h,onSendMessage:o,shouldHideTooltip:r,threadType:a}),b("cr:4892")&&i.jsx(b("cr:4892"),{disabled:h,shouldHideTooltip:r})]}),e[0]=f,e[1]=g,e[2]=h,e[3]=k,e[4]=l,e[5]=m,e[6]=n,e[7]=o,e[8]=p,e[9]=q,e[10]=r,e[11]=s,e[12]=t,e[13]=a,e[14]=u):u=e[14];return u}g["default"]=a}),98);
__d("MWXIconHdOutline",["MWXSvgIcon","SVGIcon","cr:22361","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22361")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerHdMediaButton.react",["fbt","MWXComposer.react","MWXIconHd","MWXIconHdOutline","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.isHdEnabled,f=a.onToggle,g=a.visible;a=a.wrapperXStyle;if(!g)return null;g=e?c("MWXIconHd"):c("MWXIconHdOutline");var i;b[0]!==e?(i=e?h._(/*BTDS*/"Disable HD photos"):h._(/*BTDS*/"Enable HD photos"),b[0]=e,b[1]=i):i=b[1];b[2]!==f?(e=function(){f()},b[2]=f,b[3]=e):e=b[3];var k;b[4]!==g||b[5]!==i||b[6]!==e||b[7]!==a?(k=j.jsx(d("MWXComposer.react").Button,{disableTooltip:!0,icon:g,label:i,onPress:e,testid:void 0,wrapperXStyle:a}),b[4]=g,b[5]=i,b[6]=e,b[7]=a,b[8]=k):k=b[8];return k}g["default"]=a}),226);
__d("useMWToggleHDMedia",["LSFactory","LSUpdateE2eeHdMediaSettings","promiseDone","react","react-compiler-runtime","useAsyncReStore","useDebouncedComet","useMWIsHDMediaEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;var i=1e3;function a(a){var b=d("react-compiler-runtime").c(5),e=c("useMWIsHDMediaEnabled")(),g=!e,h=c("useAsyncReStore")();b[0]!==h||b[1]!==g||b[2]!==a?(e=function(){c("promiseDone")(h,function(a){return a.runInTransaction(function(a){return c("LSUpdateE2eeHdMediaSettings")(g,c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":33")}),a(g)},b[0]=h,b[1]=g,b[2]=a,b[3]=e):e=b[3];e=e;var j;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(j={leading:!0,wait:i},b[4]=j):j=b[4];b=c("useDebouncedComet")(e,j);return b}g["default"]=a}),98);
__d("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9580085508750272"}),null);
__d("useMWXComposerMaybeShowHDMediaNuxQuery.graphql",["useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_INTERSTITIAL"}],c=[{kind:"Literal",name:"supported",value:"4BtD9E"}],d={kind:"InlineFragment",selections:[{args:null,documentName:"useMWXComposerMaybeShowHDMediaNuxQuery",fragmentName:"CometQuickPromotionMessengerWebHDImageRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionMessengerWebHDImageRendererStrategy",abstractKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"useMWXComposerMaybeShowHDMediaNuxQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d],storageKey:'renderer_strategy(supported:"4BtD9E")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_INTERSTITIAL")'}],storageKey:null}]},params:{id:b("useMWXComposerMaybeShowHDMediaNuxQuery_facebookRelayOperation"),metadata:{},name:"useMWXComposerMaybeShowHDMediaNuxQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("useMWXComposerMaybeShowHDMediaNux",["CometRelay","JSResourceForInteraction","promiseDone","react","react-compiler-runtime","useMWXComposerMaybeShowHDMediaNuxQuery.graphql","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState,l=c("JSResourceForInteraction")("MAWThreadComposerNUXQuickPromotion.react").__setRef("useMWXComposerMaybeShowHDMediaNux"),m=h!==void 0?h:h=b("useMWXComposerMaybeShowHDMediaNuxQuery.graphql");function a(a,b,e){var f=d("react-compiler-runtime").c(10),g=d("CometRelay").useRelayEnvironment(),h=k(!1),i=h[0],o=h[1];h=k(null);var p=h[0],q=h[1];h=c("useMWXLazyDialog")(l);var r=h[0],s;f[0]!==i||f[1]!==g||f[2]!==b||f[3]!==a?(h=function(){a&&!b&&!i&&(o(!0),c("promiseDone")(d("CometRelay").fetchQuery(g,m,{},{fetchPolicy:"network-only"}).toPromise().then(function(a){var b;q(a==null||(b=a.viewer)==null||(b=b.eligible_promotions)==null||(b=b.nodes)==null||(b=b.find(n))==null||(b=b.comet_qp_sections)==null?void 0:b.renderer_strategy)})))},s=[i,g,b,a],f[0]=i,f[1]=g,f[2]=b,f[3]=a,f[4]=h,f[5]=s):(h=f[4],s=f[5]);j(h,s);f[6]!==e||f[7]!==p||f[8]!==r?(h=function(){if(p!=null){r({onClosed:e,rendererStrategy:p},function(){q(null)});return!0}return!1},f[6]=e,f[7]=p,f[8]=r,f[9]=h):h=f[9];return h}function n(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("useMWXComposerHdMediaButton",["I64","LSIntEnum","MessagingAttachmentType","react","react-compiler-runtime","useMWIsHDMediaEnabled","useMWToggleHDMedia","useMWXComposerMaybeShowHDMediaNux"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(h||d("react")).useCallback;function a(a,b,e){var f=d("react-compiler-runtime").c(11),g;f[0]!==a?(g=a.some(k),f[0]=a,f[1]=g):g=f[1];a=g;g=b&&a;b=c("useMWIsHDMediaEnabled")();var h=c("useMWToggleHDMedia")(e);f[2]!==h?(a=function(a){a||h()},f[2]=h,f[3]=a):a=f[3];e=a;var i=c("useMWXComposerMaybeShowHDMediaNux")(g,b,e);f[4]!==i||f[5]!==h?(a=function(){var a=i();a||h()},f[4]=i,f[5]=h,f[6]=a):a=f[6];e=a;f[7]!==b||f[8]!==g||f[9]!==e?(a={isHdEnabled:b,isVisible:g,onToggled:e},f[7]=b,f[8]=g,f[9]=e,f[10]=a):a=f[10];return a}function k(a){return(i||(i=d("I64"))).equal(a.attachmentType,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}g["default"]=a}),98);
__d("MWComposerInnerButtonsGroup.react",["MWV2ComposerEmojiButton.react","MWXComposerHdMediaButton.react","react","react-compiler-runtime","useMWXComposerHdMediaButton"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={hdMediaButton:{alignItems:"x6s0dn4",display:"x78zum5",height:"x1fgtraw",justifyContent:"xl56j7k",width:"xgd8bvy",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(16),e=a.editor,f=a.isSecureThread,g=a.mediaStaging,h=a.onHdMediaToggled,k=a.renderExtraButtons;a=a.shouldUseMDS;k=k===void 0?null:k;g=c("useMWXComposerHdMediaButton")(g,f,h);f=g.isHdEnabled;h=g.isVisible;g=g.onToggled;var l;b[0]!==a?(l={0:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x18xomjl xjkvuk6 x11lfxj5"},1:{className:"x6s0dn4 xpvyfi4 x78zum5 xl56j7k x162z183"}}[!!a<<0],b[0]=a,b[1]=l):l=b[1];b[2]!==e||b[3]!==k?(a=k!=null&&k(e),b[2]=e,b[3]=k,b[4]=a):a=b[4];b[5]!==f||b[6]!==h||b[7]!==g?(k=i.jsx(c("MWXComposerHdMediaButton.react"),{isHdEnabled:f,onToggle:g,visible:h,wrapperXStyle:j.hdMediaButton}),b[5]=f,b[6]=h,b[7]=g,b[8]=k):k=b[8];b[9]!==e?(f=i.jsx(c("MWV2ComposerEmojiButton.react"),{editor:e}),b[9]=e,b[10]=f):f=b[10];b[11]!==l||b[12]!==a||b[13]!==k||b[14]!==f?(h=i.jsxs("div",babelHelpers["extends"]({},l,{children:[a,k,f]})),b[11]=l,b[12]=a,b[13]=k,b[14]=f,b[15]=h):h=b[15];return h}g["default"]=a}),98);
__d("useMWV2ComposerOnGifSelect",["fbt","FBLogger","I64","LSShape","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function k(a,b,c){return d("LSShape").ofRecord({preview_height:b,preview_url:a,preview_width:c})}function a(a,b){var e=d("react-compiler-runtime").c(3),f;e[0]!==b||e[1]!==a?(f=function(e){var f=e.media,g=e.platformFBID;e=e.source;f=f.preview;f=f.label;var i=e.height,l=e.url;e=e.width;g=(j||(j=d("I64"))).of_string(g);l=l;if(!Boolean(l))throw c("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (composer entrypoint = %s)",b);f=f!=null?f:h._(/*BTDS*/"GIF Image");f=f!=null?f:void 0;return a(void 0,void 0,void 0,void 0,g,l,k(l,j.of_int32(i),j.of_int32(e)),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,b,void 0,f)},e[0]=b,e[1]=a,e[2]=f):f=e[2];return f}g["default"]=a}),226);
__d("MWV2ComposerGifButton.react",["fbt","JSResourceForInteraction","MWChatComposerIcons","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWChatAnimatedImageFlyoutWithPopover.react").__setRef("MWV2ComposerGifButton.react"),l={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},m=h._(/*BTDS*/"Choose a GIF");function a(a){var b=d("react-compiler-runtime").c(10),e=a.disabled,f=a.hidden,g=a.isSecureThread;a=a.onSendMessage;a=c("useMWV2ComposerOnGifSelect")(a,"MWV2ComposerGifButton");var h=c("MessengerWebUXLogger").useInteractionLogger(),i;b[0]!==g||b[1]!==a?(i={isSecureThread:g,onSelect:a,testid:"mw_gif_picker"},b[0]=g,b[1]=a,b[2]=i):i=b[2];b[3]!==e||b[4]!==f||b[5]!==h?(g=function(a,b,g,i,k,l,o){return j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:m,children:j.jsx(c("MWXPressable.react"),{"aria-hidden":f,"aria-label":m,disabled:e,onHoverIn:i,onHoverOut:k,onPress:function(){b(),h==null||h({eventName:"composer_open_gif_picker"})},onPressIn:l,overlayRadius:"50%",ref:a,xstyle:n,children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsGif,{fill:e?void 0:"var(--chat-composer-button-color)",size:20})})})},b[3]=e,b[4]=f,b[5]=h,b[6]=g):g=b[6];b[7]!==i||b[8]!==g?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:i,popoverResource:k,position:"above",children:g}),b[7]=i,b[8]=g,b[9]=a):a=b[9];return a}function n(){return[c("gkx")("23219")?l.buttonMDS:l.buttonFDS]}g["default"]=a}),226);
__d("MWChatComposerOverflowIcons",["cr:3237"],(function(a,b,c,d,e,f,g){"use strict";g.MWChatComposerOverflowIconsPollsSVG=b("cr:3237").PollsSVG,g.MWChatComposerOverflowIconsDollarSignSVG=b("cr:3237").DollarSignSVG,g.MWChatComposerOverflowIconsMicrophoneSVG=b("cr:3237").MicrophoneSVG}),98);
__d("useMWGroupNewPollSubmitErrorLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=async function(b,c){await d("MWGroupPollLoggerDeferred").log("new_poll_submit_error",{poll:{entry_point:b,exception_message:c,poll_type:void 0,question_id:void 0,thread_id:(h||(h=d("I64"))).to_string(a)}})},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useCallbackInt64(c,e)}g.default=a}),98);
__d("useMWGroupNewPollSubmitSuccessLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=async function(b){await d("MWGroupPollLoggerDeferred").log("existing_poll_submit_success",{poll:{entry_point:b,poll_type:void 0,question_id:void 0,thread_id:(h||(h=d("I64"))).to_string(a)}})},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useCallbackInt64(c,e)}g.default=a}),98);
__d("MWChatPollFlyout.react",["BaseTextInput.react","CometScrollableArea.react","I64","LSGroupPollEventType","MWChatPollStrings","MWGroupPollQPL","MWXButton.react","MWXPopover.react","MWXRow.react","MWXRowItem.react","MessengerWebPollConstants","ReQL","ReQLSuspense","clearTimeout","emptyFunction","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","stylex","useLayoutEffect_SAFE_FOR_SSR","useMWGroupNewPollSubmitErrorLogger","useMWGroupNewPollSubmitSuccessLogger","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useEffect,n=b.useRef,o=b.useState,p={button:{paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",zIndex:"x1vjfegm",$$css:!0},buttonOverflow:{boxShadow:"x8t3t8w",$$css:!0},optionText:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",fontSize:"x6prxxf",fontWeight:"x1s688f",width:"xh8yej3",$$css:!0},pollOptions:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,$$css:!0},title:{backgroundColor:"x1jx94hy",borderTopStyle:"x1ejq31n",borderInlineEndStyle:"x18oe1m7",borderBottomStyle:"x1sy0etr",borderInlineStartStyle:"xstzfhl",color:"xzsf02u",display:"x1lliihq",fontSize:"x6prxxf",fontWeight:"xk50ysn",marginBottom:"x1hq5gj4",marginInlineStart:"xyqm7xq",marginInlineEnd:"x1ys307a",marginLeft:null,marginRight:null,marginTop:"xjv05ge",textAlign:"x2b8uid",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(57),e=a.onClose,g=a.onPollCreate,k=a.threadKey,t=a.withArrow;a=a.withPopover;t=t===void 0?!0:t;a=a===void 0?!0:a;var u=o(""),y=u[0],z=u[1];u=o(x);var A=u[0],B=u[1];u=o(!1);var C=u[0],D=u[1];u=o(!1);var E=u[0],F=u[1];u=o(!1);var G=u[0],H=u[1];u=G?c("emptyFunction"):d("MWGroupPollQPL").logCreatePollCancel;var I;b[0]!==u?(I={onImpressionEnd:u},b[0]=u,b[1]=I):I=b[1];u=c("useSinglePartialViewImpression")(I);var J=c("useMWGroupNewPollSubmitSuccessLogger")(k),K=c("useMWGroupNewPollSubmitErrorLogger")(k),L=n(null),M=n(c("emptyFunction")),N=(h||(h=c("useReStore")))(),O;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(I=function(){return function(){M.current(),L.current!==null&&c("clearTimeout")(L.current)}},O=[],b[2]=I,b[3]=O):(I=b[2],O=b[3]);m(I,O);b[4]!==N.tables.polls||b[5]!==K||b[6]!==J||b[7]!==e||b[8]!==k?(I=function(){L.current=c("setTimeout")(function(){d("MWGroupPollQPL").logCreatePollFail(),c("promiseDone")(K(4)),M.current(),M.current=c("emptyFunction"),L.current=null,H(!1)},c("justknobx")._("1647")),M.current=N.tables.polls.subscribe(function(a){a=a[0];a=d("ReQLSuspense").first(d("ReQL").fromTableAscending(N.tables.polls).getKeyRange(a),f.id+":169");a=a!=null&&(j||(j=d("I64"))).equal(a.threadKey,k)&&(j||(j=d("I64"))).to_int32(a.lastUpdateMessageEventType)===c("LSGroupPollEventType").QUESTION_CREATION;a&&(d("MWGroupPollQPL").logCreatePollSuccess(),c("promiseDone")(J(4)),M.current(),L.current!==null&&c("clearTimeout")(L.current),e())})},b[4]=N.tables.polls,b[5]=K,b[6]=J,b[7]=e,b[8]=k,b[9]=I):I=b[9];var P=I,Q=n(null);b[10]===Symbol["for"]("react.memo_cache_sentinel")?(O=function(){if(Q.current!=null){var a=Q.current.getDOMNode();a!=null&&(a.scrollTop=a.scrollHeight)}D(!1)},b[10]=O):O=b[10];var R=O;b[11]!==C?(I=function(){C&&R()},b[11]=C,b[12]=I):I=b[12];b[13]!==C||b[14]!==A?(O=[C,A,R],b[13]=C,b[14]=A,b[15]=O):O=b[15];m(I,O);b[16]!==A?(I=new Set(A.map(w).filter(v)),b[16]=A,b[17]=I):I=b[17];var S=I;b[18]===Symbol["for"]("react.memo_cache_sentinel")?(O=function(){if(Q.current!=null){var a=Q.current.getDOMNode();F(function(){return a!=null&&a.scrollHeight>a.clientHeight})}},I=[Q],b[18]=O,b[19]=I):(O=b[18],I=b[19]);c("useLayoutEffect_SAFE_FOR_SSR")(O,I);b[20]===Symbol["for"]("react.memo_cache_sentinel")?(O={className:"x78zum5 xdt5ytf x1phlbz0 x168biu4"},b[20]=O):O=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(I=function(a){var b=a.target.value;return z(function(){return b})},b[21]=I):I=b[21];b[22]!==y?(I=l.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").pollTitleLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_QUESTION_LENGTH,onChange:I,placeholder:c("MWChatPollStrings").pollTitleLabel,value:y,xstyle:p.title}),b[22]=y,b[23]=I):I=b[23];if(b[24]!==S.size||b[25]!==A){var T;b[27]!==S.size?(T=function(a,b){return l.jsx("div",{className:"x1nb4dca x1q0q8m5 xso031l xod5an3 x1i2zvha",children:l.jsx(c("BaseTextInput.react"),{"aria-label":c("MWChatPollStrings").addPollOptionLabel,maxLength:c("MessengerWebPollConstants").POLL_MAX_OPTION_LENGTH,onBlur:function(){S.size<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS&&B(s)},onChange:function(a){var d=a.target.value;B(function(a){return a.map(function(e,f){var g=b===a.length-1&&d!==""&&a.length<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS;g&&D(!0);if(b===f)return d;else return e}).concat(b===a.length-1&&d!==""&&a.length<c("MessengerWebPollConstants").POLL_COMPOSER_MAX_OPTIONS?[""]:[])})},placeholder:c("MWChatPollStrings").addPollOptionLabel,value:a,xstyle:p.optionText})},String(b))},b[27]=S.size,b[28]=T):T=b[28];T=A.map(T);b[24]=S.size;b[25]=A;b[26]=T}else T=b[26];var U;b[29]!==T?(U=l.jsx(c("CometScrollableArea.react"),{ref:Q,vertical:!0,xstyle:p.pollOptions,children:T}),b[29]=T,b[30]=U):U=b[30];b[31]!==E?(T=(i||(i=c("stylex"))).props(p.button,E?p.buttonOverflow:!1),b[31]=E,b[32]=T):T=b[32];b[33]!==G||b[34]!==S.size||b[35]!==y?(E=S.size<c("MessengerWebPollConstants").POLL_MIN_OPTIONS||y.trim()===""||G,b[33]=G,b[34]=S.size,b[35]=y,b[36]=E):E=b[36];var V;b[37]!==g||b[38]!==A||b[39]!==y||b[40]!==P?(V=function(){d("MWGroupPollQPL").logCreatePollConfirmClick(),H(!0),P(),g(y,A.map(r).filter(q),function(){return H(!1)})},b[37]=g,b[38]=A,b[39]=y,b[40]=P,b[41]=V):V=b[41];var W;b[42]!==G||b[43]!==E||b[44]!==V?(W=l.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,spacing:12,children:l.jsx(c("MWXRowItem.react"),{expanding:!0,children:l.jsx(c("MWXButton.react"),{disabled:E,label:c("MWChatPollStrings").createPollLabel,loading:G,onPress:V,reduceEmphasis:!0,type:"primary"})})}),b[42]=G,b[43]=E,b[44]=V,b[45]=W):W=b[45];b[46]!==T||b[47]!==W?(G=l.jsx("div",babelHelpers["extends"]({},T,{children:W})),b[46]=T,b[47]=W,b[48]=G):G=b[48];b[49]!==I||b[50]!==U||b[51]!==G||b[52]!==u?(E=l.jsxs("div",babelHelpers["extends"]({},O,{ref:u,children:[I,U,G]})),b[49]=I,b[50]=U,b[51]=G,b[52]=u,b[53]=E):E=b[53];V=E;if(a){b[54]!==V||b[55]!==t?(T=l.jsx(c("MWXPopover.react"),{withArrow:t,children:V}),b[54]=V,b[55]=t,b[56]=T):T=b[56];return T}else return V}function q(a){return a!==""}function r(a){return a.trim()}function s(a){return a.map(u).filter(t).concat([""])}function t(a){return a!==""}function u(a){return a.trim()}function v(a){return a!==""}function w(a){return a.toUpperCase()}function x(){return[""]}g["default"]=a}),98);
__d("MWXIconPoll",["MWXSvgIcon","SVGIcon","cr:22440","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22440")),c("gkx")("23219"));g["default"]=a}),98);
__d("MessageSendClickFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1891340");b=d("FalcoLoggerInternal").create("message_send_click",a);e=b;g["default"]=e}),98);
__d("useMWCreatePoll",["I64","LSFactory","LSIssuePollCreationForThreadTaskStoredProcedure","LSPlatformWaitForTaskCompletion","LSVec","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a,e,f,g,h){c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(b,function(b){return c("LSIssuePollCreationForThreadTaskStoredProcedure")(c("LSFactory")(b),{options:c("LSVec").ofArray(f),questionText:e,threadKey:a})},"addPollToThread-"+(i||(i=d("I64"))).to_string(a)),g!=null?g:c("emptyFunction"),h!=null?h:c("emptyFunction"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWGroupStartNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=async function(b){await d("MWGroupPollLoggerDeferred").log("start_new_poll",{poll:{entry_point:b,poll_type:void 0,question_id:void 0,thread_id:(h||(h=d("I64"))).to_string(a)}})},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useCallbackInt64(c,e)}g.default=a}),98);
__d("useMWGroupSubmitNewPollLogger",["I64","Int64Hooks","MWGroupPollLoggerDeferred","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(3),c,e;b[0]!==a?(c=async function(b,c){await d("MWGroupPollLoggerDeferred").log("submit_new_poll",{poll:{entry_point:b,options_added:c.toString(),poll_type:void 0,question_id:void 0,thread_id:(h||(h=d("I64"))).to_string(a)}})},e=[a],b[0]=a,b[1]=c,b[2]=e):(c=b[1],e=b[2]);return d("Int64Hooks").useCallbackInt64(c,e)}g.default=a}),98);
__d("MWV2ComposerPollButton.react",["fbt","I64","JSResourceForInteraction","LsFalcoEventEntryPoint","MWChatComposerOverflowIcons","MWChatPollFlyout.react","MWGroupPollQPL","MWXIconForListCell.react","MWXIconPoll","MWXLazyPopoverTrigger.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessageSendClickFalcoEvent","MessengerWebUXLoggerImpl","emptyFunction","gkx","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("JSResourceForInteraction")("MWChatPollFlyoutForPopover.react").__setRef("MWV2ComposerPollButton.react"),m={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},n=h._(/*BTDS*/"Create a poll");function a(a){var b=d("react-compiler-runtime").c(32),e=a.color,f=a.entryPoint,g=a.hidden,h=a.onClose,i=a.pushPage,m=a.threadKey,q=a.threadType,r=d("MessengerWebUXLoggerImpl").useInteractionLogger(),s=c("useMWGroupStartNewPollLogger")(m),t=c("useMWGroupSubmitNewPollLogger")(m),u=c("useMWGroupNewPollSubmitErrorLogger")(m),v=c("useMWCreatePoll")();b[0]!==v||b[1]!==u||b[2]!==t||b[3]!==m?(a=function(a,b,e){v(m,a,b,c("emptyFunction"),function(a){e&&e(),d("MWGroupPollQPL").logCreatePollFail(),c("promiseDone")(u(4,a))}),c("promiseDone")(t(4,b.length)),c("MessageSendClickFalcoEvent").log(p)},b[0]=v,b[1]=u,b[2]=t,b[3]=m,b[4]=a):a=b[4];var w=a;b[5]!==s||b[6]!==h||b[7]!==w||b[8]!==i||b[9]!==m||b[10]!==q?(a=function(){d("MWGroupPollQPL").logCreatePollStart(q),c("promiseDone")(s(4)),i==null||i(function(){return k.jsx(c("MWChatPollFlyout.react"),{onClose:h,onPollCreate:w,threadKey:m,withPopover:!1})})},b[5]=s,b[6]=h,b[7]=w,b[8]=i,b[9]=m,b[10]=q,b[11]=a):a=b[11];a=a;if(f==="composer"){b[12]!==w||b[13]!==m?(f={onPollCreate:w,threadKey:m},b[12]=w,b[13]=m,b[14]=f):f=b[14];var x;b[15]!==e||b[16]!==g||b[17]!==r||b[18]!==m||b[19]!==q?(x=function(a,b,f,h,i,l,p){return k.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:n,children:k.jsx(c("MWXPressable.react"),{"aria-hidden":g,"aria-label":n,id:"mw-poll-composer-button-"+(j||(j=d("I64"))).to_string(m),onHoverIn:h,onHoverOut:i,onPress:function(){b(),r==null||r({eventName:"composer_open_create_poll_flyout",threadType:q})},onPressIn:l,overlayRadius:"50%",ref:a,xstyle:o,children:k.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsPollsSVG,{fill:e,size:20})})})},b[15]=e,b[16]=g,b[17]=r,b[18]=m,b[19]=q,b[20]=x):x=b[20];var y;b[21]!==f||b[22]!==x?(y=k.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,popoverProps:f,popoverResource:l,position:"above",children:x}),b[21]=f,b[22]=x,b[23]=y):y=b[23];return y}b[24]!==e?(f=d("MWXThreadThemeColor").mwxThreadThemeColor(e),b[24]=e,b[25]=f):f=b[25];b[26]!==f?(x=k.jsx(c("MWXIconForListCell.react"),{color:f,hasBackground:!1,icon:c("MWXIconPoll"),size:c("gkx")("23219")?"large":"medium"}),b[26]=f,b[27]=x):x=b[27];b[28]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx(c("MWXTextPairing.react"),{headline:n,level:4}),b[28]=y):y=b[28];b[29]!==a||b[30]!==x?(f=k.jsx(c("MWXListCellPressable.react"),{addOnStart:x,addOnStartVerticalAlign:"center",content:y,loggingEvent:"composer_open_create_poll_flyout",onPress:a,role:"menuitem"}),b[29]=a,b[30]=x,b[31]=f):f=b[31];return f}function o(){return[c("gkx")("23219")?m.buttonMDS:m.buttonFDS]}function p(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").composer}}}g["default"]=a}),226);
__d("MWChatPromptFlyoutBackCard.react",["BaseImage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=150,k=200,l={media:{backgroundColor:"xwcfey6",backgroundPosition:"x1xsqp64",backgroundSize:"x18d0r48",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",objectFit:"xl1xv1r",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.isVideo;a=a.previewUrl;var f;b[0]!==a?(f={0:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod xg01cxk x10l6tqk xv8dq09 xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z"},1:{className:"xbjudin xnlwouz xpp8er5 xs9wviy x1ey2m1c xumrakr x1b51vyi x1o0tod x10l6tqk xcuylb0 x6o7n8i x1bckuxf xrostsh x1ja2u2z x1hc1fzr xwot3bk"}}[!!(a!==null)<<0],b[0]=a,b[1]=f):f=b[1];var g;b[2]!==e||b[3]!==a?(g=a!==null?e?i.jsx("video",{className:"xwcfey6 x1xsqp64 x18d0r48 xbjudin xnlwouz xpp8er5 xs9wviy xl1xv1r",height:k,muted:!0,src:a,width:j}):i.jsx(c("BaseImage.react"),{height:k,src:a,width:j,xstyle:l.media}):null,b[2]=e,b[3]=a,b[4]=g):g=b[4];b[5]!==f||b[6]!==g?(e=i.jsx("div",babelHelpers["extends"]({},f,{children:g})),b[5]=f,b[6]=g,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWChatPromptFlyoutCTAButton.react",["fbt","BaseFileSelector.react","MWXButton.react","fileInputAcceptValues","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.isSendDisabled,f=a.onFilesSelected,g=a.onPressSend;a=a.showFileSelector;var i;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(i=a?j.jsx(c("BaseFileSelector.react"),{accept:d("fileInputAcceptValues").PHOTO_AND_VIDEO,onFilesSelected:f,children:k}):j.jsx(c("MWXButton.react"),{disabled:e,label:h._(/*BTDS*/"Send"),onPress:g}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=i):i=b[4];return i}function k(a){return j.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Next"),onPress:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWChatPromptFlyoutDisclaimer.react",["fbt","MWXText.react","RollCallPromptType","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.promptType;var e=c("gkx")("7782"),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xyamay9 x1l90r2v x2b8uid"},b[0]=f):f=b[0];b[1]!==a?(e=e?a===c("RollCallPromptType").TEXT?h._(/*BTDS*/"Collect text and link responses"):h._(/*BTDS*/"Collect photos and videos"):h._(/*BTDS*/"Members can respond to prompts with a photo or video. All members can see others' responses."),b[1]=a,b[2]=e):e=b[2];b[3]!==e?(a=j.jsx("div",babelHelpers["extends"]({},f,{children:j.jsx(c("MWXText.react"),{type:"meta4",children:e})})),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWChatPromptFlyoutErrorMessage.react",["fbt","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(2),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1l90r2v x2b8uid"},a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("MWXText.react"),{color:"negative",type:"meta4",children:h._(/*BTDS*/"The file you have selected is too large. The maximum size is 25MB.")})})),a[1]=b):b=a[1];return b}g["default"]=a}),226);
__d("MWXIconPhoto",["MWXSvgIcon","SVGIcon","cr:22435","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22435")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWChatPromptFlyoutPromptTypeSelector.react",["fbt","MWXCircleButton.react","MWXIconMessage","MWXIconPhoto","RollCallPromptType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function k(a){var b=d("react-compiler-runtime").c(6),e=a.icon,f=a.isSelected,g=a.label;a=a.onPress;var h=f?"primary":"disabled";f=f?"overlay-floating":"deemphasized";var i;b[0]!==e||b[1]!==g||b[2]!==a||b[3]!==h||b[4]!==f?(i=j.jsx(c("MWXCircleButton.react"),{color:h,icon:e,label:g,onPress:a,size:36,type:f}),b[0]=e,b[1]=g,b[2]=a,b[3]=h,b[4]=f,b[5]=i):i=b[5];return i}function a(a){var b=d("react-compiler-runtime").c(16),e=a.promptType,f=a.setPromptType;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 x1qughib x1l90r2v x29ncy0"},b[0]=a):a=b[0];var g=e===c("RollCallPromptType").TEXT,i;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Text"),b[1]=i):i=b[1];var l;b[2]!==f?(l=function(){return f(c("RollCallPromptType").TEXT)},b[2]=f,b[3]=l):l=b[3];b[4]!==g||b[5]!==l?(i=j.jsx(k,{icon:c("MWXIconMessage"),isSelected:g,label:i,onPress:l}),b[4]=g,b[5]=l,b[6]=i):i=b[6];g=e===c("RollCallPromptType").MEDIA;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(l=h._(/*BTDS*/"Media"),b[7]=l):l=b[7];b[8]!==f?(e=function(){return f(c("RollCallPromptType").MEDIA)},b[8]=f,b[9]=e):e=b[9];b[10]!==g||b[11]!==e?(l=j.jsx(k,{icon:c("MWXIconPhoto"),isSelected:g,label:l,onPress:e}),b[10]=g,b[11]=e,b[12]=l):l=b[12];b[13]!==i||b[14]!==l?(g=j.jsxs("div",babelHelpers["extends"]({},a,{children:[i,l]})),b[13]=i,b[14]=l,b[15]=g):g=b[15];return g}g["default"]=a}),226);
__d("MWChatPromptFlyout.react",["fbt","FBLogger","FocusRegion.react","I64","LsFalcoEventEntryPoint","MWChatPromptFlyoutBackCard.react","MWChatPromptFlyoutCTAButton.react","MWChatPromptFlyoutDisclaimer.react","MWChatPromptFlyoutErrorMessage.react","MWChatPromptFlyoutFrontCard.react","MWChatPromptFlyoutPromptTypeSelector.react","MWPActor.react","MWPromptCreationUtils","MWXText.react","MessageSendClickFalcoEvent","MessengerWebUXLogger","RollCallPromptType","cometPushToast","gkx","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;b.useCallback;var m=b.useState,n=26214400;function o(){var a=d("react-compiler-runtime").c(2),b=c("MessengerWebUXLogger").useInteractionLogger(),e;a[0]!==b?(e=function(){b==null||b("composer_send_prompt"),c("MessageSendClickFalcoEvent").log(p)},a[0]=b,a[1]=e):e=a[1];return e}function p(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").composer}}}function a(a){var b=d("react-compiler-runtime").c(55),e=a.initialFile,f=a.initialText,g=a.onClose,k=a.threadKey,p=a.threadType,s=(i||(i=c("useReStore")))(),t=d("MWPActor.react").useActor();b[0]!==t||b[1]!==s||b[2]!==k||b[3]!==p?(a=function(a,b,c){(async function(){var e=c?URL.createObjectURL(c):void 0,f=await d("MWPromptCreationUtils").createAuthoritiativeRollCall(s,k,a,b);e=await d("MWPromptCreationUtils").createOptimisticRollCallMessage(s,t,k,p,f,a,b,e,c==null?void 0:c.type);c&&e!=null&&d("MWPromptCreationUtils").startRollCallMediaUpload(c,f,e,(j||(j=d("I64"))).to_string(k))})().catch(r)},b[0]=t,b[1]=s,b[2]=k,b[3]=p,b[4]=a):a=b[4];var u=a;b[5]!==g||b[6]!==u?(a=function(a,b,c){u(a,b,c),g==null||g()},b[5]=g,b[6]=u,b[7]=a):a=b[7];var v=a;a=c("gkx")("7782");var w=m(f!=null?f:""),x=w[0],y=w[1];w=m(f!=null?c("RollCallPromptType").TEXT:c("RollCallPromptType").MEDIA);var z=w[0];w=w[1];var A;b[8]!==e?(A=e!=null?URL.createObjectURL(e):null,b[8]=e,b[9]=A):A=b[9];A=m(A);var B=A[0],C=A[1];A=m(e!=null?e:void 0);var D=A[0],E=A[1];A=m(!1);var F=A[0],G=A[1];b[10]===Symbol.for("react.memo_cache_sentinel")?(A=function(a){a=a[0];if(!a)return;a.size>=n?G(!0):(C(URL.createObjectURL(a)),G(!1),E(a))},b[10]=A):A=b[10];A=A;var H=o(),I;b[11]!==H||b[12]!==v||b[13]!==x||b[14]!==D||b[15]!==B?(I=function(){H(),D&&B!==null?v(x,c("RollCallPromptType").MEDIA,D):c("FBLogger")("messenger_web_messaging").mustfix("Missing File")},b[11]=H,b[12]=v,b[13]=x,b[14]=D,b[15]=B,b[16]=I):I=b[16];I=I;var J;b[17]!==H||b[18]!==v||b[19]!==z||b[20]!==x||b[21]!==D?(J=function(){H(),v(x,z,z===c("RollCallPromptType").MEDIA?D:void 0)},b[17]=H,b[18]=v,b[19]=z,b[20]=x,b[21]=D,b[22]=J):J=b[22];J=J;var K=q,L,M;b[23]===Symbol.for("react.memo_cache_sentinel")?(L={className:"x6s0dn4 x9f619 x78zum5 xdt5ytf x13hwc6b xyamay9 xv54qhq x1l90r2v xf7dkkf x1m258z3"},M={className:"xbaz6xv"},b[23]=L,b[24]=M):(L=b[23],M=b[24]);var N;b[25]===Symbol.for("react.memo_cache_sentinel")?(M=l.jsx("div",babelHelpers.extends({},M,{children:l.jsx(c("MWXText.react"),{type:"headlineEmphasized4",children:h._(/*BTDS*/"New prompt")})})),N={className:"x1n2onr6"},b[25]=N,b[26]=M):(N=b[25],M=b[26]);if(b[27]!==z||b[28]!==(D==null?void 0:D.type)||b[29]!==B){var O,P;O=z===c("RollCallPromptType").MEDIA?l.jsx(c("MWChatPromptFlyoutBackCard.react"),{isVideo:(O=D==null||(P=D.type)==null?void 0:P.startsWith("video/"))!=null?O:!1,previewUrl:B}):null;b[27]=z;b[28]=D==null?void 0:D.type;b[29]=B;b[30]=O}else O=b[30];var Q;b[31]===Symbol.for("react.memo_cache_sentinel")?(Q=function(a){y(a.target.value)},b[31]=Q):Q=b[31];b[32]!==x?(Q=l.jsx(c("MWChatPromptFlyoutFrontCard.react"),{maxLength:50,onChange:Q,value:x}),b[32]=x,b[33]=Q):Q=b[33];b[34]!==O||b[35]!==Q?(N=l.jsxs("div",babelHelpers.extends({},N,{children:[O,Q]})),b[34]=O,b[35]=Q,b[36]=N):N=b[36];b[37]!==z?(O=l.jsx(c("MWChatPromptFlyoutDisclaimer.react"),{promptType:z}),b[37]=z,b[38]=O):O=b[38];b[39]!==F?(Q=F?l.jsx(c("MWChatPromptFlyoutErrorMessage.react"),{}):null,b[39]=F,b[40]=Q):Q=b[40];b[41]!==e||b[42]!==f||b[43]!==z?(F=a&&e===void 0&&f===void 0?l.jsx(c("MWChatPromptFlyoutPromptTypeSelector.react"),{promptType:z,setPromptType:w}):null,b[41]=e,b[42]=f,b[43]=z,b[44]=F):F=b[44];w=x.trim()==="";e=a?J:I;f=z===c("RollCallPromptType").MEDIA&&B===null;b[45]!==w||b[46]!==e||b[47]!==f?(a=l.jsx(c("MWChatPromptFlyoutCTAButton.react"),{isSendDisabled:w,onFilesSelected:A,onPressSend:e,showFileSelector:f}),b[45]=w,b[46]=e,b[47]=f,b[48]=a):a=b[48];b[49]!==N||b[50]!==O||b[51]!==Q||b[52]!==F||b[53]!==a?(J=l.jsx(d("FocusRegion.react").FocusRegion,{autoFocusQuery:K,children:l.jsxs("div",babelHelpers.extends({},L,{children:[M,N,O,Q,F,a]}))}),b[49]=N,b[50]=O,b[51]=Q,b[52]=F,b[53]=a,b[54]=J):J=b[54];return J}function q(a){return a==="textarea"}function r(a){c("FBLogger")("messenger_web").catching(a).mustfix("Creating prompt"),d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"Could not create prompt")})}g.default=a}),226);
__d("MWV2ComposerPromptButtonQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24223493300634699"}),null);
__d("MWV2ComposerPromptButtonQuery.graphql",["MWV2ComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWV2ComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("MWV2ComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWV2ComposerPromptButtonQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWXIconRollCall",["MWXSvgIcon","SVGIcon","cr:22469","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22469")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2ComposerPromptButton.react",["fbt","CometRelay","FBLogger","I64","LSMessagingThreadTypeUtil","MWChatPromptFlyout.react","MWDidQueryPromptsNux","MWV2ComposerPromptButtonQuery.graphql","MWXIconForListCell.react","MWXIconRollCall","MWXIconStrict.react","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","gkx","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||d("react"),m=c("requireDeferred")("MWChatPromptDialog.react").__setRef("MWV2ComposerPromptButton.react"),n={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function o(){var a=d("react-compiler-runtime").c(2),c=d("CometRelay").useRelayEnvironment(),e;a[0]!==c?(e=function(){return d("CometRelay").fetchQuery(c,i!==void 0?i:i=b("MWV2ComposerPromptButtonQuery.graphql"),{}).toPromise()},a[0]=c,a[1]=e):e=a[1];return e}var p=h._(/*BTDS*/"Create prompt");function a(a){var b=d("react-compiler-runtime").c(23),e=a.color,f=a.entryPoint,g=a.hidden,h=a.onClose,i=a.pushPage,j=a.threadKey,n=a.threadType,s=o();a=c("useMWXLazyDialog")(m);var t=a[0];b[0]!==h||b[1]!==i||b[2]!==s||b[3]!==t||b[4]!==j||b[5]!==n?(a=function(){var a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(n);a?(c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(k||(k=d("I64"))).to_string(j)}}),h(),t({threadKey:j})):(i(function(){return l.jsx(c("MWChatPromptFlyout.react"),{onClose:h,threadKey:j,threadType:n})}),d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),c("promiseDone")(s(),r)))},b[0]=h,b[1]=i,b[2]=s,b[3]=t,b[4]=j,b[5]=n,b[6]=a):a=b[6];a=a;if(f==="composer"){b[7]!==e?(f=e!==void 0?d("MWXThreadThemeColor").mwxThreadThemeColor(e):void 0,b[7]=e,b[8]=f):f=b[8];var u;b[9]!==f?(u=l.jsx(c("MWXIconStrict.react"),{color:f,icon:c("MWXIconRollCall"),size:20}),b[9]=f,b[10]=u):u=b[10];b[11]!==g||b[12]!==a||b[13]!==u?(f=l.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:p,children:l.jsx(c("MWXPressable.react"),{"aria-hidden":g,"aria-label":p,onPress:a,overlayRadius:"50%",xstyle:q,children:u})}),b[11]=g,b[12]=a,b[13]=u,b[14]=f):f=b[14];return f}b[15]!==e?(g=d("MWXThreadThemeColor").mwxThreadThemeColor(e),b[15]=e,b[16]=g):g=b[16];b[17]!==g?(u=l.jsx(c("MWXIconForListCell.react"),{color:g,hasBackground:!1,icon:c("MWXIconRollCall"),size:c("gkx")("23219")?"large":"medium"}),b[17]=g,b[18]=u):u=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx(c("MWXTextPairing.react"),{headline:p,level:4}),b[19]=f):f=b[19];b[20]!==a||b[21]!==u?(e=l.jsx(c("MWXListCellPressable.react"),{addOnStart:u,addOnStartVerticalAlign:"center",content:f,loggingEvent:"composer_open_create_prompt_flyout",onPress:a,role:"menuitem"}),b[20]=a,b[21]=u,b[22]=e):e=b[22];return e}function q(){return[c("gkx")("23219")?n.buttonMDS:n.buttonFDS]}function r(a){var b;a=a==null||(b=a.viewer)==null||(b=b.eligible_promotions)==null||(b=b.nodes)==null||(b=b.find(s))==null||(b=b.comet_qp_sections)==null?void 0:b.renderer_strategy;a&&c("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function s(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),226);
__d("MWCometStickersFlyout.entrypoint",["CometStickerPickerCard.entrypoint","JSResourceForInteraction","NestedRelayEntryPointBuilderUtils"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(null==a)throw new TypeError("Cannot destructure "+a)}a=c("JSResourceForInteraction")("MWCometStickersFlyout.react").__setRef("MWCometStickersFlyout.entrypoint");b={getPreloadProps:function(a){a=babelHelpers["extends"]({},(h(a),a));return{entryPoints:{stickerPickerCardEntrypointReference:d("NestedRelayEntryPointBuilderUtils").NestedRelayEntryPoint({entryPoint:c("CometStickerPickerCard.entrypoint"),entryPointParams:a})}}},root:a};g["default"]=b}),98);
__d("MWV2ComposerStickerCommon",["fbt","qex"],(function(a,b,c,d,e,f,g,h){"use strict";b=h._(/*BTDS*/"Choose a sticker");var i=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK"],j=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","RECENTLY_USED","SEARCH"],k=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","RECENTLY_USED","GENERATED_STICKERS","SEARCH"],l=["LAST_SELECTED_TAB","CUSTOM_PACK","AVATAR_PACK","STICKER_PACK","GENERATED_STICKERS","SEARCH"];function a(a){if(!a&&c("qex")._("4762"))return k;if(a&&c("qex")._("4762"))return l;return a?[].concat(i,["SEARCH"]):j}g.LABEL=b;g.getTabListOverrideForMessengerSticker=a}),226);
__d("useMWV2ComposerOnStickerSelect",["FBLogger","I64","LSShape","nullthrows","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;var j=(i||(i=d("I64"))).of_string("128");function k(a){return d("LSShape").ofRecord({preview_height:j,preview_url:a,preview_width:j})}function a(a,b,e){var f=d("react-compiler-runtime").c(4),g;f[0]!==e||f[1]!==b||f[2]!==a?(g=function(f,g,h){var j;j=(j=g.animated_uri)!=null?j:g.uri;g=(i||(i=d("I64"))).of_string(f);if(!Boolean(j))throw c("FBLogger")("messenger_web_media").mustfixThrow("Sticker URI is null when trying to send sticker message. (isSecure = %s, composer entrypoint = %s)",b.toString(),e);return a(void 0,void 0,g,void 0,void 0,b?c("nullthrows")(j):void 0,b?void 0:k(j),void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,e,void 0,h!=null?h:void 0)},f[0]=e,f[1]=b,f[2]=a,f[3]=g):g=f[3];return g}g["default"]=a}),98);
__d("MWV2ComposerStickerButtonModern.react",["FDSEntryPointPopoverTrigger.react","JSResourceForInteraction","MWChatComposerIcons","MWCometStickersFlyout.entrypoint","MWV2ComposerStickerCommon","MWXPopoverLoadingState.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","gkx","promiseDone","react","react-compiler-runtime","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWV2ComposerStickerButtonModern.react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0},flyoutRoot:{height:"x1hie0zf",maxHeight:"x1n3te05",width:"x1fepime",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.color,f=a.disabled,g=a.hidden,h=a.isSecureThread;a=a.onSendMessage;var j=c("useMWV2ComposerOnStickerSelect")(a,h,"MWV2ComposerStickerButtonModern"),n=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==j?(a=function(a,b,c){a=a.stickerID;j(a,b,c)},b[0]=j,b[1]=a):a=b[1];a=a;var o,p;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(o={feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},p=i.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0}),b[2]=o,b[3]=p):(o=b[2],p=b[3]);var q;b[4]!==h?(q=d("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(h),b[4]=h,b[5]=q):q=b[5];var r;b[6]!==a||b[7]!==h||b[8]!==q?(r={isSecureThread:h,onSelect:a,prioritisedTabList:q,stickerHeight:128,stickerWidth:128,xstyle:k.flyoutRoot},b[6]=a,b[7]=h,b[8]=q,b[9]=r):r=b[9];b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==n?(a=function(a,b,h,j,k,m,o){return i.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:d("MWV2ComposerStickerCommon").LABEL,children:i.jsx(c("MWXPressable.react"),{"aria-hidden":g,"aria-label":d("MWV2ComposerStickerCommon").LABEL,disabled:f,onHoverIn:j,onHoverOut:k,onPress:function(){b(),n==null||n({eventName:"composer_open_sticker_picker"})},onPressIn:m,overlayRadius:"50%",ref:a,testid:void 0,xstyle:l,children:i.jsx(d("MWChatComposerIcons").MWChatComposerIconsSticker,{fill:f?void 0:e,size:20})})})},b[10]=e,b[11]=f,b[12]=g,b[13]=n,b[14]=a):a=b[14];b[15]!==r||b[16]!==a?(h=i.jsx(c("FDSEntryPointPopoverTrigger.react"),{align:"middle",disableAutoFlip:!0,entryPointParams:o,fallback:p,onVisibilityChange:m,otherProps:r,popoverEntryPoint:c("MWCometStickersFlyout.entrypoint"),position:"above",children:a}),b[15]=r,b[16]=a,b[17]=h):h=b[17];return h}function l(){return[c("gkx")("23219")?k.buttonMDS:k.buttonFDS]}function m(a){a===!0&&c("promiseDone")(j.load().then(n))}function n(a){a()}g["default"]=a}),98);
__d("MWV2ComposerStickerButton.react",["MWV2ComposerStickerButtonModern.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("MWV2ComposerStickerButtonModern.react")}),98);
__d("MWXIconMicrophone",["MWXSvgIcon","SVGIcon","cr:22400","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22400")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2ComposerVoiceClipButton.react",["fbt","MWChatComposerOverflowIcons","MWXIconForListCell.react","MWXIconMicrophone","MWXListCellPressable.react","MWXPressable.react","MWXTextPairing.react","MWXThreadThemeColor","MWXTooltip.react","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={buttonFDS:{paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},buttonMDS:{paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}},l=h._(/*BTDS*/"Send a voice clip");function a(a){var b=d("react-compiler-runtime").c(17),e=a.color,f=a.disabled,g=a.entryPoint,h=a.hidden,i=a.onPress;a=f===void 0?!1:f;if(g==="composer"){b[0]!==e?(f=j.jsx(d("MWChatComposerOverflowIcons").MWChatComposerOverflowIconsMicrophoneSVG,{fill:e,size:20}),b[0]=e,b[1]=f):f=b[1];b[2]!==a||b[3]!==h||b[4]!==i||b[5]!==f?(g=j.jsx(c("MWXTooltip.react"),{align:"middle",forceInlineDisplay:!0,position:"above",tooltip:l,children:j.jsx(c("MWXPressable.react"),{"aria-hidden":h,"aria-label":l,disabled:a,onPress:i,overlayRadius:"50%",xstyle:m,children:f})}),b[2]=a,b[3]=h,b[4]=i,b[5]=f,b[6]=g):g=b[6];return g}b[7]!==e?(a=d("MWXThreadThemeColor").mwxThreadThemeColor(e),b[7]=e,b[8]=a):a=b[8];b[9]!==a?(h=j.jsx(c("MWXIconForListCell.react"),{color:a,hasBackground:!1,icon:c("MWXIconMicrophone"),size:c("gkx")("23219")?"large":"medium"}),b[9]=a,b[10]=h):h=b[10];b[11]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWXTextPairing.react"),{headline:l,level:4}),b[11]=f):f=b[11];b[12]!==i?(g=function(){i()},b[12]=i,b[13]=g):g=b[13];b[14]!==h||b[15]!==g?(e=j.jsx(c("MWXListCellPressable.react"),{addOnStart:h,addOnStartVerticalAlign:"center",content:f,loggingEvent:"composer_record_voice_clip",onPress:g,role:"menuitem"}),b[14]=h,b[15]=g,b[16]=e):e=b[16];return e}function m(){return[c("gkx")("23219")?k.buttonMDS:k.buttonFDS]}g["default"]=a}),226);
__d("WAGetMediaDevicesSupportedConstraints",["WALogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){try{var a;a=(a=navigator.mediaDevices)==null?void 0:a.getSupportedConstraints();return a}catch(a){d("WALogger").LOG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["getSupportedConstraints is not supported in this browser. Error: ",""])),a);return null}}g.getMediaDevicesSupportedConstraints=a}),98);
__d("useMWV2ComposerOnPressVoiceClip",["$InternalEnum","JSResourceForInteraction","WAGetMediaDevicesSupportedConstraints","emptyFunction","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useState,j=c("requireDeferred")("MWChatAudioLog").__setRef("useMWV2ComposerOnPressVoiceClip"),k=b("$InternalEnum").Mirrored(["AWAITING","GRANTED","DENIED","FAILED"]);function a(a){var b=d("react-compiler-runtime").c(15),e=i(k.AWAITING),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("JSResourceForInteraction")("MWChatAudioRecorderPermissionsDialog.react").__setRef("useMWV2ComposerOnPressVoiceClip"),b[0]=e):e=b[0];e=c("useMWXLazyDialog")(e);var h=e[0],n;if(b[1]===Symbol["for"]("react.memo_cache_sentinel")){n={channelCount:1};e=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;e&&(n.sampleRate=44100);b[1]=n}else n=b[1];b[2]!==h?(e=function(){return h({contentType:"accessDenied",onAllow:c("emptyFunction")},c("emptyFunction"))},b[2]=h,b[3]=e):e=b[3];var o=e;b[4]!==o||b[5]!==a?(e=function(){var b;(b=navigator)==null||(b=b.mediaDevices)==null||b.getUserMedia({audio:n,video:!1}).then(function(b){g(k.GRANTED),a.start(b)})["catch"](function(a){a.name==="NotAllowedError"?(g(k.DENIED),o()):g(k.FAILED),j.onReady(m)})},b[4]=o,b[5]=a,b[6]=e):e=b[6];var p=e;b[7]!==h||b[8]!==p?(e=function(){return h({contentType:"askForAccess",onAllow:function(){return p()}},c("emptyFunction"))},b[7]=h,b[8]=p,b[9]=e):e=b[9];var q=e;b[10]!==f||b[11]!==o||b[12]!==q||b[13]!==p?(e=function(){switch(f){case k.AWAITING:var a;a=(a=navigator.permissions)==null?void 0:a.query({name:"microphone"});a!=null?a.then(function(a){a=a.state;bb61:switch(a){case"denied":g(k.DENIED);o();break bb61;case"granted":p();break bb61;case"prompt":q();break bb61;default:q()}})["catch"](function(){q()}):(p(),j.onReady(l));return;case k.DENIED:return o();case k.GRANTED:case k.FAILED:return p()}},b[10]=f,b[11]=o,b[12]=q,b[13]=p,b[14]=e):e=b[14];return e}function l(a){return a.logMicAccessCheckFailed()}function m(a){return a.logBrowserDenyAccess()}g["default"]=a}),98);
__d("MWComposerStartButtonsGroup.react",["CometPlaceholder.react","LSMessagingThreadTypeUtil","MWV2ComposerFileButton.react","MWV2ComposerGifButton.react","MWV2ComposerPollButton.react","MWV2ComposerPromptButton.react","MWV2ComposerStickerButton.react","MWV2ComposerVoiceClipButton.react","MWXTooltipGroup.react","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWEntrypoint","useMWFalcoFeatureEventLogger","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={button:{alignItems:"x6s0dn4",bottom:"x1ey2m1c",display:"x78zum5",justifyContent:"xl56j7k",position:"x10l6tqk",zIndex:"x1vjfegm",$$css:!0},buttonFDS:{marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},buttonHidden:{transform:"x1f85oc2",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},buttonMDS:{marginBottom:"xat24cr",$$css:!0},buttonShown:{transform:"x3oybdh",transitionDuration:"x1g2r6go",transitionProperty:"x11xpdln",$$css:!0},firstButtonHidden:{transitionDelay:"x1th4bbo",$$css:!0},firstButtonShown:{transitionDelay:"x1th4bbo",$$css:!0},secondButtonHidden:{transitionDelay:"x5zdck6",$$css:!0},secondButtonShown:{transitionDelay:"x5h36tt",$$css:!0},thirdButtonHidden:{transitionDelay:"x1ahifba",$$css:!0},thirdButtonShown:{transitionDelay:"x5w5eug",$$css:!0}},l="var(--chat-composer-button-color)";function a(a){var b=d("react-compiler-runtime").c(77),e=a.canSendAudioClipFinal,f=a.canSendFileFinal,g=a.canSendGifFinal,i=a.canSendRollcall,m=a.canSendSticker,n=a.composerLinkPreview,o=a.getMaxAttachmentSizeInMBFunc,p=a.gifButtonPosition,q=a.isInputExpanded,r=a.isRTL,s=a.isSecureThread,t=a.localTimezoneInformation,u=a.onAttachmentsAdded,v=a.onSendMessage,w=a.shouldUseMDS,x=a.stickerButtonPosition,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType;a=a.voiceRecorder;var B=c("useMWEntrypoint")(),C=c("useMWFalcoFeatureEventLogger")(z,A),D;b[0]!==B||b[1]!==C?(D=function(a,b){var c="select_sticker_book";a?c="sticker_search":b&&(c="recent_stickers");C(B,c)},b[0]=B,b[1]=C,b[2]=D):D=b[2];D=D;a=c("useMWV2ComposerOnPressVoiceClip")(a);var E;b[3]!==A?(E=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A),b[3]=A,b[4]=E):E=b[4];E=E;var F;b[5]!==r?(F=r?{right:"0px"}:{left:"0px"},b[5]=r,b[6]=F):F=b[6];F=F;var G;b[7]!==r||b[8]!==x?(G=r?{right:x.toString()+"px"}:{left:x.toString()+"px"},b[7]=r,b[8]=x,b[9]=G):G=b[9];x=G;b[10]!==p||b[11]!==r?(G=r?{right:p.toString()+"px"}:{left:p.toString()+"px"},b[10]=p,b[11]=r,b[12]=G):G=b[12];p=G;r=E&&i&&c("gkx")("18099");G=w?k.buttonMDS:k.buttonFDS;i=q?k.buttonHidden:k.buttonShown;var H=q?k.firstButtonHidden:k.firstButtonShown,I;b[13]!==G||b[14]!==i||b[15]!==H?(I=(h||(h=c("stylex")))(k.button,G,i,H),b[13]=G,b[14]=i,b[15]=H,b[16]=I):I=b[16];G=!f;b[17]!==o||b[18]!==q||b[19]!==s||b[20]!==u||b[21]!==y||b[22]!==G||b[23]!==z?(i=j.jsx(c("MWV2ComposerFileButton.react"),{disabled:G,getMaxAttachmentSizeInMBFunc:o,hidden:q,isSecureThread:s,onAttachmentsAdded:u,supportedFileTypes:y,threadKey:z}),b[17]=o,b[18]=q,b[19]=s,b[20]=u,b[21]=y,b[22]=G,b[23]=z,b[24]=i):i=b[24];b[25]!==F||b[26]!==i||b[27]!==I?(H=j.jsx("div",{className:I,style:F,children:i}),b[25]=F,b[26]=i,b[27]=I,b[28]=H):H=b[28];f=w?k.buttonMDS:k.buttonFDS;o=q?k.buttonHidden:k.buttonShown;u=q?k.secondButtonHidden:k.secondButtonShown;b[29]!==f||b[30]!==o||b[31]!==u?(y=(h||(h=c("stylex")))(k.button,f,o,u),b[29]=f,b[30]=o,b[31]=u,b[32]=y):y=b[32];b[33]!==m||b[34]!==E||b[35]!==q||b[36]!==s||b[37]!==D||b[38]!==v||b[39]!==z||b[40]!==A?(G=E?j.jsx(c("MWV2ComposerPollButton.react"),{color:l,entryPoint:"composer",hidden:q,onClose:c("emptyFunction"),threadKey:z,threadType:A}):j.jsx(c("MWV2ComposerStickerButton.react"),{color:l,disabled:!m,hidden:q,isSecureThread:s,onSelectStickerPack:D,onSendMessage:v}),b[33]=m,b[34]=E,b[35]=q,b[36]=s,b[37]=D,b[38]=v,b[39]=z,b[40]=A,b[41]=G):G=b[41];b[42]!==x||b[43]!==y||b[44]!==G?(F=j.jsx("div",{className:y,style:x,children:G}),b[42]=x,b[43]=y,b[44]=G,b[45]=F):F=b[45];i=w?k.buttonMDS:k.buttonFDS;I=q?k.buttonHidden:k.buttonShown;f=q?k.thirdButtonHidden:k.thirdButtonShown;b[46]!==i||b[47]!==I||b[48]!==f?(o=(h||(h=c("stylex")))(k.button,i,I,f),b[46]=i,b[47]=I,b[48]=f,b[49]=o):o=b[49];b[50]!==r||b[51]!==e||b[52]!==g||b[53]!==E||b[54]!==q||b[55]!==s||b[56]!==a||b[57]!==v||b[58]!==z||b[59]!==A?(u=E?r?j.jsx(c("MWV2ComposerPromptButton.react"),{color:l,entryPoint:"composer",hidden:q,onClose:c("emptyFunction"),pushPage:c("emptyFunction"),threadKey:z,threadType:A}):j.jsx(c("MWV2ComposerVoiceClipButton.react"),{color:l,disabled:!e,entryPoint:"composer",hidden:q,onPress:a}):j.jsx(c("MWV2ComposerGifButton.react"),{disabled:!g,hidden:q,isSecureThread:s,onSendMessage:v}),b[50]=r,b[51]=e,b[52]=g,b[53]=E,b[54]=q,b[55]=s,b[56]=a,b[57]=v,b[58]=z,b[59]=A,b[60]=u):u=b[60];b[61]!==o||b[62]!==u||b[63]!==p?(m=j.jsx("div",{className:o,style:p,children:u}),b[61]=o,b[62]=u,b[63]=p,b[64]=m):m=b[64];b[65]!==H||b[66]!==F||b[67]!==m?(D=j.jsxs(c("MWXTooltipGroup.react"),{children:[H,F,m]}),b[65]=H,b[66]=F,b[67]=m,b[68]=D):D=b[68];b[69]!==t?(x=t!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.LocalTimezoneInformation",children:t}):null,b[69]=t,b[70]=x):x=b[70];b[71]!==n?(y=n!=null?j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWComposerStartButtonsGroup.ComposerLinkPreview",children:n}):null,b[71]=n,b[72]=y):y=b[72];b[73]!==D||b[74]!==x||b[75]!==y?(G=j.jsxs(j.Fragment,{children:[D,x,y]}),b[73]=D,b[74]=x,b[75]=y,b[76]=G):G=b[76];return G}g["default"]=a}),98);
__d("MWV2ComposerPlusButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWChatComposerIcons","MWPActor.react","MWXLazyPopoverTrigger.react","MWXPressable.react","MWXTooltip.react","MessengerWebUXLogger","emptyFunction","gkx","qex","react","react-compiler-runtime","requireDeferred","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState,l=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2ComposerPlusButton.react"),m={plusButtonFDS:{marginTop:"x1gslohp",marginBottom:"x12nagc",marginInlineStart:"xdwrcjd",marginInlineEnd:"x2fvf9",marginLeft:null,marginRight:null,paddingTop:"x1iorvi4",paddingInlineEnd:"x11lfxj5",paddingBottom:"xjkvuk6",paddingInlineStart:"x135b78x",$$css:!0},plusButtonMDS:{marginInlineStart:"x13fj5qh",paddingTop:"x1y1aw1k",paddingInlineEnd:"xf159sx",paddingBottom:"xwib8y2",paddingInlineStart:"xmzvs34",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(40),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,i=a.editor,m=a.hasAudioClipsCapability,p=a.hasGIFCapability,q=a.hasPaymentCapability,r=a.hasPollCreationCapability,s=a.hasRollcallCapability,t=a.hasStickerCapability,u=a.isInputExpanded,v=a.onAttachmentsAdded,w=a.onSendMessage,x=a.renderExtraOverflowMenuItems,y=a.supportedFileTypes,z=a.threadKey,A=a.threadType,B=a.voiceRecorder;c("emptyFunction");a=k(!1);var C=a[0],D=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){return D(a)},b[0]=a):a=b[0];a=a;var E;b[1]!==A?(E=d("LSMessagingThreadTypeUtil").isJoinedDiscoverablePublicBroadcastChannel(A),b[1]=A,b[2]=E):E=b[2];E=E;q=q&&!c("gkx")("24133")&&g;b[3]!==r||b[4]!==E||b[5]!==u?(g=r&&(!E||c("gkx")("23422")||d("MWPActor.react").isPromode())&&(!E||u),b[3]=r,b[4]=E,b[5]=u,b[6]=g):g=b[6];r=g;g=s&&(!E||u);s=m&&e&&(!E||u);m=p&&(u||E);e=f&&u;p=E||t&&u;f=c("gkx")("23423");E=c("qex")._("4300")===!0;t=c("gkx")("14080")&&E;u=c("gkx")("23159");E=c("gkx")("6257");if(x!=null){var F;b[7]!==v||b[8]!==x?(F=x("var(--chat-composer-button-color)",c("emptyFunction"),v),b[7]=v,b[8]=x,b[9]=F):F=b[9];x=F}else{b[10]===Symbol["for"]("react.memo_cache_sentinel")?(F=[],b[10]=F):F=b[10];x=F}F=x;x=c("useMWV2ComposerOnPressVoiceClip")(B);var G=B.state.stage!=="Unopen",H;b[11]!==C||b[12]!==G?(H=G?h._(/*BTDS*/"Close"):C?h._(/*BTDS*/"Close more actions"):h._(/*BTDS*/"Open more actions"),b[11]=C,b[12]=G,b[13]=H):H=b[13];var I=H,J=c("MessengerWebUXLogger").useInteractionLogger();C=q||r||s||m||e||p||f||u||g||t||E||F.length>0;var K=!C;b[14]!==i||b[15]!==F||b[16]!==v||b[17]!==x||b[18]!==w||b[19]!==r||b[20]!==g||b[21]!==e||b[22]!==m||b[23]!==q||b[24]!==s||b[25]!==p||b[26]!==y||b[27]!==z?(H={color:"var(--chat-composer-button-color)",editor:i,extraItems:F,onAttachmentsAdded:v,onClose:c("emptyFunction"),onPressVoiceClip:x,onSendMessage:w,showChatLens:E,showCreatePoll:r,showCreatePrompt:g,showFile:e,showGenAICreate:f,showGenAICreateVideo:u,showGif:m,showMetamateWritingTool:t,showPayment:q,showSendVoiceClip:s,showSticker:p,supportedFileTypes:y,threadKey:z},b[14]=i,b[15]=F,b[16]=v,b[17]=x,b[18]=w,b[19]=r,b[20]=g,b[21]=e,b[22]=m,b[23]=q,b[24]=s,b[25]=p,b[26]=y,b[27]=z,b[28]=H):H=b[28];b[29]===Symbol["for"]("react.memo_cache_sentinel")?(C=c("JSResourceForInteraction")("MWV2ComposerOverflowMenu.react").__setRef("MWV2ComposerPlusButton.react"),b[29]=C):C=b[29];b[30]!==K||b[31]!==G||b[32]!==I||b[33]!==J||b[34]!==A||b[35]!==B?(E=function(a,b,e,f,g,h){return j.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:I,children:j.jsx(c("MWXPressable.react"),{"aria-label":I,disabled:K,onHoverIn:f,onHoverOut:g,onPress:function(){if(G){B.reset();l.onReady(o);J==null||J({eventName:"composer_close_audio_recorder"});return}else J==null||J({eventName:"composer_open_overflow_menu",threadType:A}),b()},onPressIn:h,overlayDisabled:K,overlayRadius:"50%",ref:a,testid:void 0,xstyle:n,children:j.jsx(d("MWChatComposerIcons").MWChatComposerIconsMoreActions,{fill:K?void 0:"var(--chat-composer-button-color)",isRotated:G,size:20})})})},b[30]=K,b[31]=G,b[32]=I,b[33]=J,b[34]=A,b[35]=B,b[36]=E):E=b[36];b[37]!==H||b[38]!==E?(f=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"start",onVisibilityChange:a,popoverProps:H,popoverResource:C,position:"above",preloadTrigger:"button",children:E}),b[37]=H,b[38]=E,b[39]=f):f=b[39];return f}function n(){return[c("gkx")("23219")?m.plusButtonMDS:m.plusButtonFDS]}function o(a){return a.logDeleteRecording()}g["default"]=a}),226);
__d("useMWHasPollsCreationEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=(a=d("MWLSThread").useThread(a,h))!=null?a:!1;return a}function h(a){return d("LSThreadBitOffset").has(36,a)}g["default"]=a}),98);
__d("MWReQLComposerPlusButton.react",["LSThreadBitOffset","MWV2ComposerPlusButton.react","react","react-compiler-runtime","useMWHasPollsCreationEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(32),e=a.canSendAudioClip,f=a.canSendFile,g=a.canSendPayment,h=a.editor,j=a.isInputExpanded,k=a.onAttachmentsAdded,l=a.onSendMessage,m=a.renderExtraOverflowMenuItems,n=a.supportedFileTypes,o=a.thread;a=a.voiceRecorder;var p=c("useMWHasPollsCreationEnabled")(o.threadKey),q;b[0]!==o?(q=d("LSThreadBitOffset").has(14,o),b[0]=o,b[1]=q):q=b[1];var r;b[2]!==o?(r=d("LSThreadBitOffset").has(4,o),b[2]=o,b[3]=r):r=b[3];var s;b[4]!==o?(s=d("LSThreadBitOffset").has(0,o),b[4]=o,b[5]=s):s=b[5];var t;b[6]!==o?(t=d("LSThreadBitOffset").has(152,o),b[6]=o,b[7]=t):t=b[7];var u;b[8]!==o?(u=d("LSThreadBitOffset").has(3,o),b[8]=o,b[9]=u):u=b[9];var v;b[10]!==p||b[11]!==q||b[12]!==r||b[13]!==s||b[14]!==t||b[15]!==u?(v={hasAudioClipsCapability:q,hasGIFCapability:r,hasPaymentCapability:s,hasPollCreationCapability:p,hasRollcallCapability:t,hasStickerCapability:u},b[10]=p,b[11]=q,b[12]=r,b[13]=s,b[14]=t,b[15]=u,b[16]=v):v=b[16];q=v;b[17]!==e||b[18]!==f||b[19]!==g||b[20]!==q||b[21]!==h||b[22]!==p||b[23]!==j||b[24]!==k||b[25]!==l||b[26]!==m||b[27]!==n||b[28]!==o.threadKey||b[29]!==o.threadType||b[30]!==a?(r=i.jsx(c("MWV2ComposerPlusButton.react"),babelHelpers["extends"]({canSendAudioClip:e,canSendFile:f,canSendPayment:g,editor:h,hasPollCreationCapability:p,isInputExpanded:j,onAttachmentsAdded:k,onSendMessage:l,renderExtraOverflowMenuItems:m,supportedFileTypes:n,threadKey:o.threadKey,threadType:o.threadType,voiceRecorder:a},q)),b[17]=e,b[18]=f,b[19]=g,b[20]=q,b[21]=h,b[22]=p,b[23]=j,b[24]=k,b[25]=l,b[26]=m,b[27]=n,b[28]=o.threadKey,b[29]=o.threadType,b[30]=a,b[31]=r):r=b[31];return r}g["default"]=a}),98);
__d("MWXComposerButtonGroupMenu.react",["MWXComposerButtonGroupContext.react","MWXMenu.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h=["children"],i,j=i||(i=d("react"));i.useMemo;function a(a){var b=d("react-compiler-runtime").c(7),e,f;b[0]!==a?(e=a.children,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={isMenu:!0},b[3]=a):a=b[3];a=a;b[4]!==e||b[5]!==f?(a=j.jsx(c("MWXComposerButtonGroupContext.react").Provider,{value:a,children:j.jsx(c("MWXMenu.react"),babelHelpers["extends"]({},f,{withArrow:!0,children:e}))}),b[4]=e,b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWXComposerButtonGroup.react",["fbt","BasePopoverTrigger.react","DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE","MWXComposerButtonContext.react","MWXComposerButtonGroupButton.react","MWXComposerButtonGroupContext.react","MWXComposerButtonGroupMenu.react","MWXComposerIconButton.react","MWXIconPlusCircle","react","react-compiler-runtime","useStyleXTransition"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useMemo,l=b.useRef,m=2.3,n=250;function o(a,b){a=Math.max(Math.abs(a-b)+2*(m-1),1);return Math.floor(n/a)}function p(a,b,c,d){a=a?b-d-1:d-b;d=o(b,c)*(a+(a>0?m-1:0))+"ms";var e="linear",f=o(b,c);a===0?(e="ease-in",f*=m):a===Math.abs(b-c)-1&&(e="ease-out",f*=m);return{transitionDelay:d,transitionDuration:f+"ms",transitionProperty:"width, transform, margin",transitionTimingFunction:e}}var q={base:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",overflowX:"x1plvlek",overflowY:"xryxfnj",transform:"x1oh8ob4",transformOrigin:"x1g0ag68",transitionTimingFunction:"xcj1dhv",width:"xnalus7",$$css:!0},enter:{marginInlineEnd:"x11lt19s",marginInlineStart:"xe9ewy2",transform:"x2xth8r",width:"x14qfxbe",$$css:!0},leave:{marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",transform:"x1oh8ob4",width:"xnalus7",$$css:!0}};function a(a){var b=a.children,d=a.maxCount,e=a.paddingHorizontal;a=a.testid;var f=l(d),g=j.Children.toArray(b);a=g.length>d?g.slice(0,g.length-d+1):null;b=k(function(){return{paddingHorizontal:e}},[e]);var i=j.jsx(c("BasePopoverTrigger.react"),{align:"start",popover:c("MWXComposerButtonGroupMenu.react"),popoverProps:{"aria-label":h._(/*BTDS*/"More actions menu"),children:a,testid:"mwx-composer-button-group-menu"},popoverType:"menu",position:"above",children:function(a,b,d,e,f,g,i,k){return j.jsx(c("MWXComposerIconButton.react"),{icon:c("MWXIconPlusCircle"),isShown:k,label:k?h._(/*BTDS*/"Close more actions"):h._(/*BTDS*/"Open more actions"),onPress:b,ref:a,testid:void 0,wrapperXStyle:q.enter},"Overflow")}});a=a!=null?[i].concat(g.slice(g.length-d+1)):g;a=c("useStyleXTransition")(a,function(a){return a===g[0]||a===i?"Overflow":(a=c("DangerouslyAccessReactElementInternals_DO_NOT_USE_IN_NEW_CODE")(a).key)!=null?a:0},{base:q.base,duration:n,enter:q.enter,leave:q.leave,onEnterComplete:function(){f.current=d},onLeaveComplete:function(){f.current=d}});a=a.map(function(a,b){return j.jsx(r,{isMenu:!1,style:babelHelpers["extends"]({},a.style,p(a.status==="leaving",f.current,d,b)),xstyle:a.xstyle,children:a.item},a.key)});return j.jsx(c("MWXComposerButtonContext.react").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";function r(a){var b=d("react-compiler-runtime").c(7),e=a.children,f=a.isMenu,g=a.style;a=a.xstyle;var h;b[0]!==f||b[1]!==g||b[2]!==a?(h={isMenu:f,styleForButton:g,xstyleForButton:a},b[0]=f,b[1]=g,b[2]=a,b[3]=h):h=b[3];f=h;b[4]!==e||b[5]!==f?(g=j.jsx(c("MWXComposerButtonGroupContext.react").Provider,{value:f,children:e}),b[4]=e,b[5]=f,b[6]=g):g=b[6];return g}g.MWXComposerButtonGroup=a;g.Button=c("MWXComposerButtonGroupButton.react")}),226);
__d("MWXComposerAddFileButton.react",["fbt","BaseFileSelector.react","BaseMenuContext","MWMediaManagerFileSizeLimit","MWXComposerButtonGroup.react","MWXIconPhoto","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnFilesSelected"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(13),e=a.disabled,f=a.isSecureThread,g=a.onAttachmentsAdded;a=a.supportedFileTypes;var i=c("useMWV2ComposerOnFilesSelected")(g),l=k(c("BaseMenuContext")),m=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==f?(g=h._(/*BTDS*/"Attach a file up to {fileSizeLimit} MB",[h._param("fileSizeLimit",String(d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(f)))]),b[0]=f,b[1]=g):g=b[1];var n=g;b[2]!==l||b[3]!==i?(f=function(a){i(a),l==null||l.onClose()},b[2]=l,b[3]=i,b[4]=f):f=b[4];b[5]!==e||b[6]!==n||b[7]!==m?(g=function(a){return j.jsx(d("MWXComposerButtonGroup.react").Button,{disabled:e,icon:c("MWXIconPhoto"),label:n,onPress:function(){a(),m==null||m({eventName:"composer_open_file_picker"})},preventClosingMenuOnSelect:!0,testid:void 0})},b[5]=e,b[6]=n,b[7]=m,b[8]=g):g=b[8];var o;b[9]!==a||b[10]!==f||b[11]!==g?(o=j.jsx(c("BaseFileSelector.react"),{accept:a,multiple:!0,onFilesSelected:f,children:g}),b[9]=a,b[10]=f,b[11]=g,b[12]=o):o=b[12];return o}g["default"]=a}),226);
__d("MWXIconGif",["MWXSvgIcon","SVGIcon","cr:22351","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22351")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerGifButton.react",["fbt","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWXComposerButtonGroupPopoverButton.react","MWXIconGif","MWXPopoverLoadingState.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWV2ComposerOnGifSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={gifLoadingState:{minHeight:"x1qq0ucp",minWidth:"xd1z115",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(14),e=a.disabled,f=a.onSendMessage;a=a.thread;var g;b[0]!==a.threadType?(g=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=g):g=b[1];a=g;var i=c("MessengerWebUXLogger").useInteractionLogger();b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Choose a GIF"),b[2]=g):g=b[2];var l;b[3]!==i?(l=function(){i==null||i({eventName:"composer_open_gif_picker"})},b[3]=i,b[4]=l):l=b[4];var m,n;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(m=c("JSResourceForInteraction")("MWChatAnimatedImageFlyout.react").__setRef("MWXComposerGifButton.react"),n={fallback:j.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:k.gifLoadingState})},b[5]=m,b[6]=n):(m=b[5],n=b[6]);f=c("useMWV2ComposerOnGifSelect")(f,"MWXComposerGifButton");var o;b[7]!==a||b[8]!==f?(o={isSecureThread:a,onSelect:f},b[7]=a,b[8]=f,b[9]=o):o=b[9];b[10]!==e||b[11]!==l||b[12]!==o?(a=j.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{disabled:e,icon:c("MWXIconGif"),label:g,onPress:l,popover:m,popoverPresentationProps:n,popoverProps:o}),b[10]=e,b[11]=l,b[12]=o,b[13]=a):a=b[13];return a}g["default"]=a}),226);
__d("MWXComposerPollButton.react",["fbt","JSResourceForInteraction","LsFalcoEventEntryPoint","MWGroupPollQPL","MWXComposerButtonGroupPopoverButton.react","MWXIconPoll","MessageSendClickFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","useMWCreatePoll","useMWGroupNewPollSubmitErrorLogger","useMWGroupStartNewPollLogger","useMWGroupSubmitNewPollLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.thread,f=e.threadKey,g=e.threadType,i=c("MessengerWebUXLogger").useInteractionLogger(),l=c("useMWGroupStartNewPollLogger")(f),m=c("useMWGroupSubmitNewPollLogger")(f),n=c("useMWGroupNewPollSubmitErrorLogger")(f),o=c("useMWCreatePoll")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Create a poll"),b[0]=a):a=b[0];var p;b[1]!==i||b[2]!==l||b[3]!==e.threadKey||b[4]!==e.threadType||b[5]!==g?(p=function(){i==null||i({eventName:"composer_open_create_poll_flyout",threadKey:e.threadKey,threadType:e.threadType}),d("MWGroupPollQPL").logCreatePollStart(g),c("promiseDone")(l(4))},b[1]=i,b[2]=l,b[3]=e.threadKey,b[4]=e.threadType,b[5]=g,b[6]=p):p=b[6];var q;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("JSResourceForInteraction")("MWChatPollFlyout.react").__setRef("MWXComposerPollButton.react"),b[7]=q):q=b[7];var r;b[8]!==o||b[9]!==n||b[10]!==m||b[11]!==f?(r=function(a,b){o(f,a,b,c("emptyFunction"),function(a){d("MWGroupPollQPL").logCreatePollFail(),c("promiseDone")(n(4,a))}),c("promiseDone")(m(4,b.length)),c("MessageSendClickFalcoEvent").log(k)},b[8]=o,b[9]=n,b[10]=m,b[11]=f,b[12]=r):r=b[12];var s;b[13]!==r||b[14]!==f?(s={onPollCreate:r,threadKey:f,withPopover:!1},b[13]=r,b[14]=f,b[15]=s):s=b[15];b[16]!==p||b[17]!==s?(r=j.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconPoll"),label:a,onPress:p,popover:q,popoverProps:s,testid:void 0}),b[16]=p,b[17]=s,b[18]=r):r=b[18];return r}function k(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").composer}}}g["default"]=a}),226);
__d("MWXComposerPromptButtonQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24235005759488308"}),null);
__d("MWXComposerPromptButtonQuery.graphql",["MWXComposerPromptButtonQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{kind:"Literal",name:"surface_nux_id",value:10706},{kind:"Literal",name:"trigger",value:"COMMUNITY_MESSAGING_PROMPT"}],c={alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"16r8W7"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"16r8W7")'}],storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:{throwOnFieldError:!0},name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWXComposerPromptButtonQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:a,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[c,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:10706,trigger:"COMMUNITY_MESSAGING_PROMPT")'}],storageKey:null}]},params:{id:b("MWXComposerPromptButtonQuery_facebookRelayOperation"),metadata:{},name:"MWXComposerPromptButtonQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWXComposerPromptButton.react",["fbt","BaseMenuContext","CometRelay","FBLogger","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWDidQueryPromptsNux","MWXComposerButtonGroup.react","MWXComposerButtonGroupPopoverButton.react","MWXComposerPromptButtonQuery.graphql","MWXIconRollCall","MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent","MessengerWebUXLogger","emptyFunction","promiseDone","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react")),m=j.useContext,n=c("requireDeferred")("MWChatPromptDialog.react").__setRef("MWXComposerPromptButton.react");function o(){var a=d("react-compiler-runtime").c(2),c=d("CometRelay").useRelayEnvironment(),e;a[0]!==c?(e=function(){return d("CometRelay").fetchQuery(c,i!==void 0?i:i=b("MWXComposerPromptButtonQuery.graphql"),{}).toPromise()},a[0]=c,a[1]=e):e=a[1];return e}function a(a){var b=d("react-compiler-runtime").c(16),e=a.thread,f=e.threadKey;a=e.threadType;var g=c("MessengerWebUXLogger").useInteractionLogger(),i=o(),j=c("useMWXLazyDialog")(n),q=j[0],r=m(c("BaseMenuContext"));b[0]!==a?(j=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a),b[0]=a,b[1]=j):j=b[1];var s=j;b[2]!==s||b[3]!==g||b[4]!==r||b[5]!==i||b[6]!==q||b[7]!==e.threadKey||b[8]!==e.threadType||b[9]!==f?(j=function(){g==null||g({eventName:"composer_open_create_prompt_flyout",threadKey:e.threadKey,threadType:e.threadType}),s?(c("MessengerDiscoverableBroadcastChatsClientEventsFalcoEvent").log(function(){return{action_name:1,event_name:302,source:156,surface:7,thread_id:(k||(k=d("I64"))).to_string(f)}}),q({threadKey:f}),r==null||r.onClose()):d("MWDidQueryPromptsNux").getDidQueryPromptsNux()||(d("MWDidQueryPromptsNux").markDidQueryPromptsNux(),c("promiseDone")(i(),p))},b[2]=s,b[3]=g,b[4]=r,b[5]=i,b[6]=q,b[7]=e.threadKey,b[8]=e.threadType,b[9]=f,b[10]=j):j=b[10];j=j;var t;b[11]!==s||b[12]!==j||b[13]!==f||b[14]!==a?(t=s?l.jsx(d("MWXComposerButtonGroup.react").Button,{icon:c("MWXIconRollCall"),label:h._(/*BTDS*/"Create prompt"),onPress:j}):l.jsx(c("MWXComposerButtonGroupPopoverButton.react"),{icon:c("MWXIconRollCall"),label:h._(/*BTDS*/"Create prompt"),onPress:j,popover:c("JSResourceForInteraction")("MWChatPromptFlyout.react").__setRef("MWXComposerPromptButton.react"),popoverProps:{onClose:c("emptyFunction"),threadKey:f,threadType:a}}),b[11]=s,b[12]=j,b[13]=f,b[14]=a,b[15]=t):t=b[15];return t}function p(a){var b;a=a==null||(b=a.viewer)==null||(b=b.eligible_promotions.nodes)==null||(b=b.find(q))==null||(b=b.comet_qp_sections)==null?void 0:b.renderer_strategy;a&&c("FBLogger")("messenger_web_product").mustfix("CometQuickPromotionMessengerWebPromptsRendererStrategy was deleted due to unused code.")}function q(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),226);
__d("withMWXEntrypointPopover",["BaseEntryPointPopoverContainer.react","BaseMenuContext","BaseMultiPageEntryPointImpl.react","BaseMultiPageViewContext","BasePopoverTrigger.react","FBLogger","MWXPopover.react","MWXPopoverLoadingState.react","emptyFunction","react","react-compiler-runtime","tracePolicyFromResource","useCometPopoverInteractionTracing","useCometRelayEntrypointContextualEnvironmentProvider","usePageEntryPointPrerenderer"],(function(a,b,c,d,e,f,g){"use strict";var h=["entrypoint","entryPointParams","entrypointProps","onHoverIn","onHoverOut","onPressIn","popoverPresentationProps"],i=["align","position"],j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;function m(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a?(e=k.jsx(c("MWXPopover.react"),{withArrow:!0,children:k.jsx(c("BaseEntryPointPopoverContainer.react"),babelHelpers["extends"]({},a))}),b[0]=a,b[1]=e):e=b[1];return e}function a(a){function b(b){var e=d("react-compiler-runtime").c(48),f,g,j,n,o,p,q,r;e[0]!==b?(g=b.entrypoint,f=b.entryPointParams,j=b.entrypointProps,n=b.onHoverIn,o=b.onHoverOut,p=b.onPressIn,q=b.popoverPresentationProps,r=babelHelpers.objectWithoutPropertiesLoose(b,h),e[0]=b,e[1]=f,e[2]=g,e[3]=j,e[4]=n,e[5]=o,e[6]=p,e[7]=q,e[8]=r):(f=e[1],g=e[2],j=e[3],n=e[4],o=e[5],p=e[6],q=e[7],r=e[8]);var s=l(c("BaseMenuContext"));e[9]!==s?(b=s!=null?s:{onClose:c("emptyFunction")},e[9]=s,e[10]=b):b=e[10];b=b;var t=b.onClose,u=l(c("BaseMultiPageViewContext"));e[11]!==g.root?(b=c("tracePolicyFromResource")("comet.popover",g.root),e[11]=g.root,e[12]=b):b=e[12];b=c("useCometPopoverInteractionTracing")(b,"entrypoint");var v=c("usePageEntryPointPrerenderer")(g,f,"button"),w=v[0],x=v[1];v=v[2];var y=c("useCometRelayEntrypointContextualEnvironmentProvider")(),z;e[13]!==q?(z=q!=null?q:{},e[13]=q,e[14]=z):z=e[14];var A,B;if(e[15]!==z){q=z;A=q.align;B=q.position;q=babelHelpers.objectWithoutPropertiesLoose(q,i);e[15]=z;e[16]=q;e[17]=A;e[18]=B}else q=e[16],A=e[17],B=e[18];z=A===void 0?"middle":A;A=B===void 0?"above":B;e[19]!==w?(B=function(){return w(c("emptyFunction"))},e[19]=w,e[20]=B):B=e[20];var C;e[21]!==f||e[22]!==j||e[23]!==v||e[24]!==B?(C={entryPointParams:f,entryPointReference:v,load:B,otherProps:j},e[21]=f,e[22]=j,e[23]=v,e[24]=B,e[25]=C):C=e[25];v=C;B=v;e[26]===Symbol["for"]("react.memo_cache_sentinel")?(C=k.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0}),e[26]=C):C=e[26];e[27]!==f||e[28]!==g||e[29]!==j||e[30]!==y||e[31]!==w||e[32]!==s||e[33]!==t||e[34]!==n||e[35]!==o||e[36]!==p||e[37]!==u||e[38]!==x||e[39]!==r?(v=function(b,d,e){return k.jsx(a,babelHelpers["extends"]({onHoverIn:function(a){x.onHoverIn(a),n==null||n(a)},onHoverOut:function(a){x.onHoverOut(),o==null||o(a)}},r,{onPress:function(){var a;for(var b=arguments.length,e=new Array(b),h=0;h<b;h++)e[h]=arguments[h];var i=e;u!=null&&s!=null?w(function(a){if(a==null)throw c("FBLogger")("messenger_web").mustfixThrow("Expected preloaded entrypoint");u.pushPage(function(){return k.jsx(c("BaseMultiPageEntryPointImpl.react"),{entryPoint:g,environmentProvider:y,fallback:u.fallback,loadedEntryPoint:a,otherProps:babelHelpers["extends"]({},j,{onClose:t}),placeholderComponent:u.placeholderComponent,preloadParams:f})})}):d();r.onPress==null||(a=r).onPress.apply(a,i)},onPressIn:function(a){p==null||p(a),x.onPressIn(a)},preventClosingMenuOnSelect:!0,ref:b}))},e[27]=f,e[28]=g,e[29]=j,e[30]=y,e[31]=w,e[32]=s,e[33]=t,e[34]=n,e[35]=o,e[36]=p,e[37]=u,e[38]=x,e[39]=r,e[40]=v):v=e[40];e[41]!==z||e[42]!==q||e[43]!==B||e[44]!==A||e[45]!==v||e[46]!==b?(C=k.jsx(c("BasePopoverTrigger.react"),babelHelpers["extends"]({align:z,fallback:C,position:A},q,{interactionTracker:b,popover:m,popoverProps:B,children:v})),e[41]=z,e[42]=q,e[43]=B,e[44]=A,e[45]=v,e[46]=b,e[47]=C):C=e[47];return C}return b}g["default"]=a}),98);
__d("MWXComposerButtonGroupPopoverEntrypointButton.react",["MWXComposerButtonGroupButton.react","react","withMWXEntrypointPopover"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");a=c("withMWXEntrypointPopover")(c("MWXComposerButtonGroupButton.react"));g["default"]=a}),98);
__d("MWXIconStickersFace",["MWXSvgIcon","SVGIcon","cr:22501","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22501")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerStickerButton.react",["fbt","CometStickerPickerCard.entrypoint","JSResourceForInteraction","MWV2ComposerStickerCommon","MWXComposerButtonGroupPopoverEntrypointButton.react","MWXIconStickersFace","MWXPopoverLoadingState.react","MessengerWebUXLogger","promiseDone","react","useMWV2ComposerOnStickerSelect"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useCallback,l={flyoutRoot:{height:"x1hie0zf",width:"x1fepime",$$css:!0},loading:{minHeight:"x1qq0ucp",minWidth:"x13t3uem",$$css:!0}},m=c("JSResourceForInteraction")("logStickersFlyoutHasOpened").__setRef("MWXComposerStickerButton.react");function a(a){var b=a.disabled,e=a.onSendMessage;a=a.useSecureSend;var f=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger(),g=c("useMWV2ComposerOnStickerSelect")(e,a,"MWXComposerStickerButton");e=k(function(a,b,c){a=a.stickerID;g(a,b,c)},[g]);return j.jsx(c("MWXComposerButtonGroupPopoverEntrypointButton.react"),{disabled:b,entryPointParams:{feedbackID:null,flyoutTagsCount:10,stickerInterface:"MESSAGES"},entrypoint:c("CometStickerPickerCard.entrypoint"),entrypointProps:{isMessengerStickerPopover:!0,isSecureThread:a,onSelect:e,prioritisedTabList:d("MWV2ComposerStickerCommon").getTabListOverrideForMessengerSticker(a),stickerHeight:128,stickerWidth:128,xstyle:l.flyoutRoot},icon:c("MWXIconStickersFace"),label:h._(/*BTDS*/"Choose a sticker"),onPress:function(){f==null||f({eventName:"composer_open_sticker_picker"})},popoverPresentationProps:{fallback:j.jsx(c("MWXPopoverLoadingState.react"),{withArrow:!0,xstyle:l.loading}),onVisibilityChange:function(a){a===!0&&c("promiseDone")(m.load().then(function(a){a()}))}},testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXComposerVoiceClipButton.react",["fbt","MWXComposerButtonGroup.react","MWXIconMicrophone","MessengerWebUXLogger","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.onPress,e=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();return j.jsx(d("MWXComposerButtonGroup.react").Button,{icon:c("MWXIconMicrophone"),label:h._(/*BTDS*/"Send a voice clip"),onPress:function(){b(),e==null||e({eventName:"composer_record_voice_clip"})},testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXHasContentToSend",["MWV2ComposerHasContentContext.react","react","useMWXLexicalHasText"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=a.editor;a=a.hasNonTextContentToSend;b=d("useMWXLexicalHasText").useMWXLexicalHasText({editor:b});var c=b||a;b=d("MWV2ComposerHasContentContext.react").useComposerHasContext();var e=b.hasContentRef;i(function(){if(e==null)return;e.current=c},[e,c]);return c}g.useMWXComposerHasContentToSend=a}),98);
__d("MWXIconCrossCircle",["MWXSvgIcon","SVGIcon","cr:22287","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22287")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWXComposerStartButtonsGroup.react",["fbt","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSupportedFileTypes","MWCMThreadTypes.react","MWLSThreadDisplayContext","MWXComposerAddFileButton.react","MWXComposerButtonGroup.react","MWXComposerGifButton.react","MWXComposerPollButton.react","MWXComposerPromptButton.react","MWXComposerStickerButton.react","MWXComposerVoiceClipButton.react","MWXHasContentToSend","MWXIconCrossCircle","MessengerWebUXLogger","cr:21441","cr:21442","gkx","react","requireDeferred","useIsAdsAIChat","useMWHasPollsCreationEnabled","useMWV2ComposerOnPressVoiceClip"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("requireDeferred")("MWChatAudioLog").__setRef("MWXComposerStartButtonsGroup.react");function a(a){var e=a.editor,f=a.hasNonTextContentToSend,g=a.isTextOnly,i=a.onAttachmentsAdded,l=a.onSendMessage,m=a.testid;m=a.thread;var n=a.voiceRecorder;a=m.threadKey;var o=m.threadType,p=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();p=p==="Inbox"?"small":"none";var q=d("MWCMThreadTypes.react").isBroadcastThread(m.threadType),r=d("LSMessagingThreadTypeUtil").isAiBot(m.threadType),s=c("useIsAdsAIChat")(a);o=d("LSMessagingThreadTypeUtil").isArmadilloSecure(o);var t=d("LSThreadBitOffset").has(14,m),u=d("LSThreadBitOffset").has(4,m);a=c("useMWHasPollsCreationEnabled")(a);var v=d("LSThreadBitOffset").has(152,m),w=d("LSThreadBitOffset").has(3,m),x=d("LSThreadBitOffset").has(56,m);q=q||r||s?x:!0;r=a;s=t;x=u;a=v&&c("gkx")("18099");t=c("gkx")("23423");u=c("gkx")("23159");v=c("useMWV2ComposerOnPressVoiceClip")(n);var y=n.state.stage!=="Unopen",z=c("MessengerWebUXLogger")==null?void 0:c("MessengerWebUXLogger").useInteractionLogger();f=d("MWXHasContentToSend").useMWXComposerHasContentToSend({editor:e,hasNonTextContentToSend:f});return g?null:y?j.jsx(d("MWXComposerButtonGroup.react").Button,{icon:c("MWXIconCrossCircle"),label:h._(/*BTDS*/"Cancel"),onPress:function(){n.reset(),k.onReady(function(a){return a.logDeleteRecording()}),z==null||z({eventName:"composer_close_audio_recorder"})}}):j.jsxs(d("MWXComposerButtonGroup.react").MWXComposerButtonGroup,{maxCount:f?1:4,paddingHorizontal:p,testid:void 0,children:[s?j.jsx(c("MWXComposerVoiceClipButton.react"),{onPress:v}):null,r?j.jsx(c("MWXComposerPollButton.react"),{thread:m}):null,t&&b("cr:21441")!=null?j.jsx(b("cr:21441"),{editor:e,onAttachmentsAdded:i}):null,u&&b("cr:21442")!=null?j.jsx(b("cr:21442"),{editor:e,onAttachmentsAdded:i}):null,j.jsx(c("MWXComposerAddFileButton.react"),{disabled:!q,isSecureThread:o,onAttachmentsAdded:i,supportedFileTypes:o?d("MAWSupportedFileTypes").supportedFileTypes:void 0}),j.jsx(c("MWXComposerStickerButton.react"),{disabled:!w,onSendMessage:l,useSecureSend:o}),j.jsx(c("MWXComposerGifButton.react"),{disabled:!x,onSendMessage:l,thread:m}),a?j.jsx(c("MWXComposerPromptButton.react"),{thread:m}):null]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useParticipantsExcludingViewer",["I64","MAWSubscribeToContactNames","MWLSContactTypeExactUtils","MWPActor.react","MWWorkForeignEntityTypeUtils","ReQL","ReQLSuspense","getLSMediaContactProfilePictureUrl","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useMemo;function a(a){var b=a.threadKey,e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),j=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(b).map(function(a){return[d("ReQLSuspense").first(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(a.contactId),f.id+":43"),a]})},[g,b],f.id+":37"),l=k(function(){return j.reduce(function(a,b){var c=b[0];b=b[1];if(c!=null&&!(i||(i=d("I64"))).equal(c.id,e)){return a.concat([[babelHelpers["extends"]({},c,{name:(c=c.name)!=null?c:d("MAWSubscribeToContactNames").getUnknownUser()}),b]])}return a},[])},[j,e]);return k(function(){return new Map(l.map(function(a){var b,e=a[1];a=a[0];return[(i||(i=d("I64"))).to_string(a.id),{actualName:a.name,blockedByViewerStatus:a.blockedByViewerStatus,contactId:i.to_string(a.id),isAdmin:(b=e.isAdmin)!=null?b:!1,isContact:!0,jobTitle:a.workJobTitle,name:a.name,nickname:e.nickname,profilePictureUrl:c("getLSMediaContactProfilePictureUrl")(a),secondaryName:d("MWLSContactTypeExactUtils").isIgContact(a.contactTypeExact)?a.secondaryName:void 0,workForeignEntityInfo:d("MWWorkForeignEntityTypeUtils").getWorkForeignEntityType(a.workForeignEntityType)}]}))},[l])}g["default"]=a}),98);
__d("MWV2ComposerView.react",["fbt","FBLogger","I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","Locale","MWAudioRecorder.react","MWCMThreadTypes.react","MWComposerEndButtonsGroup.react","MWComposerInnerButtonsGroup.react","MWComposerStartButtonsGroup.react","MWPActor.react","MWReQLComposerInner.react","MWReQLComposerPlusButton.react","MWV2ComposerMediaStaging.react","MWV2ComposerSendButton.react","MWXComposerStartButtonsGroup.react","Promise","ReQL","ReQLSuspense","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","stylex","useDeferredModuleOnReady","useIsAdsAIChat","useIsMessengerPWA","useMWComposerAriaDescribedBy","useMWEntrypoint","useMWIsOffline","useParticipantsExcludingViewer","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,aa){"use strict";var h,ba,i,ca,da,j,k=j||(j=d("react"));e=j;var ea=e.useEffect,fa=e.useId,ga=e.useRef,l=c("requireDeferred")("getUpgradedCometEmojiComposerHandler").__setRef("MWV2ComposerView.react"),ha={container:{flexGrow:"x1iyjqo2",overflowX:"xw2csxc",position:"x1n2onr6",$$css:!0},containerTextOnly:{marginInlineStart:"xyqm7xq",$$css:!0},hidden:{display:"x1s85apg",$$css:!0}};function ia(a){var b=d("react-compiler-runtime").c(4),e=c("useDeferredModuleOnReady")(l),f,g;b[0]!==e||b[1]!==a?(f=function(){if(e!=null)return e(a,16)},g=[a,e],b[0]=e,b[1]=a,b[2]=f,b[3]=g):(f=b[2],g=b[3]);ea(f,g)}function a(a){var e,g=d("react-compiler-runtime").c(184),j=a.ariaLabel,l=a.canSendAudioClip,m=a.canSendFile,n=a.canSendGif,o=a.canSendPayment,p=a.canSendSticker,q=a.composerLinkPreview,r=a.editor,la=a.editorElementRef,s=a.getMaxAttachmentSizeInMBFunc,t=a.hasStuffToSend,u=a.hideAriaDescribedBy,v=a.isAiBotMentionsEnabled,w=a.isMentionsPluginEnabled,x=a.keepInputExpanded,y=a.localTimezoneInformation,z=a.mediaStaging,ma=a.onAttachmentRemoved,A=a.onAttachmentsAdded,na=a.onHdMediaToggled,B=a.onSendMessage,oa=a.placeholderText,pa=a.policyProduct,C=a.renderExtraButtons,D=a.renderExtraOverflowMenuItems,qa=a.sendMessage,E=a.showMentionsOnPreviewThread,F=a.supportedFileTypes,ra=a.surface,G=a.thread,H=a.voiceRecorder;a=l===void 0?!0:l;l=m===void 0?!0:m;m=n===void 0?!0:n;n=o===void 0?!1:o;o=p===void 0?!0:p;p=u===void 0?!1:u;u=w===void 0?!0:w;w=x===void 0?!1:x;x=C===void 0?null:C;C=E===void 0?!1:E;var I=(da||(da=c("useReStore")))();E=c("useMWIsOffline")();var J=c("useIsMessengerPWA")();E=E&&J;g[0]!==G.threadType?(J=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(G.threadType),g[0]=G.threadType,g[1]=J):J=g[1];J=J;var K=c("gkx")("7947"),L=!0;(K||J)&&(L=!1);g[2]!==m||g[3]!==G?(K=m&&d("LSThreadBitOffset").has(4,G),g[2]=m,g[3]=G,g[4]=K):K=g[4];m=K;g[5]!==G.threadType?(K=d("MWCMThreadTypes.react").isBroadcastThread(G.threadType),g[5]=G.threadType,g[6]=K):K=g[6];K=K;var M;g[7]!==G.threadType?(M=d("LSMessagingThreadTypeUtil").isAiBot(G.threadType),g[7]=G.threadType,g[8]=M):M=g[8];M=M;var N=c("useIsAdsAIChat")(G.threadKey),O;g[9]!==l||g[10]!==N||g[11]!==M||g[12]!==K||g[13]!==G?(O=l&&(K||M||N?d("LSThreadBitOffset").has(56,G):!0),g[9]=l,g[10]=N,g[11]=M,g[12]=K,g[13]=G,g[14]=O):O=g[14];l=O;g[15]!==G.threadType?(M=d("LSMessagingThreadTypeUtil").isArmadilloSecure(G.threadType),g[15]=G.threadType,g[16]=M):M=g[16];K=M;g[17]!==o||g[18]!==G?(O=o&&d("LSThreadBitOffset").has(3,G),g[17]=o,g[18]=G,g[19]=O):O=g[19];M=O;o=c("useMWEntrypoint")();var P=H.state.stage!=="Unopen";g[20]!==B||g[21]!==H?(O=function(){H.getVoiceClip().then(function(a){H.reset();B(void 0,void 0,void 0,void 0,void 0,void 0,void 0,a,void 0,void 0,void 0,void 0,void 0,void 0,void 0,"MWV2ComposerView.onSendVoiceClip");return(h||(h=b("Promise"))).resolve()})["catch"](ka)},g[20]=B,g[21]=H,g[22]=O):O=g[22];O=O;var sa=ga(null),ta=c("usePrevious")(P),Q,R;g[23]!==P||g[24]!==ta?(Q=function(){if(P===!0&&ta===!1){var a;(a=sa.current)==null||a.focus()}},R=[P,sa,ta],g[23]=P,g[24]=ta,g[25]=Q,g[26]=R):(Q=g[25],R=g[26]);ea(Q,R);g[27]!==G.threadKey?(Q={threadKey:G.threadKey},g[27]=G.threadKey,g[28]=Q):Q=g[28];R=c("useParticipantsExcludingViewer")(Q);g[29]!==G?(Q=d("LSThreadBitOffset").has(43,G),g[29]=G,g[30]=Q):Q=g[30];Q=Q;var ua=d("MWPActor.react").useActor(),S,T;g[31]!==ua||g[32]!==I.tables.contacts||g[33]!==I.tables.participants||g[34]!==G.threadKey||g[35]!==G.threadType?(S=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(G.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(I.tables.participants).getKeyRange(G.threadKey),d("ReQL").fromTableAscending(I.tables.contacts)).filter(function(a){a=a[1];return!(i||(i=d("I64"))).equal(a.id,ua)}):d("ReQL").empty()},T=[G.threadType,G.threadKey,I.tables.participants,I.tables.contacts,ua],g[31]=ua,g[32]=I.tables.contacts,g[33]=I.tables.participants,g[34]=G.threadKey,g[35]=G.threadType,g[36]=S,g[37]=T):(S=g[36],T=g[37]);S=d("ReQLSuspense").useFirst(S,T,f.id+":248");T=S==null||(e=S[1])==null?void 0:e.contactReachabilityStatusType;g[38]!==T?(S=(ca||(ca=d("LSIntEnum"))).equal(T,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),g[38]=T,g[39]=S):S=g[39];T=S;g[40]===Symbol["for"]("react.memo_cache_sentinel")?(S=d("Locale").isRTL(),g[40]=S):S=g[40];S=S;var U=c("gkx")("23219"),V;g[41]===Symbol["for"]("react.memo_cache_sentinel")?(V=U?[36,8]:[32,4],g[41]=V):V=g[41];V=V;var W=V[0];V=V[1];var X=0+W|0,Y;g[42]!==G.threadType?(Y=d("LSMessagingThreadTypeUtil").isCMSubthread(G.threadType),g[42]=G.threadType,g[43]=Y):Y=g[43];Y=Y;w=t||w||T||Y&&o==="inbox";o=X+W|0;g[44]!==w||g[45]!==L?(W=S?L?{marginRight:U?"8px":"4px"}:{marginRight:w?U?8..toString()+"px":"0":((o+W|0)+V|0).toString()+"px"}:L?{marginLeft:U?"8px":"4px"}:{marginLeft:w?U?8..toString()+"px":"0":((o+W|0)+V|0).toString()+"px"},g[44]=w,g[45]=L,g[46]=W):W=g[46];V=W;W=c("useMWComposerAriaDescribedBy")(G);var va=fa();ia(r);var Z;g[47]!==N||g[48]!==J||g[49]!==G?(Z=J||N&&!d("LSThreadBitOffset").has(109,G),g[47]=N,g[48]=J,g[49]=G,g[50]=Z):Z=g[50];N=Z;g[51]!==I.tables.custom_thread_commands||g[52]!==G.threadKey?(J=function(){return d("ReQL").fromTableAscending(I.tables.custom_thread_commands).getKeyRange(G.threadKey).filter(ja)},g[51]=I.tables.custom_thread_commands,g[52]=G.threadKey,g[53]=J):J=g[53];g[54]!==I||g[55]!==G.threadKey?(Z=[I,G.threadKey],g[54]=I,g[55]=G.threadKey,g[56]=Z):Z=g[56];J=d("ReQLSuspense").useFirst(J,Z,f.id+":334")!=null;g[57]!==G?(Z=d("LSThreadBitOffset").has(152,G),g[57]=G,g[58]=Z):Z=g[58];Z=Z;var $;g[59]!==Q||g[60]!==v||g[61]!==u||g[62]!==C||g[63]!==G.threadType?($=u&&(v===!0?!0:(Q||C)&&d("LSMessagingThreadTypeUtil").isGroup(G.threadType)),g[59]=Q,g[60]=v,g[61]=u,g[62]=C,g[63]=G.threadType,g[64]=$):$=g[64];Q=$;g[65]===Symbol["for"]("react.memo_cache_sentinel")?(u=aa._(/*BTDS*/"Thread composer"),C={className:"xuk3077 x57kliw x78zum5 x6prxxf xz9dl7a xsag5q8"},g[65]=u,g[66]=C):(u=g[65],C=g[66]);g[67]!==a||g[68]!==l||g[69]!==n||g[70]!==r||g[71]!==w||g[72]!==T||g[73]!==A||g[74]!==B||g[75]!==D||g[76]!==L||g[77]!==F||g[78]!==G||g[79]!==H?($=!L&&!T&&k.jsx(c("MWReQLComposerPlusButton.react"),{canSendAudioClip:a,canSendFile:l,canSendPayment:n,editor:r,isInputExpanded:w,onAttachmentsAdded:A,onSendMessage:B,renderExtraOverflowMenuItems:D,supportedFileTypes:F,thread:G,voiceRecorder:H}),g[67]=a,g[68]=l,g[69]=n,g[70]=r,g[71]=w,g[72]=T,g[73]=A,g[74]=B,g[75]=D,g[76]=L,g[77]=F,g[78]=G,g[79]=H,g[80]=$):$=g[80];g[81]!==r||g[82]!==T||g[83]!==P||g[84]!==z||g[85]!==A||g[86]!==B||g[87]!==L||g[88]!==G||g[89]!==H?(n=L&&!T&&k.jsx("div",{className:"x78zum5 x2lah0s x6ikm8r x10wlt62 xexx8yu x11lfxj5 x18d9i69 x135b78x x1n2onr6",children:k.jsx(c("MWXComposerStartButtonsGroup.react"),{editor:r,hasNonTextContentToSend:P||z.length>0,isTextOnly:T,onAttachmentsAdded:A,onSendMessage:B,testid:void 0,thread:G,voiceRecorder:H})}),g[81]=r,g[82]=T,g[83]=P,g[84]=z,g[85]=A,g[86]=B,g[87]=L,g[88]=G,g[89]=H,g[90]=n):n=g[90];g[91]!==t||g[92]!==T||g[93]!==P||g[94]!==O||g[95]!==H?(D=P&&!T?k.jsxs(k.Fragment,{children:[k.jsx(c("MWAudioRecorder.react"),{voiceRecorder:H}),k.jsx(c("MWV2ComposerSendButton.react"),{hasStuffToSend:t,onPress:O,ref:sa})]}):null,g[91]=t,g[92]=T,g[93]=P,g[94]=O,g[95]=H,g[96]=D):D=g[96];g[97]!==T||g[98]!==P?(O=(ba||(ba=c("stylex"))).props(P?ha.hidden:!1,ha.container,T?ha.containerTextOnly:!1),g[97]=T,g[98]=P,g[99]=O):O=g[99];g[100]!==a||g[101]!==l||g[102]!==m||g[103]!==Z||g[104]!==M||g[105]!==q||g[106]!==s||g[107]!==w||g[108]!==K||g[109]!==T||g[110]!==y||g[111]!==A||g[112]!==B||g[113]!==L||g[114]!==F||g[115]!==G.threadKey||g[116]!==G.threadType||g[117]!==H?(o=!L&&!T&&k.jsx(c("MWComposerStartButtonsGroup.react"),{canSendAudioClipFinal:a,canSendFileFinal:l,canSendGifFinal:m,canSendRollcall:Z,canSendSticker:M,composerLinkPreview:q,getMaxAttachmentSizeInMBFunc:s,gifButtonPosition:o,isInputExpanded:w,isRTL:S,isSecureThread:K,localTimezoneInformation:y,onAttachmentsAdded:A,onSendMessage:B,shouldUseMDS:U,stickerButtonPosition:X,supportedFileTypes:F,threadKey:G.threadKey,threadType:G.threadType,voiceRecorder:H}),g[100]=a,g[101]=l,g[102]=m,g[103]=Z,g[104]=M,g[105]=q,g[106]=s,g[107]=w,g[108]=K,g[109]=T,g[110]=y,g[111]=A,g[112]=B,g[113]=L,g[114]=F,g[115]=G.threadKey,g[116]=G.threadType,g[117]=H,g[118]=o):o=g[118];g[119]===Symbol["for"]("react.memo_cache_sentinel")?(S="x78zum5 x1iyjqo2 x6q2ic0",g[119]=S):S=g[119];g[120]!==W||g[121]!==va||g[122]!==p?(X=!p&&k.jsx("div",{className:"xzpqnlu x1hyvwdk xjm9jq1 x6ikm8r x10wlt62 x10l6tqk x1i1rx1s",id:va,children:W}),g[120]=W,g[121]=va,g[122]=p,g[123]=X):X=g[123];a=p?void 0:va;g[124]!==r||g[125]!==K||g[126]!==z||g[127]!==na||g[128]!==x?(m=k.jsx(c("MWComposerInnerButtonsGroup.react"),{editor:r,isSecureThread:K,mediaStaging:z,onHdMediaToggled:na,renderExtraButtons:x,shouldUseMDS:U}),g[124]=r,g[125]=K,g[126]=z,g[127]=na,g[128]=x,g[129]=m):m=g[129];Z=l?A:c("emptyFunction");g[130]!==Y||g[131]!==G.parentThreadKey||g[132]!==G.threadKey?(M=(i||(i=d("I64"))).to_string(Y?G.parentThreadKey:G.threadKey),g[130]=Y,g[131]=G.parentThreadKey,g[132]=G.threadKey,g[133]=M):M=g[133];g[134]!==z||g[135]!==ma||g[136]!==A||g[137]!==F?(q=k.jsx(c("MWV2ComposerMediaStaging.react"),{mediaStaging:z,onAttachmentRemoved:ma,onAttachmentsAdded:A,supportedFileTypes:F}),g[134]=z,g[135]=ma,g[136]=A,g[137]=F,g[138]=q):q=g[138];g[139]!==j||g[140]!==r||g[141]!==la||g[142]!==v||g[143]!==K||g[144]!==R||g[145]!==oa||g[146]!==pa||g[147]!==ra||g[148]!==a||g[149]!==m||g[150]!==Z||g[151]!==M||g[152]!==q||g[153]!==Q?(s=k.jsx(c("MWReQLComposerInner.react"),{ariaDescribedBy:a,ariaLabel:j,contentEditableRef:la,editor:r,endContent:m,handlePastedFiles:Z,isAiBotMentionsEnabled:v,isSecureThread:K,participants:R,placeholderText:oa,policyProduct:pa,surface:ra,testId:"chat_input:rich-input",threadID:M,topContent:q,useMentionsPlugin:Q}),g[139]=j,g[140]=r,g[141]=la,g[142]=v,g[143]=K,g[144]=R,g[145]=oa,g[146]=pa,g[147]=ra,g[148]=a,g[149]=m,g[150]=Z,g[151]=M,g[152]=q,g[153]=Q,g[154]=s):s=g[154];g[155]!==V||g[156]!==X||g[157]!==s?(w=k.jsxs("div",{className:S,style:V,children:[X,s]}),g[155]=V,g[156]=X,g[157]=s,g[158]=w):w=g[158];g[159]!==O||g[160]!==o||g[161]!==w?(y=k.jsxs("div",babelHelpers["extends"]({},O,{children:[o,w]})),g[159]=O,g[160]=o,g[161]=w,g[162]=y):y=g[162];L=E||T&&!t;g[163]!==r||g[164]!==J||g[165]!==t||g[166]!==E||g[167]!==T||g[168]!==P||g[169]!==B||g[170]!==qa||g[171]!==N||g[172]!==L||g[173]!==G.customEmoji||g[174]!==G.hasPersistentMenu||g[175]!==G.threadKey||g[176]!==G.threadType?(W=k.jsx(c("MWComposerEndButtonsGroup.react"),{alwaysShowSend:T,customEmoji:G.customEmoji,disabled:L,editor:r,hasPersistentMenu:G.hasPersistentMenu,hasStuffToSend:t,isVoiceRecorderOpen:P,onSendMessage:B,sendMessage:qa,shouldHideHotLike:N,shouldHideTooltip:E,showCommands:J,threadKey:G.threadKey,threadType:G.threadType}),g[163]=r,g[164]=J,g[165]=t,g[166]=E,g[167]=T,g[168]=P,g[169]=B,g[170]=qa,g[171]=N,g[172]=L,g[173]=G.customEmoji,g[174]=G.hasPersistentMenu,g[175]=G.threadKey,g[176]=G.threadType,g[177]=W):W=g[177];g[178]!==$||g[179]!==n||g[180]!==D||g[181]!==y||g[182]!==W?(p=k.jsxs("div",babelHelpers["extends"]({"aria-label":u},C,{"data-testid":void 0,role:"group",children:[$,n,D,y,W]})),g[178]=$,g[179]=n,g[180]=D,g[181]=y,g[182]=W,g[183]=p):p=g[183];return p}function ja(a){return!a.isOpenPersistentMenu}function ka(a){c("FBLogger")("messenger_web_media").catching(a).warn("Failed to send voice clip in messenger composer ");return(h||(h=b("Promise"))).reject(a)}g.MWV2ComposerView=a}),226);
__d("MWVoiceRecordQpl",["MAWLoggerUtils","QPLUserFlow","gkx","qpl"],(function(a,b,c,d,e,f,g){"use strict";var h=c("qpl")._(25302342,"1531"),i=10*60*1e3;function a(){var a=d("MAWLoggerUtils").getInstanceKey();return{addAnnotations:function(b){c("QPLUserFlow").addAnnotations(h,b,{instanceKey:a})},addPoint:function(b,d){c("QPLUserFlow").addPoint(h,b,{data:d,instanceKey:a})},endCancel:function(b,d){c("QPLUserFlow").endCancel(h,{annotations:d,cancelReason:b,instanceKey:a})},endFail:function(b,d){c("QPLUserFlow").endFailure(h,b,{annotations:d,instanceKey:a})},endSuccess:function(b){c("QPLUserFlow").endSuccess(h,{annotations:b,instanceKey:a})},start:function(b){b=b.startInfo.isOpusRecorder;c("QPLUserFlow").start(h,{annotations:{bool:{isOpusAudioAbTestEnabled:c("gkx")("3053"),isOpusAudioEnabled:c("gkx")("3054"),isOpusRecorder:b}},cancelOnUnload:!0,instanceKey:a,timeoutInMs:i})}}}g.event=h;g.createVoiceRecordQpl=a}),98);
__d("useIsSecureMessageData",["ReQL","ReQLSuspense","react-compiler-runtime","useIsSecureMessage","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(6),g=(h||(h=c("useReStore")))(),i=a.messageId,j=a.messageThreadKey,k=a.messageTimestamp,l;e[0]!==g.tables.messages||e[1]!==i||e[2]!==j||e[3]!==k?(a=function(){return i==null||j==null||k==null?d("ReQL").empty():d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(j,k,i)},l=[g.tables.messages,j,k,i],e[0]=g.tables.messages,e[1]=i,e[2]=j,e[3]=k,e[4]=a,e[5]=l):(a=e[4],l=e[5]);e=d("ReQLSuspense").useFirst(a,l,f.id+":39");a=c("useIsSecureMessage")(g,e,b);return a}g["default"]=a}),98);
__d("MAWSendSecureAttachment",["I64","MAWBridgeSendAndReceive","MAWDbMsg","MAWGetProtocolMsgIdByMsgIdInUI","MAWMessageSendReporter","MWFBLogger","WABlobToArrayBuffer","WAMediaHdType","WAMediaQplHelper","WAResultOrError","qpl","requireDeferred","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MWLogSend").__setRef("MAWSendSecureAttachment"),j=3e5,k=d("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","MAWSendSecureAttachment"]);async function a(a,b,e,f,g,l,m,n,o,p,q,r,s,t,u,v,w,x,y){k.debug("Starting attachment message send");if(b==null){d("sendToSentQPLLogger").markSendToSentFail(q,"no_chat_jid");return d("WAResultOrError").makeError({isRetriable:!1,type:"no-chat-jid"})}var z=null;if(o!=null){d("sendToSentQPLLogger").markSendToSentPoint(q,"get_reply_message_start");o=d("MAWDbMsg").toMsgId(o.messageId);o!=null&&(z=await d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(o));d("sendToSentQPLLogger").markSendToSentPoint(q,"get_reply_message_end")}d("sendToSentQPLLogger").markSendToSentPoint(q,"sending_message_to_wajob_start");d("sendToSentQPLLogger").addSendToSentAnnotations(q,{string:{attachment_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(l.file.size)}});y==null||y.addMetadata("attachment_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(l.file.size));var A;switch(l.type){case"image":case"animated_image":case"sticker":o=l.imageSpec;y=l.thumbnailUrlAndSpec;A={args:{accessibilityLabel:x,ephemeralSetting:r!=null?r:void 0,hdType:w===!0?d("WAMediaHdType").HD_TYPE_HQ_4K:d("WAMediaHdType").HD_TYPE_NONE,height:o.height,initiatingSource:s,isFirstMsg:p,isForwarded:!1,jpegThumbnail:y==null?void 0:y.jpegThumbnail,jpegThumbnailHeight:y==null?void 0:y.height,jpegThumbnailWidth:y==null?void 0:y.width,mediaGroupMetadata:v,offlineAttachmentId:m,optimisticMsg:t,quote:z!=null?z:void 0,source:n,width:o.width},attachmentType:"image",chatJid:b,externalId:u};break;case"video":x=l.thumbnailUrlAndSpec;A={args:{duration:x.duration,ephemeralSetting:r!=null?r:void 0,height:x.height,initiatingSource:s,isFirstMsg:p,isForwarded:!1,jpegThumbnail:x.jpegThumbnail,jpegThumbnailHeight:x.height,jpegThumbnailWidth:x.width,offlineAttachmentId:m,optimisticMsg:t,quote:z!=null?z:void 0,source:n,width:x.width},attachmentType:"video",chatJid:b,externalId:u};break;case"audio":w=l.durations;y=l.isPtt;A={args:{duration:Math.round(w),ephemeralSetting:r!=null?r:void 0,initiatingSource:s,isFirstMsg:p,isForwarded:!1,isPtt:y,offlineAttachmentId:m,optimisticMsg:t,quote:z!=null?z:void 0,source:n},attachmentType:"audio",chatJid:b,externalId:u};break;case"document":v=l.filename;A={args:{ephemeralSetting:r!=null?r:void 0,filename:v,initiatingSource:s,isFirstMsg:p,isForwarded:!1,offlineAttachmentId:m,optimisticMsg:t,quote:z!=null?z:void 0,source:n},attachmentType:"application",chatJid:b,externalId:u};break;default:d("sendToSentQPLLogger").markSendToSentPoint(q,"unknown_file_type_sendMediaMsg_not_fired"),k.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment").mustfix("sendSecureAttachment: Failed while sending attachment, unknown attachment type %s",l.type)}var B;switch(l.type){case"image":B=8;break;case"video":B=10;break;case"audio":B=11;break;case"document":B=34;break}k.debug("Send attachment message is done");i.onReady(function(b){var c=(h||(h=d("I64"))).to_string(e);return b.log(a,{actor:g,attachmentFbids:[],attachmentType:B,backend:1,hasReply:!1,messagingThreadId:c,offlineThreadingId:m,sendType:0,source:n,threadKey:e,threadType:f})});if(A==null)return d("WAResultOrError").makeError({isRetriable:!1,type:"send-media-msg-args-null"});x=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendMediaMsgV2",babelHelpers.extends({},A,{mimeType:l.file.type,plaintext:(o=l.plaintext)!=null?o:await d("WABlobToArrayBuffer").blobToArrayBuffer(l.file),qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:q}),{timeoutMs:j});d("sendToSentQPLLogger").markSendToSentPoint(q,"sending_message_to_wajob_end");return d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:b,externalId:u},x,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:q},a)}g.sendSecureAttachment=a}),98);
__d("MAWSendFileMsgIfNecessaryV2",["FBLogger","MAWExternalId","MAWSendSecureAttachment","Promise","WAResultOrError","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e){var f=e.actorId,g=e.attachments,i=e.axLabels,j=e.chatJid,k=e.ephemeralSetting,l=e.hdMediaMap,m=e.initiatingSource,n=e.isFirstMsg,o=e.lssTraceApi,p=e.mediaGroupMetadataMap,q=e.offlineAttachmentIdToMessageData,r=e.reply,s=e.s2sInstanceKey,t=e.source,u=e.thread;if(g.length===0){d("sendToSentQPLLogger").markSendToSentFail(s,"empty_attachments");return(h||(h=b("Promise"))).resolve([d("WAResultOrError").makeError({isRetriable:!1,type:"empty-attachments"})])}d("sendToSentQPLLogger").markSendToSentPoint(s,"send_attachment_start",null,{"int":{attachment_count:g.length}});e=g.map(function(b){var c,e=b[0];b=b[1];var g=q==null?void 0:q.get(b);c=(c=l==null?void 0:l.get(b))!=null?c:void 0;return d("MAWSendSecureAttachment").sendSecureAttachment(a,j,u.threadKey,u.threadType,f,e,b,t,r,n,s,k,m,g==null?void 0:{msgId:g==null?void 0:g.messageExternalId,ts:g==null?void 0:g.offlineMsgTimestamp},(e=g==null?void 0:g.messageExternalId)!=null?e:d("MAWExternalId").generateExternalId(),p==null?void 0:p.get(b),c,(g=i==null?void 0:i.get(b))!=null?g:void 0,o)});return(h||(h=b("Promise"))).all(e).then(function(a){var b=a==null?void 0:a.find(function(a){return(a==null?void 0:a.success)===!1});d("sendToSentQPLLogger").markSendToSentPoint(s,"send_attachment_end");return b!=null?[b]:a})["catch"](function(a){d("sendToSentQPLLogger").markSendToSentFail(s,"send_attachment_fail",a);a instanceof Error?c("FBLogger")("messenger_web_media").catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending message"):c("FBLogger")("messenger_web_media").addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","failed while sending attachment promise").mustfix("Failed while sending attachment, %s",a.message);throw a})}g.sendFileMsgIfNecessaryV2=a}),98);
__d("useMAWCreateOptimisticSecureMessageWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MWPActor.react","Promise","QPLUserFlow","qpl","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(3),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;a[0]!==e||a[1]!==g?(j=function(a,i,j,k,l,m,n,o,p,q,r){if(o==null)return(h||(h=b("Promise"))).resolve();c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_with_attachment",{instanceKey:m});return e.runInTransaction(function(b){return d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,b,g,a,i,k,l,m,n,o,p,q,r)},"readwrite","ui",void 0,f.id+":69")},a[0]=e,a[1]=g,a[2]=j):j=a[2];return j}g["default"]=a}),98);
__d("useMarkOptimisticMessagesAsFailed",["LSFactory","LSMarkOptimisticMessageFailedStoredProcedure","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=c("useAsyncReStore")(),e;a[0]!==b?(e=async function(a,d,e){var g=await b;return g.runInTransaction(async function(b){for(var f of a)await c("LSMarkOptimisticMessageFailedStoredProcedure")(c("LSFactory")(b),{errorMessage:d,isRetryable:e,optimisticMid:f})},"readwrite",void 0,void 0,f.id+":32")},a[0]=b,a[1]=e):e=a[1];return e}g.default=a}),98);
__d("useMaybeCreateThreadForMAWSendSecurMessageV2",["LSDatabaseSingleton","MAWMiActMaybeCreateActThread","MAWWaitForBackendSetup","QPLUserFlow","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){return i}async function i(a,b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_start",{instanceKey:b});var e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"db_resolved_in_maybe_create_thread_success",{instanceKey:b});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"participant_ids_fetched",{instanceKey:b});d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_start");return d("MAWWaitForBackendSetup").waitForBackendSetup("maybe-create-thread-for-send").then(function(){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_backend_setup_complete");return c("MAWMiActMaybeCreateActThread")(e,a,"maybe-create-thread-for-send",b)}).then(function(a){d("sendToSentQPLLogger").markSendToSentPoint(b,"maybe_create_mi_thread_end");return a})}g.default=a}),98);
__d("useMAWSendSecureGifAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureGifAttachmentMessage"]);function a(){var a=d("MWPActor.react").useActor(),b=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),e=c("useLSMessagingInitiatingSourceNumber")(),f=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),g=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),k=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(async function(l){var m=l.accessibilityLabel,n=l.externalAttachmentUrl,o=l.lssTraceApi,p=l.messageExternalId,q=l.onGenerateOfflineMsgId,r=l.reply,s=l.s2sInstanceKey,t=l.source;l=l.thread;j.debug("Starting GIF attachment message send");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=await Promise.all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b(l.threadKey,s)]),y=x[0];x=x[1];v=x;x=await d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,l.threadKey);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:s});o==null||o.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");n=await d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(n,s);n=new File([n],"gifFromPicker",{type:n.type});o==null||o.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");d("sendToSentQPLLogger").addSendToSentAnnotations(s,{string:{original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(n.size)}});o==null||o.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(n.size));o==null||o.addMarkerPoint("create_optimistic_message_start","AppTiming");var z=await d("MAWImagePreProcess").optimisticImagePreprocess(n,!1);z=await f(r,l.threadKey,v,w,z,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE),p);z!=null?(u.set(w,{messageExternalId:p,offlineMsgTimestamp:z.offlineMsgTimestamp}),g(z.messageExternalId,z.offlineMsgTimestamp),o==null||o.addMarkerPoint("create_optimistic_message_success","AppTiming")):(j.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),o==null||o.addMarkerPoint("create_optimistic_message_fail","AppTiming"));o==null||o.addMarkerPoint("preprocess_start","AppTiming");q=await d("MAWImagePreProcess").imagePreprocess(n,!1);o==null||o.addMarkerPoint("preprocess_end","AppTiming");p=[[q,w]];z=new Map();z.set(w,m);n={actorId:a,attachments:p,axLabels:z,chatJid:v.jid,db:y,ephemeralSetting:x,initiatingSource:e,isFirstMsg:v.isCreated,lssTraceApi:o,offlineAttachmentIdToMessageData:u,reply:r,s2sInstanceKey:s,source:t,thread:l};return await d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(y,n)}catch(a){q=a instanceof Error?a.message:"Fail to send secure attachment message";w=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&await k(w,q,!1);j.catching(a).mustfix("Send GIF attachment message failed");throw a}},[a,f,g,e,k,b])}g.default=a}),98);
__d("MAWSendExternalLinkXMAV2",["ConstUriUtils","MAWBridgeSendAndReceive","MAWExternalId","MAWExternalLinkUtil","MAWGetEphemeralSettings","MAWImagePreProcess","MAWMessageSendReporter","MAWParseXMAProtocol","MAWXMALoggingUtils","MWPBumpEntityKey","WAArmadilloXMA.pb","WALogger","WAMediaQplHelper","WAResultOrError","justknobx","qpl","sendToSentQPLLogger"],(function(a,b,c,d,e,f,g){"use strict";var h;async function a(a,b){var e=a.chatJid,f=a.commands,g=a.lssTraceApi,i=a.mentionedJids,j=a.message,k=a.offlineAttachmentId,l=a.optimisticMessageData,m=a.previewBlob,n=a.quote,o=a.s2sInstanceKey,p=a.source,q=a.threadKey;a=a.xmaData;g==null||g.addMarkerPoint("send_secure_link_preview_xma_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(o,"send_secure_link_preview_xma_message_start");q=await d("MAWGetEphemeralSettings").getEphemeralSetting(e,q);var r=void 0;if(m!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(m.type)){m=new File([m],"preview",{type:m.type});m=await d("MAWImagePreProcess").generateImageThumbnailInWorkerWithFallback(m,c("justknobx")._("2033"));var s=new File([m.jpegThumbnail],"preview",{type:"image/jpeg"});r={file:s,height:m.height,width:m.width};g==null||g.addAnnotation("sent_xma_preview_file_size_bucket",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(r.file.size));d("sendToSentQPLLogger").addSendToSentAnnotations(o,{string:{sent_xma_preview_file_size_bucket:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(r.file.size)}})}g==null||g.addAnnotationBoolean("has_xma_preview",r!=null);d("sendToSentQPLLogger").addSendToSentAnnotations(o,{bool:{has_xma_preview:r!=null}});s={commands:f?Array.from(f):void 0,content:j,ephemeralSetting:q==null?void 0:q,mentionedJids:i?Array.from(i):void 0,offlineAttachmentId:k==null?void 0:k,optimisticMsg:l==null?void 0:{msgId:l==null?void 0:l.messageExternalId,ts:l==null?void 0:l.offlineMsgTimestamp},quote:n,source:p,xmaMessageType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE};f=(m=d("ConstUriUtils").getUri(a.url))==null?void 0:m.getDomain();j=d("MAWXMALoggingUtils").getXmaTargetTypeStringFromEnum(s.xmaMessageType);g==null||g.addAnnotation("xmaTargetType",j!=null?j:"undefined");d("sendToSentQPLLogger").addSendToSentAnnotations(o,{string:{xmaTargetType:j}});d("ConstUriUtils").isValidUri(a.url)||d("WALogger").ERROR(h||(h=babelHelpers.taggedTemplateLiteralLoose(['S410301 The externalLinkUrl set as native and action URL in XMA is not a valid URI"'])));d("MAWParseXMAProtocol").isURLValid(a.url,d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_EXTENDED_CONTENT_TYPE.MSG_EXTERNAL_LINK_SHARE,!1,!0)?d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_valid"):d("MWPBumpEntityKey").bumpEntityKey("maw.xma_invalid_url","web_link_preview_url_invalid");i={defaultCTA:{actionUrl:a.url,buttonType:d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_CTA_BUTTON_TYPE.OPEN_NATIVE,nativeUrl:a.url},overlayIconGlyph:void 0,subtitleText:a.author_name,titleText:(q=a.title)!=null?q:f};g==null||g.addMarkerPoint("sending_message_to_wajob_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_start");n=(k=l==null?void 0:l.messageExternalId)!=null?k:d("MAWExternalId").generateExternalId();d("sendToSentQPLLogger").addSendToSentAnnotations(o,{string:{attachment_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket((m=(p=r)==null?void 0:p.file.size)!=null?m:0)}});g==null||g.addMetadata("attachment_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket((a=(j=r)==null?void 0:j.file.size)!=null?a:0));q=d("MAWBridgeSendAndReceive").sendAndReceive("backend","sendXMAShareMsg",{args:s,chatJid:e,previewFile:r!=null?r:void 0,qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o,xmaArgs:i,xmaMsgExternalId:n});g==null||g.addMarkerPoint("sending_message_to_wajob_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(o,"sending_message_to_wajob_end");await d("MAWMessageSendReporter").MAWMessageSendReporter({chatJid:e,externalId:n},q,{qplEventType:c("qpl")._(25313175,"1551"),qplInstanceKey:o},b);return d("WAResultOrError").makeResult({description:"removal pending rollout of MAWMessageSendReporterV2",messageType:"fixMe"})}g.sendExternalLinkXMAV2=a}),98);
__d("useMAWCreateOptimisticSecureMessageV2",["I64","MAWCreateOptimisticSecureMessage","MAWOptimisticMessageUtils","MWPActor.react","QPLUserFlow","qpl","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(h||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(3),b=c("useAsyncReStore")(),e=d("MWPActor.react").useActor(),g;a[0]!==b||a[1]!==e?(g=function(a,g,h,j,k,l,m,n,o,p,q){return Promise.resolve(b).then(async function(b){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message_restore_resolved",{instanceKey:k});return b.runInTransaction(async function(f){c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"before_create_optimistic_message",{instanceKey:k});var r=d("MAWOptimisticMessageUtils").getOptimisticMessageTimestamp(),s=(i||(i=d("I64"))).of_float(r);m(n);q==null||q.addMarkerPoint("set_offline_message_external_id_for_secure_message","AppTiming");s=await d("MAWCreateOptimisticSecureMessage").buildOptimisticLsMessage(b,f,e,a,g,h,j,k,l,n,s,1,o,p);await f.messages.add(s);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"after_create_optimistic_message",{instanceKey:k});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_start",{instanceKey:k});await d("MAWOptimisticMessageUtils").optimisticBumpThread(f,{threadKey:h});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"optimistic_bump_thread_end",{instanceKey:k});return{messageExternalId:n,offlineMsgTimestamp:r}},"readwrite","ui",void 0,f.id+":71")})},a[0]=b,a[1]=e,a[2]=g):g=a[2];return g}g.default=a}),98);
__d("useMAWSendSecureTextMessage",["MAWDbMsg","MAWGetEphemeralSettings","MAWGetProtocolMsgIdByMsgIdInUI","MAWStateContext.react","MAWVault","MWFBLogger","emptyFunction","promiseDone","react","sendToSentQPLLogger","useMAWCreateOptimisticSecureMessageV2","useMAWSendMessageV2","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useCallback;function a(){var a=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),b=c("useMAWSendMessageV2")(),e=c("useMAWCreateOptimisticSecureMessageV2")(),f=c("useMarkOptimisticMessagesAsFailed")(),g=d("MAWStateContext.react").useDispatchOptimisticSendMessage();return j(async function(i,j){var k=j.commands,l=j.hotEmojiSize,m=j.lssTraceApi,n=j.mentionedJids,o=j.messageExternalId,p=j.messageText,q=j.onGenerateOfflineMsgId,r=j.reply,s=j.s2sInstanceKey,t=j.source,u=j.thread;d("sendToSentQPLLogger").markSendToSentPoint(s,"send_secure_message_start");j=null;try{m==null||m.addMarkerPoint("create_optimistic_message_start","AppTiming");var v=await Promise.all([d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",s,function(){return a(u.threadKey,s)}),d("sendToSentQPLLogger").measureSendToSentPerformance("create_optimistic_message_v2",s,function(){return e(r,d("MAWVault").vault(p),u.threadKey,l,s,n,q!=null?q:c("emptyFunction"),o,k,void 0,m)})]),w=v[0];v=v[1];m==null||m.addMarkerPoint("create_optimistic_message_end","AppTiming");var x=v.offlineMsgTimestamp;g(v.messageExternalId,Date.now());d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_start");j=j===null?await d("MAWGetEphemeralSettings").getEphemeralSetting(w.jid,u.threadKey):j;d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_end");v=null;if(r!=null){d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_reply_message_start");var y=d("MAWDbMsg").toMsgId(r.messageId);y!=null&&(v=await d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(y));d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_reply_message_end")}return await b(i,u.threadKey,u.threadType,w.jid,p,t,void 0,o,x,l,w.isCreated,void 0,void 0,v,j,n,s,o,k)}catch(a){y=a instanceof Error?a.message:"Fail to send secure text message";o!=null&&c("promiseDone")(f([o],y,!1));d("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureTextMessage"]).MUSTFIX(h||(h=babelHelpers.taggedTemplateLiteralLoose(["Send text message failed: ",""])),JSON.stringify(a));throw a}},[e,g,f,a,b])}g.default=a}),98);
__d("useMAWSendSecureLinkXMAMessage",["ConstUriUtils","E2EELinkPreviewXMADataStatus","E2EELinkPreviewXMADataType","E2EELinkPreviewXMASendStatus","I64","LSXmaContentType","MAWDbMsg","MAWExternalId","MAWExternalLinkUtil","MAWFetchXMABlob","MAWFindFirstUrl","MAWGetProtocolMsgIdByMsgIdInUI","MAWImagePreProcess","MAWLinkPreviewDataStatusUtils","MAWLinkPreviewDataTypeUtils","MAWParseLinkPreviewXMAData","MAWSendExternalLinkXMAV2","MAWStateContext.react","MAWVault","MWFBLogger","MWPBumpEntityKey","ReQL","WAMediaQplHelper","clearTimeout","emptyFunction","isFacebookURI","justknobx","react","sendToSentQPLLogger","setTimeout","useMAWCreateOptimisticSecureMessageWithXMAAttachment","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureTextMessage","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useCallback,k=d("MWFBLogger").MWSharingLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureLinkXMAMessage"]);function a(a){var b=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),e=c("useMAWSendSecureTextMessage")(),f=d("useMAWCreateOptimisticSecureMessageWithXMAAttachment").useMAWCreateOptimisticSecureMessageWithXMAAttachment(),g=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),h=c("useMarkOptimisticMessagesAsFailed")(),r=c("useMAWDeleteLinkPreviewXMATableData")(a);return j(async function(a,j){var s=j.commands,t=j.currentDraftId,u=j.lssTraceApi,v=j.mentionedJids,w=j.messageExternalId,x=j.messageText,y=j.onGenerateOfflineMsgId,z=j.reply,A=j.s2sInstanceKey,B=j.source,C=j.thread,D=j.threadKey;k.debug("Starting Link Preview XMA attachment message send");j=d("MAWFindFirstUrl").findFirstUrl(x);j=j.length>0?j[0]:null;void l(a,t);var E;try{u==null||u.addMarkerPoint("get_link_preview_data_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"get_link_preview_data_start");var F=await m(a,t,A,u),G=F==null?void 0:F.xmaData,H=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(F==null?void 0:F.dataType,c("E2EELinkPreviewXMADataType").OEMBED),I=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").DISABLED);d("sendToSentQPLLogger").addSendToSentAnnotations(A,{bool:{has_xma_data:G!=null,is_link_preview_oembed_data:H}});u==null||u.addAnnotationBoolean("has_xma_data",G!=null);u==null||u.addAnnotationBoolean("is_link_preview_oembed_data",H);if(t==null||j==null||I){u==null||u.addMarkerPoint("send_link_message_as_text","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"send_link_message_as_text");return e(a,{commands:s,lssTraceApi:u,mentionedJids:v,messageExternalId:w,messageText:x,onGenerateOfflineMsgId:y,reply:z,s2sInstanceKey:A,source:B,thread:C})}I={title:(I=d("ConstUriUtils").getUri(j.entity.url))==null?void 0:I.getDomain(),url:j.entity.url};j=G!=null?G:I;u==null||u.addMarkerPoint("get_link_preview_data_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"get_link_preview_data_end");var J=await p(z);u==null||u.addMarkerPoint("set_offline_attachment_id","AppTiming");E=await d("sendToSentQPLLogger").measureSendToSentPerformance("maybe_create_thread",A,function(){return b(D,A)});u==null||u.addMarkerPoint("fetch_link_preview_blob_start","AppTiming");var K=await d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",A,function(){return n(H,G)});o(A,K);u==null||u.addMarkerPoint("fetch_link_preview_blob_end","AppTiming");u==null||u.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_start");var L=null;if(K!=null&&d("MAWExternalLinkUtil").allowedPreviewTypes.includes(K.type)){var M=new File([K],"preview",{type:K.type});L=await d("MAWImagePreProcess").optimisticImagePreprocess(M)}M=d("MAWExternalId").generateExternalId();y=await f({commands:s,instanceKey:A,lssTraceApi:u,mentionedJids:v,messageExternalId:w,messageText:d("MAWVault").vault(x),offlineAttachmentId:M,onOfflineMsgId:y!=null?y:c("emptyFunction"),optimisticMediaAttachment:L,reply:z,subtitleText:j==null?void 0:j.author_name,threadKey:C.threadKey,titleText:j==null?void 0:j.title,xmaContentType:(i||(i=d("I64"))).of_int32(c("LSXmaContentType").MSG_EXTERNAL_LINK_SHARE)});L=y!=null?{messageExternalId:w,offlineMsgTimestamp:y.offlineMsgTimestamp}:void 0;L!=null?(u==null||u.addMarkerPoint("dispatch_optimistic_send_message","AppTiming"),g(L.messageExternalId,L.offlineMsgTimestamp),u==null||u.addMarkerPoint("create_optimistic_message_success","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_end")):(k.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),u==null||u.addMarkerPoint("create_optimistic_message_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(A,"create_optimistic_message_fail"));z=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(F==null?void 0:F.dataStatus,c("E2EELinkPreviewXMADataStatus").LOADED);C={chatJid:E.jid,commands:s,lssTraceApi:u,mentionedJids:v,message:x,offlineAttachmentId:M,optimisticMessageData:L,quote:J!=null?J:void 0,s2sInstanceKey:A,source:B,threadKey:D};d("MWPBumpEntityKey").bumpEntityKey("maw.send_secure_link_xma",G==null?"xma_data_is_null":"xma_data_is_not_null");if(G!=null&&!z){u==null||u.addMarkerPoint("wait_for_link_preview_data_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(A,"wait_for_link_preview_data_start");y=await q(a,t,A,r);F=y.previewBlob;s=y.xmaData;v=(s==null?void 0:s.url)!=null?d("ConstUriUtils").getUri(s.url):null;x=v!=null?c("isFacebookURI")(v):!1;u==null||u.addAnnotationBoolean("has_preview_blob",F!=null);u==null||u.addAnnotationBoolean("has_xma_data",s!=null);u==null||u.addAnnotationBoolean("is_facebook_link",x);d("sendToSentQPLLogger").addSendToSentAnnotations(A,{string:{original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket((M=F==null?void 0:F.size)!=null?M:0)}});u==null||u.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket((L=F==null?void 0:F.size)!=null?L:0));return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},C,{previewBlob:F,xmaData:s!=null?s:I}),a)}else u==null||u.addMarkerPoint("wait_for_link_preview_data_skipped","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(A,"wait_for_link_preview_data_skipped");J=(G==null?void 0:G.url)!=null?d("ConstUriUtils").getUri(G.url):null;B=J!=null?c("isFacebookURI")(J):!1;u==null||u.addAnnotationBoolean("has_preview_blob",K!=null);u==null||u.addAnnotationBoolean("has_xma_data",G!=null);u==null||u.addAnnotationBoolean("is_facebook_link",B);d("sendToSentQPLLogger").addSendToSentAnnotations(A,{string:{original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket((z=K==null?void 0:K.size)!=null?z:0)}});u==null||u.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket((t=K==null?void 0:K.size)!=null?t:0));return d("MAWSendExternalLinkXMAV2").sendExternalLinkXMAV2(babelHelpers.extends({},C,{previewBlob:K,xmaData:j}),a)}catch(a){y=a instanceof Error?a.message:"Fail to send secure attachment message";E!=null&&await h([w],y,!1);k.catching(a).mustfix("[External link] Failed to send external link XMA ");throw a}},[f,r,g,h,b,e])}async function l(a,b){if(b==null)return;await a.runInTransaction(async function(a){var e=await a.e2ee_composer_draft_link_preview.get(b);await a.e2ee_composer_draft_link_preview.upsert([b],babelHelpers.extends({},e,{draftId:b,sendStatus:(i||(i=d("I64"))).of_int32(c("E2EELinkPreviewXMASendStatus").SENDING)}))},"readwrite",void 0,void 0,f.id+":459")}async function m(a,b,e,g){if(b==null){d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_no_draft_id");g==null||g.addMarkerPoint("get_link_preview_xma_data_from_table_no_draft_id","AppTiming");return null}d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_start");g==null||g.addMarkerPoint("get_link_preview_xma_data_from_table_start","AppTiming");var h=null;a=await Promise.race([a.runInTransaction(function(a){return a.e2ee_composer_draft_link_preview.get(b)},"readonly",void 0,void 0,f.id+":503"),new Promise(function(a){h=c("setTimeout")(function(){d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_timeout"),g==null||g.addMarkerPoint("get_link_preview_xma_data_from_table_timeout","AppTiming"),a(void 0)},c("justknobx")._("3137"))})]);c("clearTimeout")(h);d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_end");g==null||g.addMarkerPoint("get_link_preview_xma_data_from_table_end","AppTiming");d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADING)&&(d("sendToSentQPLLogger").markSendToSentPoint(e,"get_link_preview_xma_data_from_table_still_loading"),g==null||g.addMarkerPoint("get_link_preview_xma_data_from_table_still_loading","AppTiming"));return{dataStatus:a==null?void 0:a.status,dataType:a==null?void 0:a.dataType,xmaData:d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a)}}var n=function(a,b){return a?d("MAWExternalLinkUtil").getImageBlobResponse({xmaData:b}):d("MAWFetchXMABlob").fetchBlob({descriptionForLogging:"useMAWSendSecureLinkXMAMessage",url:b==null?void 0:b.thumbnail_url,xmaContentType:void 0})},o=function(a,b){d("sendToSentQPLLogger").addSendToSentAnnotations(a,{bool:{has_fetched_xma_preview:b!=null},string:{fetched_xma_preview_file_size_bucket:b!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.size):void 0}})},p=function(a){if(a!=null){a=d("MAWDbMsg").toMsgId(a.messageId);if(a!=null)return d("MAWGetProtocolMsgIdByMsgIdInUI").getProtocolMsgIdByMsgIdUI(a)}return null};async function q(a,b,c,e){var f={ref:void 0},g=await d("sendToSentQPLLogger").measureSendToSentPerformance("wait_for_link_preview_data",c,function(){return r(a,b,c,e,f)});f.ref!=null&&window.clearTimeout(f.ref);if(g==null)return{previewBlob:null,xmaData:null};var h=g.isOEmbedData,i=g.xmaData;g=await d("sendToSentQPLLogger").measureSendToSentPerformance("fetch_link_preview_blob",c,function(){return n(h,i)});return{previewBlob:g,xmaData:i}}function r(a,b,e,f,g){var h=c("justknobx")._("3137");return Promise.race([s(a,b,e,f),new Promise(function(a){g.ref=window.setTimeout(function(){d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_data_timeout"),a(null)},h)})])}function s(a,b,e,f){d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_data_subscribe_to_lsdb_table_start");return new Promise(function(g){var h=d("ReQL").fromTableAscending(a.tables.e2ee_composer_draft_link_preview).getKeyRange(b).subscribe(function(a,i){if(i.operation==="delete")return;a=i.value;i=d("MAWParseLinkPreviewXMAData").parseLinkPreviewXMAData(a);var j=d("MAWLinkPreviewDataStatusUtils").linkPreviewDataStatusIsOfType(a==null?void 0:a.status,c("E2EELinkPreviewXMADataStatus").LOADED);if(!j||i==null)return;h();b!=null&&void f({draftId:b});j=d("MAWLinkPreviewDataTypeUtils").linkPreviewDataTypeIsOfType(a==null?void 0:a.dataType,c("E2EELinkPreviewXMADataType").OEMBED);d("sendToSentQPLLogger").markSendToSentPoint(e,"wait_for_link_preview_data_subscribe_to_lsdb_table_end");g({isOEmbedData:j,xmaData:i})})})}g.default=a}),98);
__d("useMAWCreateOptimisticSecureMessagesWithAttachments",["MAWCreateOptimisticSecureMessageWithAttachment","MAWSendFileMsgTypes","MWPActor.react","Promise","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(){var a=d("react-compiler-runtime").c(3),e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;a[0]!==e||a[1]!==g?(j=function(a,c,i,j,k,l,m,n){return e.runInTransaction(function(f){return(h||(h=b("Promise"))).all(m.map(function(i){var m=i.attachmentType,o=i.messageExternalId,p=i.offlineAttachmentId;i=i.optimisticMediaAttachment;if(m==null)return(h||(h=b("Promise"))).resolve();var q=n.get(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(p));return d("MAWCreateOptimisticSecureMessageWithAttachment").createOptimisticMessageWithAttachment(e,f,g,a,c,p,i,j,k,m,o,l,q)}))},"readwrite","ui",void 0,f.id+":58")},a[0]=e,a[1]=g,a[2]=j):j=a[2];return j}g["default"]=a}),98);
__d("useMAWSendSecureStagedMediaAttachmentMessage",["I64","Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWGetEphemeralSettings","MAWMediaManagerUtils","MAWPrepareAttachmentsFromMediaManager","MAWSecureAttachmentGroupingUtils","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WAMediaQplHelper","err","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMAWCreateOptimisticSecureMessagesWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=d("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStagedMediaAttachmentMessage"]);function a(){var a=d("MWPActor.react").useActor(),b=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),e=c("useLSMessagingInitiatingSourceNumber")();c("useMAWCreateOptimisticSecureMessageWithAttachments")();var f=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),g=c("useMarkOptimisticMessagesAsFailed")(),l=c("useMAWCreateOptimisticSecureMessagesWithAttachments")();return d("Int64Hooks").useCallbackInt64(async function(m){var n=m.lssTraceApi,o=m.mediaStagings,p=m.messageTypeParams,q=m.onGenerateOfflineMsgId,r=m.reply,s=m.s2sInstanceKey,t=m.source;m=m.thread;k.debug("Starting staged media attachment message send");var u=new Map(),v;try{var w=null,x=d("MAWSecureAttachmentGroupingUtils").orderMediaStagingsForGrouping(o);w=d("MAWSecureAttachmentGroupingUtils").generateMediaGroupMetadataForMediaStagings(x);var y=x.reduce(function(a,b){a.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(b.offlineAttachmentId),(h||(h=d("I64"))).equal(b.attachmentType,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))?b.isHd:void 0);return a},new Map()),z=!1;y.forEach(function(a){z=z||a===!0});d("sendToSentQPLLogger").addSendToSentAnnotations(s,{bool:{has_hd_media:z}});n==null||n.addAnnotationBoolean("has_hd_media",z);var A=new Map();v=await b(m.threadKey,s);n==null||n.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_start");var B=x.map(function(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);b=b==null?void 0:b.optimisticMedia;if(b==null){k.mustfix("Failed while sending secure optimistic media message: unable to find optimistic media attachment in useMAWSendSecureAttachmentMessage");return null}var c=d("MAWExternalId").generateExternalId();c={attachmentType:a.attachmentType,messageExternalId:c,offlineAttachmentId:a.offlineAttachmentId,optimisticMediaAttachment:b};return c}).filter(Boolean);B=await l(r,m.threadKey,v,s,q,w,B,y);B.forEach(function(a){if(a==null||a.offlineAttachmentId==null){k.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message");return null}u.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),{messageExternalId:a.messageExternalId,offlineMsgTimestamp:a.offlineMsgTimestamp});f(a.messageExternalId,a.offlineMsgTimestamp)});n==null||n.addMarkerPoint("create_optimistic_message_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_end");n==null||n.addMarkerPoint("get_preprocess_media_start","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_start");await Promise.all(x.map(async function(a){var b=d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.get(a.offlineAttachmentId);if(b==null){d("sendToSentQPLLogger").markSendToSentPoint(s,"media_attachment_nullfrom_media_manager_attachment_v2");d("sendToSentQPLLogger").addSendToSentAnnotations(s,{int:{media_manager_attachment_v2_size:d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.size}});k.mustfix("Failed while sending secure media message: unable to find media attachment in useMAWSendSecureAttachmentMessage");return}await b.processedMediaPromise.then(function(b){A.set(d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromString(a.offlineAttachmentId),b)}).catch(function(a){a=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to preprocess media: "+JSON.stringify(a));throw a}).finally(function(){var a=b.optimisticMedia;a!=null&&c("QPLUserFlow").addAnnotations(c("qpl")._(25313175,"1551"),{string:{optimistic_media_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(a.file.size),optimistic_media_file_type:a.file.type,optimistic_media_type:a.type}},{instanceKey:s});d("sendToSentQPLLogger").addSendToSentAnnotations(s,{string:{original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.originalFile.size)}});n==null||n.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(b.originalFile.size))})})).catch(function(a){n==null||n.addMarkerPoint("get_preprocess_media_fail","AppTiming"),d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_fail"),a instanceof Error&&d("sendToSentQPLLogger").addSendToSentAnnotations(s,{string:{error:a.message}})});n==null||n.addMarkerPoint("get_preprocess_media_end","AppTiming");d("sendToSentQPLLogger").markSendToSentPoint(s,"get_preprocess_media_end");B=d("MAWPrepareAttachmentsFromMediaManager").prepareAttachmentsFromMediaManagerImpl(x,p,q,A,s);x=B.attachments;c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ls_singleton_db",{instanceKey:s});p=await (j||(j=d("LSDatabaseSingleton"))).LSDatabaseSingleton;c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"ls_singleton_db_resolved",{instanceKey:s});c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"thread_result_fetched",{instanceKey:s});d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_start");q=await d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,m.threadKey);d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_end");B={actorId:a,attachments:x,chatJid:v.jid,db:p,ephemeralSetting:q,hdMediaMap:y,initiatingSource:e,isFirstMsg:v.isCreated,lssTraceApi:n,mediaGroupMetadataMap:w,offlineAttachmentIdToMessageData:u,reply:r,s2sInstanceKey:s,source:t,thread:m};return await d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(p,B)}catch(a){x=a instanceof Error?a:c("err")(typeof a==="string"?a:"Fail to send secure attachment message: "+JSON.stringify(a));q=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&await g(q,x.message,!1);k.catching(x).mustfix("Send staged media attachment message failed");throw x}finally{o.map(function(a){return d("MAWMediaManagerUtils").MAWMediaManagerAttachmentsV2.delete(a.offlineAttachmentId)})}},[a,l,f,e,g,b])}g.default=a}),98);
__d("useMAWSendSecureStickerAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWExternalId","MAWFetchExternalAttachmentBlob","MAWGetEphemeralSettings","MAWImagePreProcess","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWPActor.react","MessagingAttachmentType","WAMediaQplHelper","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureStickerAttachmentMessage"]);function a(){var a=d("MWPActor.react").useActor(),b=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),e=c("useLSMessagingInitiatingSourceNumber")(),f=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),g=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),k=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(async function(l){var m=l.accessibilityLabel,n=l.externalAttachmentUrl,o=l.lssTraceApi,p=l.messageExternalId,q=l.onGenerateOfflineMsgId,r=l.reply,s=l.s2sInstanceKey,t=l.source;l=l.thread;d("sendToSentQPLLogger").markSendToSentPoint(s,"send_secure_message_start");j.debug("Starting sticker attachment message send");var u=new Map(),v;try{var w=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),x=await Promise.all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b(l.threadKey,s)]),y=x[0];x=x[1];v=x;d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_start");x=await d("MAWGetEphemeralSettings").getEphemeralSetting(v.jid,l.threadKey);d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_ephemeral_settings_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_external_attachment_blob_start");o==null||o.addMarkerPoint("fetch_external_attachment_blob_start","AppTiming");n=await d("MAWFetchExternalAttachmentBlob").fetchExternalAttachmentBlob(n,s);var z=new File([n],"stickerFromPicker",{type:n.type});d("sendToSentQPLLogger").markSendToSentPoint(s,"fetch_external_attachment_blob_end");o==null||o.addMarkerPoint("fetch_external_attachment_blob_end","AppTiming");o==null||o.addMarkerPoint("create_optimistic_message_start","AppTiming");d("sendToSentQPLLogger").addSendToSentAnnotations(s,{string:{original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(z.size)}});o==null||o.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(z.size));d("sendToSentQPLLogger").markSendToSentPoint(s,"optimist_image_preprocess_start");z=await d("MAWImagePreProcess").optimisticImagePreprocess(z,!0);d("sendToSentQPLLogger").markSendToSentPoint(s,"optimist_image_preprocess_end");d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_start");z=await f(r,l.threadKey,v,w,z,s,q,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER),p);z!=null?(u.set(w,{messageExternalId:p,offlineMsgTimestamp:z.offlineMsgTimestamp}),g(z.messageExternalId,z.offlineMsgTimestamp),d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_end"),o==null||o.addMarkerPoint("create_optimistic_message_end","AppTiming")):(j.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for sticker"),d("sendToSentQPLLogger").markSendToSentPoint(s,"create_optimistic_message_fail"),o==null||o.addMarkerPoint("create_optimistic_message_fail","AppTiming"));d("sendToSentQPLLogger").markSendToSentPoint(s,"image_preprocess_start");o==null||o.addMarkerPoint("image_preprocess_start","AppTiming");q=await d("MAWImagePreProcess").imagePreprocess(new File([n],"stickerFromPicker",{type:n.type}),!0);d("sendToSentQPLLogger").markSendToSentPoint(s,"image_preprocess_end");o==null||o.addMarkerPoint("image_preprocess_end","AppTiming");p=[[q,w]];z=new Map();z.set(w,m);n={actorId:a,attachments:p,axLabels:z,chatJid:v.jid,db:y,ephemeralSetting:x,initiatingSource:e,isFirstMsg:v.isCreated,lssTraceApi:o,offlineAttachmentIdToMessageData:u,reply:r,s2sInstanceKey:s,source:t,thread:l};return await d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(y,n)}catch(a){q=a instanceof Error?a.message:"Fail to send secure attachment message";w=Array.from(u.values()).map(function(a){a=a.messageExternalId;return a});v&&await k(w,q,!1);j.catching(a).mustfix("Send sticker attachment message failed");throw a}},[a,f,g,e,k,b])}g.default=a}),98);
__d("useMAWSendSecureVoiceClipAttachmentMessage",["Int64Hooks","LSDatabaseSingleton","LSIntEnum","MAWAudioPreProcess","MAWExternalId","MAWGetEphemeralSettings","MAWSendFileMsgIfNecessaryV2","MAWSendFileMsgTypes","MAWStateContext.react","MWFBLogger","MWMediaRenderQplUtils","MWPActor.react","MessagingAttachmentType","QPLUserFlow","WABlobToArrayBuffer","WAMediaQplHelper","getErrorSafe","qpl","sendToSentQPLLogger","useLSMessagingInitiatingSourceNumber","useMAWCreateOptimisticSecureMessageWithAttachments","useMarkOptimisticMessagesAsFailed","useMaybeCreateThreadForMAWSendSecurMessageV2"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=d("MWFBLogger").MWMediaLogger().tags(["Composer","MAWSendSecureMessageV2","useMAWSendSecureVoiceClipAttachmentMessage"]);function a(){var a=d("MWPActor.react").useActor(),b=c("useMaybeCreateThreadForMAWSendSecurMessageV2")(),e=c("useLSMessagingInitiatingSourceNumber")(),f=c("useMAWCreateOptimisticSecureMessageWithAttachments")(),g=d("MAWStateContext.react").useDispatchOptimisticSendMessage(),k=c("useMarkOptimisticMessagesAsFailed")();return d("Int64Hooks").useCallbackInt64(async function(l){var m=l.lssTraceApi,n=l.messageExternalId,o=l.onGenerateOfflineMsgId,p=l.reply,q=l.s2sInstanceKey,r=l.source,s=l.thread;l=l.voiceClip;j.debug("Starting voice clip attachment message send");var t=new Map(),u;try{var v=d("MAWSendFileMsgTypes").toOfflineAttachmentIDFromStanzaId(d("MAWExternalId").generateExternalId()),w=await Promise.all([(h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton,b(s.threadKey,q)]),x=w[0];w=w[1];u=w;w=await d("MAWGetEphemeralSettings").getEphemeralSetting(u.jid,s.threadKey);c("QPLUserFlow").addPoint(c("qpl")._(25313175,"1551"),"fetch_ephemeral_settings",{instanceKey:q});d("sendToSentQPLLogger").addSendToSentAnnotations(q,{string:{audio_duration_bucket:d("MWMediaRenderQplUtils").convertDurationToStringBucket(l.duration||0),original_file_size:d("WAMediaQplHelper").convertIntegerSizeToStringBucket(l.file.size)}});m==null||m.addMetadata("original_file_size",d("WAMediaQplHelper").convertIntegerSizeToStringBucket(l.file.size));var y=await d("MAWAudioPreProcess").optimisticAudioPreprocess(l.file);m==null||m.addMarkerPoint("create_optimistic_message_start","AppTiming");y=await f(p,s.threadKey,u,v,y,q,o,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO),n);y!=null?(t.set(v,{messageExternalId:n,offlineMsgTimestamp:y.offlineMsgTimestamp}),g(y.messageExternalId,y.offlineMsgTimestamp),m==null||m.addMarkerPoint("create_optimistic_message_success","AppTiming")):(j.mustfix("Failed while sending secure optimistic media message: unable to create optimistic message for GIF"),m==null||m.addMarkerPoint("create_optimistic_message_fail","AppTiming"));o={durations:l.duration||0,file:l.file,isPtt:!0,plaintext:await d("WABlobToArrayBuffer").blobToArrayBuffer(l.file),type:"audio"};n=[[o,v]];y={actorId:a,attachments:n,chatJid:u.jid,db:x,ephemeralSetting:w,initiatingSource:e,isFirstMsg:u.isCreated,lssTraceApi:m,offlineAttachmentIdToMessageData:t,reply:p,s2sInstanceKey:q,source:r,thread:s};return await d("MAWSendFileMsgIfNecessaryV2").sendFileMsgIfNecessaryV2(x,y)}catch(a){l=c("getErrorSafe")(a);o=Array.from(t.values()).map(function(a){a=a.messageExternalId;return a});u&&await k(o,l.message,!1);j.catching(l).mustfix("Send voice clip attachment message failed: %s",l.message);throw l}},[a,f,g,e,k,b])}g.default=a}),98);
__d("useMAWUpdateThreadCapabilities",["LSMessagingThreadTypeUtil","MAWUpdateLSThreadCapabilities","Promise","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),e=(i||(i=c("useReStore")))(),g;a[0]!==e?(g=function(a){return!d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?(h||(h=b("Promise"))).resolve():e.runInTransaction(function(b){return d("MAWUpdateLSThreadCapabilities").updateNonMessageRequestThreadTxn(b,a.threadKey)},"readwrite",void 0,void 0,f.id+":37")},a[0]=e,a[1]=g):g=a[1];return g}g["default"]=a}),98);
__d("useMAWSendSecureMessageV2Impl",["I64","Int64Hooks","LSContactListConversionAttributionStore","LSIntEnum","LSMessagingThreadTypeUtil","MAWMIC","MAWMICInternal","MAWOptimisticUpdateContactRelationship","MAWThreadLoadingState","MAWThreadMappingUtils","MWFBLogger","MWLSLogSend","MWPActor.react","MWPBumpEntityKey","MWPReplyContext.react","MWSharedMsgLogUtils","MWVersion","MessageRequestsLog","MessengerClickImpressionEventsLoggerUtils","MessengerInboxTrayClickImpressionEventsLoggerImpl","MessengerSidebarClickImpressionEventsLoggerImpl","WAGetSafeQPLError","err","promiseDone","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useMAWDeleteLinkPreviewXMATableData","useMAWSendSecureGifAttachmentMessage","useMAWSendSecureLinkXMAMessage","useMAWSendSecureStagedMediaAttachmentMessage","useMAWSendSecureStickerAttachmentMessage","useMAWSendSecureTextMessage","useMAWSendSecureVoiceClipAttachmentMessage","useMAWUpdateThreadCapabilities","useMWLSDefaultThreadSourceAndResetAttribution","useMWLSUnarchiveThread","waitForMAWMIC"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext,l=d("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]);function a(a,b,e){var f=d("react-compiler-runtime").c(31),g=d("MWPActor.react").useActor(),h=k(d("MWPReplyContext.react").MWPReplyContext),p=h.clearReply,q=c("useAsyncReStore")(),r=c("useMAWSendSecureTextMessage")(),s=c("useMAWSendSecureLinkXMAMessage")(b),t=c("useMAWDeleteLinkPreviewXMATableData")(b),u=c("useMAWSendSecureGifAttachmentMessage")(),v=c("useMAWSendSecureStagedMediaAttachmentMessage")(),w=c("useMAWSendSecureStickerAttachmentMessage")(),x=c("useMAWSendSecureVoiceClipAttachmentMessage")(),y=c("useMWLSUnarchiveThread")(),z=c("useMAWUpdateThreadCapabilities")(),A=d("MessengerClickImpressionEventsLoggerUtils").useGetUniqueThreadID(e,b);h=c("useMWLSDefaultThreadSourceAndResetAttribution")();f[0]!==g||f[1]!==p||f[2]!==q||f[3]!==t||f[4]!==a||f[5]!==u||f[6]!==s||f[7]!==v||f[8]!==w||f[9]!==r||f[10]!==x||f[11]!==A||f[12]!==y||f[13]!==z?(e=async function(b){var e=b.accessibilityLabel,f=b.commands,h=b.composerEntrypointForLogging,k=b.currentDraftId,B=b.externalAttachmentUrl,C=b.hotEmojiSize,D=b.lssTraceApi,E=b.mediaStagings,F=b.mentionedJids,G=b.messageExternalId,H=b.messageText,I=b.messageTypeParams,J=b.reply,K=b.s2sInstanceKey,L=b.source,M=b.stickerId,N=b.thread;b=b.voiceClip;var O=d("MAWMIC").duringMIC();d("sendToSentQPLLogger").addSendToSentAnnotations(K,{bool:{during_mic:O}});O&&(d("sendToSentQPLLogger").markSendToSentPoint(K,"mic_track_start"),d("sendToSentQPLLogger").addSendToSentAnnotations(K,{string_array:{mic_events:Array.from(d("MAWMICInternal").getRemainingRequiredEvents())}}),c("promiseDone")(d("waitForMAWMIC").promise,function(){d("sendToSentQPLLogger").markSendToSentPoint(K,"mic_track_end")}));l.debug("Starting message send");d("sendToSentQPLLogger").markSendToSentPoint(K,"send_secure_message_start");D.addMarkerPoint("send_secure_message_started","AppTiming");var P=await q;D.addAnnotation("thread_authority_level",(i||(i=d("I64"))).to_string(N.authorityLevel));c("promiseDone")(d("MAWThreadMappingUtils").getChatJidFromMappingTable(P.tables,N.threadKey),function(a){a!=null&&d("MAWThreadLoadingState").genLoadingStateFromJid(P.tables,a).then(function(a){D.addAnnotation("thread_mapping_act_state",a.actState),D.addAnnotation("thread_mapping_mi_state",a.miState),d("sendToSentQPLLogger").addSendToSentAnnotations(K,{string:{thread_authority_level:(i||(i=d("I64"))).to_string(N.authorityLevel),thread_mapping_act_state:a.actState,thread_mapping_mi_state:a.miState}})}).finally(o)});var Q=d("LSMessagingThreadTypeUtil").isMessageRequest(N),R=i.equal(N.parentThreadKey,(j||(j=d("LSIntEnum"))).ofNumber(-10));d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(D,I,N,h);O=function(a){d("MWLSLogSend").logSentHeroInteraction(D,a,{isMessageRequest:Q,mwVersion:d("MWVersion").v2,source:(j||(j=d("LSIntEnum"))).unwrapIntEnum(L),threadType:N.threadType}),d("sendToSentQPLLogger").markSendToSentPoint(K,"offline_msg_id_generated")};var S=[];h=I.hasAttachment;var T=I.hasLinks,U=h===void 0?!1:h,V=T===void 0?!1:T;H!=null&&H!==""&&(V?(S.push(s(P,{commands:f,currentDraftId:k,lssTraceApi:D,mentionedJids:F,messageExternalId:G,messageText:H,onGenerateOfflineMsgId:U?void 0:O,reply:J,s2sInstanceKey:K,source:L,thread:N,threadKey:N.threadKey}).then(function(a){k!=null&&t({draftId:k});return a})),d("sendToSentQPLLogger").markSendToSentPoint(K,"link_xma_message_promise_pushed_to_send_promises")):(S.push(r(P,{commands:f,hotEmojiSize:C,lssTraceApi:D,mentionedJids:F,messageExternalId:G,messageText:H,onGenerateOfflineMsgId:U?void 0:O,reply:J,s2sInstanceKey:K,source:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(K,"text_message_promise_pushed_to_send_promises")));h=!0;U&&(M!=null&&B!=null?(S.push(w({accessibilityLabel:e==null?void 0:e.toString(),externalAttachmentUrl:B,lssTraceApi:D,messageExternalId:G,onGenerateOfflineMsgId:O,reply:J,s2sInstanceKey:K,source:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(K,"sticker_message_promise_pushed_to_send_promises"),h=!1):B!=null?(S.push(u({accessibilityLabel:e==null?void 0:e.toString(),externalAttachmentUrl:B,lssTraceApi:D,messageExternalId:G,onGenerateOfflineMsgId:O,reply:J,s2sInstanceKey:K,source:L,thread:N})),h=!1):b!=null?(S.push(x({lssTraceApi:D,messageExternalId:G,onGenerateOfflineMsgId:O,reply:J,s2sInstanceKey:K,source:L,thread:N,voiceClip:b})),d("sendToSentQPLLogger").markSendToSentPoint(K,"voice_clip_message_promise_pushed_to_send_promises"),h=!1):E.length>0?(S.push(v({lssTraceApi:D,mediaStagings:E,messageTypeParams:I,onGenerateOfflineMsgId:O,reply:J,s2sInstanceKey:K,source:L,thread:N})),d("sendToSentQPLLogger").markSendToSentPoint(K,"staged_media_message_promise_pushed_to_send_promises")):(d("sendToSentQPLLogger").markSendToSentPoint(K,"no_send_promises_pushed_to_send_promises"),l.mustfix("Unable to send attachment in useMAWSendSecureMessageV2Impl: incorrect params")));h&&a();p(N.threadKey,!1);d("sendToSentQPLLogger").markSendToSentPoint(K,"attachment_and_reply_data_cleared");S.length===0?(d("sendToSentQPLLogger").markSendToSentPoint(K,"create_send_promises_fail"),S.push(new Promise(function(a,b){b(c("err")("No send actions taken because hasAttachment="+U.toString()))}))):(d("sendToSentQPLLogger").markSendToSentPoint(K,"create_send_promises_end",void 0,{int:{send_promise_count:S.length}}),D.addMetadata("send_promises_count",S.length));d("sendToSentQPLLogger").markSendToSentPoint(K,"resolve_send_promises_start");(S.length>1||E.length>1)&&d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_message_send","send:"+S.length+".media:"+E.length);return Promise.all(S).then(n).then(async function(a){d("sendToSentQPLLogger").markSendToSentPoint(K,"resolve_send_promises_end");H!=null&&H!==""&&V&&d("sendToSentQPLLogger").markSendToSentSuccess(K);l.debug("Message send finished");var b=d("LSContactListConversionAttributionStore").getAttribution(A);b!=null&&A!=null&&(b.surface.entry_point==="comet_home_sidebar"?d("MessengerSidebarClickImpressionEventsLoggerImpl").logConversionClickEvent(b):b.surface.entry_point==="inbox_tray"&&d("MessengerInboxTrayClickImpressionEventsLoggerImpl").logConversionClickEvent(b),d("LSContactListConversionAttributionStore").resetAttribution(A));d("MAWOptimisticUpdateContactRelationship").call(N,P,g);await z(N);Q&&d("MessageRequestsLog").logActionConfirmed(N,1);R&&y(N.threadKey);b=a==null?void 0:a.find(m);d("sendToSentQPLLogger").markSendToSentPoint(K,"send_attachment_end");return b!=null?[b]:a}).catch(function(a){d("sendToSentQPLLogger").markSendToSentFail(K,"message_send_fail",a);if(a instanceof Error){var b;l.catching(a).addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+U.toString()).mustfix("Failed while sending %s secure messages in useMAWSendSecureMessageV2Impl: %s",S.length,(b=a.message)!=null?b:String(a))}else l.addMetadata("MESSENGER_E2EE_WEB","ERROR_MESSAGE","hasAttachment: "+U.toString()).catching(a).mustfix("Failed while sending secure message in useMAWSendSecureMessageV2Impl");D==null||D.addAnnotation("failType","failSendSecureMessage");D==null||D.failTrace("Failed while sending secure message - "+d("WAGetSafeQPLError").getSafeQPLErrorMessage(a),!0);throw a})},f[0]=g,f[1]=p,f[2]=q,f[3]=t,f[4]=a,f[5]=u,f[6]=s,f[7]=v,f[8]=w,f[9]=r,f[10]=x,f[11]=A,f[12]=y,f[13]=z,f[14]=e):e=f[14];f[15]!==g||f[16]!==p||f[17]!==q||f[18]!==t||f[19]!==h||f[20]!==a||f[21]!==u||f[22]!==s||f[23]!==v||f[24]!==w||f[25]!==r||f[26]!==x||f[27]!==A||f[28]!==y||f[29]!==z?(b=[q,p,h,s,t,r,w,u,x,v,a,A,g,z,y],f[15]=g,f[16]=p,f[17]=q,f[18]=t,f[19]=h,f[20]=a,f[21]=u,f[22]=s,f[23]=v,f[24]=w,f[25]=r,f[26]=x,f[27]=A,f[28]=y,f[29]=z,f[30]=b):b=f[30];return d("Int64Hooks").useCallbackInt64(e,b)}function m(a){return(a==null?void 0:a.success)===!1}function n(a){return a.flat(1)}function o(){}g.default=a}),98);
__d("useMAWSendSecureMessageV2",["FBLogger","I64","LSIntEnum","LSThreadAttributionTypeUtil","MAWExternalId","MAWJids","MWFBLogger","MWMsgMediaTypeLogUtils","MWPReplyContext.react","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","MWV2ComposerActionsContext.react","WACommon.pb","getMWIsDefaultHotlikeStickerId","justknobx","promiseDone","qpl","react","react-compiler-runtime","sendToSentQPLLogger","useAsyncReStore","useCometInteractionTracing","useIsSecureMessageData","useLSMessagingSource","useMAWSendSecureMessageV2Impl"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useContext;function a(a,b,e){var f=d("react-compiler-runtime").c(17),g=k(d("MWPReplyContext.react").MWPReplyContext),h=g.reply;g=h==null?void 0:h.messageId;var m=h==null?void 0:h.threadKey,n=h==null?void 0:h.timestampMs,o;f[0]!==g||f[1]!==m||f[2]!==n?(o={messageId:g,messageThreadKey:m,messageTimestamp:n},f[0]=g,f[1]=m,f[2]=n,f[3]=o):o=f[3];f[4]!==a.threadType?(g={fallbackThreadType:a.threadType},f[4]=a.threadType,f[5]=g):g=f[5];var p=c("useIsSecureMessageData")(o,g);m=k(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsContext);var q=m.onMessageSendAttempt,r=c("useMAWSendSecureMessageV2Impl")(e,a.threadType,a.threadKey);f[6]===Symbol.for("react.memo_cache_sentinel")?(n=c("qpl")._(30605384,"573"),f[6]=n):n=f[6];var s=c("useCometInteractionTracing")(n,"fast","INTERACTION",void 0),t=c("useAsyncReStore")(),u=c("useLSMessagingSource")();f[7]!==t||f[8]!==p||f[9]!==u||f[10]!==b||f[11]!==q||f[12]!==h||f[13]!==r||f[14]!==a||f[15]!==s?(o=function(e,f,g,k,m,n,o,v,w,x,y,z,A,B,C,D,E,F){d("MWFBLogger").MWLogger().tags(["Composer","MAWSendSecureMessageV2"]).debug("Calling useMAWSendSecureMessageV2");var G=[],H=[];for(m of f!=null?f:[])bb18:switch(m.type){case"t":G.push({commandType:d("WACommon.pb").COMMAND_COMMAND_TYPE.EVERYONE,length:m.length,offset:m.offset});break bb18;default:H.push(d("MAWJids").toUserJid(m.id))}var I=e;g!=null&&c("getMWIsDefaultHotlikeStickerId")((i||(i=d("I64"))).to_string(g))&&(I="\ud83d\udc4d");var J=d("MAWExternalId").generateExternalId();c("promiseDone")(t,function(f){q==null||q(!0),s(function(i){var m=function(e,f,j,m){return r({accessibilityLabel:F,commands:G,composerEntrypointForLogging:D,currentDraftId:C,externalAttachmentUrl:n,hotEmojiSize:k,lssTraceApi:i,mediaStagings:j,mentionedJids:H,messageExternalId:J,messageText:I,messageTypeParams:f,reply:p?h:void 0,s2sInstanceKey:e,source:m,stickerId:g,thread:a,voiceClip:v}).then(function(a){var d=a.some(l);d||(b(),c("justknobx")._("2486")&&(x&&x()));return a}).catch(function(a){d("sendToSentQPLLogger").markSendToSentFail(e,"message_send_fail",a);i.failTrace(a,!0);var b=c("FBLogger")("messenger_web_sharing");a instanceof Error&&b.catching(a);throw b.mustfixThrow("Encountered failure during Armadillo Message Send (UI)")})};c("promiseDone")(d("MWSharedS2SBaseAnnotations").queryMediaStagingAndGetMessageTypeParams({db:f,externalAttachmentUrl:n,hotEmojiSize:k,messageText:e,reply:h,stickerId:g,threadKey:a==null?void 0:a.threadKey,threadType:a.threadType,voiceClip:v}),async function(b){var c=b.mediaStagings;b=b.messageTypeParams;var e=d("MWMsgMediaTypeLogUtils").getAttachmentType({hasFile:b.hasFile,hasGif:b.hasGif,hasHotEmoji:b.hasHotEmoji,hasImage:b.hasImage,hasLinks:b.hasLinks,hasShare:b.hasShare,hasSticker:b.hasSticker,hasVideo:b.hasVideo,hasVoiceClip:b.hasVoiceClip,isAttachmentsGrouped:b.isAttachmentsGrouped,numberOfAttachments:b.numberOfAttachments,numberOfGroupedAttachments:b.numberOfGroupedAttachments});e=d("sendToSentQPLLogger").markSendToSentStart(void 0,e);var f=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(a.threadKey,u);d("sendToSentQPLLogger").addSendToSentAnnotations(e,await d("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:b,composerEntrypoint:D,messageOfflineThreadingId:J,source:(j||(j=d("LSIntEnum"))).unwrapIntEnum(f),thread:a}));return m(e,b,c,f)})})})},f[7]=t,f[8]=p,f[9]=u,f[10]=b,f[11]=q,f[12]=h,f[13]=r,f[14]=a,f[15]=s,f[16]=o):o=f[16];return o}function l(a){return(a==null?void 0:a.success)===!1}g.default=a}),98);
__d("useMWMediaManagerUploadFailedToast",["mwPushToast","react"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useCallback;function a(){return i}function i(a,b){d("mwPushToast").mwPushErrorToast({body:b,title:a})}g["default"]=a}),98);
__d("useMWMediaManager",["MWMediaManager","MWMediaManagerFileSizeLimit","justknobx","react-compiler-runtime","useMWMediaManagerUploadFailedToast"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(5),e=a.onUploadFailure;a=a.thread;var f=c("useMWMediaManagerUploadFailedToast")(),g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=c("justknobx")._("2538"),b[0]=g):g=b[0];g=g;b[1]!==e||b[2]!==f||b[3]!==a?(g={getMaxAttachmentSizeInMB:h,maxNumberOfAttachments:g,onUploadFailure:e,showUploadFailureToast:f,thread:a},b[1]=e,b[2]=f,b[3]=a,b[4]=g):g=b[4];return d("MWMediaManager").useMediaManager(g)}function h(a,b){return d("MWMediaManagerFileSizeLimit").getMWMaxAttachmentSizeInMB(b)}g["default"]=a}),98);
__d("MAWSecureComposer.react",["fbt","MAWLinkPreview.react","MAWSecureComposerText","MAWSecureThreadNonAddressableContactBanner.react","MAWSecureTypingState","MAWSupportedFileTypes","MAWVoiceClipLimit","MWBlockedComposerLogging","MWPReplyContext.react","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MWVoiceRecordQpl","WebUXLoggingSurfaceContextProvider","cr:2673","emptyFunction","gkx","react","react-compiler-runtime","requireDeferred","useCometAlertDialog","useMAWEditMessageData","useMAWSendSecureMessageV2","useMWMediaManager","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));e=i;e.useCallback;var k=e.useContext,l=e.useState,m=c("requireDeferred")("MWChatAudioLog").__setRef("MAWSecureComposer.react"),n=c("gkx")("23429");function o(){m.onReady(function(a){return a.logClickStartRecording()})}function p(){m.onReady(function(a){return a.logBrowserDenyAccess()})}function a(a){var e=d("react-compiler-runtime").c(45),f=a.afterSendMessage,g=a.isPreviewThread;a=a.thread;f=f===void 0?c("emptyFunction"):f;var i=k(d("MWPReplyContext.react").MWPReplyContext);i=i.reply;var m=c("useMAWEditMessageData")(),q=c("useCometAlertDialog")(),r;e[0]!==q?(r=function(){return q({body:h._(/*BTDS*/"Sorry we are unable to preprocess or upload the media you provided."),title:h._(/*BTDS*/"Failed to upload media")})},e[0]=q,e[1]=r):r=e[1];r=r;var s;e[2]!==r||e[3]!==a?(s={onUploadFailure:r,thread:a},e[2]=r,e[3]=a,e[4]=s):s=e[4];r=c("useMWMediaManager")(s);s=r.handleFileRemove;var t=r.handleFileSelect,u=r.mediaStaging,v=r.onHdMediaToggled;r=r.resetAttachments;f=c("useMAWSendSecureMessageV2")(a,f,r);r=d("MAWSecureTypingState").useOnTypingStateChanged(a.authorityLevel,a.threadKey,a.threadType);c("useMWV2FileDropzoneRegisterHandler")(t);var w=l(!1),x=w[0];w=w[1];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,x?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_RECEIVER_NON_ADDRESSABLE_ON_WA:d("MWBlockedComposerLogging").ComposerBlockingReason.NOT_BLOCKED);var y;e[5]!==g||e[6]!==u||e[7]!==f||e[8]!==r||e[9]!==a.draftMessage||e[10]!==a.threadKey||e[11]!==a.threadType?(y={composerEntrypointForLogging:"MAWSecureComposer.lexical",draftMessage:a.draftMessage,getTextFromEditorState:d("MAWSecureComposerText").getTextFromEditorState,isPreviewThread:g,mediaStaging:u,onSendMessage:f,onTypingStateChanged:r,threadKey:a.threadKey,threadType:a.threadType},e[5]=g,e[6]=u,e[7]=f,e[8]=r,e[9]=a.draftMessage,e[10]=a.threadKey,e[11]=a.threadType,e[12]=y):y=e[12];g=c("useMWPComposerEditor")(y);r=g.editor;y=g.editorElementRef;var z=g.hasStuffToSend;g=g.sendMessage;var A;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(A={createVoiceRecordQpl:d("MWVoiceRecordQpl").createVoiceRecordQpl,logBrowserDenyAccess:p,logClickStartRecording:o,maxDuration:d("MAWVoiceClipLimit").getMAWMaxVoiceClipDurationInSeconds(!0)},e[13]=A):A=e[13];A=b("cr:2673").useVoiceRecorder(A);var B;e[14]!==i||e[15]!==a?(B=i!=null?j.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:i.messageId,messageThreadKey:i.threadKey,messageTimestamp:i.timestampMs,thread:a}):null,e[14]=i,e[15]=a,e[16]=B):B=e[16];i=i!=null;var C;e[17]!==i||e[18]!==a.threadKey||e[19]!==a.threadType?(C=j.jsx(c("MAWLinkPreview.react"),{isReplying:i,threadKey:a.threadKey,threadType:a.threadType}),e[17]=i,e[18]=a.threadKey,e[19]=a.threadType,e[20]=C):C=e[20];e[21]!==a?(i=j.jsx(c("MAWSecureThreadNonAddressableContactBanner.react"),{setHideComposerEditor:w,thread:a}),e[21]=a,e[22]=i):i=e[22];e[23]!==m?(w=m!=null&&j.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:m}),e[23]=m,e[24]=w):w=e[24];var D;e[25]!==m||e[26]!==r||e[27]!==y||e[28]!==s||e[29]!==t||e[30]!==z||e[31]!==x||e[32]!==u||e[33]!==v||e[34]!==f||e[35]!==g||e[36]!==a||e[37]!==A?(D=x||m!=null?null:j.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:r,editorElementRef:y,hasStuffToSend:z,isMentionsPluginEnabled:n,mediaStaging:u,onAttachmentRemoved:s,onAttachmentsAdded:t,onHdMediaToggled:v,onSendMessage:f,policyProduct:"messaging_lightswitch",sendMessage:g,supportedFileTypes:d("MAWSupportedFileTypes").supportedFileTypes,surface:"mwp_maw_secure_composer",thread:a,voiceRecorder:A}),e[25]=m,e[26]=r,e[27]=y,e[28]=s,e[29]=t,e[30]=z,e[31]=x,e[32]=u,e[33]=v,e[34]=f,e[35]=g,e[36]=a,e[37]=A,e[38]=D):D=e[38];e[39]!==w||e[40]!==D||e[41]!==B||e[42]!==C||e[43]!==i?(m=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"secure_composer",children:j.jsxs("div",{"data-testid":void 0,children:[B,C,i,w,D]})}),e[39]=w,e[40]=D,e[41]=B,e[42]=C,e[43]=i,e[44]=m):m=e[44];return m}g["default"]=a}),226);
__d("MAWSecureComposerUtils",["I64","LSMessagingThreadTypeUtil","MAWJobDefinitions","MAWMiActOnActThreadReady","MAWUIJob","MessageRequestsLog","Promise","WAJobOrchestratorTypes","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,e,f,g){if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType)){f!=null&&d("MessageRequestsLog").logActionConfirmed(e,8,(i||(i=d("I64"))).to_string(f));c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(a.tables,e.threadKey,"MAWSecureComposerUtils",function(a,c){d("MAWUIJob").UIJobStarters.fireAndForget(d("MAWJobDefinitions").createStartJobInfo("deleteThread",{chatJid:c,scheduleConfig:{priority:d("WAJobOrchestratorTypes").JOB_PRIORITY.UI_ACTION}}));return(h||(h=b("Promise"))).resolve()}));return}}g.onDeleteThread=a}),98);
__d("MDSPinnedMessageIcon.react",["MDSSvgIcon.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId;function a(a){var b=d("react-compiler-runtime").c(38),e=j(),f=j(),g=j(),h=j(),k="url(#"+e+")",l="url(#"+f+")",m;b[0]!==l?(m=i.jsx("rect",{fill:l,height:"2",width:"8",x:"17",y:"26"}),b[0]=l,b[1]=m):m=b[1];b[2]!==k||b[3]!==m?(l=i.jsx("g",{filter:k,children:m}),b[2]=k,b[3]=m,b[4]=l):l=b[4];k="url(#"+g+")";b[5]!==k?(m=i.jsx("path",{d:"M23.9989 27.5928L23.9988 27.5383L24.0367 27.585C24.1817 27.7518 24.7409 28.2715 25.8875 27.9427C26.9382 27.6414 26.5281 26.8227 26.371 26.5705C26.3138 26.4819 26.2525 26.3965 26.1873 26.3135L16.8703 14.3899C16.2845 15.045 15.5884 15.6539 14.8084 16.0737L23.9989 27.5928Z",fill:k}),b[5]=k,b[6]=m):m=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(k=i.jsx("path",{d:"M11.5653 17.1305C15.7434 17.1305 19.1305 13.7434 19.1305 9.56526C19.1305 5.38708 15.7434 2 11.5653 2C7.38708 2 4 5.38708 4 9.56526C4 13.7434 7.38708 17.1305 11.5653 17.1305Z",fill:"#FF0D0D"}),b[7]=k):k=b[7];var n="url(#"+h+")",o;b[8]!==n?(o=i.jsx("path",{d:"M9.19306 12.5345C6.38338 10.2164 5.72669 6.37369 7.72578 3.95078C9.72486 1.52787 13.6231 1.44245 16.432 3.76062C19.2417 6.07879 19.8984 9.92145 17.8993 12.3444C15.9002 14.7673 12.0019 14.8519 9.19306 12.5345Z",fill:n}),b[8]=n,b[9]=o):o=b[9];var p,q;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(n=i.jsx("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),p=i.jsx("feBlend",{"in":"SourceGraphic",in2:"BackgroundImageFix",mode:"normal",result:"shape"}),q=i.jsx("feGaussianBlur",{result:"effect1_foregroundBlur_28_51",stdDeviation:"0.2"}),b[10]=p,b[11]=q,b[12]=n):(p=b[10],q=b[11],n=b[12]);b[13]!==e?(n=i.jsxs("filter",{colorInterpolationFilters:"sRGB",filterUnits:"userSpaceOnUse",height:"2.8",id:e,width:"8.8",x:"16.6",y:"25.6",children:[n,p,q]}),b[13]=e,b[14]=n):n=b[14];b[15]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#969495"}),q=i.jsx("stop",{offset:"1",stopColor:"#D9D9D9",stopOpacity:"0"}),b[15]=p,b[16]=q):(p=b[15],q=b[16]);b[17]!==f?(e=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:f,x1:"25",x2:"17.6667",y1:"27",y2:"27",children:[p,q]}),b[17]=f,b[18]=e):e=b[18];b[19]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"#666666"}),q=i.jsx("stop",{offset:"1",stopColor:"#CACCCD"}),b[19]=p,b[20]=q):(p=b[19],q=b[20]);b[21]!==g?(f=i.jsxs("linearGradient",{gradientUnits:"userSpaceOnUse",id:g,x1:"20.4956",x2:"21.941",y1:"22.4135",y2:"21.2698",children:[p,q]}),b[21]=g,b[22]=f):f=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(p=i.jsx("stop",{stopColor:"white",stopOpacity:"0.5"}),q=i.jsx("stop",{offset:"1",stopColor:"white",stopOpacity:"0"}),b[23]=p,b[24]=q):(p=b[23],q=b[24]);b[25]!==h?(g=i.jsxs("radialGradient",{cx:"0",cy:"0",gradientTransform:"translate(12.8132 8.1471) rotate(129.523) scale(5.68739 6.59482)",gradientUnits:"userSpaceOnUse",id:h,r:"1",children:[p,q]}),b[25]=h,b[26]=g):g=b[26];b[27]!==n||b[28]!==e||b[29]!==f||b[30]!==g?(p=i.jsxs("defs",{children:[n,e,f,g]}),b[27]=n,b[28]=e,b[29]=f,b[30]=g,b[31]=p):p=b[31];b[32]!==a||b[33]!==p||b[34]!==l||b[35]!==m||b[36]!==o?(q=i.jsxs(c("MDSSvgIcon.react"),babelHelpers["extends"]({},a,{children:[l,m,k,o,p]})),b[32]=a,b[33]=p,b[34]=l,b[35]=m,b[36]=o,b[37]=q):q=b[37];return q}g["default"]=a}),98);
__d("MWChatColors",[],(function(a,b,c,d,e,f,g){"use strict";a={action:{alignContent:"xc26acl",alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",display:"x78zum5",flexShrink:"x2lah0s",height:"xxk0z11",justifyContent:"xl56j7k",marginInlineEnd:"x14z9mp",marginInlineStart:"x1lziwak",position:"x1n2onr6",textAlign:"x2b8uid",width:"xvy4d1p",":hover_backgroundColor":"x15vn3sj",$$css:!0},icon:{height:"x17rw0jw",opacity:"x197sbye",width:"x17z2i9w",":active_opacity":"x4gyw5p",":hover_opacity":"x1o7uuvo",$$css:!0},svgFill:{fill:"x148u3ch",$$css:!0},svgStroke:{fill:"xbh8q5q",stroke:"xmb71p3",$$css:!0}};b={styles:a};g.MessageActions=b}),98);
__d("MWMessageReactionIcon.react",["fbt","MWChatColors","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.size;a=a.viewBox;e=e===void 0?16:e;a=a===void 0?"0 0 16 16":a;var f,g,j;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("title",{children:h._(/*BTDS*/"Add reaction")}),g=k.jsx("path",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(d("MWChatColors").MessageActions.styles.svgFill),{d:"M12.48 0.64C12.48 0.286538 12.7665 0 13.12 0C13.4735 0 13.76 0.286538 13.76 0.64V2.08C13.76 2.16837 13.8316 2.24 13.92 2.24H15.36C15.7135 2.24 16 2.52654 16 2.88C16 3.23346 15.7135 3.52 15.36 3.52H13.92C13.8316 3.52 13.76 3.59163 13.76 3.68V5.12C13.76 5.47346 13.4735 5.76 13.12 5.76C12.7665 5.76 12.48 5.47346 12.48 5.12V3.68C12.48 3.59163 12.4084 3.52 12.32 3.52H10.88C10.5265 3.52 10.24 3.23346 10.24 2.88C10.24 2.52654 10.5265 2.24 10.88 2.24H12.32C12.4084 2.24 12.48 2.16837 12.48 2.08V0.64Z"})),j=k.jsx("path",babelHelpers["extends"]({},i.props(d("MWChatColors").MessageActions.styles.svgFill),{clipRule:"evenodd",d:"M8.96 2.42705C8.96 2.28386 8.86505 2.15735 8.726 2.12317C8.18582 1.99041 7.62113 1.92 7.04 1.92C3.15192 1.92 0 5.07192 0 8.96C0 12.8481 3.15192 16 7.04 16C10.9281 16 14.08 12.8481 14.08 8.96C14.08 8.37887 14.0096 7.81418 13.8768 7.274C13.8427 7.13495 13.7161 7.04 13.573 7.04H13.12C12.0596 7.04 11.2 6.18039 11.2 5.12C11.2 4.94327 11.0567 4.8 10.88 4.8C9.81961 4.8 8.96 3.94039 8.96 2.88V2.42705ZM4.63999 6.4C4.03999 6.4 3.67999 6.88 3.67999 7.68C3.67999 8.48 4.03999 8.96 4.63999 8.96C5.23999 8.96 5.59999 8.48 5.59999 7.68C5.59999 6.88 5.23999 6.4 4.63999 6.4ZM9.43999 6.4C8.83999 6.4 8.47999 6.88 8.47999 7.68C8.47999 8.48 8.83999 8.96 9.43999 8.96C10.04 8.96 10.4 8.48 10.4 7.68C10.4 6.88 10.04 6.4 9.43999 6.4ZM10.56 11.2C10.56 12.48 8.96 13.76 7.04 13.76C5.12 13.76 3.52 12.48 3.52 11.2C3.52 11.0233 3.66327 10.88 3.84 10.88H10.24C10.4167 10.88 10.56 11.0233 10.56 11.2Z",fillRule:"evenodd"})),b[0]=f,b[1]=g,b[2]=j):(f=b[0],g=b[1],j=b[2]);b[3]!==e||b[4]!==a?(f=k.jsxs("svg",{fill:"none",height:e,viewBox:a,width:e,xmlns:"http://www.w3.org/2000/svg",children:[f,g,j]}),b[3]=e,b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("MWAddReactionButton.react",["fbt","I64","LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMessageReactionIcon.react","MWXPressable.react","MWXTooltip.react","ODS","emptyFunction","react","react-compiler-runtime","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;b.useCallback;var m=b.useMemo,n={emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(11),e=a.ref,f=a.onHoverInPrerenderer,g=a.onHoverOutPrerenderer,i=a.onPressInPrerenderer,k=a.showPopover;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"React"),b[0]=a):a=b[0];a=a;var m;b[1]!==k?(m=function(){k(),(j||(j=d("ODS"))).bumpEntityKey(3185,"mwchat_actions","reaction")},b[1]=k,b[2]=m):m=b[2];m=m;var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},b[3]=o):o=b[3];b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx("div",babelHelpers["extends"]({},o,{role:"none",children:l.jsx("div",{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x1ypdohk x14ju556 x14z9mp x78zum5 xdt5ytf xl56j7k x1npj6m0",children:l.jsx(c("MWMessageReactionIcon.react"),{size:"1.125rem"})})})),b[4]=o):o=b[4];b[5]!==f||b[6]!==g||b[7]!==i||b[8]!==e||b[9]!==m?(a=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:l.jsx(c("MWXPressable.react"),{"aria-label":a,expanding:!0,loggingEvent:"click_react_to_message",onHoverIn:f,onHoverOut:g,onPress:m,onPressIn:i,overlayRadius:"inherit",ref:e,role:"button",testid:void 0,xstyle:n.emojiRowContainer,children:o})}),b[5]=f,b[6]=g,b[7]=i,b[8]=e,b[9]=m,b[10]=a):a=b[10];return a}function a(a){var b=a.isSecure,e=a.message,f=a.sendReaction,g=a.setShouldRowStayExpanded,h=a.threadKey;a=a.threadType;var i=(k||(k=d("I64"))).to_string(h),j=k.to_string(e.timestampMs),n=m(function(){return d("MWChatMessageId").makeSent(i,e.messageId,j)},[i,e.messageId,j]),p=d("MWCMThreadTypes.react").isBroadcastThread(a);a=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a);h=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(h);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:h&&p,hasReactionsV2:h,isBroadcastChannel:a,isBroadcastThread:p,isSecure:b,messageID:n,onVisibilityChange:g,sendReaction:f,children:function(a,b,c,d,e,f){return l.jsx(o,{messageID:n,onHoverInPrerenderer:d,onHoverOutPrerenderer:e,onPressInPrerenderer:f,ref:a,showPopover:b})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWBlockedTombstoneMessage.react",["fbt","MWChatBubbleEmphasisRing.react","MWPVisibleMessageContext.react","MWV2TombstonedMessage.react","MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");b={ORIGINAL_MESSAGE:"original-message",REPLIED_TO:"replied-to"};var k=h._(/*BTDS*/"Message hidden");function a(a){var b=d("react-compiler-runtime").c(13),e=a.isLastMessageInGroup,f=a.message,g=a.onClick;a=a.source;var h=f.messageId,i=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();i=i.visibleMessage;i=(i==null?void 0:i.source)==="Pinned"&&(i==null?void 0:i.messageId)===h;b[0]!==f||b[1]!==i||b[2]!==a?(h=i?j.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:!1,connectTop:!1,flattenTop:!1,message:f,outgoing:!1,precedesXMA:!1,children:j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:k})}):j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:!1,isReply:a==="replied-to",children:k}),b[0]=f,b[1]=i,b[2]=a,b[3]=h):h=b[3];f=h;b[4]!==e||b[5]!==a?(i={0:{},2:{className:"x1120s5i"},1:{className:"xwib8y2"},3:{className:"xwib8y2"}}[!!(e===!1)<<1|!!(a==="replied-to")<<0],b[4]=e,b[5]=a,b[6]=i):i=b[6];b[7]!==f||b[8]!==g?(h=j.jsx(c("MWXPressable.react"),{onPress:g,overlayDisabled:!0,children:f}),b[7]=f,b[8]=g,b[9]=h):h=b[9];b[10]!==i||b[11]!==h?(e=j.jsx("div",babelHelpers["extends"]({},i,{"data-testid":void 0,children:h})),b[10]=i,b[11]=h,b[12]=e):e=b[12];return e}g.MWBlockedTombstoneMessageSource=b;g.HIDDEN_MESSAGE_LABEL=k;g.MWBlockedTombstoneMessage=a}),226);
__d("MWBlockingProtectionLogging",["I64","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("requireDeferred")("MwbGroupBlockeeMessagesTapToRevealActionFalcoEvent").__setRef("MWBlockingProtectionLogging");function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=function(){i.onReady(function(b){return b.log(function(){return{entry_point:22,source:3,source_type:0,thread_id:(h||(h=d("I64"))).to_string(a.threadKey)}})})},b[0]=a,b[1]=c):c=b[1];return c}g.useLogTapToReviewAction=a}),98);
__d("MWCMBulkInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWCMBulkInviteDialog.react").__setRef("MWCMBulkInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24627715423525244"}),null);
__d("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters",["MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMContentTakedownEnforcementNoticeDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMContentTakedownEnforcementNoticeDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMContentTakedownEnforcementNoticeDialog.entrypoint",["JSResourceForInteraction","MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b=a.community_id,e=a.interventions_ids;a=a.thread_id;return{queries:{queryReference:{parameters:c("MWCMContentTakedownEnforcementNoticeDialogQuery$Parameters"),variables:{community_id:b,interventions_ids:e!=null?e:[],isCometEnabled:!1,isGeoEnabled:!1,isMWXEnabled:!0,scale:d("WebPixelRatio").get(),thread_id:a}}}}},root:c("JSResourceForInteraction")("MWCMContentTakedownEnforcementNoticeDialog.react").__setRef("MWCMContentTakedownEnforcementNoticeDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionFactLabelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9640878666004667"}),null);
__d("MWCMElectionFactLabelDialogQuery$Parameters",["MWCMElectionFactLabelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionFactLabelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionFactLabelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionFactLabelDialog.entrypoint",["JSResourceForInteraction","MWCMElectionFactLabelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionFactLabelDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionFactLabelDialog.react").__setRef("MWCMElectionFactLabelDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="10097183923634265"}),null);
__d("MWCMElectionInformTreatmentDialogQuery$Parameters",["MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMElectionInformTreatmentDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMElectionInformTreatmentDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMElectionInformTreatmentDialog.entrypoint",["JSResourceForInteraction","MWCMElectionInformTreatmentDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.message_id;return{queries:{queryReference:{parameters:c("MWCMElectionInformTreatmentDialogQuery$Parameters"),variables:{message_id:a}}}}},root:c("JSResourceForInteraction")("MWCMElectionInformTreatmentDialog.react").__setRef("MWCMElectionInformTreatmentDialog.entrypoint")};g["default"]=a}),98);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="30279456138320382"}),null);
__d("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters",["MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCMInformTreatmentGenAITransparencyDialogQuery_facebookRelayOperation"),metadata:{},name:"MWCMInformTreatmentGenAITransparencyDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCMInformTreatmentGenAITransparencyDialog.entrypoint",["JSResourceForInteraction","MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{queryReference:{parameters:c("MWCMInformTreatmentGenAITransparencyDialogQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWCMInformTreatmentGenAITransparencyDialog.react").__setRef("MWCMInformTreatmentGenAITransparencyDialog.entrypoint")};g["default"]=a}),98);
__d("MWV2HeaderSettingsButtonChevron.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.size;a=a.xstyle;e=e===void 0?"10px":e;var f;b[0]!==a?(f=(h||(h=c("stylex"))).props(a),b[0]=a,b[1]=f):f=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx("path",{clipRule:"evenodd",d:"M1 2.414A1 1 0 012.414 1L8.293 6.88a1 1 0 001.414 0L15.586 1A1 1 0 0117 2.414L9.707 9.707a1 1 0 01-1.414 0L1 2.414z",fill:"var(--mwp-header-button-color)",fillRule:"evenodd"}),b[2]=a):a=b[2];b[3]!==e||b[4]!==f?(a=j.jsx("svg",babelHelpers["extends"]({"aria-hidden":"true"},f,{height:e,viewBox:"0 0 18 10",width:e,children:a})),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),98);
__d("SubthreadMuteStrings.react",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._(/*BTDS*/"Mute");b=h._(/*BTDS*/"Unmute");g.muteLabel=a;g.unmuteLabel=b}),226);
__d("useUnmuteSubthread.react",["fbt","I64","MWCMLogMuteDuration.react","cometPushToast","formatDate","react","react-compiler-runtime","useMWChatUnmuteThread","useMWXConfirmationDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;function k(a){var b=new Date();if(!(j||(j=d("I64"))).equal(a,(j||(j=d("I64"))).neg_one))if(new Date((j||(j=d("I64"))).to_float(a)).getDay()===b.getDay())return h._(/*BTDS*/"This sidechat is muted until {time}",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._(/*BTDS*/"This sidechat is muted until {time} tomorrow",[h._param("time",c("formatDate")((j||(j=d("I64"))).to_float(a)/1e3,"g:ia"))]);else return h._(/*BTDS*/"This sidechat is muted indefinitely")}function a(a,b){var e=d("react-compiler-runtime").c(5),f=c("useMWXConfirmationDialog")(),g=c("useMWChatUnmuteThread")(),i;e[0]!==f||e[1]!==a||e[2]!==b||e[3]!==g?(i=function(c){c!=null&&f({body:k(c.muteExpireTimeMs),title:h._(/*BTDS*/"Unmute this sidechat?")},function(){g(c),d("MWCMLogMuteDuration.react").log({clientExtras:{is_subthread:"1"},eventType:"channel_level_unmute_all_notif",source:a!=null?a:"mute_bell_button",surface:b!=null?b:"subthread_list",threadKey:c.threadKey}),d("cometPushToast").cometPushToast({message:h._(/*BTDS*/"{Name of chat} unmuted",[h._param("Name of chat",c.threadName)])})})},e[0]=f,e[1]=a,e[2]=b,e[3]=g,e[4]=i):i=e[4];return i}g["default"]=a}),226);
__d("MWCMSubthreadHeader.react",["fbt","GroupsCometChatsEngagementLogger","I64","Int64Hooks","JSResourceForInteraction","LSAuthorityLevel","LSIntEnum","Locale","MWChatTextTransform","MWV2HeaderSettingsButtonChevron.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconArrowLeft","MWXIconArrowRight","MWXIconBell","MWXIconBellCross","MWXIconCross","MWXIconDots3Horizontal","MWXLazyPopoverTrigger.react","MWXMessageTextWithEntities.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","MWXTooltip.react","SubthreadMuteStrings.react","baseTextTransformAllStrings","emptyFunction","gkx","react","useMWXLazyDialog","useUnmuteSubthread.react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m=c("gkx")("23219"),n={chevronIcon:{marginInlineStart:"x13fj5qh",marginTop:"x1xmf6yo",$$css:!0},iconRow:{paddingInlineStart:"x1c1uobl",paddingInlineEnd:"xyri2b",paddingLeft:null,paddingRight:null,$$css:!0},rowItem:{alignItems:"x6s0dn4",display:"x78zum5",height:"xn3w4p2",justifyContent:"xl56j7k",$$css:!0},rowItemChatTab:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",maxWidth:"x1ncir08",$$css:!0}},o=h._(/*BTDS*/"Sidechat settings");function p(a){return a.length>30?a.slice(0,27)+"...":a}function q(){return function(a){return c("baseTextTransformAllStrings")(a,function(a,b){return r(a,b)})}}function r(a,b){return[p(a)]}function a(a){var b=a.closeSidePanelOnBack,e=a.hexTextColor,f=a.isChatTab,g=f===void 0?!1:f;f=a.isThreadMuted;var i=f===void 0?!1:f,p=a.onPressBack;f=a.subtitle;var r=a.textColor,s=a.thread;a=a.title;var t=c("useMWXLazyDialog")(c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMSubthreadHeader.react")),u=t[0];t=d("Int64Hooks").useCallbackInt64(function(){s!=null&&(j||(j=d("I64"))).equal(s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("GroupsCometChatsEngagementLogger").log({action:"tap",event:"cancel_sidechat",source:"back_button",surface:"subthread_view",thread_id:(j||(j=d("I64"))).to_string(s==null?void 0:s.threadKey)}),p()},[p,s]);var v=c("useUnmuteSubthread.react")("mute_bell_button","subthread_view"),w=s!=null?(j||(j=d("I64"))).equal(s==null?void 0:s.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):!1,x=b===!0?c("MWXIconCross"):c("Locale").isRTL()?c("MWXIconArrowRight"):c("MWXIconArrowLeft");b=b===!0?h._(/*BTDS*/"Close"):h._(/*BTDS*/"Back");var y=h._(/*BTDS*/"Messages in conversation titled {thread title}",[h._param("thread title",a)]).toString(),z=l.jsx(c("MWXRowItem.react"),{"aria-label":y,expanding:!0,verticalAlign:"center",children:l.jsxs("div",{className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b",style:e==null?{}:{"--primary-text":e},children:[l.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:l.jsx(c("MWXText.react"),{align:"center",color:r,isSemanticHeading:!0,numberOfLines:1,type:g?"headlineEmphasized4":m?"headlineEmphasized5":"headlineEmphasized3",children:l.jsx("span",babelHelpers["extends"]({},{0:{},1:{className:"xxymvpz"}}[!!g<<0],{children:typeof a==="string"?l.jsx(c("MWXMessageTextWithEntities.react"),{text:a,transforms:[].concat(d("MWChatTextTransform").textTransforms,[q()])}):a}))})}),f!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w",children:l.jsx(c("MWXText.react"),{align:"center",color:r,numberOfLines:1,type:"meta3",children:f})})]}):null]})});return l.jsxs(c("MWXRow.react"),{paddingHorizontal:g?0:12,paddingVertical:g?0:m?8:16,xstyle:void 0,children:[l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:b,children:l.jsx(c("MWXCircleButton.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),icon:x,label:b,onPress:t,size:36,type:"deemphasized"})})}),!g||s==null?z:null,s!=null&&l.jsx(c("MWXRowItem.react"),{xstyle:g?n.rowItemChatTab:n.rowItem,children:l.jsx(c("MWXLazyPopoverTrigger.react"),{align:g?"middle":"end",popoverProps:{isChatTab:g,onClose:c("emptyFunction"),onDelete:p,thread:s},popoverResource:c("JSResourceForInteraction")("MWCMSubthreadSettingsMenu.react").__setRef("MWCMSubthreadHeader.react"),position:"below",children:function(a,b,e,f,h,j,k){return g?l.jsx(c("MWXTooltip.react"),{align:"end",position:"above",tooltip:o,children:l.jsxs(c("MWXPressable.react"),{disabled:w,onHoverIn:f,onHoverOut:h,onPress:function(){b()},onPressIn:j,overlayOffset:8,overlayRadius:"normal",ref:a,xstyle:n.settingsButton,children:[z,l.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:n.chevronIcon})]})}):l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[l.jsx(c("MWXRowItem.react"),{xstyle:n.iconRow,children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:i?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,children:l.jsx(c("MWXCircleButton.react"),{color:w?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:w,icon:i?c("MWXIconBellCross"):c("MWXIconBell"),label:i?d("SubthreadMuteStrings.react").unmuteLabel:d("SubthreadMuteStrings.react").muteLabel,onPress:function(){i?v(s):u({surface:"subthread_view",threadKey:s.threadKey})},size:36,type:"deemphasized"})})}),l.jsx(c("MWXRowItem.react"),{xstyle:n.iconRow,children:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"below",tooltip:o,children:l.jsx(c("MWXCircleButton.react"),{color:w?"tertiary":d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),disabled:w,icon:c("MWXIconDots3Horizontal"),label:o,onHoverIn:f,onHoverOut:h,onPress:b,onPressIn:j,ref:a,size:36,type:"deemphasized"})})})]})}})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWMessageRowTheme",["MWLSThreadDisplayContext","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(){var a=d("react-compiler-runtime").c(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=c("gkx")("23219")?"12px":b==="Inbox"?"16px":"8px";var e;a[0]!==b?(e={dark:{"mwp-message-list-profile-start-padding":b},light:{"mwp-message-list-profile-start-padding":b},type:"VARIABLES"},a[0]=b,a[1]=e):e=a[1];b=e;return b}g["default"]=a}),98);
__d("MWMessageRowAdminMessage.react",["BaseView.react","MWMessageListAttachmentContainer.react","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWV2ChatAdminMessage.react","MWV2MessageRowSimple.react","react","react-compiler-runtime","useMWMessageRowTheme","useMWPEditMessageDeemphasizer"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0},adminMessageContainer:{maxWidth:"x193iq5w",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(29),e=a.domElementRef,f=a.isDialogOpened,g=a.isFirstMessageInGroup,h=a.isFocused,k=a.isModal,l=a.message,m=a.messageDomID,n=a.nextMessage,o=a.outgoing,p=a.prevMessage,q=a.setFocusedInTransition,r=a.setHoveredInTransition,s=a.setIsDialogOpened;a=a.stopHoveringRef;var t=c("useMWPEditMessageDeemphasizer")(),u=c("useMWMessageRowTheme")(),v;b[0]!==t?(v=[t,j.adminMessageContainer],b[0]=t,b[1]=v):v=b[1];b[2]!==l||b[3]!==n||b[4]!==p?(t=i.jsx(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessage,{message:l,nextMessage:n,prevMessage:p}),b[2]=l,b[3]=n,b[4]=p,b[5]=t):t=b[5];b[6]!==l||b[7]!==o?(n=i.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:null,message:l,outgoing:o,xstyle:j.adminMessageAttachment}),b[6]=l,b[7]=o,b[8]=n):n=b[8];b[9]!==v||b[10]!==t||b[11]!==n?(p=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:i.jsxs(c("BaseView.react"),{xstyle:v,children:[t,n]})}),b[9]=v,b[10]=t,b[11]=n,b[12]=p):p=b[12];v=p;if(l.adminMsgCtaType==="admin_msg_e2ee_thread")return null;if(l.adminMsgCtaType==null){b[13]!==v?(t=i.jsx(c("MWV2MessageRowSimple.react"),{children:v}),b[13]=v,b[14]=t):t=b[14];return t}else{n=g?void 0:e;b[15]!==v||b[16]!==f||b[17]!==h||b[18]!==k||b[19]!==l||b[20]!==m||b[21]!==o||b[22]!==q||b[23]!==r||b[24]!==s||b[25]!==a||b[26]!==n||b[27]!==u?(p=i.jsx(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:n,isDialogOpened:f,isFocused:h,isModal:k,message:l,messageDomID:m,outgoing:o,setFocused:q,setHovered:r,setIsDialogOpened:s,stopHoveringRef:a,theme:u,children:v}),b[15]=v,b[16]=f,b[17]=h,b[18]=k,b[19]=l,b[20]=m,b[21]=o,b[22]=q,b[23]=r,b[24]=s,b[25]=a,b[26]=n,b[27]=u,b[28]=p):p=b[28];return p}}g["default"]=a}),98);
__d("MWExtraPinnedMessagePadding.react",["MWPMessageListColumn.react","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);a=a.nextMessage;a=c("useMWPIsMessagePinned")(a);var e;b[0]!==a?(e=a&&i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWShowMessagePromptPopoverContext.react",["emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));e=h;f=e.createContext;var j=e.useContext;e.useMemo;var k=e.useRef,l=f([{current:c("emptyFunction")},c("emptyFunction")]);function a(){return j(l)}function b(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e=k(c("emptyFunction")),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=[e,function(a){e.current=a}],b[0]=f):f=b[0];f=f;f=f;b[1]!==a?(f=i.jsx(l.Provider,{value:f,children:a}),b[1]=a,b[2]=f):f=b[2];return f}g.useMWShowMessagePromptPopoverContext=a;g.MWShowMessagePromptPopoverContextProvider=b}),98);
__d("useIsRollcallEnabled",["LSThreadBitOffset","MWLSThread"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=Boolean(d("MWLSThread").useThread(a,h));return a}function h(a){return d("LSThreadBitOffset").has(152,a)}g["default"]=a}),98);
__d("useShouldAllowRollCallForMessage",["I64","LSIntEnum","LSReplyMessageAttachmentType","MessagingAttachmentType","gkx","isStringNullOrEmpty","react-compiler-runtime","useIsRollcallEnabled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=[c("MessagingAttachmentType").IMAGE,c("MessagingAttachmentType").VIDEO];function a(a,b){var e=d("react-compiler-runtime").c(2),f=c("useIsRollcallEnabled")(a.threadKey);if(!f)return!1;f=(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(h||(h=d("LSIntEnum"))).equal(a.replyAttachmentId,0);if(f)return!1;if(c("gkx")("7782")&&!c("isStringNullOrEmpty")(a.text))return!0;e[0]!==b?(f=b.some(k),e[0]=b,e[1]=f):f=e[1];return f}function k(a){var b=(a=a.attachmentType)!=null?a:(h||(h=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").NONE);return j.some(function(a){return(i||(i=d("I64"))).equal(b,(h||(h=d("LSIntEnum"))).ofNumber(a))})}g.ATTACHMENT_TYPES_THAT_ALLOW_PROMPTS=j;g.useShouldAllowRollCallForMessage=a}),98);
__d("MWMessagePromptPopoverTrigger.react",["I64","JSResourceForInteraction","MWPActor.react","MWShowMessagePromptPopoverContext.react","MWXLazyPopoverTrigger.react","emptyFunction","react","react-compiler-runtime","useShouldAllowRollCallForMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useRef,l=c("JSResourceForInteraction")("MWMessagePromptPopover.react").__setRef("MWMessagePromptPopoverTrigger.react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.attachments,f=a.children;a=a.message;e=d("useShouldAllowRollCallForMessage").useShouldAllowRollCallForMessage(a,e);var g=k(!1),h=d("MWPActor.react").useActor(),m=d("MWShowMessagePromptPopoverContext.react").useMWShowMessagePromptPopoverContext(),n=m[1];if(e){b[0]!==a?(m={message:a,onClose:c("emptyFunction")},b[0]=a,b[1]=m):m=b[1];e=(i||(i=d("I64"))).equal(h,a.senderId)?"start":"end";b[2]!==f||b[3]!==n?(h=function(a,b){g.current===!1&&(g.current=!0,n(b));return j.jsx("div",{ref:a,children:f})},b[2]=f,b[3]=n,b[4]=h):h=b[4];b[5]!==m||b[6]!==e||b[7]!==h?(a=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:m,popoverResource:l,position:e,children:h}),b[5]=m,b[6]=e,b[7]=h,b[8]=a):a=b[8];return a}return f}g["default"]=a}),98);
__d("usePinnedIconAnimation",["react","react-compiler-runtime","useDebouncedValue"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=b.useState,l={mountAnimationIncoming:{animationDuration:"x5hsz1j",animationName:"x1ko8byu",animationTimingFunction:"x4hg4is",$$css:!0},mountAnimationOutgoing:{animationDuration:"x5hsz1j",animationName:"x1c78tyx",animationTimingFunction:"x4hg4is",$$css:!0},unmountAnimation:{animationDuration:"x5hsz1j",animationFillMode:"x10e4vud",animationName:"xvma63k",animationTimingFunction:"x4hg4is",$$css:!0}};function a(a,b){var e=d("react-compiler-runtime").c(6),f=k(!1),g=f[0],h=f[1],m=j(a);f=b?l.mountAnimationOutgoing:l.mountAnimationIncoming;var n;e[0]!==a?(b=function(){a!==m.current&&h(!0),m.current=a},n=[a],e[0]=a,e[1]=b,e[2]=n):(b=e[1],n=e[2]);i(b,n);b=g?f:null;n=c("useDebouncedValue")(a,200);e[3]!==b||e[4]!==n?(g={mountAnimation:b,shouldShow:n,unmountAnimation:l.unmountAnimation},e[3]=b,e[4]=n,e[5]=g):g=e[5];return g}g["default"]=a}),98);
__d("MWPinnedMessageOverlay.react",["MDSPinnedMessageIcon.react","MWGroupBlockingProtectionUtils","react","react-compiler-runtime","stylex","useMWPIsMessagePinned","usePinnedIconAnimation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={alignEnd:{insetInlineEnd:"xtijo5x",transform:"x7b9nwf",$$css:!0},alignStart:{insetInlineStart:"x1o0tod",transform:"x1op1vkj",$$css:!0},container:{position:"x10l6tqk",top:"x13vifvy",zIndex:"xhtitgo",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.alreadyRenderedPin,f=a.children,g=a.message;a=a.outgoing;var i=c("useMWPIsMessagePinned")(g),l=c("usePinnedIconAnimation")(i,a),m=l.mountAnimation,n=l.shouldShow;l=l.unmountAnimation;g=d("MWGroupBlockingProtectionUtils").useMWIsContactBlocked(g.threadKey);if(!n||e||g){b[0]!==f?(n=j.jsx(j.Fragment,{children:f}),b[0]=f,b[1]=n):n=b[1];return n}b[2]!==f||b[3]!==i||b[4]!==m||b[5]!==a||b[6]!==l?(e=f&&j.jsxs("div",{className:"x1n2onr6",children:[j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([k.container,a?k.alignEnd:k.alignStart,i?m:l]),{children:j.jsx(c("MDSPinnedMessageIcon.react"),{color:"tertiary",size:16})})),f]}),b[2]=f,b[3]=i,b[4]=m,b[5]=a,b[6]=l,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWPBaseRepliedMessage.react",["FBLogger","I64","LSIntEnum","LSMessageHiddenState","LSMessageReplySourceTypeV2","LSReplyMessageAttachmentType","LSReplyMessageStatus","MWPBumpEntityKey","MWXPressable.react","MsgrWebGating","react","react-compiler-runtime","useIsRollcallEnabled","useMWJumpToMessage","useRollcallContributionsXMAActionHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l={pressable:{display:"x1lliihq",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(201),e=a.clickToNavigateToReply,f=a.earlyCheckForReplyStatus,g=a.isSecureMessage,h=a.mediaRenderQpl,l=a.message,n=a.outgoing,o=a.renderAttachment,p=a.renderCollection,q=a.renderExpiredMessage,r=a.renderGIF,s=a.renderHiddenMessage,t=a.renderMedia,u=a.renderPost,v=a.renderRaven,w=a.renderRemovedMessage,x=a.renderRollcallContribution,y=a.renderSticker,z=a.renderStory,A=a.renderTextMessage,B=a.renderUnavailableMessage,C=a.renderUnavailableStory;a=a.renderVideo;e=e===void 0?!0:e;f=f===void 0?!1:f;var D=l.replyAttachmentId,E=l.replyAttachmentPlaintextHash,F=l.replyAttachmentType,G=l.replyMessageHiddenState,H=l.replyMessageText,I=l.replySourceTypeV2,J=l.replyStatus,K=I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY)),L=I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY));G=G!=null?(i||(i=d("I64"))).equal(G,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageHiddenState").HIDDEN_REPORTED)):!1;var M=D!=null||K||E!=null&&d("MsgrWebGating").isQuotedMessagesInLsEnabled();if(G&&s!=null){b[0]!==s||b[1]!==l?(G=k.jsx(s,{message:l}),b[0]=s,b[1]=l,b[2]=G):G=b[2];s=G}else if(L){b[3]!==C||b[4]!==n?(G=C!=null?k.jsx(C,{outgoing:n}):null,b[3]=C,b[4]=n,b[5]=G):G=b[5];s=G}else if(F!=null&&M&&(!f||J!=null&&!(i||(i=d("I64"))).equal(J,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))))if(((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))&&K){b[6]!==z||b[7]!==g||b[8]!==h||b[9]!==l||b[10]!==n?(L=k.jsx(z,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[6]=z,b[7]=g,b[8]=h,b[9]=l,b[10]=n,b[11]=L):L=b[11];s=L}else if(D!=null||E!=null&&d("MsgrWebGating").isQuotedMessagesInLsEnabled())if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA))&&o!=null)if(H!=null&&H!==""){b[12]!==A||b[13]!==g||b[14]!==l||b[15]!==n||b[16]!==H?(G=k.jsx(A,{isSecureMessage:g,message:l,outgoing:n,text:H}),b[12]=A,b[13]=g,b[14]=l,b[15]=n,b[16]=H,b[17]=G):G=b[17];s=G}else{b[18]!==o||b[19]!==g||b[20]!==h||b[21]!==l||b[22]!==n?(M=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[18]=o,b[19]=g,b[20]=h,b[21]=l,b[22]=n,b[23]=M):M=b[23];s=M}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").OTHER))){b[24]!==o||b[25]!==g||b[26]!==h||b[27]!==l||b[28]!==n?(f=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[24]=o,b[25]=g,b[26]=h,b[27]=l,b[28]=n,b[29]=f):f=b[29];s=f}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PHOTO)))if(t!=null){b[30]!==t||b[31]!==g||b[32]!==h||b[33]!==l||b[34]!==n?(K=k.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[30]=t,b[31]=g,b[32]=h,b[33]=l,b[34]=n,b[35]=K):K=b[35];s=K}else{b[36]!==o||b[37]!==g||b[38]!==h||b[39]!==l||b[40]!==n?(z=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[36]=o,b[37]=g,b[38]=h,b[39]=l,b[40]=n,b[41]=z):z=b[41];s=z}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)))if(x!=null){b[42]!==x||b[43]!==g||b[44]!==h||b[45]!==l||b[46]!==n?(L=k.jsx(x,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[42]=x,b[43]=g,b[44]=h,b[45]=l,b[46]=n,b[47]=L):L=b[47];s=L}else{b[48]!==o||b[49]!==g||b[50]!==h||b[51]!==l||b[52]!==n?(E=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[48]=o,b[49]=g,b[50]=h,b[51]=l,b[52]=n,b[53]=E):E=b[53];s=E}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").MULTIPHOTO)))if(p!=null){b[54]!==p||b[55]!==l||b[56]!==n?(G=k.jsx(p,{message:l,outgoing:n}),b[54]=p,b[55]=l,b[56]=n,b[57]=G):G=b[57];s=G}else if(t!=null){b[58]!==t||b[59]!==g||b[60]!==h||b[61]!==l||b[62]!==n?(M=k.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[58]=t,b[59]=g,b[60]=h,b[61]=l,b[62]=n,b[63]=M):M=b[63];s=M}else{b[64]!==o||b[65]!==g||b[66]!==h||b[67]!==l||b[68]!==n?(f=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[64]=o,b[65]=g,b[66]=h,b[67]=l,b[68]=n,b[69]=f):f=b[69];s=f}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").VIDEO)))if(a!=null){b[70]!==a||b[71]!==g||b[72]!==h||b[73]!==l||b[74]!==n?(K=k.jsx(a,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[70]=a,b[71]=g,b[72]=h,b[73]=l,b[74]=n,b[75]=K):K=b[75];s=K}else{b[76]!==o||b[77]!==g||b[78]!==h||b[79]!==l||b[80]!==n?(z=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[76]=o,b[77]=g,b[78]=h,b[79]=l,b[80]=n,b[81]=z):z=b[81];s=z}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").GIF)))if(r!=null){b[82]!==r||b[83]!==g||b[84]!==h||b[85]!==l||b[86]!==n?(x=k.jsx(r,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[82]=r,b[83]=g,b[84]=h,b[85]=l,b[86]=n,b[87]=x):x=b[87];s=x}else{b[88]!==o||b[89]!==g||b[90]!==h||b[91]!==l||b[92]!==n?(L=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[88]=o,b[89]=g,b[90]=h,b[91]=l,b[92]=n,b[93]=L):L=b[93];s=L}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").THIRD_PARTY_STICKER)))if(y!=null){b[94]!==y||b[95]!==g||b[96]!==h||b[97]!==l||b[98]!==n?(E=k.jsx(y,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[94]=y,b[95]=g,b[96]=h,b[97]=l,b[98]=n,b[99]=E):E=b[99];s=E}else{b[100]!==o||b[101]!==g||b[102]!==h||b[103]!==l||b[104]!==n?(p=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[100]=o,b[101]=g,b[102]=h,b[103]=l,b[104]=n,b[105]=p):p=b[105];s=p}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").LINK))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_PHOTO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").PERMANENT_RAVEN_VIDEO))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").AUDIO))){b[106]!==o||b[107]!==g||b[108]!==h||b[109]!==l||b[110]!==n?(G=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[106]=o,b[107]=g,b[108]=h,b[109]=l,b[110]=n,b[111]=G):G=b[111];s=G}else if(u!=null){b[112]!==u||b[113]!==g||b[114]!==h||b[115]!==l||b[116]!==n?(M=k.jsx(u,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[112]=u,b[113]=g,b[114]=h,b[115]=l,b[116]=n,b[117]=M):M=b[117];s=M}else{b[118]!==F?(f=c("FBLogger")("messenger_comet").mustfix("Unknown attachment type: %s",(i||(i=d("I64"))).to_string(F)),b[118]=F,b[119]=f):f=b[119];s=f}else if((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").STICKER))&&y!=null){b[120]!==y||b[121]!==g||b[122]!==h||b[123]!==l||b[124]!==n?(a=k.jsx(y,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[120]=y,b[121]=g,b[122]=h,b[123]=l,b[124]=n,b[125]=a):a=b[125];s=a}else c("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content when attachment is available, reply source type: %s, attachment type: %s",(i||(i=d("I64"))).to_string(I!=null?I:(i||(i=d("I64"))).zero),i.to_string(F)),s=null;else if(I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))&&H!=null&&H!==""){K=(i||(i=d("I64"))).of_float(Date.now());z=l.replyMediaExpirationTimestampMs;r=z!=null&&(i||(i=d("I64"))).gt(K,z)&&!(i||(i=d("I64"))).equal(z,(i||(i=d("I64"))).zero);if(r)s=null;else{b[126]!==A||b[127]!==g||b[128]!==l||b[129]!==n||b[130]!==H?(x=k.jsx(A,{isSecureMessage:g,message:l,outgoing:n,text:H}),b[126]=A,b[127]=g,b[128]=l,b[129]=n,b[130]=H,b[131]=x):x=b[131];s=x}}else if(D!=null)if(t!=null){b[132]!==t||b[133]!==g||b[134]!==h||b[135]!==l||b[136]!==n?(L=k.jsx(t,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[132]=t,b[133]=g,b[134]=h,b[135]=l,b[136]=n,b[137]=L):L=b[137];s=L}else{b[138]!==o||b[139]!==g||b[140]!==h||b[141]!==l||b[142]!==n?(E=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[138]=o,b[139]=g,b[140]=h,b[141]=l,b[142]=n,b[143]=E):E=b[143];s=E}else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").EPHEMERAL_RAVEN_MESSAGE))&&v!=null){b[144]!==v||b[145]!==g||b[146]!==h||b[147]!==l||b[148]!==n?(p=k.jsx(v,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[144]=v,b[145]=g,b[146]=h,b[147]=l,b[148]=n,b[149]=p):p=b[149];s=p}else if(J!=null&&(i||(i=d("I64"))).equal(J,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").DELETED))){b[150]!==w||b[151]!==n?(G=w!=null?k.jsx(w,{outgoing:n}):null,b[150]=w,b[151]=n,b[152]=G):G=b[152];s=G}else if(J!=null&&(i||(i=d("I64"))).equal(J,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").EXPIRED))){b[153]!==q||b[154]!==g||b[155]!==h||b[156]!==l||b[157]!==n?(u=q!=null?k.jsx(q,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}):null,b[153]=q,b[154]=g,b[155]=h,b[156]=l,b[157]=n,b[158]=u):u=b[158];s=u}else if(J!=null&&(i||(i=d("I64"))).equal(J,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").TEMPORARY_UNAVAILABLE))){b[159]!==B||b[160]!==n?(M=B!=null?k.jsx(B,{outgoing:n}):null,b[159]=B,b[160]=n,b[161]=M):M=b[161];s=M}else if(H!=null&&I!=null&&(i||(i=d("I64"))).equal(I,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE)))if(H!==""){b[162]!==A||b[163]!==g||b[164]!==l||b[165]!==n||b[166]!==H?(f=k.jsx(A,{isSecureMessage:g,message:l,outgoing:n,text:H}),b[162]=A,b[163]=g,b[164]=l,b[165]=n,b[166]=H,b[167]=f):f=b[167];s=f}else{b[168]!==o||b[169]!==g||b[170]!==h||b[171]!==l||b[172]!==n?(y=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[168]=o,b[169]=g,b[170]=h,b[171]=l,b[172]=n,b[173]=y):y=b[173];s=y}else if(F!=null&&(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").XMA)))if(C!=null){b[174]!==C||b[175]!==n?(a=k.jsx(C,{outgoing:n}),b[174]=C,b[175]=n,b[176]=a):a=b[176];s=a}else{b[177]!==o||b[178]!==g||b[179]!==h||b[180]!==l||b[181]!==n?(K=k.jsx(o,{isSecureMessage:g,mediaRenderQpl:h,message:l,outgoing:n}),b[177]=o,b[178]=g,b[179]=h,b[180]=l,b[181]=n,b[182]=K):K=b[182];s=K}else c("FBLogger")("messenger_comet").mustfix("Rendering empty replied message content, reply source type: %s",(i||(i=d("I64"))).to_string(I!=null?I:(i||(i=d("I64"))).zero)),s=null;b[183]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x193iq5w x1n2onr6 x1vjfegm"},b[183]=z):z=b[183];b[184]!==s?(r=k.jsx("div",babelHelpers["extends"]({},z,{children:s})),b[184]=s,b[185]=r):r=b[185];x=r;var N=l.replySourceTimestampMs,O=l.replySourceId,P=c("useMWJumpToMessage")("Reply");D=F!=null&&((i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_PHOTO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_VIDEO_CONTRIBUTION))||(i||(i=d("I64"))).equal(F,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)));var Q=d("useRollcallContributionsXMAActionHandler").useRollcallContributionsXMAActionHandler();t=c("useIsRollcallEnabled")(l.threadKey);L=(j||(j=d("LSIntEnum"))).equal(l.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(j||(j=d("LSIntEnum"))).equal(l.replyAttachmentId,0);if(O!=null&&N!=null&&e&&!L){b[186]!==P||b[187]!==O||b[188]!==N?(E=function(){d("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),P(O,N)},b[186]=P,b[187]=O,b[188]=N,b[189]=E):E=b[189];v=E;if(D&&t){if(b[190]!==l.replyAttachmentExtra){w=(i||(i=d("I64"))).of_string((p=l.replyAttachmentExtra)!=null?p:"0");b[190]=l.replyAttachmentExtra;b[191]=w}else w=b[191];var R=w,S=l.threadKey,T=(G=l.replySourceId)!=null?G:null;b[192]!==l.messageId||b[193]!==Q||b[194]!==R||b[195]!==T||b[196]!==S?(q=function(){d("MWPBumpEntityKey").bumpEntityKey("mw_reply_bubble","reply_press"),Q(R,S,T,null,l.messageId)},b[192]=l.messageId,b[193]=Q,b[194]=R,b[195]=T,b[196]=S,b[197]=q):q=b[197];v=q}b[198]!==v||b[199]!==x?(u=k.jsx(c("MWXPressable.react"),{onPress:v,overlayDisabled:!0,xstyle:m,children:x}),b[198]=v,b[199]=x,b[200]=u):u=b[200];return u}else return x}function m(){return[l.pressable]}g["default"]=a}),98);
__d("MWXMessageReplyBubble.react",["fbt","CometScreenReaderText.react","MWXMessageBubble.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,f=a.fontStyle;a=a.outgoing;f=f===void 0?"normal":f;a=a?"right":"left";var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("CometScreenReaderText.react"),{text:h._(/*BTDS*/"Original message:")}),b[0]=g):g=b[0];var i;b[1]!==f?(i={0:{className:"x1mzt3pk x1l90r2v x1iorvi4"},1:{className:"x1mzt3pk x1l90r2v x1iorvi4 x1k4tb9n"}}[!!(f==="italic")<<0],b[1]=f,b[2]=i):i=b[2];b[3]!==e||b[4]!==i?(f=j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:j.jsx("div",babelHelpers["extends"]({},i,{"data-testid":void 0,children:e}))}),b[3]=e,b[4]=i,b[5]=f):f=b[5];b[6]!==a||b[7]!==f?(e=j.jsxs(c("MWXMessageBubble.react"),{align:a,color:"quoted",connectBottom:!0,connectTop:!1,precedesXMA:!1,children:[g,f]}),b[6]=a,b[7]=f,b[8]=e):e=b[8];return e}g["default"]=a}),226);
__d("MWRepliesAttachment.react",["fbt","ix","MWXIcon_DEPRECATED.react","MWXMessageReplyBubble.react","fbicon","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react")),l=j.useEffect;function a(a){var b=d("react-compiler-runtime").c(9),e=a.mediaRenderQpl;a=a.outgoing;var f,g;b[0]!==e?(f=function(){e==null||e.addPoint("render-replies-attachment")},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);l(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Attachment"),b[3]=f):f=b[3];g=f;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x6s0dn4 x78zum5"},b[4]=f):f=b[4];var j;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x1lliihq x13fj5qh"},b[5]=j):j=b[5];b[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsxs("div",babelHelpers["extends"]({},f,{children:[g,k.jsx("span",babelHelpers["extends"]({},j,{children:k.jsx(c("MWXIcon_DEPRECATED.react"),{color:"secondary",icon:d("fbicon")._(i("537728"),12)})}))]})),b[6]=f):f=b[6];b[7]!==a?(g=k.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:f}),b[7]=a,b[8]=g):g=b[8];return g}g["default"]=a}),226);
__d("MWRepliesExpired.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(6),e=a.mediaRenderQpl;a=a.outgoing;var f,g;b[0]!==e?(f=function(){e==null||e.addPoint("render-replies-expired"),e==null||e.endSuccess()},g=[e],b[0]=e,b[1]=f,b[2]=g):(f=b[1],g=b[2]);k(f,g);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Message expired"),b[3]=f):f=b[3];g=f;b[4]!==a?(f=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:g}),b[4]=a,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("useMWRepliesImageGetMaxDimensions",["MWLSThreadDisplayContext","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(2),b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();b=b==="ChatTab";b=b?180:300;var c;a[0]!==b?(c={maxHeight:100,maxWidth:b},a[0]=b,a[1]=c):c=a[1];return c}g["default"]=a}),98);
__d("MWRepliesImage.react",["I64","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWPThreadCapabilitiesContext","MWXAspectRatioContainer.react","MWXMessageImage.react","cr:4509","emptyFunction","gkx","react","react-compiler-runtime","stylex","useMWRepliesImageGetMaxDimensions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));i.useCallback;var l={incoming:{borderEndStartRadius:"x1pczhz8",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",$$css:!0},root:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x1lliihq",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",position:"x1n2onr6",width:"x14atkfc",$$css:!0},rootHasSticker:{borderStartStartRadius:"x15mokao",borderStartEndRadius:"x1ga7v0g",borderEndEndRadius:"x16uus16",borderEndStartRadius:"xbiv7yw",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(28),f=a.attachment,g=a.height,i=a.imageAlt,m=a.isAnimatedImage,n=a.isSecureMessage,o=a.isSticker,p=a.mediaRenderQpl,q=a.message,r=a.outgoing,s=a.src,t=a.width;a=i===void 0?"":i;i=m===void 0?!1:m;var u=n===void 0?!1:n,v=o===void 0?!1:o;m=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting();n=c("useMWRepliesImageGetMaxDimensions")();o=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();o=o.blurMediaEnabled;o=c("gkx")("24098")&&o;var w=v?!1:r?l.outgoing:l.incoming,x;e[0]!==p?(x=function(){p==null||p.endFail("load-image-error")},e[0]=p,e[1]=x):x=e[1];x=x;var y;e[2]!==p?(y=function(){p==null||p.endSuccess()},e[2]=p,e[3]=y):y=e[3];y=y;var z;e[4]!==f||e[5]!==m||e[6]!==w||e[7]!==g||e[8]!==a||e[9]!==i||e[10]!==u||e[11]!==v||e[12]!==n.maxHeight||e[13]!==n.maxWidth||e[14]!==p||e[15]!==q||e[16]!==x||e[17]!==y||e[18]!==r||e[19]!==s||e[20]!==t?(z=i&&m!==d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON?k.jsx(c("MWXAspectRatioContainer.react"),{height:g!=null?(j||(j=d("I64"))).to_float(g):n.maxHeight,maxHeight:n.maxHeight,maxWidth:n.maxWidth,width:t!=null?(j||(j=d("I64"))).to_float(t):n.maxWidth,children:function(a){return k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([l.root,v&&l.rootHasSticker,w,a]),{children:k.jsx(d("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:!1,connectTop:!1,dbAttachment:f,entryPoint:d("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isReplyImage:!0,isSecure:u,mediaRenderQpl:p,message:q,onPlay:c("emptyFunction"),onPress:c("emptyFunction"),outgoing:r,previewHeight:g!=null?(j||(j=d("I64"))).to_float(g):void 0,previewWidth:t!=null?(j||(j=d("I64"))).to_float(t):void 0,sourceURL:s})}))}}):k.jsx(c("MWXMessageImage.react"),{alt:a,height:g!=null?(j||(j=d("I64"))).to_float(g):void 0,maxHeight:n.maxHeight,maxWidth:n.maxWidth,onError:x,onLoad:y,src:s,width:t!=null?(j||(j=d("I64"))).to_float(t):void 0,xstyle:[l.root,v&&l.rootHasSticker,w]}),e[4]=f,e[5]=m,e[6]=w,e[7]=g,e[8]=a,e[9]=i,e[10]=u,e[11]=v,e[12]=n.maxHeight,e[13]=n.maxWidth,e[14]=p,e[15]=q,e[16]=x,e[17]=y,e[18]=r,e[19]=s,e[20]=t,e[21]=z):z=e[21];m=z;if(b("cr:4509")!=null&&o&&!v){e[22]!==w?(a=[l.root,w],e[22]=w,e[23]=a):a=e[23];e[24]!==m||e[25]!==s||e[26]!==a?(i=k.jsx(b("cr:4509"),{mediaType:"Image",overlayDisabled:!0,type:"image",uncoverable:!1,url:s,xstyle:a,children:m}),e[24]=m,e[25]=s,e[26]=a,e[27]=i):i=e[27];return i}return m}g["default"]=a}),98);
__d("MWRepliesUtil",["I64","MAWGetAttachmentThumbnailBlob","MAWMediaManagerUiIntegrationCheck","cr:9765","justknobx"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,e,f){if(b("cr:9765")==null)return null;if(a.replyAttachmentPlaintextHash!=null){e==null||e.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"plaintextHash"}});var g=a.replyAttachmentPlaintextHash!=null&&c("justknobx")._("4927")&&d("MAWMediaManagerUiIntegrationCheck").getIsMediaManagerUiIntegrationEnabled()?d("MAWGetAttachmentThumbnailBlob").getThumbnailBlobByAttachmentId_CausesSuspense:b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense;g=a.replyAttachmentPlaintextHash!=null?g(a.replyAttachmentPlaintextHash,f,e):void 0;e==null||e.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(g)},string:{fetch_by:"plaintextHash"}});return g}else{e==null||e.addPoint("fetch_reply_preview_url_media_start",{string:{fetch_by:"mediaId"}});g=a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((h||(h=d("I64"))).to_string(a.replyAttachmentId),f,e):void 0;e==null||e.addPoint("fetch_reply_preview_url_media_end",{bool:{has_url:Boolean(g)},string:{fetch_by:"mediaId"}});return g}}g.getSecureReplyMediaURL_CausesSuspense=a}),98);
__d("getLSMediaMessageReplyMediaUrl",["LSMediaUrlUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.replyMediaExpirationTimestampMs;if(b!=null&&d("LSMediaUrlUtils").isTimestampExpired(b))return a.replyMediaUrlFallback;else return a.replyMediaUrl}g["default"]=a}),98);
__d("MWRepliesGIF.react",["fbt","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var m=k||(k=d("react")),n=k.useEffect;function o(a){var e=d("react-compiler-runtime").c(32),g=a.isSecureMessage,k=a.mediaRenderQpl,l=a.message;a=a.outgoing;g=g===void 0?!1:g;var o,p;e[0]!==k?(o=function(){k==null||k.addPoint("render-replies-gif-impl")},p=[k],e[0]=k,e[1]=o,e[2]=p):(o=e[1],p=e[2]);n(o,p);var q=(i||(i=c("useReStore")))();e[3]!==q.tables.attachments||e[4]!==l.replyAttachmentId||e[5]!==l.replyAttachmentPlaintextHash||e[6]!==l.replySourceId||e[7]!==l.threadKey?(o=function(){var a,b=(a=l.replyAttachmentPlaintextHash)!=null?a:null,c=(a=l.replySourceId)!=null?a:"";if(b!=null)return d("ReQL").fromTableAscending(q.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=l.replyAttachmentId)!=null?a:(j||(j=d("I64"))).zero;return d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(l.threadKey,c,(j||(j=d("I64"))).to_string(a))}},e[3]=q.tables.attachments,e[4]=l.replyAttachmentId,e[5]=l.replyAttachmentPlaintextHash,e[6]=l.replySourceId,e[7]=l.threadKey,e[8]=o):o=e[8];e[9]!==q||e[10]!==l?(p=[q,l],e[9]=q,e[10]=l,e[11]=p):p=e[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":50");p=g?o:null;p=c("useMAWMediaDownloadStatus")(p,k);p=p.uiState;var r;if(o!=null)if(p!=="downloaded"&&g)r=null;else if(b("cr:9765")==null||!g){e[12]!==o?(p=d("LSMediaUrlAttachment").previewUrl(o),e[12]=o,e[13]=p):p=e[13];r=p}else{e[14]!==o.attachmentFbid||e[15]!==k?(p=b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(o.attachmentFbid,"MWRepliesGIF",k),e[14]=o.attachmentFbid,e[15]=k,e[16]=p):p=e[16];r=p}else if(b("cr:9765")!=null){e[17]!==g||e[18]!==k||e[19]!==l?(p=b("cr:9765")!=null&&g?d("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(l,k,"MWRepliesGIF"):c("getLSMediaMessageReplyMediaUrl")(l),e[17]=g,e[18]=k,e[19]=l,e[20]=p):p=e[20];r=p}if(r!=null&&r!==""){p=o==null?void 0:o.accessibilitySummaryText;var s;e[21]!==o||e[22]!==g||e[23]!==k||e[24]!==l||e[25]!==a||e[26]!==r||e[27]!==p?(s=m.jsx(c("MWRepliesImage.react"),{attachment:o,height:l.replyMediaPreviewHeight,imageAlt:p,isAnimatedImage:!0,isSecureMessage:g,mediaRenderQpl:k,message:l,outgoing:a,src:r,width:l.replyMediaPreviewWidth}),e[21]=o,e[22]=g,e[23]=k,e[24]=l,e[25]=a,e[26]=r,e[27]=p,e[28]=s):s=e[28];return s}else{e[29]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"GIF"),e[29]=o):o=e[29];e[30]!==a?(g=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:o}),e[30]=a,e[31]=g):g=e[31];return g}}function a(a){var b=d("react-compiler-runtime").c(18),e;b[0]!==a?(e=babelHelpers["extends"]({},(l(a),a)),b[0]=a,b[1]=e):e=b[1];a=e;var f=a.message;a=a.outgoing;var g,h;b[2]!==e.mediaRenderQpl?(g=function(){var a;(a=e.mediaRenderQpl)==null||a.addPoint("render-replies-gif")},h=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=g,b[4]=h):(g=b[3],h=b[4]);n(g,h);if(b[5]!==f.replyMediaPreviewHeight){h=(j||(j=d("I64"))).to_float((g=f.replyMediaPreviewHeight)!=null?g:(j||(j=d("I64"))).of_float(100));b[5]=f.replyMediaPreviewHeight;b[6]=h}else h=b[6];if(b[7]!==f.replyMediaPreviewWidth){g=(j||(j=d("I64"))).to_float((g=f.replyMediaPreviewWidth)!=null?g:(j||(j=d("I64"))).of_float(100));b[7]=f.replyMediaPreviewWidth;b[8]=g}else g=b[8];b[9]!==a||b[10]!==h||b[11]!==g?(f=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesGIF.Suspense",height:h,outgoing:a,width:g}),b[9]=a,b[10]=h,b[11]=g,b[12]=f):f=b[12];b[13]!==e?(a=m.jsx(o,babelHelpers["extends"]({},e)),b[13]=e,b[14]=a):a=b[14];b[15]!==f||b[16]!==a?(h=m.jsx(c("CometPlaceholder.react"),{fallback:f,name:"MWRepliesGIF",children:a}),b[15]=f,b[16]=a,b[17]=h):h=b[17];return h}g["default"]=a}),226);
__d("MWRepliesMedia.react",["fbt","ix","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSIcon.react","I64","IconSource","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","WAArmadilloXMA.pb","cr:9765","getLSMediaMessageReplyMediaUrl","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m=l||(l=d("react")),n=l.useEffect;function o(a){var e=d("react-compiler-runtime").c(54),g=a.isSecureMessage,l=a.mediaRenderQpl,o=a.message;a=a.outgoing;g=g===void 0?!1:g;var p;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Photo"),e[0]=p):p=e[0];p=p;e[1]!==a?(p=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:p}),e[1]=a,e[2]=p):p=e[2];p=p;var q=(j||(j=c("useReStore")))(),r;e[3]!==q||e[4]!==o.replyAttachmentId||e[5]!==o.replyAttachmentPlaintextHash||e[6]!==o.replySourceId||e[7]!==o.threadKey?(r=function(){var a=o.replySourceId;if(a!=null)if(o.replyAttachmentPlaintextHash!=null){var b=o.replyAttachmentPlaintextHash;return d("ReQL").fromTableAscending(q.tables.attachments).filter(function(c){return c.attachmentFbid===b&&c.messageId===a})}else if(o.replyAttachmentId!=null){var c=o.replyAttachmentId;return d("ReQL").fromTableAscending(q.tables.attachments).getKeyRange(o.threadKey,a,(k||(k=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=q,e[4]=o.replyAttachmentId,e[5]=o.replyAttachmentPlaintextHash,e[6]=o.replySourceId,e[7]=o.threadKey,e[8]=r):r=e[8];var s;e[9]!==q||e[10]!==o?(s=[q,o],e[9]=q,e[10]=o,e[11]=s):s=e[11];var t=d("ReQLSuspense").useFirst(r,s,f.id+":95");e[12]!==t||e[13]!==l?(r=function(){t!=null&&(l==null||l.addAttachmentAnnotations==null||l.addAttachmentAnnotations(t)),l==null||l.addPoint("render-reply-media-impl",{bool:{has_db_attachment:t!=null}})},s=[t,l],e[12]=t,e[13]=l,e[14]=r,e[15]=s):(r=e[14],s=e[15]);n(r,s);r=c("useMWRepliesImageGetMaxDimensions")();s=g?t:null;var u=c("useMAWMediaDownloadStatus")(s,l);u=u.uiState;if(s!=null&&u!=="downloaded")return p;s=t!=null&&t.hasXma&&g&&t.gatingType===String(d("WAArmadilloXMA.pb").EXTENDED_CONTENT_MESSAGE_OVERLAY_ICON_GLYPH.PRIVATE);if(t!=null&&t.hasXma&&g){u=(u=t.defaultCtaType)!=null?u:""}else u="";var v;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(v=new(c("IconSource"))("FB",i("1423124"),28),e[16]=v):v=e[16];v=v;if(s)if(u==="xma_montage_share"){e[17]===Symbol["for"]("react.memo_cache_sentinel")?(s={className:"x6s0dn4 x1qb2erx xjw5052 x6nl9eh x1a5l9x9 x7vuprf x1mg3h75 x78zum5 xdt5ytf x1wkxgih xl56j7k x197sbye x2b8uid xni59qk"},u={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},e[17]=u,e[18]=s):(u=e[17],s=e[18]);e[19]!==v?(s=m.jsx("div",babelHelpers["extends"]({},s,{children:m.jsx("div",babelHelpers["extends"]({},u,{children:m.jsx(c("FDSIcon.react"),{icon:v})}))})),e[19]=v,e[20]=s):s=e[20];return s}else{e[21]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x99fzhk x18aeczl x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d x78zum5 xdt5ytf xpyat2d xl56j7k x2b8uid x1exxlbk"},s={className:"x14vqqas xbmvrgn xod5an3 x1diwwjn"},e[21]=s,e[22]=u):(s=e[21],u=e[22]);e[23]!==v?(u=m.jsx("div",babelHelpers["extends"]({},u,{children:m.jsx("div",babelHelpers["extends"]({},s,{children:m.jsx(c("FDSIcon.react"),{icon:v})}))})),e[23]=v,e[24]=u):u=e[24];return u}if(g&&(t==null?void 0:t.hasMedia)===!1){if(e[25]!==o.replyMediaPreviewHeight){v=(k||(k=d("I64"))).to_float((s=o.replyMediaPreviewHeight)!=null?s:(k||(k=d("I64"))).of_float(100));e[25]=o.replyMediaPreviewHeight;e[26]=v}else v=e[26];u=r.maxHeight;s=r.maxWidth;if(e[27]!==o.replyMediaPreviewWidth){var w;w=(k||(k=d("I64"))).to_float((w=o.replyMediaPreviewWidth)!=null?w:(k||(k=d("I64"))).of_float(100));e[27]=o.replyMediaPreviewWidth;e[28]=w}else w=e[28];e[29]!==r.maxHeight||e[30]!==r.maxWidth||e[31]!==l||e[32]!==a||e[33]!==w||e[34]!==v?(u=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.NoMedia",height:v,maxHeight:u,maxWidth:s,mediaRenderQpl:l,outgoing:a,width:w}),e[29]=r.maxHeight,e[30]=r.maxWidth,e[31]=l,e[32]=a,e[33]=w,e[34]=v,e[35]=u):u=e[35];e[36]===Symbol["for"]("react.memo_cache_sentinel")?(s=m.jsx(c("CometHeroHoldTrigger.react"),{description:"MWRepliesMedia.NoMedia",hold:!0}),e[36]=s):s=e[36];e[37]!==u?(r=m.jsxs(m.Fragment,{children:[u,s]}),e[37]=u,e[38]=r):r=e[38];return r}e[39]!==t||e[40]!==g||e[41]!==l||e[42]!==o?(w=b("cr:9765")!=null&&g?function(a){if(t!=null&&t.hasXma){l==null||l.addPoint("fetch_reply_preview_url_xma_start");a=a.replyAttachmentId!=null?b("cr:9765").getInfoUrlXMA_CausesSuspense(t,"preview","MWRepliesMedia",l):void 0;l==null||l.addPoint("fetch_reply_preview_url_xma_end",{bool:{has_url:Boolean(a)},string:{fetch_by:"maw_backend"}});return a}return d("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(o,l,"MWRepliesMedia")}:c("getLSMediaMessageReplyMediaUrl"),e[39]=t,e[40]=g,e[41]=l,e[42]=o,e[43]=w):w=e[43];v=w;e[44]!==v||e[45]!==o?(s=v(o),e[44]=v,e[45]=o,e[46]=s):s=e[46];u=s;if(u!=null&&u!==""){r=o.replyMediaPreviewHeight;e[47]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Original image"),e[47]=g):g=e[47];e[48]!==l||e[49]!==o.replyMediaPreviewHeight||e[50]!==o.replyMediaPreviewWidth||e[51]!==a||e[52]!==u?(w=m.jsx(c("MWRepliesImage.react"),{height:r,imageAlt:g,mediaRenderQpl:l,outgoing:a,src:u,width:o.replyMediaPreviewWidth}),e[48]=l,e[49]=o.replyMediaPreviewHeight,e[50]=o.replyMediaPreviewWidth,e[51]=a,e[52]=u,e[53]=w):w=e[53];return w}return p}function a(a){var b=d("react-compiler-runtime").c(21),e=a.isSecureMessage,f=a.mediaRenderQpl,g=a.message;a=a.outgoing;e=e===void 0?!1:e;var h,i;b[0]!==f?(h=function(){f==null||f.addPoint("render-replies-media")},i=[f],b[0]=f,b[1]=h,b[2]=i):(h=b[1],i=b[2]);n(h,i);h=c("useMWRepliesImageGetMaxDimensions")();if(b[3]!==g.replyMediaPreviewHeight){i=(k||(k=d("I64"))).to_float((i=g.replyMediaPreviewHeight)!=null?i:(k||(k=d("I64"))).of_float(100));b[3]=g.replyMediaPreviewHeight;b[4]=i}else i=b[4];var j=h.maxHeight,l=h.maxWidth;if(b[5]!==g.replyMediaPreviewWidth){var p;p=(k||(k=d("I64"))).to_float((p=g.replyMediaPreviewWidth)!=null?p:(k||(k=d("I64"))).of_float(100));b[5]=g.replyMediaPreviewWidth;b[6]=p}else p=b[6];b[7]!==h.maxHeight||b[8]!==h.maxWidth||b[9]!==a||b[10]!==i||b[11]!==p?(j=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesMedia.Suspense",height:i,maxHeight:j,maxWidth:l,outgoing:a,width:p}),b[7]=h.maxHeight,b[8]=h.maxWidth,b[9]=a,b[10]=i,b[11]=p,b[12]=j):j=b[12];b[13]!==e||b[14]!==f||b[15]!==g||b[16]!==a?(l=m.jsx(o,{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a}),b[13]=e,b[14]=f,b[15]=g,b[16]=a,b[17]=l):l=b[17];b[18]!==j||b[19]!==l?(h=m.jsx(c("CometPlaceholder.react"),{fallback:j,name:"MWRepliesMedia.Suspense",children:l}),b[18]=j,b[19]=l,b[20]=h):h=b[20];return h}g["default"]=a}),226);
__d("MessengerViewOnceFilled.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 36 36",fill:"currentColor",width:"1em",height:"1em",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").Path,{d:"M7 18c0-6.075 4.925-11 11-11a1.25 1.25 0 1 1 0 2.5 8.5 8.5 0 0 0 0 17 1.25 1.25 0 1 1 0 2.5c-6.075 0-11-4.925-11-11zM22.25 10.5a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 12.75a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM27.75 19.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5zM27.5 23.25a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0zM22.25 28a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5z"}),i.jsx(d("XPlatReactSVG").Path,{d:"M19.448 13.134c.34.19.552.548.552.937v7.858a1.071 1.071 0 0 1-2.143 0v-5.667a.143.143 0 0 0-.218-.12l-1 .624a1.071 1.071 0 1 1-1.135-1.817l2.857-1.786c.33-.207.746-.218 1.087-.029z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWViewOnceMessageIcon",["MWXSvgIcon","MessengerViewOnceFilled.svg.react","SVGIcon"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(c("MessengerViewOnceFilled.svg.react")),!0);g["default"]=a}),98);
__d("MWRepliesRaven.react",["fbt","LSIntEnum","MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageReplyBubble.react","MessagingAttachmentType","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n=h._(/*BTDS*/"Attachment");function a(a){var b=d("react-compiler-runtime").c(17),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var k,o;b[0]!==e?(k=function(){e==null||e.addPoint("render-replies-raven")},o=[e],b[0]=e,b[1]=k,b[2]=o):(k=b[1],o=b[2]);m(k,o);var p=(i||(i=c("useReStore")))(),q=g.replySourceId,r=g.threadKey;b[3]!==p||b[4]!==q||b[5]!==r?(k=function(){return q!=null?d("ReQL").fromTableAscending(p.tables.attachments).getKeyRange(r,q):d("ReQL").empty()},o=[p,r,q],b[3]=p,b[4]=q,b[5]=r,b[6]=k,b[7]=o):(k=b[6],o=b[7]);g=d("ReQLSuspense").useFirst(k,o,f.id+":55");k=n;if(g!=null){o=(j||(j=d("LSIntEnum"))).unwrapIntEnum(g.attachmentType);bb0:switch(o){case c("MessagingAttachmentType").EPHEMERAL_IMAGE:b[8]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Photo"),b[8]=g):g=b[8];k=g;break bb0;case c("MessagingAttachmentType").EPHEMERAL_VIDEO:b[9]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"Video"),b[9]=o):o=b[9];k=o;break bb0;default:k=n}}g=k;var s;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x78zum5"},s=l.jsx("span",{className:"x1lliihq xbelrpt",children:l.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWViewOnceMessageIcon"),size:12})}),b[10]=o,b[11]=s):(o=b[10],s=b[11]);b[12]!==k?(g=l.jsxs("div",babelHelpers["extends"]({"aria-label":g},o,{children:[s,k]})),b[12]=k,b[13]=g):g=b[13];b[14]!==a||b[15]!==g?(o=l.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:g}),b[14]=a,b[15]=g,b[16]=o):o=b[16];return o}g["default"]=a}),226);
__d("MWRepliesRemoved.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message removed"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWRepliesRollcallContribution.react",["fbt","CometPlaceholder.react","FDSBlurredBackgroundImage.react","FDSImageCover.react","I64","Int64Hooks","LSFactory","LSIntEnum","LSIssuePointQueryForRollCallConversionStoredProcedure","LSReplyMessageAttachmentType","MWXMessageReplyBubble.react","MWXProfilePhoto.react","MWXText.react","ReQL","ReQLSuspense","cr:2472","getLSMediaMessageReplyMediaUrl","isStringNullOrEmpty","promiseDone","react","react-compiler-runtime","stylex","useJSON","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m;function n(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var o=k||(k=d("react")),p=k.useEffect,q=213,r=213,s={blurredImage:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",$$css:!0},outgoing:{borderEndEndRadius:"x1wcsgtt",borderEndStartRadius:"x16xm01d",$$css:!0},unblurredImageContainer:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",opacity:"x197sbye",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}},t=function(a){a=c("isStringNullOrEmpty")(a.replyMessageText)?h._(/*BTDS*/"Prompt contribution"):b("cr:2472")==null?a.replyMessageText:b("cr:2472").unvault(a.replyMessageText);return a};function a(a){var b=d("react-compiler-runtime").c(11),e;b[0]!==a?(e=babelHelpers["extends"]({},(n(a),a)),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null||a.addPoint("render-replies-rollcall-contribution")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);p(a,f);a=e;f=a.message;b[5]!==f.replyAttachmentId||b[6]!==f.replyAttachmentType?(a=(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentType,c("LSReplyMessageAttachmentType").ROLL_CALL_TEXT_CONTRIBUTION)&&!(m||(m=d("LSIntEnum"))).equal(f.replyAttachmentId,0),b[5]=f.replyAttachmentId,b[6]=f.replyAttachmentType,b[7]=a):a=b[7];f=a;b[8]!==f||b[9]!==e?(a=o.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesRollcallContribution",children:f?o.jsx(u,babelHelpers["extends"]({},e)):o.jsx(v,babelHelpers["extends"]({},e))}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}function u(a){var b=d("react-compiler-runtime").c(16),e=a.message;a=a.outgoing;var f;b[0]!==e?(f=t(e),b[0]=e,b[1]=f):f=b[1];f=f;e=c("useJSON")((e=e.replyAttachmentExtra)!=null?e:"{}");var g=e.avatar_height,h=e.avatar_url,i=e.avatar_width;e=e.owner_name;var j;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x6s0dn4 x78zum5 x1nhvcw1 x1gslohp x12nagc"},b[2]=j):j=b[2];var k;b[3]!==g||b[4]!==h||b[5]!==i?(k=h!=null&&o.jsx("div",{className:"x1xegmmw",children:o.jsx(c("MWXProfilePhoto.react"),{"aria-label":"",size:24,source:{height:g,uri:h,width:i}})}),b[3]=g,b[4]=h,b[5]=i,b[6]=k):k=b[6];b[7]!==e?(g=e!=null&&o.jsx(c("MWXText.react"),{type:"meta2",children:e}),b[7]=e,b[8]=g):g=b[8];b[9]!==k||b[10]!==g?(h=o.jsxs("div",babelHelpers["extends"]({},j,{children:[k,g]})),b[9]=k,b[10]=g,b[11]=h):h=b[11];b[12]!==a||b[13]!==h||b[14]!==f?(i=o.jsxs(c("MWXMessageReplyBubble.react"),{outgoing:a,children:[h,f]}),b[12]=a,b[13]=h,b[14]=f,b[15]=i):i=b[15];return i}function v(a){var b=d("react-compiler-runtime").c(45),e=a.mediaRenderQpl,g=a.message;a=a.outgoing;var h,k;b[0]!==e?(h=function(){e==null||e.addPoint("render-replies-rollcall-contribution-impl")},k=[e],b[0]=e,b[1]=h,b[2]=k):(h=b[1],k=b[2]);p(h,k);b[3]!==g?(h=t(g),b[3]=g,b[4]=h):h=b[4];k=h;var m=(i||(i=c("useReStore")))();if(b[5]!==g.replyAttachmentExtra){h=(l||(l=d("I64"))).of_string((h=g.replyAttachmentExtra)!=null?h:"0");b[5]=g.replyAttachmentExtra;b[6]=h}else h=b[6];var n=h;b[7]!==m.tables.roll_calls||b[8]!==n?(h=function(){return d("ReQL").fromTableAscending(m.tables.roll_calls).getKeyRange(n)},b[7]=m.tables.roll_calls,b[8]=n,b[9]=h):h=b[9];var u;b[10]!==m||b[11]!==n?(u=[m,n],b[10]=m,b[11]=n,b[12]=u):u=b[12];var v=d("ReQLSuspense").useFirst(h,u,f.id+":162"),w=g.threadKey;b[13]!==m||b[14]!==n||b[15]!==v||b[16]!==w?(h=function(){v||c("promiseDone")(m.runInTransaction(function(a){return c("LSIssuePointQueryForRollCallConversionStoredProcedure")(c("LSFactory")(a),{rollCallId:n,threadKey:w})},"readwrite",void 0,void 0,f.id+":171"))},u=[v,n,w,m],b[13]=m,b[14]=n,b[15]=v,b[16]=w,b[17]=h,b[18]=u):(h=b[17],u=b[18]);d("Int64Hooks").useEffectInt64(h,u);u=(h=v==null?void 0:v.isBlurred)!=null?h:!1;if(b[19]!==g){h=c("getLSMediaMessageReplyMediaUrl")(g);var x;b[24]!==g.replyMediaPreviewHeight?(x=g.replyMediaPreviewHeight!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewHeight):0,b[24]=g.replyMediaPreviewHeight,b[25]=x):x=b[25];x=x;var y;b[26]!==g.replyMediaPreviewWidth?(y=g.replyMediaPreviewWidth!=null?(l||(l=d("I64"))).to_float(g.replyMediaPreviewWidth):0,b[26]=g.replyMediaPreviewWidth,b[27]=y):y=b[27];y=y;var z=Math.min(1,q/x),A=Math.min(1,r/y),B;b[28]!==x||b[29]!==z||b[30]!==A?(B=Math.round(x*Math.min(z,A)),b[28]=x,b[29]=z,b[30]=A,b[31]=B):B=b[31];x=B;b[32]!==z||b[33]!==A||b[34]!==y?(B=Math.round(y*Math.min(z,A)),b[32]=z,b[33]=A,b[34]=y,b[35]=B):B=b[35];z=B;A=c("isStringNullOrEmpty")(h);b[19]=g;b[20]=x;b[21]=z;b[22]=h;b[23]=A}else x=b[20],z=b[21],h=b[22],A=b[23];if(!A){b[36]!==u||b[37]!==x||b[38]!==z||b[39]!==a||b[40]!==h?(y=u?o.jsx("div",{style:{height:x,width:z},children:o.jsx(c("FDSBlurredBackgroundImage.react"),{src:h,xstyle:[s.blurredImage,a&&s.outgoing]})}):o.jsx("div",{className:(j||(j=c("stylex")))([s.unblurredImageContainer,a&&s.outgoing]),style:{height:x,width:z},children:o.jsx(c("FDSImageCover.react"),{alt:"",src:h})}),b[36]=u,b[37]=x,b[38]=z,b[39]=a,b[40]=h,b[41]=y):y=b[41];return y}b[42]!==a||b[43]!==k?(B=o.jsx(c("MWXMessageReplyBubble.react"),{outgoing:a,children:k}),b[42]=a,b[43]=k,b[44]=B):B=b[44];return B}g["default"]=a}),226);
__d("useIssueMediaReceiverFetchTask",["FBLogger","Int64Hooks","LSMediaUrlUtils","MAWBridgeUpdateClientMediaStatusHandler","MAWIssueReceiverFetchTask","MAWMediaDownloadStatus","WAHashUtils","clearTimeout","justknobx","promiseDone","react","react-compiler-runtime","setTimeout","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef,k=c("justknobx")._("3314");function a(a,b,e,f,g,h,l,m,n){var o=d("react-compiler-runtime").c(25),p=c("useAsyncReStore")(),q=j(!1),r;o[0]!==l||o[1]!==m?(r=d("LSMediaUrlUtils").hasValidReceiverFetchPreviewUrl(l,m),o[0]=l,o[1]=m,o[2]=r):r=o[2];var s=r,t=j(null);o[3]!==s?(l=function(){var a=t.current;s&&c("clearTimeout")(a);return function(){c("clearTimeout")(a)}},m=[s],o[3]=s,o[4]=l,o[5]=m):(l=o[4],m=o[5]);i(l,m);o[6]!==p||o[7]!==s||o[8]!==a||o[9]!==g||o[10]!==h||o[11]!==b||o[12]!==f||o[13]!==e?(r=function(){if(!g||!a||f==null||b==null||q.current||s)return;q.current=!0;h==null||h.addPoint("media_receiver_fetch_task_start");var i=function(a){c("promiseDone")(p,function(e){return d("MAWBridgeUpdateClientMediaStatusHandler").call(e,{details:a,key:d("WAHashUtils").stringToPlaintextHash(b),status:c("MAWMediaDownloadStatus").AUTOMATICALLY_RETRYABLE_TIMEOUT_FAILURE,type:"main"})})};c("promiseDone")(p,function(a){d("MAWIssueReceiverFetchTask").issueReceiverFetchTask(a,b,f,e),t.current=c("setTimeout")(function(){h==null||h.addPoint("media_receiver_fetch_task_timeout"),i("media_receiver_fetch_task_timeout")},k)},function(a){c("clearTimeout")(t.current),h==null||h.addPoint("media_receiver_fetch_task_fail"),i("media_receiver_fetch_task_fail"),c("FBLogger")("messenger_web_media").catching(a).warn("Failed to issue media receiver fetch task on mount")})},o[6]=p,o[7]=s,o[8]=a,o[9]=g,o[10]=h,o[11]=b,o[12]=f,o[13]=e,o[14]=r):r=o[14];o[15]!==n||o[16]!==p||o[17]!==s||o[18]!==a||o[19]!==g||o[20]!==h||o[21]!==b||o[22]!==f||o[23]!==e?(l=[p,s,g,h,b,f,e,a,n],o[15]=n,o[16]=p,o[17]=s,o[18]=a,o[19]=g,o[20]=h,o[21]=b,o[22]=f,o[23]=e,o[24]=l):l=o[24];d("Int64Hooks").useEffectInt64(r,l)}g["default"]=a}),98);
__d("MWRepliesSticker.react",["fbt","CometPlaceholder.react","I64","LSHotEmojiSize","LSMediaUrlAttachment","MWRepliesImage.react","MWRepliesUtil","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatEmojiHotLike.react","MWV2Sticker.react","MWXMessageReplyBubble.react","ReQL","ReQLSuspense","cr:2472","cr:9765","getLSMediaMessageReplyMediaUrl","gkx","isReceiverFetchSticker","react","react-compiler-runtime","useIssueMediaReceiverFetchTask","useMAWMediaDownloadStatus","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var m=k||(k=d("react")),n=k.useEffect,o={replyHotLikeSticker:{filter:"xin470k",transform:"xst6bnn",$$css:!0},replyHotLikeStickerV2:{filter:"xin470k",height:"x10w6t97",marginBottom:"x12nagc",width:"x1td3qas",$$css:!0},replySticker:{filter:"xin470k",$$css:!0}};function p(a){var e=d("react-compiler-runtime").c(37),g=a.isSecureMessage,k=a.mediaRenderQpl,l=a.message;a=a.outgoing;g=g===void 0?!1:g;var p;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Sticker"),e[0]=p):p=e[0];p=p;e[1]!==a?(p=m.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:p}),e[1]=a,e[2]=p):p=e[2];p=p;var r=(i||(i=c("useReStore")))(),s;e[3]!==r||e[4]!==l.replyAttachmentId||e[5]!==l.replyAttachmentPlaintextHash||e[6]!==l.replySourceId||e[7]!==l.threadKey?(s=function(){var a=l.replyAttachmentPlaintextHash,b=l.replySourceId;if(a!=null&&b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).filter(function(c){return c.attachmentFbid===a&&c.messageId===b});else{var c=l.replyAttachmentId;if(c!=null&&b!=null)return d("ReQL").fromTableAscending(r.tables.attachments).getKeyRange(l.threadKey,b,(j||(j=d("I64"))).to_string(c))}return d("ReQL").empty()},e[3]=r,e[4]=l.replyAttachmentId,e[5]=l.replyAttachmentPlaintextHash,e[6]=l.replySourceId,e[7]=l.threadKey,e[8]=s):s=e[8];var t;e[9]!==r||e[10]!==l?(t=[r,l],e[9]=r,e[10]=l,e[11]=t):t=e[11];var u=d("ReQLSuspense").useFirst(s,t,f.id+":81");e[12]!==u?(s=u?c("isReceiverFetchSticker")(u):!1,e[12]=u,e[13]=s):s=e[13];c("useIssueMediaReceiverFetchTask")(s,l.replySourceId,l.threadKey,u==null?void 0:u.receiverFetchId,g,k,u==null?void 0:u.previewUrl,u==null?void 0:u.previewUrlExpirationTimestampMs,u==null?void 0:u.attachmentType);e[14]!==u||e[15]!==k?(t=function(){u!=null&&(k==null||k.addAttachmentAnnotations==null||k.addAttachmentAnnotations(u)),k==null||k.addPoint("render-replies-sticker-impl",{bool:{has_db_attachment:u!=null}})},s=[u,k],e[14]=u,e[15]=k,e[16]=t,e[17]=s):(t=e[16],s=e[17]);n(t,s);t=g?u:null;s=(s=c("useMAWMediaDownloadStatus")(t,k))!=null?s:{};s=s.uiState;if(t!=null&&s!=="downloaded")return p;s=(t=l.replyMessageText)!=null?t:"";t=(b("cr:2472")!=null?b("cr:2472").unvault(s):s)==="\ud83d\udc4d";if(t){e[18]===Symbol["for"]("react.memo_cache_sentinel")?(s=m.jsx(c("MWV2ChatEmojiHotLike.react"),{hotEmojiSize:c("LSHotEmojiSize").NONE,xstyle:c("gkx")("23249")?o.replyHotLikeSticker:o.replyHotLikeStickerV2}),e[18]=s):s=e[18];return s}e[19]!==g||e[20]!==k||e[21]!==l?(t=b("cr:9765")!=null&&g?d("MWRepliesUtil").getSecureReplyMediaURL_CausesSuspense(l,k,"MWRepliesSticker"):c("getLSMediaMessageReplyMediaUrl")(l),e[19]=g,e[20]=k,e[21]=l,e[22]=t):t=e[22];s=t;if(s!=null&&s!==""){t=u==null?void 0:u.accessibilitySummaryText;var v;e[23]!==u||e[24]!==g||e[25]!==k||e[26]!==l||e[27]!==a||e[28]!==s||e[29]!==t?(v=m.jsx(c("MWRepliesImage.react"),{attachment:u,height:l.replyMediaPreviewHeight,imageAlt:t,isSecureMessage:g,isSticker:!0,mediaRenderQpl:k,message:l,outgoing:a,src:s,width:l.replyMediaPreviewWidth}),e[23]=u,e[24]=g,e[25]=k,e[26]=l,e[27]=a,e[28]=s,e[29]=t,e[30]=v):v=e[30];return v}if(u==null)return p;if(b("cr:9765")==null||!g||u.receiverFetchId!=null)a=q;else{e[31]!==k?(s=function(a){return b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(a.attachmentFbid,"MWRepliesSticker",k)},e[31]=k,e[32]=s):s=e[32];a=s}e[33]!==u||e[34]!==k||e[35]!==a?(t=m.jsx(c("MWV2Sticker.react"),{attachment:u,getPreviewUrl:a,mediaRenderQpl:k,scale:.6,xstyle:o.replySticker}),e[33]=u,e[34]=k,e[35]=a,e[36]=t):t=e[36];return t}function q(a){return d("LSMediaUrlAttachment").previewUrl(a)}function a(a){var b=d("react-compiler-runtime").c(18),e;b[0]!==a?(e=babelHelpers["extends"]({},(l(a),a)),b[0]=a,b[1]=e):e=b[1];a=e;var f=a.message;a=a.outgoing;var g,h;b[2]!==e.mediaRenderQpl?(g=function(){var a;(a=e.mediaRenderQpl)==null||a.addPoint("render-replies-sticker")},h=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=g,b[4]=h):(g=b[3],h=b[4]);n(g,h);if(b[5]!==f.replyMediaPreviewHeight){h=(j||(j=d("I64"))).to_float((g=f.replyMediaPreviewHeight)!=null?g:(j||(j=d("I64"))).of_float(24));b[5]=f.replyMediaPreviewHeight;b[6]=h}else h=b[6];if(b[7]!==f.replyMediaPreviewWidth){g=(j||(j=d("I64"))).to_float((g=f.replyMediaPreviewWidth)!=null?g:(j||(j=d("I64"))).of_float(24));b[7]=f.replyMediaPreviewWidth;b[8]=g}else g=b[8];b[9]!==a||b[10]!==h||b[11]!==g?(f=m.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{descriptionForLogging:"MWRepliesSticker.Suspense",height:h,outgoing:a,width:g}),b[9]=a,b[10]=h,b[11]=g,b[12]=f):f=b[12];b[13]!==e?(a=m.jsx(p,babelHelpers["extends"]({},e)),b[13]=e,b[14]=a):a=b[14];b[15]!==f||b[16]!==a?(h=m.jsx(c("CometPlaceholder.react"),{fallback:f,name:"MWRepliesSticker",children:a}),b[15]=f,b[16]=a,b[17]=h):h=b[17];return h}g["default"]=a}),226);
__d("MWRepliesStory.react",["fbt","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSIntEnum","LSXmaContentType","MAWLocalizationType","MWMediaRenderQplUtils","MWRepliesImage.react","MWV2TombstonedMessage.react","MWXPressable.react","MsgrWebGating","XCometStoriesControllerRouteBuilder","cr:9765","getLSMediaMessageReplyMediaUrl","getMAWLocalizedFallbackMsgSnippet","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k;function l(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var m=i||(i=d("react")),n=i.useEffect;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},(l(a),a)),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null||a.addPoint("render-replies-story")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);n(a,f);b[5]!==e?(a=m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesStory",children:m.jsx(o,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}function o(a){var e=d("react-compiler-runtime").c(34),f=a.isSecureMessage,g=a.mediaRenderQpl,i=a.message;a=a.outgoing;f=f===void 0?!1:f;var l=i.replySourceId;if(e[0]!==f||e[1]!==l){var o;o=l!=null?f?l:(o=c("XCometStoriesControllerRouteBuilder").buildUri({card_id:window.btoa("S:_ISC:"+l),view_single:!0}).setDomain("www.facebook.com"))==null||(o=o.setProtocol("https"))==null?void 0:o.toString():void 0;e[0]=f;e[1]=l;e[2]=o}else o=e[2];l=o;var p;e[3]!==g||e[4]!==i.replyAttachmentId||e[5]!==i.replyAttachmentPlaintextHash||e[6]!==i.replySourceId?(o=function(){g==null||g.addPoint("render-reply-story-impl",{bool:{has_reply_attachment_id:i.replyAttachmentId!=null,has_reply_attachment_plaintext_hash:i.replyAttachmentPlaintextHash!=null,has_reply_source_id:i.replySourceId!=null}}),g==null||g.addAnnotations({string:{xma_content_type:d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(c("LSXmaContentType").FB_STORY_REPLY))}})},p=[g,i.replyAttachmentId,i.replyAttachmentPlaintextHash,i.replySourceId],e[3]=g,e[4]=i.replyAttachmentId,e[5]=i.replyAttachmentPlaintextHash,e[6]=i.replySourceId,e[7]=o,e[8]=p):(o=e[7],p=e[8]);d("Int64Hooks").useEffectInt64(o,p);e[9]!==f||e[10]!==g?(o=b("cr:9765")!=null&&f?function(a){if(c("gkx")("6417")||d("MsgrWebGating").isQuotedMessagesInLsEnabled()){a.replyAttachmentId!=null&&a.replyAttachmentPlaintextHash==null&&c("FBLogger")("messenger_web_media").mustfix("Failed to get story preview url. Reply attachment id is set but Reply plaintextHash is missing");return a.replyAttachmentPlaintextHash!=null?b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(a.replyAttachmentPlaintextHash,"MWRepliesStory",g):null}else return a.replyAttachmentId!=null?b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense((k||(k=d("I64"))).to_string(a.replyAttachmentId),"MWRepliesStory",g):null}:c("getLSMediaMessageReplyMediaUrl"),e[9]=f,e[10]=g,e[11]=o):o=e[11];p=o;e[12]!==p||e[13]!==i?(f=p(i),e[12]=p,e[13]=i,e[14]=f):f=e[14];var q=f;e[15]!==g||e[16]!==i.replyAttachmentPlaintextHash||e[17]!==q?(o=function(){q==null&&(g==null||g.endFail("missing-reply-media",{bool:{has_plaintexthash:i.replyAttachmentPlaintextHash!=null}}))},p=[g,i.replyAttachmentPlaintextHash,q],e[15]=g,e[16]=i.replyAttachmentPlaintextHash,e[17]=q,e[18]=o,e[19]=p):(o=e[18],p=e[19]);n(o,p);if(q==null){e[20]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),e[20]=f):f=e[20];e[21]!==g||e[22]!==a?(o=m.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:g,children:f}),e[21]=g,e[22]=a,e[23]=o):o=e[23];return o}e[24]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"View story"),e[24]=p):p=e[24];e[25]!==l?(f=l!=null?{url:l}:void 0,e[25]=l,e[26]=f):f=e[26];e[27]!==g||e[28]!==a||e[29]!==q?(o=m.jsx(c("MWRepliesImage.react"),{mediaRenderQpl:g,outgoing:a,src:q}),e[27]=g,e[28]=a,e[29]=q,e[30]=o):o=e[30];e[31]!==f||e[32]!==o?(l=m.jsx(c("MWXPressable.react"),{"aria-label":p,linkProps:f,overlayDisabled:!0,children:o}),e[31]=f,e[32]=o,e[33]=l):l=e[33];return l}g["default"]=a}),226);
__d("MWRepliesText.react",["MWChatTextFormatting","MWChatTextFormattingUtils","MWChatTextTransform","MWXMessageReplyBubble.react","MWXMessageTextWithEntities.react","cr:2472","react","react-compiler-runtime","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useMemo;function a(a){var e=d("react-compiler-runtime").c(15),f=a.isSecureMessage,g=a.message,h=a.outgoing;a=a.text;var j;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(j={MessengerTextFormatting:[d("MWChatTextFormatting").messageRenderer]},e[0]=j):j=e[0];j=j;j=j;var k;e[1]!==a?(k=d("MWChatTextFormattingUtils").getFormattingRanges(a),e[1]=a,e[2]=k):k=e[2];k=k;k=k;if(e[3]!==f||e[4]!==g.mentionIds){var l;l=new Set(f?(l=(l=g.mentionIds)==null||l.split==null?void 0:l.split(","))!=null?l:[]:[]);e[3]=f;e[4]=g.mentionIds;e[5]=l}else l=e[5];f=l;l=f;e[6]!==a?(f=b("cr:2472")==null?a:b("cr:2472").unvault(a),e[6]=a,e[7]=f):f=e[7];a=f;g=(l=(f=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(a,[],l,g.threadKey))==null?void 0:f.textWithSubstitutions)!=null?l:a;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xi81zsa x126k92a"},e[8]=f):f=e[8];e[9]!==k||e[10]!==g?(l=i.jsx("div",babelHelpers["extends"]({},f,{children:i.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:120,maxLines:3,ranges:k,renderers:j,text:g,transforms:d("MWChatTextTransform").textTransformsNoVault,truncationStyle:"ellipsis-only",withParagraphs:!1})})),e[9]=k,e[10]=g,e[11]=l):l=e[11];e[12]!==h||e[13]!==l?(a=i.jsx(c("MWXMessageReplyBubble.react"),{outgoing:h,children:l}),e[12]=h,e[13]=l,e[14]=a):a=e[14];return a}g["default"]=a}),98);
__d("MWRepliesUnavailable.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message unavailable"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("MWRepliesVideo.react",["fbt","ix","CometPlaceholder.react","I64","LSMediaUrlAttachment","MWXImage.react","MWXMessageImage.react","MWXMessageReplyBubble.react","MWXVideoStatusListener.react","ReQL","ReQLSuspense","cr:9765","react","react-compiler-runtime","useMAWMediaDownloadStatus","useMWRepliesImageGetMaxDimensions","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l;function m(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var n=l||(l=d("react"));e=l;e.useCallback;var o=e.useEffect,p=e.useRef,q={thumbnail:{borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",filter:"xin470k",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function r(a){var e=d("react-compiler-runtime").c(65),g=a.isSecureMessage,l=a.mediaRenderQpl,m=a.message;a=a.outgoing;g=g===void 0?!1:g;var r=c("useMWRepliesImageGetMaxDimensions")(),s=r.maxHeight;r=r.maxWidth;var t=(j||(j=c("useReStore")))(),u;e[0]!==t.tables.attachments||e[1]!==m.replyAttachmentId||e[2]!==m.replyAttachmentPlaintextHash||e[3]!==m.replySourceId||e[4]!==m.threadKey?(u=function(){var a,b=m.replyAttachmentPlaintextHash,c=(a=m.replySourceId)!=null?a:"";if(b!=null&&c!=null)return d("ReQL").fromTableAscending(t.tables.attachments).filter(function(a){return a.attachmentFbid===b&&a.messageId===c});else{a=(a=m.replyAttachmentId)!=null?a:(k||(k=d("I64"))).zero;return d("ReQL").fromTableAscending(t.tables.attachments).getKeyRange(m.threadKey,c,(k||(k=d("I64"))).to_string(a))}},e[0]=t.tables.attachments,e[1]=m.replyAttachmentId,e[2]=m.replyAttachmentPlaintextHash,e[3]=m.replySourceId,e[4]=m.threadKey,e[5]=u):u=e[5];var v;e[6]!==t||e[7]!==m?(v=[t,m],e[6]=t,e[7]=m,e[8]=v):v=e[8];var w=d("ReQLSuspense").useFirst(u,v,f.id+":72");e[9]!==w||e[10]!==l?(u=function(){w!=null&&(l==null||l.addAttachmentAnnotations==null||l.addAttachmentAnnotations(w)),l==null||l.addPoint("render-reply-video-impl",{bool:{has_db_attachment:w!=null}})},v=[w,l],e[9]=w,e[10]=l,e[11]=u,e[12]=v):(u=e[11],v=e[12]);o(u,v);u=g?w:null;v=c("useMAWMediaDownloadStatus")(u,l);v=v.uiState;var x;if(w!=null)if(u!=null&&v!=="downloaded")x=null;else if(b("cr:9765")==null||!g){e[13]!==w?(u=d("LSMediaUrlAttachment").previewUrl(w),e[13]=w,e[14]=u):u=e[14];x=u}else{e[15]!==w.attachmentFbid||e[16]!==l?(v=b("cr:9765").getAttachmentBlobNonOptional_CausesSuspense(w.attachmentFbid,"MWRepliesVideo",l),e[15]=w.attachmentFbid,e[16]=l,e[17]=v):v=e[17];x=v}u=p(null);e[18]!==l?(v=function(a){l==null||l.endFail("load-video-error",{string:{video_error_name:a}})},e[18]=l,e[19]=v):v=e[19];var y=v;e[20]!==l?(v=function(){l==null||l.endSuccess()},e[20]=l,e[21]=v):v=e[21];v=v;if(x==null){l==null||l.endSuccess();var z;e[22]===Symbol["for"]("react.memo_cache_sentinel")?(z=h._(/*BTDS*/"Video"),e[22]=z):z=e[22];e[23]!==a?(z=n.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:z}),e[23]=a,e[24]=z):z=e[24];return z}e[25]!==m.replyMediaPreviewHeight?(a=m.replyMediaPreviewHeight!=null?(k||(k=d("I64"))).to_float(m.replyMediaPreviewHeight):void 0,e[25]=m.replyMediaPreviewHeight,e[26]=a):a=e[26];z=a;e[27]!==m.replyMediaPreviewWidth?(a=m.replyMediaPreviewWidth!=null?(k||(k=d("I64"))).to_float(m.replyMediaPreviewWidth):void 0,e[27]=m.replyMediaPreviewWidth,e[28]=a):a=e[28];a=a;if((w==null?void 0:w.previewUrlMimeType)!=null&&!g){e[29]!==y?(g=function(){return y()},e[29]=y,e[30]=g):g=e[30];var A;e[31]!==z||e[32]!==s||e[33]!==r||e[34]!==v||e[35]!==x||e[36]!==g||e[37]!==a?(A=n.jsx(c("MWXMessageImage.react"),{alt:"",height:z,maxHeight:s,maxWidth:r,onError:g,onLoad:v,src:x,width:a,xstyle:q.thumbnail}),e[31]=z,e[32]=s,e[33]=r,e[34]=v,e[35]=x,e[36]=g,e[37]=a,e[38]=A):A=e[38];g=A}else{A=1;var B=1;z!=null&&(A=z/s);a!=null&&(B=a/r);A=Math.max(A,B);e[39]!==y||e[40]!==v?(B=n.jsx(c("MWXVideoStatusListener.react"),{onError:y,onLoad:v,videoRef:u}),e[39]=y,e[40]=v,e[41]=B):B=e[41];var C;e[42]===Symbol["for"]("react.memo_cache_sentinel")?(C="x1xn7y0n x1uxb8k9 x1vmbcc8 x16xm01d xin470k x6ikm8r x10wlt62",e[42]=C):C=e[42];z=z!=null&&z>s?"100%":z;var D;e[43]!==s||e[44]!==r?(D={maxHeight:s,maxWidth:r},e[43]=s,e[44]=r,e[45]=D):D=e[45];s=a!=null&&a>r?"100%":(a||0)/A;e[46]!==x||e[47]!==z||e[48]!==D||e[49]!==s?(r=n.jsx("video",{alt:"",className:C,height:z,ref:u,src:x,style:D,width:s}),e[46]=x,e[47]=z,e[48]=D,e[49]=s,e[50]=r):r=e[50];e[51]!==B||e[52]!==r?(a=n.jsxs(n.Fragment,{children:[B,r]}),e[51]=B,e[52]=r,e[53]=a):a=e[53];g=a}e[54]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1n2onr6"},e[54]=A):A=e[54];C=g;e[55]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x6s0dn4 x78zum5 xdt5ytf x5yr21d x1o0tod xl56j7k x10l6tqk x13vifvy xh8yej3"},e[55]=u):u=e[55];e[56]!==y?(z=function(){return y()},e[56]=y,e[57]=z):z=e[57];e[58]===Symbol["for"]("react.memo_cache_sentinel")?(D=i("354763"),e[58]=D):D=e[58];e[59]!==v||e[60]!==z?(s=n.jsx("div",babelHelpers["extends"]({},u,{children:n.jsx(c("MWXImage.react"),{onError:z,onLoad:v,src:D})})),e[59]=v,e[60]=z,e[61]=s):s=e[61];e[62]!==s||e[63]!==g?(B=n.jsxs("div",babelHelpers["extends"]({},A,{children:[C,s]})),e[62]=s,e[63]=g,e[64]=B):B=e[64];return B}function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]!==a?(e=babelHelpers["extends"]({},(m(a),a)),b[0]=a,b[1]=e):e=b[1];var f;b[2]!==e.mediaRenderQpl?(a=function(){var a;(a=e.mediaRenderQpl)==null||a.addPoint("render-replies-video")},f=[e.mediaRenderQpl],b[2]=e.mediaRenderQpl,b[3]=a,b[4]=f):(a=b[3],f=b[4]);o(a,f);b[5]!==e?(a=n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWRepliesVideo",children:n.jsx(r,babelHelpers["extends"]({},e))}),b[5]=e,b[6]=a):a=b[6];return a}g["default"]=a}),226);
__d("MWStoryUnavailable.react",["MAWLocalizationType","MWXMessageReplyBubble.react","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("getMAWLocalizedFallbackMsgSnippet")(d("MAWLocalizationType").LOCALIZATION_TYPE.UNAVAILABLE_STORY),b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWRepliedMessage.react",["MWBlockedTombstoneMessage.react","MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","MWPBaseRepliedMessage.react","MWRepliesAttachment.react","MWRepliesExpired.react","MWRepliesGIF.react","MWRepliesMedia.react","MWRepliesRaven.react","MWRepliesRemoved.react","MWRepliesRollcallContribution.react","MWRepliesSticker.react","MWRepliesStory.react","MWRepliesText.react","MWRepliesUnavailable.react","MWRepliesVideo.react","MWStoryUnavailable.react","react","react-compiler-runtime","useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(20),e=a.isSecureMessage,f=a.mediaRenderQpl,g=a.message;a=a.outgoing;e=e===void 0?!1:e;var h=c("MWBlockingProtectionContext.react").useHook();h=h.findMessageId;var k=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(g.replyToUserId,g.threadKey);if(b[0]!==h||b[1]!==k||b[2]!==g.replySourceId){var l;l=k&&!h((l=g.replySourceId)!=null?l:"");b[0]=h;b[1]=k;b[2]=g.replySourceId;b[3]=l}else l=b[3];var m=l,n=c("useMWJumpToMessage")("Pinned");b[4]!==f||b[5]!==m?(h=function(){f==null||f.addPoint("render-replied-message",{bool:{show_blocking_tombstone:m}})},k=[f,m],b[4]=f,b[5]=m,b[6]=h,b[7]=k):(h=b[6],k=b[7]);j(h,k);if(m){var o=g.replySourceTimestampMs,p=g.replySourceId;b[8]!==n||b[9]!==p||b[10]!==o?(l=function(){p!=null&&o!=null&&n(p,o)},b[8]=n,b[9]=p,b[10]=o,b[11]=l):l=b[11];b[12]!==g||b[13]!==l?(h=i.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{message:g,onClick:l,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.REPLIED_TO}),b[12]=g,b[13]=l,b[14]=h):h=b[14];return h}b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==a?(k=i.jsx(c("MWPBaseRepliedMessage.react"),{isSecureMessage:e,mediaRenderQpl:f,message:g,outgoing:a,renderAttachment:c("MWRepliesAttachment.react"),renderExpiredMessage:c("MWRepliesExpired.react"),renderGIF:c("MWRepliesGIF.react"),renderMedia:c("MWRepliesMedia.react"),renderRaven:c("MWRepliesRaven.react")!=null?c("MWRepliesRaven.react"):void 0,renderRemovedMessage:c("MWRepliesRemoved.react"),renderRollcallContribution:c("MWRepliesRollcallContribution.react"),renderSticker:c("MWRepliesSticker.react"),renderStory:c("MWRepliesStory.react"),renderTextMessage:c("MWRepliesText.react"),renderUnavailableMessage:c("MWRepliesUnavailable.react"),renderUnavailableStory:c("MWStoryUnavailable.react"),renderVideo:c("MWRepliesVideo.react")}),b[15]=e,b[16]=f,b[17]=g,b[18]=a,b[19]=k):k=b[19];return k}g["default"]=a}),98);
__d("MWThreadViewMediaRenderQpl",["CurrentAppID","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSBitFlag","LSIntEnum","LSMediaUrlUtils","LSReplyMessageStatus","MAWMsg","MWMediaRenderQplUtils","MWPActor.react","MWVersion","QPLUserFlow","WAHashUtils","WAMediaQplHelper","gkx","mergeDeep","react","react-compiler-runtime","shouldUseMAWSharedWorker","useLSMessagingInitiatingSource","usePartialViewImpression","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;e=h||d("react");var k=e.useLayoutEffect,l=e.useRef;function a(a,b,c,e){var f=d("react-compiler-runtime").c(1);c=c===void 0?n:c;e=e===void 0?d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT:e;var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={},f[0]=g):g=f[0];return m(a,b,c,!1,g,e)}function b(a,b){var c=d("react-compiler-runtime").c(4),e;c[0]!==a.replyAttachmentType?(e=d("MWMediaRenderQplUtils").getReplyMessageAttachmentTypeStringFromEnum(a.replyAttachmentType),c[0]=a.replyAttachmentType,c[1]=e):e=c[1];var f;c[2]!==e?(f={string:{reply_attachment_type:e}},c[2]=e,c[3]=f):f=c[3];return m(a,b,o,!0,f,d("MWMediaRenderQplUtils").MSGR_WEB_MEDIA_RENDER_EVENT)}function m(a,b,e,f,g,h){g===void 0&&(g={});var m=(i||(i=d("I64"))).le(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),n=d("MWPActor.react").useActor(),o=i.equal(a.senderId,n),p=c("useLSMessagingInitiatingSource")(),q=c("useXMAPreviewsDisabledSetting")(),s=l(!1),t=d("Int64Hooks").useMemoInt64(function(){var k;if(!e(a,b))return null;var l=d("MWMediaRenderQplUtils").getThreadViewMediaRenderQplInstanceKey(a.offlineThreadingId,m,f),n=d("CurrentAppID").getAppID();k={bool:{has_db_reply_attachment:a.replyAttachmentId!=null,has_quick_replies:a.hasQuickReplies,has_text:Boolean(a.text),is_admin_message:a.isAdminMessage,is_bot_response:a.botResponseId!=null,is_collapsed:a.isCollapsed,is_expired:a.isExpired,is_forwarded:(k=a.isForwarded)!=null?k:!1,is_optimistic:m,is_outgoing:o,is_pdb:Boolean(c("gkx")("8483")),is_reply_to_media:f,is_unsent:a.isUnsent,mention_type_is_ai:a.mentionTypes==="ai",text_has_links:a.textHasLinks,use_maw_shared_worker:d("shouldUseMAWSharedWorker").shouldUseMAWSharedWorker()},"int":{message_rendering_type:(i||(i=d("I64"))).to_float(a.messageRenderingType),quick_reply_type:i.to_float(a.quickReplyType),reply_status:a.replyStatus!=null?(i||(i=d("I64"))).to_float(a.replyStatus):void 0,reply_type:a.replyType!=null?(i||(i=d("I64"))).to_float(a.replyType):void 0,takedown_state:a.takedownState!=null?(i||(i=d("I64"))).to_float(a.takedownState):void 0},string:{app_id:n!=null?n:void 0,content_type:f&&a.replyAttachmentType!=null?d("MWMediaRenderQplUtils").deriveMessageContentTypeStringFromAttachmentTypeLessAccurate(a.replyAttachmentType):d("MWMediaRenderQplUtils").getMessageContentTypeString(a),content_type_num:i.to_string(a.displayedContentTypes),entry_point:"thread_view",message_age_bucket:d("MWMediaRenderQplUtils").calculateDiffBucketFromTimestamp(a.primarySortKey),messaging_initiation_source:d("MWMediaRenderQplUtils").getMessagingInitiationSourceStringFromEnum(p),mw_version:i.to_string(d("MWVersion").v2),reply_source_type:a.replySourceType!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeStringFromEnum(a.replySourceType):void 0,reply_source_type_v2:a.replySourceTypeV2!=null?d("MWMediaRenderQplUtils").getMessageReplySourceTypeV2StringFromEnum(a.replySourceTypeV2):void 0,thread_type:d("MWMediaRenderQplUtils").getThreadTypeStringFromEnum(b),transport_key:a.transportKey}};n=c("mergeDeep")(k,g);return babelHelpers["extends"]({},d("MWMediaRenderQplUtils").createQplFlowCommon(h,l,s,n),{addAttachmentAnnotations:function(a){var b,e=a==null?void 0:a.receiverFetchId;try{e=e!=null?JSON.parse(e):null}catch(a){e=null,c("FBLogger")("messenger_web_sharing").mustfix("Failed to parse contentRef as XmsgMsgrXmaContentRefDataclass")}e=(e=e)==null?void 0:e.xma_content_type;e=e!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum((j||(j=d("LSIntEnum"))).ofNumber(e)):void 0;c("QPLUserFlow").addAnnotations(h,{bool:{has_attachment_receiver_fetch_id:(a==null?void 0:a.receiverFetchId)!=null,has_db_attachment:a!=null,has_db_media:(a==null?void 0:a.hasMedia)===!0,has_db_playable_url:Boolean(a==null?void 0:a.playableUrl),has_db_preview_url:Boolean(a==null?void 0:a.previewUrl),has_db_preview_url_large:Boolean(a==null?void 0:a.previewUrlLarge),has_db_xma:(a==null?void 0:a.hasXma)===!0,has_db_xma_favicon:(a==null?void 0:a.hasXmaFavicon)===!0,has_db_xma_header_image:(a==null?void 0:a.hasXmaHeaderImage)===!0,has_db_xma_preview:(a==null?void 0:a.hasXmaPreview)===!0,is_db_playable_url_expired:(a==null?void 0:a.playableUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.playableUrlExpirationTimestampMs):void 0,is_db_preview_url_expired:(a==null?void 0:a.previewUrlExpirationTimestampMs)!=null?d("LSMediaUrlUtils").isTimestampExpired(a.previewUrlExpirationTimestampMs):void 0,is_xma_previews_disabled:q},string:{attachment_logging_type:a==null?void 0:a.attachmentLoggingType,attachment_transport_key:(b=a==null?void 0:a.transportKey)!=null?b:void 0,attachment_type:a==null?null:d("MWMediaRenderQplUtils").getAttachmentTypeString(a),audio_duration_bucket:(a==null?void 0:a.playableDurationMs)!=null?d("MWMediaRenderQplUtils").convertDurationToStringBucket((i||(i=d("I64"))).to_float((b=a==null?void 0:a.playableDurationMs)!=null?b:(i||(i=d("I64"))).zero)/1e3):void 0,file_size_bucket:(a==null?void 0:a.filesize)!=null?d("WAMediaQplHelper").convertIntegerSizeToStringBucket((i||(i=d("I64"))).to_float(a==null?void 0:a.filesize)):void 0,playable_url_mime_type:a==null?void 0:a.playableUrlMimeType,preview_url_mime_type:a==null?void 0:a.previewUrlMimeType,sanitized_plaintext_hash:r(a),xma_content_type:e!=null?e:(a==null?void 0:a.xmaContentType)!=null?d("MWMediaRenderQplUtils").getXmaContentTypeStringFromEnum(a.xmaContentType):void 0,xma_default_cta_type:a==null?void 0:a.defaultCtaType,xma_layout_type:d("MWMediaRenderQplUtils").getMessageXmaLayoutTypeStringFromEnum(a==null?void 0:a.xmaLayoutType)}},{instanceKey:l})}})},[m,a.displayedContentTypes]);n=c("usePartialViewImpression")({onImpressionEnd:function(){s.current===!1&&(t==null||t.addPoint("message-row-hidden"),t==null||t.addAnnotations({bool:{message_row_is_hidden:!0}}))},onImpressionStart:function(){s.current===!1&&(t==null||t.addPoint("message-row-visible"),t==null||t.addAnnotations({bool:{message_row_has_been_visible:!0,message_row_is_hidden:!1}}))}});k(function(){t==null||t.start();t==null||t.addPoint("message-row-mounted");return function(){s.current===!1&&(t==null?void 0:t.getInstanceKey())!=null&&(t==null||t.addPoint("message-row-unmounted"),t==null||t.endCancel(706))}},[t]);return{mediaRenderQpl:t,messageRowRef:n}}function n(a,b){if(p(a))return!1;b=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes);return b||d("MAWMsg").isMediaMsg(a)}function o(a,b){return d("MAWMsg").isMediaReplyAttachmentType(a,b)&&q(a)}function p(a){return a.isUnsent||a.isExpired}function q(a){return a.replyStatus!=null&&(i||(i=d("I64"))).equal(a.replyStatus,(j||(j=d("LSIntEnum"))).ofNumber(c("LSReplyMessageStatus").VALID))}function r(a){return!c("gkx")("23916")||a==null||isFinite(a.attachmentFbid)?void 0:d("WAHashUtils").sanitisePlaintextHash(d("WAHashUtils").stringToPlaintextHash(a.attachmentFbid))}g.useMediaRenderQpl=a;g.useMediaRenderQplForReply=b;g.enableQplForMessage=n}),98);
__d("MWV2ReplyError.react",["fbt","MWXMessageReplyBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.outgoing;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Error rendering media"),b[0]=e):e=b[0];b[1]!==a?(e=j.jsx(c("MWXMessageReplyBubble.react"),{fontStyle:"italic",outgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),226);
__d("useMWIsReplyToAuthor",["I64","LSIntEnum","LSMessageReplySourceTypeV2","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a.replySourceTypeV2?(e=a.replySourceTypeV2!=null&&(h||(h=d("I64"))).equal(a.replySourceTypeV2,(i||(i=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").XMA)),b[0]=a.replySourceTypeV2,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MWMessageReplyRow.react",["CometErrorBoundary.react","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWMessageListDisplayContext.react","MWPMessageListColumn.react","MWPinnedMessageOverlay.react","MWRepliedMessage.react","MWThreadViewMediaRenderQpl","MWV2MessageProfilePhoto.react","MWV2ReplyError.react","MWXMessageBubbleRow.react","react","react-compiler-runtime","useMWIsReplyToAuthor"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect,m={replyMargin:{marginBottom:"x1oo3vh0",minHeight:"x1hshjfz",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(31),e=a.outgoing,f=a.isGroupThread,g=a.isSecureMessage,h=a.message;a=a.threadType;var n=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();n=n.isStandardMessageList;var o=c("useMWIsReplyToAuthor")(h),p;b[0]!==h.replySourceTypeV2?(p=h.replySourceTypeV2!=null&&(i||(i=d("I64"))).equal(h.replySourceTypeV2,(j||(j=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY)),b[0]=h.replySourceTypeV2,b[1]=p):p=b[1];p=p;var q;b[2]!==h.replyMediaExpirationTimestampMs?(q=h.replyMediaExpirationTimestampMs!=null?(i||(i=d("I64"))).gt(h.replyMediaExpirationTimestampMs,(i||(i=d("I64"))).zero):!0,b[2]=h.replyMediaExpirationTimestampMs,b[3]=q):q=b[3];q=q;p=h.replySourceId==null?p:q;q=o||p;b[4]!==f||b[5]!==h?(o=k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnProfile,{children:k.jsx(c("MWV2MessageProfilePhoto.react"),{display:"hidden",isGroupThread:f,message:h})}),b[4]=f,b[5]=h,b[6]=o):o=b[6];p=o;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"x1xc55vz",role:"none"}),b[7]=f):f=b[7];o=f;f=d("MWThreadViewMediaRenderQpl").useMediaRenderQplForReply(h,a);var r=f.mediaRenderQpl;a=f.messageRowRef;var s;b[8]!==r?(f=function(){r==null||r.addPoint("render-message-reply-row")},s=[r],b[8]=r,b[9]=f,b[10]=s):(f=b[9],s=b[10]);l(f,s);f=e?p:o;s=e?o:p;o=e?"right":"left";p=q&&m.replyMargin;b[11]!==e?(q=function(a){return k.jsx(c("MWV2ReplyError.react"),{outgoing:e})},b[11]=e,b[12]=q):q=b[12];var t;b[13]!==g||b[14]!==n||b[15]!==r||b[16]!==h||b[17]!==e?(t=n?k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:!1,message:h,outgoing:e,children:k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:r,message:h,outgoing:e})}):k.jsx(c("MWRepliedMessage.react"),{isSecureMessage:g,mediaRenderQpl:r,message:h,outgoing:e}),b[13]=g,b[14]=n,b[15]=r,b[16]=h,b[17]=e,b[18]=t):t=b[18];b[19]!==q||b[20]!==t?(g=k.jsx(c("CometErrorBoundary.react"),{fallback:q,children:t}),b[19]=q,b[20]=t,b[21]=g):g=b[21];b[22]!==p||b[23]!==g||b[24]!==f||b[25]!==s||b[26]!==o?(n=k.jsx(c("MWXMessageBubbleRow.react"),{addOnEnd:f,addOnStart:s,align:o,opaque:!0,xstyle:p,children:g}),b[22]=p,b[23]=g,b[24]=f,b[25]=s,b[26]=o,b[27]=n):n=b[27];b[28]!==a||b[29]!==n?(h=k.jsx("div",{ref:a,children:n}),b[28]=a,b[29]=n,b[30]=h):h=b[30];return h}g["default"]=a}),98);
__d("MWV2ChatReactionsTooltip.react",["fbt","FBLogger","I64","LSAuthorityLevel","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSVerifyContactRowExistsStoredProcedure","MWLSThread","MWPActor.react","Promise","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","react-strict-dom","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useEffect,p=e.useMemo,q=9;function r(a){var b=d("react-compiler-runtime").c(6),e=(j||(j=c("useReStore")))(),g,h;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.contextual_profile_v1.index("associatedEntityIdAndOwner")).getKeyRange(a)},h=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);g=d("ReQLSuspense").useArray(g,h,f.id+":47");if(b[4]!==g){h=new Map();for(var i of g){var k=i==null?void 0:i.profileName;k!=null&&h.set((l||(l=d("I64"))).to_string(i.ownerId),k)}b[4]=g;b[5]=h}else h=b[5];k=h;i=k;return i}function a(a){var b=d("react-compiler-runtime").c(6),c=a.messageId,e=a.reactions;a=a.threadKey;var f=d("MWLSThread").useThread(a,s),g=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a),h;b[0]!==g||b[1]!==c||b[2]!==f||b[3]!==e||b[4]!==a?(h=g?n.jsx(u,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}):n.jsx(t,{messageId:c,parentThreadKey:f,reactions:e,threadKey:a}),b[0]=g,b[1]=c,b[2]=f,b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function s(a){return a.parentThreadKey}function t(a){var e=a.messageId,g=a.parentThreadKey,m=a.reactions,s=a.threadKey,t=(j||(j=c("useReStore")))(),u=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(t.tables.reactions).getKeyRange(s,e),d("ReQL").fromTableAscending(t.tables.contacts))},[t,s,e],f.id+":108"),v=r(g);o(function(){c("promiseDone")(t.runInTransaction(function(a){return(i||(i=b("Promise"))).all(u.map(function(e){e=e[1];if(e!=null)return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(a),{authorityLevel:(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:k.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:k.ofNumber(c("LSContactIdType").FBID),contactType:k.ofNumber(c("LSContactType").USER),contactViewerRelationship:k.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:k.ofNumber(c("LSContactGender").UNKNOWN),id:e.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:k.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)});else return(i||(i=b("Promise"))).resolve()}))},"readwrite",void 0,void 0,f.id+":124"))},[t,u]);a=p(function(){var a=new Map(u.map(function(a){var b=a[1];b==null&&c("FBLogger")("messenger_web").debug("missing contact for reaction tooltip");return[(l||(l=d("I64"))).to_string(a[0].actorId),b!=null?b.name:h._(/*BTDS*/"Facebook user")]})),b=m.map(function(b){b=(l||(l=d("I64"))).to_string(b.actorId);if(v.has(b))return v.get(b);b=a.get(b);if(b==null)return"";else return b}).filter(function(a){return a!==""}),e=b.length;b=b.slice(0,q);if(e>q){e=e-q;b.push(h._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[h._plural(e),h._param("count",String(e))]))}return b},[v,m,u]);g=a.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:g})}t.displayName=t.name+" [from "+f.id+"]";function u(a){var b,e=a.messageId,g=a.parentThreadKey;a.reactions;var i=a.threadKey,k=(j||(j=c("useReStore")))();o(function(){c("promiseDone")(k.runInTransaction(function(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))},"readwrite",void 0,void 0,f.id+":226")),c("promiseDone")(k.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:e,threadId:i})},"readwrite",void 0,void 0,f.id+":231"))},[k,i,e]);var m=r(g);a=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2_details).getKeyRange(i,e).map(function(a){var b;return(b=m.get((l||(l=d("I64"))).to_string(a.reactorId)))!=null?b:a.fullName})},[k,m,i,e],f.id+":242");g=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(k.tables.reactions_v2).getKeyRange(i,e)},[k,i,e],f.id+":255");var p=g?g.map(function(a){return a.viewerIsReactor}):[];p=p.length>0?p.reduce(function(a,b){return a||b}):!1;var s=d("MWPActor.react").useActor(),t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(k.tables.contacts).getKeyRange(s)},[k,s],f.id+":274");g=g?g.map(function(a){return(l||(l=d("I64"))).to_int32(a.count)}).filter(function(a){return a>0}):[];b=(b=(t==null?void 0:t.id)!=null?m.get((l||(l=d("I64"))).to_string(t.id)):null)!=null?b:t==null?void 0:t.name;JSON.stringify(g)===JSON.stringify([1])&&p&&b!=null&&a.length===0?a.push(b):p&&a[0]!=null&&t&&b!=null&&((g=a[0])==null?void 0:g.toString())!==b&&a.unshift(b);p=h._(/*BTDS*/"Loading...");t=a.slice(0,q);if(a.length>q){g=a.length-q;t.push(h._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[h._plural(g),h._param("count",String(c("intlSummarizeNumber")(g)))]).toString())}b=t.length===0?p:t.map(function(a,b){return n.jsx(d("react-strict-dom").html.div,{children:a},String(b))});return n.jsx(d("react-strict-dom").html.div,{children:b})}u.displayName=u.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWMessageReactionsContainer.react",["fbt","I64","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWV2ChatReactionsTooltip.react","MWXTooltip.react","intlSummarizeNumber","react","react-compiler-runtime","stylex","useIsReactionDialogEnabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||d("react"),m={emoji:{alignItems:"x6s0dn4",backgroundColor:"xsrzb8j",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",lineHeight:"x14ju556",$$css:!0},emojiMargin:{marginInlineEnd:"xjn30re",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1ncwhqj",lineHeight:"x14ju556",minWidth:"xdhweic",paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",textAlign:"x2b8uid",$$css:!0},emojiRow:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",boxShadow:"x10vwrwz",display:"x78zum5",justifyContent:"xl56j7k",paddingTop:"x4p5aij",paddingInlineEnd:"x1ccui7m",paddingBottom:"x1j85h84",paddingInlineStart:"x18pi947",textAlign:"xp4054r",$$css:!0},emojiWithCursor:{cursor:"x1ypdohk",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(28),e=a.count,f=a.countXstyle,g=a.disableReactionDialog,j=a.emojis,k=a.message,q=a.reactions,r=a.reactionsV2,s=a.renderEmojis,t=a.threadKey;a=a.xstyle;g=g===void 0?!1:g;k=k.messageId;var u;b[0]!==r?(u=r!=null?r.map(o).reduce(n,0):0,b[0]=r,b[1]=u):u=b[1];r=u;var v=c("useIsReactionDialogEnabled")(t)&&!g;u=r>1?r:e;var w=u>1;if(b[2]!==j||b[3]!==v||b[4]!==s||b[5]!==w){b[7]!==j.length||b[8]!==v||b[9]!==s||b[10]!==w?(g=function(a,b){var e=w||b!==j.length-1,f=d("MWChatReactionsUtils").isHeart(a[0]);return l.createElement("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props(m.emoji,v?m.emojiWithCursor:!1,e?m.emojiMargin:!1),{key:String(b)}),l.jsx("div",babelHelpers["extends"]({},i.props(f?m.scaleHeartEmoji:!1),{children:s?s(a,16,"messenger_reaction_emoji_"+a[0]):l.jsx(c("MWChatReactionEmoji"),{emoji:a,size:16,testid:void 0})})))},b[7]=j.length,b[8]=v,b[9]=s,b[10]=w,b[11]=g):g=b[11];r=j.map(g);b[2]=j;b[3]=v;b[4]=s;b[5]=w;b[6]=r}else r=b[6];e=r;b[12]!==a?(g=(i||(i=c("stylex"))).props(m.emojiRow,a),b[12]=a,b[13]=g):g=b[13];b[14]!==f||b[15]!==u||b[16]!==w?(r=w?l.jsx(p,{countXstyle:f,reactionCount:u}):null,b[14]=f,b[15]=u,b[16]=w,b[17]=r):r=b[17];b[18]!==e||b[19]!==g||b[20]!==r?(a=l.jsxs("div",babelHelpers["extends"]({},g,{role:"none",children:[e,r]})),b[18]=e,b[19]=g,b[20]=r,b[21]=a):a=b[21];f=a;b[22]!==v||b[23]!==k||b[24]!==q||b[25]!==f||b[26]!==t?(u=v?l.jsx(c("MWXTooltip.react"),{align:"middle",label:h._(/*BTDS*/"Reactions"),position:"above",tooltip:l.jsx(c("MWV2ChatReactionsTooltip.react"),{messageId:k,reactions:q,threadKey:t}),children:f}):f,b[22]=v,b[23]=k,b[24]=q,b[25]=f,b[26]=t,b[27]=u):u=b[27];return u}function n(a,b){return a+b}function o(a){return(j||(j=d("I64"))).to_int32(a.count)}function p(a){var b=d("react-compiler-runtime").c(10),e=a.countXstyle;a=a.reactionCount;var f;b[0]!==a?(f=c("intlSummarizeNumber")(a),b[0]=a,b[1]=f):f=b[1];a=f;f=a.length;var g;b[2]!==e?(g=(i||(i=c("stylex")))(m.emojiNum,e),b[2]=e,b[3]=g):g=b[3];e=f*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER;b[4]!==e?(f={width:e},b[4]=e,b[5]=f):f=b[5];b[6]!==a||b[7]!==g||b[8]!==f?(e=l.jsx("div",{className:g,role:"none",style:f,children:a}),b[6]=a,b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),226);
__d("MWXMAV2AttachmentContainer.react",["cr:23170"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:23170")}),98);
__d("MWMessageRowAttachment.react",["I64","LSIntEnum","MWLSThread","MWMessageListAttachmentContainer.react","MWPActor.react","MWUnsupportedXMA.react","MWXMAV2AttachmentContainer.react","MessengerWebUXLoggerXMAEventLoggingImpl","MetaConfig","gkx","react","react-compiler-runtime","useXMAPreviewsDisabledSetting","useXMAV2Provider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react");function a(a){var b,e,f,g=d("react-compiler-runtime").c(46),h=a.attachments,m=a.connectBottom,n=a.connectTop,o=a.hasMessageEmphasisRing,p=a.hasText,q=a.isSearchPluginAttachment,r=a.isSecureMessage,s=a.mediaRenderQpl,t=a.message,u=a.navigateToRouteForMediaViewer,v=a.nextMessage,w=a.outgoing,x=a.prevMessage;a=a.renderAttachment;var y=d("MWPActor.react").useActor(),z=c("useXMAV2Provider")(h),A=c("useXMAPreviewsDisabledSetting")();s==null||s.addAnnotations({bool:{renders_with_xma_v2:z!=null}});var B=d("MWLSThread").useThread(t.threadKey,l),C;g[0]!==h[0]||g[1]!==t||g[2]!==B?(C={attachment:h[0],clickCategory:1,message:t,threadType:B},g[0]=h[0],g[1]=t,g[2]=B,g[3]=C):C=g[3];C=d("MessengerWebUXLoggerXMAEventLoggingImpl").useXMAEventsImpressionLoggerRef(C);if(q){s==null||s.endSuccess();return null}g[4]!==t.displayedContentTypes?(q=(i||(i=d("I64"))).equal(t.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(536870912)),g[4]=t.displayedContentTypes,g[5]=q):q=g[5];q=q;b=(b=h[0])==null?void 0:b.actionUrl;e=(e=h[0])==null?void 0:e.xmaContentType;f=(f=h[0])==null?void 0:f.receiverFetchId;var D;g[6]!==q||g[7]!==t.messageId||g[8]!==b||g[9]!==e||g[10]!==f||g[11]!==A?(D={actionUrl:b,isReceiverFetchXma:q,messageId:t.messageId,xmaContentType:e,xmaPreviewsDisabled:A,xmaReceiverFetchParams:f},g[6]=q,g[7]=t.messageId,g[8]=b,g[9]=e,g[10]=f,g[11]=A,g[12]=D):D=g[12];b=D;if(z!=null||q&&c("gkx")("7835")){g[13]!==h[0]||g[14]!==m||g[15]!==n||g[16]!==y||g[17]!==o||g[18]!==p||g[19]!==s||g[20]!==t||g[21]!==w||g[22]!==b||g[23]!==B||g[24]!==z||g[25]!==C?(e=k.jsx(c("MWXMAV2AttachmentContainer.react"),{attachment:h[0],connectBottom:m,connectTop:n,currentUserID:y,flattenTop:p,hasEmphasisRing:o,hasText:p,mediaRenderQpl:s,message:t,outgoing:w,receiverFetchParams:b,threadType:B,xmaDataclass:z,xmaEventImpressionLoggingRef:C}),g[13]=h[0],g[14]=m,g[15]=n,g[16]=y,g[17]=o,g[18]=p,g[19]=s,g[20]=t,g[21]=w,g[22]=b,g[23]=B,g[24]=z,g[25]=C,g[26]=e):e=g[26];return e}if(a!=null&&r){g[27]!==p||g[28]!==s||g[29]!==t||g[30]!==v||g[31]!==w||g[32]!==x||g[33]!==a?(f=a(t,x,v,w,p,s),g[27]=p,g[28]=s,g[29]=t,g[30]=v,g[31]=w,g[32]=x,g[33]=a,g[34]=f):f=g[34];return f}g[35]!==m||g[36]!==n||g[37]!==o||g[38]!==p||g[39]!==s||g[40]!==t||g[41]!==u||g[42]!==v||g[43]!==w||g[44]!==x?(A=(i||(i=d("I64"))).to_string(t.threadKey)===c("MetaConfig")._("83")&&!w?k.jsx(c("MWUnsupportedXMA.react"),{mediaRenderQpl:s,nextMessage:v,prevMessage:x}):k.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:m,connectTop:n,hasEmphasisRing:o,hasText:p,mediaRenderQpl:s,message:t,navigateToRouteForMediaViewer:u,outgoing:w}),g[35]=m,g[36]=n,g[37]=o,g[38]=p,g[39]=s,g[40]=t,g[41]=u,g[42]=v,g[43]=w,g[44]=x,g[45]=A):A=g[45];return A}function l(a){return a.threadType}g["default"]=a}),98);
__d("MWPMessageFooter.react",["react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.Children,l={container:{backgroundColor:"x1eb86dx",display:"x78zum5",height:"xmix8c7",justifyContent:"x13a6bvl",position:"x1n2onr6",width:"xh8yej3",zIndex:"x1vjfegm",$$css:!0},items:{display:"x78zum5",transform:"x11z5cog",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.itemsXstyle,g=a.outgoing;a=a.xstyle;var i,m,n,o;if(b[0]!==e||b[1]!==f||b[2]!==a){o=Symbol["for"]("react.early_return_sentinel");bb0:{var p=k.toArray(e).filter(Boolean);if(p.length===0){o=null;break bb0}b[7]!==a?(i=(h||(h=c("stylex"))).props(l.container,a),b[7]=a,b[8]=i):i=b[8];m="none";var q;b[9]!==f?(q=function(a,b){return j.createElement("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.items,f),{key:""+b,role:"none"}),a)},b[9]=f,b[10]=q):q=b[10];n=p.map(q)}b[0]=e;b[1]=f;b[2]=a;b[3]=i;b[4]=m;b[5]=n;b[6]=o}else i=b[3],m=b[4],n=b[5],o=b[6];if(o!==Symbol["for"]("react.early_return_sentinel"))return o;b[11]!==g?(p=g?null:j.jsx("div",{className:"x1ohifd9 x1c4vz4f xs83m0k",role:"none"}),b[11]=g,b[12]=p):p=b[12];b[13]!==i||b[14]!==m||b[15]!==n||b[16]!==p?(q=j.jsxs("div",babelHelpers["extends"]({},i,{role:m,children:[n,p]})),b[13]=i,b[14]=m,b[15]=n,b[16]=p,b[17]=q):q=b[17];return q}g.MWPMessageFooter=a}),98);
__d("MWPMessageLoggingUtil",["MWChatInteraction"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.messageId,c=a.optimisticAttachmentId;a=a.optimisticMessageId;b=d("MWChatInteraction").get(b);a=d("MWChatInteraction").get(a);c=c!=null?d("MWChatInteraction").get(c):null;a=(b=b!=null?b:a)!=null?b:c;return a}g.getInteractionUUIDForMessage=a}),98);
__d("MWPMessageLoggingWrapper.react",["CometHeroInteractionWithDiv.react","MWPMessageLoggingUtil","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(13),e=a.children,f=a.messageId,g=a.optimisticAttachmentId,i=a.optimisticMessageId;a=a.xstyle;var k;b[0]!==f||b[1]!==g||b[2]!==i?(k=d("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:f,optimisticAttachmentId:g,optimisticMessageId:i}),b[0]=f,b[1]=g,b[2]=i,b[3]=k):k=b[3];f=k;if(f==null){b[4]!==a?(g=(h||(h=c("stylex"))).props(a),b[4]=a,b[5]=g):g=b[5];b[6]!==e||b[7]!==g?(i=j.jsx("div",babelHelpers["extends"]({},g,{children:e})),b[6]=e,b[7]=g,b[8]=i):i=b[8];return i}else{b[9]!==e||b[10]!==f||b[11]!==a?(k=j.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MESSAGE_RENDER",interactionUUID:f,pageletName:"Message",xstyle:a,children:e}),b[9]=e,b[10]=f,b[11]=a,b[12]=k):k=b[12];return k}}g["default"]=a}),98);
__d("MWV2ChatUnsupportedMessage.react",["fbt","FBLogger","MWV2TombstonedMessage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.isOutgoing;c("FBLogger")("messenger_web").warn("Unsupported message type");var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Message unavailable"),b[0]=e):e=b[0];e=e;b[1]!==a?(e=j.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:e}),b[1]=a,b[2]=e):e=b[2];return e}g.MWV2ChatUnsupportedMessage=a}),226);
__d("useMWMessageRowComponentAddInteractionTracingMetadata",["I64","InteractionTracingMetrics","LSBitFlag","LSIntEnum","MWPMessageLoggingUtil","justknobx","react","react-compiler-runtime","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function a(a,b){var e=d("react-compiler-runtime").c(21),f;e[0]!==a.messageId||e[1]!==a.offlineThreadingId||e[2]!==b?(f=d("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:a.messageId,optimisticAttachmentId:b,optimisticMessageId:a.offlineThreadingId}),e[0]=a.messageId,e[1]=a.offlineThreadingId,e[2]=b,e[3]=f):f=e[3];var g=f;e[4]!==a.displayedContentTypes?(b=(i||(i=d("I64"))).to_int32(a.displayedContentTypes),e[4]=a.displayedContentTypes,e[5]=b):b=e[5];var h=c("usePrevious")(b);e[6]!==a.displayedContentTypes?(f=(i||(i=d("I64"))).to_int32(a.displayedContentTypes),e[6]=a.displayedContentTypes,e[7]=f):f=e[7];var l=f;e[8]!==l||e[9]!==a.displayedContentTypes||e[10]!==g||e[11]!==h?(b=function(){if(!c("justknobx")._("4206"))return;var b=g!=null?c("InteractionTracingMetrics").get(g):null;if(b==null)return;h!==l&&c("InteractionTracingMetrics").addMarkerPoint(b.traceId,"message_row_displayed_content_type_changed_from_"+(h!=null?h:"null")+"_to_"+l,"AppTiming",void 0,{displayed_content_types_num:(i||(i=d("I64"))).to_int32(a.displayedContentTypes)});var e=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1),a.displayedContentTypes);e?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_text",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_text",!1);e=d("LSBitFlag").has(j.ofNumber(2),a.displayedContentTypes);e?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_media_preview",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_media_preview",!1);var f=d("LSBitFlag").has(j.ofNumber(4),a.displayedContentTypes);f?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_audio_clip",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_audio_clip",!1);var k=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(8),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(1024),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(2048),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(536870912),a.displayedContentTypes);k?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_xma",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_xma",!1);k=d("LSBitFlag").has(j.ofNumber(32),a.displayedContentTypes);k?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_admin",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_admin",!1);k=d("LSBitFlag").has(j.ofNumber(64),a.displayedContentTypes);k?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_file_attachment",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_file_attachment",!1);var m=d("LSBitFlag").has(j.ofNumber(512),a.displayedContentTypes);m?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_story_reply",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_story_reply",!1);m=d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(4096),a.displayedContentTypes)||d("LSBitFlag").has((j||(j=d("LSIntEnum"))).ofNumber(134217728),a.displayedContentTypes);m?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_sticker",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_sticker",!1);var n=d("LSBitFlag").has(j.ofNumber(16384),a.displayedContentTypes);n?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_gif",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_row_gif",!1);e||f||k||m||n?c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_media",!0):c("InteractionTracingMetrics").addAnnotationBoolean(b.traceId,"has_message_media",!1)},f=[a.displayedContentTypes,h,l,g],e[8]=l,e[9]=a.displayedContentTypes,e[10]=g,e[11]=h,e[12]=b,e[13]=f):(b=e[12],f=e[13]);k(b,f);e[14]!==a.authorityLevel?(b=(i||(i=d("I64"))).to_int32(a.authorityLevel),e[14]=a.authorityLevel,e[15]=b):b=e[15];var m=b,n=c("usePrevious")(m);e[16]!==m||e[17]!==g||e[18]!==n?(f=function(){var a=g!=null?c("InteractionTracingMetrics").get(g):null;if(a==null)return;n!==m&&c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"message_row_authoritity_level_changed_from_"+(n!=null?n:"null")+"_to_"+m,"AppTiming")},b=[g,m,n],e[16]=m,e[17]=g,e[18]=n,e[19]=f,e[20]=b):(f=e[19],b=e[20]);k(f,b)}g["default"]=a}),98);
__d("MWMessageRowMessageComponent.react",["CometErrorBoundary.react","GroupsCometChatsEngagementLogger","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBlockingProtectionLogging","MWClickedMessageContext.react","MWGroupBlockingProtectionUtils","MWMessageReactionsContainer.react","MWMessageRowAttachment.react","MWPBaseMessage.react","MWPMessageFooter.react","MWPMessageLoggingWrapper.react","MWPMessageReactions.react","MWV2ChatBubbleContainer.react","MWV2ChatEmoji.react","MWV2ChatErrorBubble.react","MWV2ChatText.react","MWV2ChatUnsentMessage.react","MWV2ChatUnsupportedMessage.react","MWV2MessageTimestampTooltip.react","MWXPressable.react","MetaConfig","ReQL","cr:120","justknobx","mwpMessageIsReply","promiseDone","react","react-compiler-runtime","useIsMultiReactionEnabled","useMWMessageRowComponentAddInteractionTracingMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;f=e.memo;var l=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(90),f=a.attachments,g=a.containerThreadKey,j=a.hasBlockQuoteStyle,m=a.hasClickState,n=a.hasMessageEmphasisRing,o=a.isFirstMessageInGroup,p=a.isLastMessageInGroup,q=a.isSearchPluginAttachment,r=a.isSecureMessage,s=a.mediaRenderQpl,t=a.message,u=a.navigateToRouteForMediaViewer,v=a.nextMessage,w=a.offlineAttachmentId,x=a.originalBumpedMsg,y=a.outgoing,z=a.prevMessage,A=a.reactions,B=a.reactionsV2,C=a.renderAttachment,D=a.threadType,E=j===void 0?!1:j,F=m===void 0?!1:m;a=c("MWClickedMessageContext.react").useHook();var G=a.clickedMessageId,H=a.fetchMessageSeenCount,I=a.hasError,J=a.setClickedMessageId,K=(h||(h=c("useReStore")))(),L=x!=null?x:t;e[0]!==D?(j=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(D),e[0]=D,e[1]=j):j=e[1];var M=j,N=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(L.threadKey);e[2]!==L?(m=c("mwpMessageIsReply")(L),e[2]=L,e[3]=m):m=e[3];var O=m;c("useMWMessageRowComponentAddInteractionTracingMetadata")(t,w);e[4]!==G||e[5]!==K||e[6]!==H||e[7]!==I||e[8]!==L.messageId||e[9]!==L.threadKey||e[10]!==J?(a=function(){if(window.getSelection().toString()!=="")return;c("promiseDone")(async function(){var a=await d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.threads).getKeyRange(L.threadKey)),b=a==null?null:await d("ReQL").firstAsync(d("ReQL").fromTableAscending(K.tables.community_folders).getKeyRange(a.parentThreadKey));a!=null&&b!=null&&d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{mid:L.messageId},community_id:(i||(i=d("I64"))).to_string(b.folderId),event:"render_seen_count",group_id:i.to_string(b.fbGroupId),source:"message_bubble",surface:"thread_view",thread_id:i.to_string(a.threadKey)});if(G===L.messageId&&!I)return J(null);else return H(L.threadKey,L.messageId,b)}())},x=[K,G,L.messageId,L.threadKey,I,J,H],e[4]=G,e[5]=K,e[6]=H,e[7]=I,e[8]=L.messageId,e[9]=L.threadKey,e[10]=J,e[11]=a,e[12]=x):(a=e[11],x=e[12]);var P=d("Int64Hooks").useCallbackInt64(a,x),Q=d("MWBlockingProtectionLogging").useLogTapToReviewAction(L);e[13]!==q||e[14]!==r||e[15]!==s||e[16]!==L.threadKey||e[17]!==C?(j=function(){s==null||s.addPoint("render-message-row-message-component",{bool:{is_chat_entity_thread:(i||(i=d("I64"))).to_string(L.threadKey)===c("MetaConfig")._("83"),is_message_row_message_componentrender_attachment_prop_set:C!=null,is_search_plugin:q,is_secure_message:r}})},m=[q,r,s,L.threadKey,C],e[13]=q,e[14]=r,e[15]=s,e[16]=L.threadKey,e[17]=C,e[18]=j,e[19]=m):(j=e[18],m=e[19]);l(j,m);e[20]!==O||e[21]!==y?(a=function(){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:y,isReply:O})},e[20]=O,e[21]=y,e[22]=a):a=e[22];e[23]!==f||e[24]!==n||e[25]!==q||e[26]!==r||e[27]!==s||e[28]!==L||e[29]!==u||e[30]!==v||e[31]!==y||e[32]!==z||e[33]!==C?(x=function(a,b,d){return k.jsx(c("MWMessageRowAttachment.react"),{attachments:f,connectBottom:b,connectTop:a,hasMessageEmphasisRing:n,hasText:d,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,navigateToRouteForMediaViewer:u,nextMessage:v,outgoing:y,prevMessage:z,renderAttachment:C})},e[23]=f,e[24]=n,e[25]=q,e[26]=r,e[27]=s,e[28]=L,e[29]=u,e[30]=v,e[31]=y,e[32]=z,e[33]=C,e[34]=x):x=e[34];e[35]!==n||e[36]!==r||e[37]!==L?(j=function(){return k.jsx(c("MWV2ChatEmoji.react"),{hasEmphasisRing:n,isSecureMessage:r,message:L})},e[35]=n,e[36]=r,e[37]=L,e[38]=j):j=e[38];e[39]!==g||e[40]!==E||e[41]!==n||e[42]!==r||e[43]!==L||e[44]!==y||e[45]!==D?(m=function(a,b,d,e,f,h){return k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:d,connectTop:b,hasEmphasisRing:n,message:L,outgoing:y,precedesXMA:e,precedingXmaIsV2:h,children:k.jsx(c("MWV2ChatText.react"),{containerThreadKey:g,containerThreadType:D,hasBlockQuoteStyle:E,isSecureMessage:r,message:L,outgoing:y})})},e[39]=g,e[40]=E,e[41]=n,e[42]=r,e[43]=L,e[44]=y,e[45]=D,e[46]=m):m=e[46];var R;e[47]!==F||e[48]!==M||e[49]!==L||e[50]!==w||e[51]!==P||e[52]!==y?(R=function(a,d){a=k.jsx(c("MWPMessageLoggingWrapper.react"),{messageId:L.messageId,optimisticAttachmentId:w,optimisticMessageId:L.offlineThreadingId,xstyle:d,children:M&&!c("justknobx")._("641")&&b("cr:120")?k.jsx(b("cr:120"),{message:L,children:a}):k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,position:y?"end":"start",children:a})});return F?k.jsx(c("MWXPressable.react"),{onPress:P,overlayDisabled:!0,xstyle:d,children:a}):a},e[47]=F,e[48]=M,e[49]=L,e[50]=w,e[51]=P,e[52]=y,e[53]=R):R=e[53];var S;e[54]!==N||e[55]!==t||e[56]!==y||e[57]!==A||e[58]!==B?(S=function(){if(N)return null;var a=B!=null&&B.length>0;return k.jsx(d("MWPMessageFooter.react").MWPMessageFooter,{outgoing:y,children:!a&&A.length<1?null:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:t,outgoing:y,reactions:A,reactionsV2:a?B:void 0,children:function(b,d,e,f,g){return k.jsx(c("MWMessageReactionsContainer.react"),{count:d,emojis:b,message:f,reactions:e,reactionsV2:a?B:void 0,threadKey:g})}})})},e[54]=N,e[55]=t,e[56]=y,e[57]=A,e[58]=B,e[59]=S):S=e[59];var T=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(L.threadKey)?function(a){var b=function(){a(),Q()};return k.jsx(d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessage,{isLastMessageInGroup:p,message:L,onClick:b,source:d("MWBlockedTombstoneMessage.react").MWBlockedTombstoneMessageSource.ORIGINAL_MESSAGE})}:void 0,U;e[60]!==r||e[61]!==L||e[62]!==y?(U=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsentMessage.react").MWV2ChatUnsentMessage,{isSecureMessage:r,message:L,outgoing:y})})},e[60]=r,e[61]=L,e[62]=y,e[63]=U):U=e[63];var V;e[64]!==L||e[65]!==y?(V=function(){return k.jsx(c("MWV2MessageTimestampTooltip.react"),{message:L,children:k.jsx(d("MWV2ChatUnsupportedMessage.react").MWV2ChatUnsupportedMessage,{isOutgoing:y})})},e[64]=L,e[65]=y,e[66]=V):V=e[66];var W;e[67]!==o||e[68]!==p||e[69]!==q||e[70]!==r||e[71]!==s||e[72]!==L||e[73]!==v||e[74]!==y||e[75]!==z||e[76]!==A||e[77]!==B||e[78]!==x||e[79]!==j||e[80]!==m||e[81]!==R||e[82]!==S||e[83]!==T||e[84]!==U||e[85]!==V?(W=k.jsx(c("MWPBaseMessage.react"),{checkEmoticon:!0,isFirstMessageInGroup:o,isLastMessageInGroup:p,isSearchPluginAttachment:q,isSecureMessage:r,mediaRenderQpl:s,message:L,nextMessage:v,outgoing:y,prevMessage:z,reactions:A,reactionsV2:B,renderAttachment:x,renderEmoji:j,renderMessageBubble:m,renderMessageContainer:R,renderMessageFooter:S,renderMessageFromBlockee:T,renderUnsentMessage:U,renderUnsupportedMessage:V}),e[67]=o,e[68]=p,e[69]=q,e[70]=r,e[71]=s,e[72]=L,e[73]=v,e[74]=y,e[75]=z,e[76]=A,e[77]=B,e[78]=x,e[79]=j,e[80]=m,e[81]=R,e[82]=S,e[83]=T,e[84]=U,e[85]=V,e[86]=W):W=e[86];e[87]!==W||e[88]!==a?(o=k.jsx(c("CometErrorBoundary.react"),{fallback:a,children:W}),e[87]=W,e[88]=a,e[89]=o):o=e[89];return o}e=f(a);g.MWMessageRowMessageComponent=e}),98);
__d("MWMessageSearchPluginMustache.react",["BaseView.react","CurrentUser","IGDWebUtils","MWPAttachmentDataContext","MWPMessageListColumn.react","MWSearchPluginUtils","MWXPressable.react","MWXText.react","MessengerWebUXLogger","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;b.useMemo;var j={root:{marginInlineStart:"x1diwwjn",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e=a.attachment,f=a.botResponseId,g=a.dialogResource,h=a.flowInstanceId;a=a.isSearchSingleBubblePluginAttachment;a=a===void 0?!1:a;e=d("MWPAttachmentDataContext").useMWPGetAttachmentCTAs(e);var k=e.attachmentCta1;e=e.attachmentCta2;var l=k;k=a?k:e;var m=d("MWSearchPluginUtils").useSearchPluginSources(k==null?void 0:k.nativeUrl);e=d("IGDWebUtils").isInstagramWebSupportedApp(Number(c("CurrentUser").getAppID()));g=c("useMWXLazyDialog")(g);var n=g[0];g=e?"highlight":"blueLink";e=e?"bodyLink4":"body4";var o=f!=null?f:"",p;b[0]!==o?(p={botResponseId:o},b[0]=o,b[1]=p):p=b[1];b[2]!==h||b[3]!==p?(o={extraData:p,flowInstanceId:h},b[2]=h,b[3]=p,b[4]=o):o=b[4];h=o;var q=h;b[5]!==q?(p=babelHelpers["extends"]({eventName:"search_plugin_attachment_rendered"},q),b[5]=q,b[6]=p):p=b[6];o=c("MessengerWebUXLogger").useImpressionLoggerRef(p);var r=c("MessengerWebUXLogger").useInteractionLogger();b[7]!==q||b[8]!==r?(h=function(){r==null||r(babelHelpers["extends"]({eventName:"search_plugin_see_more"},q))},b[7]=q,b[8]=r,b[9]=h):h=b[9];p=h;b[10]!==f||b[11]!==q||b[12]!==r||b[13]!==n||b[14]!==m?(h=function(){m!=null&&(r==null||r(babelHelpers["extends"]({eventName:"search_plugin_see_sources"},q)),n({botResponseId:f,sources:m}))},b[10]=f,b[11]=q,b[12]=r,b[13]=n,b[14]=m,b[15]=h):h=b[15];h=h;var s;b[16]===Symbol["for"]("react.memo_cache_sentinel")?(s=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),b[16]=s):s=b[16];b[17]!==a||b[18]!==p||b[19]!==h||b[20]!==l||b[21]!==k?(g=a?i.jsx("div",{className:"x78zum5 x1q0g3np",children:i.jsx(c("MWXPressable.react"),{onPress:h,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:g,type:e,children:k!=null&&k.title})})}):i.jsxs("div",{className:"x78zum5 x1q0g3np",children:[i.jsx(c("MWXPressable.react"),{linkProps:{url:l==null?void 0:l.actionUrl},onPress:p,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:g,type:e,children:l!=null&&l.title})}),i.jsx(c("MWXPressable.react"),{children:i.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:"\xa0\xb7\xa0"})}),i.jsx(c("MWXPressable.react"),{onPress:h,overlayDisabled:!0,children:i.jsx(c("MWXText.react"),{color:g,type:e,children:k!=null&&k.title})})]}),b[17]=a,b[18]=p,b[19]=h,b[20]=l,b[21]=k,b[22]=g):g=b[22];b[23]===Symbol["for"]("react.memo_cache_sentinel")?(e=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:4}),b[23]=e):e=b[23];b[24]!==o||b[25]!==g?(a=i.jsxs(c("BaseView.react"),{ref:o,xstyle:j.root,children:[s,g,e]}),b[24]=o,b[25]=g,b[26]=a):a=b[26];return a}g["default"]=a}),98);
__d("MWMustacheMediaGroupAttachments.react",["fbt","BaseMiddot.react","MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(14),e=a.mediaGroupInfo,f=a.mediaRenderQpl;a=a.outgoing;f=c("useMAWBulkMediaDownloadManualRetry")(e.attachmentsToRetryDownload,f);var g;b[0]!==a?(g={0:{className:"xwib8y2 x1iorvi4 x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4 xpdmqnj"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];b[2]!==e.groupSize||b[3]!==e.mediaDownloadErrorsCount?(a=h._(/*BTDS*/"Couldn't download {errorQuantity} of {totalQuantity} images",[h._param("errorQuantity",e.mediaDownloadErrorsCount),h._param("totalQuantity",e.groupSize)]),b[2]=e.groupSize,b[3]=e.mediaDownloadErrorsCount,b[4]=a):a=b[4];var i;b[5]!==f||b[6]!==e.attachmentsToRetryDownload.length?(i=e.attachmentsToRetryDownload.length>0&&j.jsxs(j.Fragment,{children:[j.jsx(c("BaseMiddot.react"),{}),j.jsx(c("MWXLink.react"),{onClick:f,weight_DEPRECATED:"medium",children:h._(/*BTDS*/"Retry")})]}),b[5]=f,b[6]=e.attachmentsToRetryDownload.length,b[7]=i):i=b[7];b[8]!==a||b[9]!==i?(f=j.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[a,i]}),b[8]=a,b[9]=i,b[10]=f):f=b[10];b[11]!==g||b[12]!==f?(e=j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:j.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[11]=g,b[12]=f,b[13]=e):e=b[13];return e}g["default"]=a}),226);
__d("useMAWMediaDownloadManualRetry",["react","react-compiler-runtime","useMAWBulkMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b){var e=d("react-compiler-runtime").c(2),f;e[0]!==a?(f=[{attachment:a}],e[0]=a,e[1]=f):f=e[1];a=f;e=a;return c("useMAWBulkMediaDownloadManualRetry")(e,b)}g["default"]=a}),98);
__d("MWMustacheTextAttachmentError.react",["MAWMediaDownloadStatusUIStateType","MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","react","react-compiler-runtime","useMAWMediaDownloadManualRetry"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment,f=a.downloadStatusUIState,g=a.mediaRenderQpl;a=a.outgoing;g=c("useMAWMediaDownloadManualRetry")(e,g);var h;b[0]!==f?(h=d("MAWMediaDownloadStatusUIStateType").isRetryableErrorState(f),b[0]=f,b[1]=h):h=b[1];f=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,h,g);e=f.mediaStatusText;h=f.retryButton;b[2]!==a?(g={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!a<<0],b[2]=a,b[3]=g):g=b[3];b[4]!==e||b[5]!==h?(f=i.jsxs(c("MWXText.react"),{color:"negative",type:"meta4",children:[e,h]}),b[4]=e,b[5]=h,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(a=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[7]=g,b[8]=f,b[9]=a):a=b[9];return a}g["default"]=a}),98);
__d("MWMustacheTextImpl.react",["MWPMessageListColumn.react","MWXLink.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.label,f=a.onClick;a=a.outgoing;var g;b[0]!==a?(g={0:{className:"x1anpbxc xyorhqc"},1:{className:"x1anpbxc xyorhqc xpvyfi4"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];b[2]!==e||b[3]!==f?(a=f!=null?i.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:i.jsx(c("MWXLink.react"),{onClick:f,children:e})}):i.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];b[5]!==g||b[6]!==a?(e=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsx("div",babelHelpers["extends"]({},g,{children:a}))}),b[5]=g,b[6]=a,b[7]=e):e=b[7];return e}g["default"]=a}),98);
__d("MWMustacheTextInformTreatment.react",["fbt","$InternalEnum","MWCMElectionFactLabelDialog.entrypoint","MWCMElectionInformTreatmentDialog.entrypoint","MWCMInformTreatmentGenAITransparencyDialog.entrypoint","MWMustacheTextImpl.react","gkx","qex","react","react-compiler-runtime","useMWInformTreatmentFalcoEventLogger","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||c("react"),k=b("$InternalEnum")({SEE_AI_INFO:"See AI info",SEE_ELECTION_INFO:"See election info"});function l(a){var b=d("react-compiler-runtime").c(11),e=a.message;a=a.outgoing;var f;b[0]!==e.messageId?(f={message_id:e.messageId},b[0]=e.messageId,b[1]=f):f=b[1];f=c("useMWXEntryPointDialog")(c("MWCMElectionInformTreatmentDialog.entrypoint"),f);var g=f[0];b[2]!==e?(f={message:e},b[2]=e,b[3]=f):f=b[3];var i=c("useMWInformTreatmentFalcoEventLogger")(f);e=c("gkx")("179");b[4]===Symbol["for"]("react.memo_cache_sentinel")?(f=e?h._(/*BTDS*/"See context"):h._(/*BTDS*/"See third-party fact-check"),b[4]=f):f=b[4];e=f;b[5]!==i||b[6]!==g?(f=function(){i("view_info_click",{name:"misinformation",type:"media_label"}),g({})},b[5]=i,b[6]=g,b[7]=f):f=b[7];b[8]!==a||b[9]!==f?(e=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:f,outgoing:a}),b[8]=a,b[9]=f,b[10]=e):e=b[10];return e}function m(a){var b=d("react-compiler-runtime").c(10),e=a.label,f=a.message;a=a.outgoing;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={},b[0]=g):g=b[0];g=c("useMWXEntryPointDialog")(c("MWCMInformTreatmentGenAITransparencyDialog.entrypoint"),g);var h=g[0];b[1]!==f?(g={message:f},b[1]=f,b[2]=g):g=b[2];var i=c("useMWInformTreatmentFalcoEventLogger")(g);b[3]!==i||b[4]!==h?(f=function(){i("view_info_click",{name:"ai_generated_content",type:"media_label"}),h({})},b[3]=i,b[4]=h,b[5]=f):f=b[5];b[6]!==e||b[7]!==a||b[8]!==f?(g=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:f,outgoing:a}),b[6]=e,b[7]=a,b[8]=f,b[9]=g):g=b[9];return g}function n(a){var b=d("react-compiler-runtime").c(8),e=a.label,f=a.messageId;a=a.outgoing;var g;b[0]!==f?(g={message_id:f},b[0]=f,b[1]=g):g=b[1];f=c("useMWXEntryPointDialog")(c("MWCMElectionFactLabelDialog.entrypoint"),g);var h=f[0];b[2]!==h?(g=function(){return h({})},b[2]=h,b[3]=g):g=b[3];b[4]!==e||b[5]!==a||b[6]!==g?(f=j.jsx(c("MWMustacheTextImpl.react"),{label:e,onClick:g,outgoing:a}),b[4]=e,b[5]=a,b[6]=g,b[7]=f):f=b[7];return f}function a(a){var b,e,f=d("react-compiler-runtime").c(13),g=a.isPublicCMThread,h=a.message;a=a.outgoing;var i;f[0]!==h.metadataDataclass?(i=h.metadataDataclass!=null?JSON.parse(h.metadataDataclass):null,f[0]=h.metadataDataclass,f[1]=i):i=f[1];i=i;if(i==null)return null;b=(b=i.mustache_cta)==null?void 0:b.title;if(g&&(e=i.misinfo_metadata)!=null&&e.has_misinfo){f[2]!==h||f[3]!==a?(g=j.jsx(l,{message:h,outgoing:a}),f[2]=h,f[3]=a,f[4]=g):g=f[4];return g}else if(c("qex")._("1581")===!0&&b===k.SEE_AI_INFO){f[5]!==h||f[6]!==b||f[7]!==a?(i=j.jsx(m,{label:b,message:h,outgoing:a}),f[5]=h,f[6]=b,f[7]=a,f[8]=i):i=f[8];return i}else if(b===k.SEE_ELECTION_INFO){f[9]!==h.messageId||f[10]!==b||f[11]!==a?(g=j.jsx(n,{label:b,messageId:h.messageId,outgoing:a}),f[9]=h.messageId,f[10]=b,f[11]=a,f[12]=g):g=f[12];return g}return null}g["default"]=a}),226);
__d("MWMustacheUnsupportedMediaAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWPMessageListColumn.react","MWXText.react","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(10),e=a.attachment;a=a.outgoing;e=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,!1,c("emptyFunction"));var f=e.downloadButton;e=e.mediaStatusText;var g;b[0]!==a?(g={0:{className:"xwib8y2 x1iorvi4 xqcrz7y x1g0dm76"},1:{className:"xwib8y2 x1iorvi4 xpvyfi4"}}[!!a<<0],b[0]=a,b[1]=g):g=b[1];b[2]!==f?(a=i.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:f}),b[2]=f,b[3]=a):a=b[3];b[4]!==e||b[5]!==a?(f=i.jsxs(c("MWXText.react"),{color:"tertiary",type:"meta4",children:[e,a]}),b[4]=e,b[5]=a,b[6]=f):f=b[6];b[7]!==g||b[8]!==f?(e=i.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnWithGutters,{shrinkwrap:!0,children:i.jsx("div",babelHelpers["extends"]({},g,{children:f}))}),b[7]=g,b[8]=f,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWSupportTranslationsContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;var j=c.useContext;c.useMemo;var k=c.useState,l={setShowToggleMustache:function(){},setShowUntranslatedText:function(){},showToggleMustache:!1,showUntranslatedText:!1},m=i.createContext(l);function a(a){var b,c=d("react-compiler-runtime").c(6),e=a.children;a=a.value;a=a===void 0?l:a;b=k((b=a==null?void 0:a.showUntranslatedText)!=null?b:!1);var f=b[0];b=b[1];a=k((a=a==null?void 0:a.showToggleMustache)!=null?a:!1);var g=a[0];a=a[1];c[0]!==g||c[1]!==f?(a={setShowToggleMustache:a,setShowUntranslatedText:b,showToggleMustache:g,showUntranslatedText:f},c[0]=g,c[1]=f,c[2]=a):a=c[2];b=a;g=b;c[3]!==e||c[4]!==g?(f=i.jsx(m.Provider,{value:g,children:e}),c[3]=e,c[4]=g,c[5]=f):f=c[5];return f}function b(){return j(m)}g.MWSupportTranslationsContextProvider=a;g.useMWSupportTranslationsContext=b}),98);
__d("useSupportTranslationsFetchDataLS",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.support_translations,["sourceText"]).getKeyRange(a)},[e,a],f.id+":26"))!=null?b:{};b=b.sourceText;return b}g["default"]=a}),98);
__d("MWMustacheText",["fbt","I64","LSIntEnum","LSMessageTakedownState","MAWMediaDownloadStatusUIStateType","MWMustacheMediaGroupAttachments.react","MWMustacheTextAttachmentError.react","MWMustacheTextImpl.react","MWMustacheTextInformTreatment.react","MWMustacheUnsupportedMediaAttachment.react","MWPAttachmentDataContext","MWSupportTranslationsContext.react","MessagingAttachmentType","gkx","isReceiverFetchSticker","logVultureJSDeadEntrypoint","react","react-compiler-runtime","useGetMediaGroupInformation","useGroupsCometCMDisabledChatEntryPointDialog","useMAWMediaDownloadStatus","useShouldShowUnsupportedCodecFallback","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=a.attachment,e=a.isSecureMessage,f=a.mediaRenderQpl;a=a.outgoing;var g=c("useShouldShowUnsupportedCodecFallback")(b,f),i=(j||(j=d("I64"))).equal(b.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA));i=(e=c("useMAWMediaDownloadStatus")(e&&!i?b:null,f,c("isReceiverFetchSticker")(b)?b.messageId:void 0))!=null?e:{};e=i.uiState;i=i.validationResult;var m=d("MAWMediaDownloadStatusUIStateType").isErrorState(e);i=(i==null?void 0:i.validatedMimeType)==="invalid-mp4";m=m||i;if(e!=null&&m)return l.jsx(c("MWMustacheTextAttachmentError.react"),{attachment:b,downloadStatusUIState:e,mediaRenderQpl:f,outgoing:a});if(g)return l.jsx(c("MWMustacheUnsupportedMediaAttachment.react"),{attachment:b,outgoing:a});i=b.mustacheText;return i==null||i===""?null:l.jsx(c("MWMustacheTextImpl.react"),{label:h._(/*BTDS*/"\"{quoted text}\"",[h._param("quoted text",i)]),outgoing:a})}m.displayName=m.name+" [from "+f.id+"]";function n(a){var b=d("react-compiler-runtime").c(9),e=a.outgoing,f=a.threadID;b[0]!==f?(a={isGeoBlocked:!0,threadID:f},b[0]=f,b[1]=a):a=b[1];a=c("useGroupsCometCMDisabledChatEntryPointDialog")(a);var g=a[0];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"See why"),b[2]=a):a=b[2];var i;b[3]!==g||b[4]!==f?(i=function(){c("gkx")("5194")?c("logVultureJSDeadEntrypoint")("MWGeoblockMessageDialog.entrypoint"):g({threadID:f})},b[3]=g,b[4]=f,b[5]=i):i=b[5];b[6]!==e||b[7]!==i?(a=l.jsx(c("MWMustacheTextImpl.react"),{label:a,onClick:i,outgoing:e}),b[6]=e,b[7]=i,b[8]=a):a=b[8];return a}function o(a){var b=d("react-compiler-runtime").c(9),e=a.isLastMessage,f=a.messageID;a=a.outgoing;var g=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext(),i=g.setShowUntranslatedText,j=g.showToggleMustache,k=g.showUntranslatedText;g=c("useSupportTranslationsFetchDataLS")(f);if(g==null)return null;if(e||j){b[0]!==k?(f=k?h._(/*BTDS*/"Hide Original"):h._(/*BTDS*/"Show Original"),b[0]=k,b[1]=f):f=b[1];b[2]!==i||b[3]!==k?(g=function(){i(!k)},b[2]=i,b[3]=k,b[4]=g):g=b[4];b[5]!==a||b[6]!==f||b[7]!==g?(e=l.jsx(c("MWMustacheTextImpl.react"),{label:f,onClick:g,outgoing:a}),b[5]=a,b[6]=f,b[7]=g,b[8]=e):e=b[8];return e}return null}function a(a){var b,e=d("react-compiler-runtime").c(22),f=a.isLastMessage,g=a.isPublicCMThread,h=a.isSecureMessage,i=a.mediaRenderQpl,p=a.message,q=a.outgoing;a=a.showSupportTranslationToggleMustache;b=(b=d("MWPAttachmentDataContext").useMWPGetAttachments(p))==null?void 0:b[0];var r=c("useGetMediaGroupInformation")(p,h,i),s=p.takedownState!=null&&(j||(j=d("I64"))).equal(p.takedownState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageTakedownState").GEO_BLOCKED));if(s){e[0]!==p.threadKey?(s=(j||(j=d("I64"))).to_string(p.threadKey),e[0]=p.threadKey,e[1]=s):s=e[1];var t;e[2]!==q||e[3]!==s?(t=l.jsx(n,{outgoing:q,threadID:s}),e[2]=q,e[3]=s,e[4]=t):t=e[4];return t}if(a&&!q){e[5]!==f||e[6]!==p.messageId||e[7]!==q?(s=l.jsx(o,{isLastMessage:f,messageID:p.messageId,outgoing:q}),e[5]=f,e[6]=p.messageId,e[7]=q,e[8]=s):s=e[8];return s}if(p.metadataDataclass!=null){e[9]!==g||e[10]!==p||e[11]!==q?(t=l.jsx(c("MWMustacheTextInformTreatment.react"),{isPublicCMThread:g,message:p,outgoing:q}),e[9]=g,e[10]=p,e[11]=q,e[12]=t):t=e[12];return t}else if(r!=null&&r.mediaDownloadErrorsCount>0){e[13]!==r||e[14]!==i||e[15]!==q?(a=l.jsx(c("MWMustacheMediaGroupAttachments.react"),{mediaGroupInfo:r,mediaRenderQpl:i,outgoing:q}),e[13]=r,e[14]=i,e[15]=q,e[16]=a):a=e[16];return a}else if(b!=null){e[17]!==b||e[18]!==h||e[19]!==i||e[20]!==q?(f=l.jsx(m,{attachment:b,isSecureMessage:h,mediaRenderQpl:i,outgoing:q}),e[17]=b,e[18]=h,e[19]=i,e[20]=q,e[21]=f):f=e[21];return f}return null}g["default"]=a}),226);
__d("MWPinnedMessageDropdownButton.react",["fbt","JSResourceForInteraction","MWXIconDots3Horizontal","MWXIconStrict.react","MWXLazyPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={button:{borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",height:"x10w6t97",width:"x1td3qas",$$css:!0},centered:{alignItems:"x6s0dn4",display:"x78zum5",justifyContent:"xl56j7k",$$css:!0}},l=c("JSResourceForInteraction")("MWPinnedMessageItemHoverDropdownMenu.react").__setRef("MWPinnedMessageDropdownButton.react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.hidden,f=a.isSecureMessage,g=a.isSecureThread;a=a.message;var h;b[0]!==e?(h={0:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k"},1:{className:"x5yr21d xmzvs34 x6s0dn4 x78zum5 xl56j7k xlshs6z"}}[!!e<<0],b[0]=e,b[1]=h):h=b[1];b[2]!==f||b[3]!==g||b[4]!==a?(e=j.jsx(c("MWXLazyPopoverTrigger.react"),{popoverProps:{isSecureMessage:f,isSecureThread:g,message:a},popoverResource:l,popoverType:"menu",children:m}),b[2]=f,b[3]=g,b[4]=a,b[5]=e):e=b[5];b[6]!==h||b[7]!==e?(f=j.jsx("div",babelHelpers["extends"]({},h,{children:e})),b[6]=h,b[7]=e,b[8]=f):f=b[8];return f}function m(a,b){return j.jsx(c("MWXPressable.react"),{"aria-label":h._(/*BTDS*/"More"),onPress:b,overlayRadius:"inherit",ref:a,xstyle:[k.button,k.centered],children:j.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconDots3Horizontal"),size:16})})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("useMWIsXMARoom",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.attachments||b[1]!==a.messageId||b[2]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.attachments).getKeyRange(a.threadKey,a.messageId)},b[0]=e.tables.attachments,b[1]=a.messageId,b[2]=a.threadKey,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];b=d("ReQLSuspense").useFirst(g,i,f.id+":27");return(b==null?void 0:b.defaultCtaType)==="xma_web_url"&&(b==null?void 0:b.attachmentLoggingType)==="xma_open_native_rooms_invite"}g["default"]=a}),98);
__d("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react",["MWMessageListDisplayContext.react","nux:344","react","react-compiler-runtime","useMWIsXMARoom","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=(e=b("nux:344"))==null?void 0:e("WEB_MSGR_PINNED_MESSAGES_NUX");function a(a){var b=d("react-compiler-runtime").c(1),e=a.isLastMessage,f=a.isOutgoing;a=a.message;var g=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();g=g.isPinnedMessageList;var h=a.textHasLinks;a=c("useMWIsXMARoom")(a);f=!f&&(h||a)&&e&&!g;if(!f)return null;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=j?i.jsx(j,{}):null,b[0]=h):h=b[0];return h}f=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWPinnedMessageRowFooterNUXWrapperRequireNUX");g["default"]=f}),98);
__d("useMWShouldHideReply",["MWBlockingProtectionContext.react","MWGroupBlockingProtectionUtils","isMWBumpMessage","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(6),e=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(a.senderId,a.threadKey),f=c("MWBlockingProtectionContext.react").useHook();f=f.findMessageId;var g=d("MWGroupBlockingProtectionUtils").useShouldEnableBlockingProtection(a.threadKey),h;b[0]!==f||b[1]!==e||b[2]!==a.messageId||b[3]!==a.replyType||b[4]!==g?(h=c("isMWBumpMessage")(a.replyType)||g&&e&&!f(a.messageId),b[0]=f,b[1]=e,b[2]=a.messageId,b[3]=a.replyType,b[4]=g,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("useSupportMessagingGroupThreadSubtype.react",["I64","LSIntEnum","MessagingThreadSubtype","ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b,e=(j||(j=c("useReStore")))();b=(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadSubtype"]).getKeyRange(a)},[e,a],f.id+":24"))!=null?b:{};b=b.threadSubtype;return b==null?!1:(h||(h=d("I64"))).equal(b,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").SUPPORT_MESSAGING_THREAD))}g.useSupportMessagingGroupThreadSubtype=a}),98);
__d("MWMessageRowBody.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWExtraPinnedMessagePadding.react","MWMessageListDisplayContext.react","MWMessageListLoggingContext","MWMessagePromptPopoverTrigger.react","MWMessageReplyRow.react","MWMessageRowActions.react","MWMessageRowMessageComponent.react","MWMessageSearchPluginMustache.react","MWMustacheText","MWPAttachmentDataContext","MWPBaseMessageListRow.react","MWPMessageListColumn.react","MWPMessageParsingUtils","MWPMessageReactions.react","MWPinnedMessageDropdownButton.react","MWPinnedMessageOverlay.react","MWPinnedMessageRowFooterNUXWrapperRequireNUX.react","MWSearchPluginUtils","MWV2ChatErrorBubble.react","MWV2MessageProfilePhoto.react","deferredLoadComponent","gkx","isMWEditedMessage","justknobx","mwpIsMessageUnsupported","mwpMessageIsReply","react","react-compiler-runtime","requireDeferredForDisplay","stylex","useGetMediaGroupInformation","useGetOriginalMsgFromBumpMsg","useIsMultiReactionEnabled","useMWShouldHideReply","useSupportMessagingGroupThreadSubtype.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),aa=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWMessageReactionsContainerV2.react").__setRef("MWMessageRowBody.react")),ba=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWPEditedMessageHistoryList.react").__setRef("MWMessageRowBody.react")),ca=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWSupportTranslatedMessageTextWrapper.react").__setRef("MWMessageRowBody.react")),da={multiReactContainer:{display:"x78zum5",flexDirection:"x1q0g3np",$$css:!0},multiReactContainerOutgoing:{alignSelf:"xpvyfi4",$$css:!0}};function l(a){var b=a.attachments,e=a.isSearchSingleBubblePluginAttachment;a=a.message;var f=d("MWMessageListLoggingContext").useFlowInstanceId();return k.jsx(c("MWMessageSearchPluginMustache.react"),{attachment:b[0],botResponseId:a.botResponseId,dialogResource:c("JSResourceForInteraction")("MWMessageSearchPluginSourcesDialog.react").__setRef("MWMessageRowBody.react"),flowInstanceId:f.current,isSearchSingleBubblePluginAttachment:e})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(158),e=a.containerThreadKey,f=a.focused,g=a.hasClickState,i=a.hasMessageEmphasisRing,n=a.hovered,o=a.incoming,p=a.isDialogOpened,q=a.isFirstMessageInGroup,r=a.isGroupThread,s=a.isModal,t=a.isSecureMessage,u=a.mediaRenderQpl,v=a.message,w=a.navigateToRouteForMediaViewer,x=a.nextMessage,fa=a.onRenderError,y=a.prevMessage,z=a.renderAttachment,A=a.shouldUseReactionsV2,B=a.threadType;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var C=a.isPinnedMessageList,ga=a.isStandardMessageList,D=d("MWPMessageReactions.react").useReactions(v),E=d("MWPMessageReactions.react").useReactionsV2(v),F=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(v.threadKey);a=c("MWClickedMessageContext.react").useHook();a=a.clickedMessageId;var G;b[0]!==v?(G=c("isMWEditedMessage")(v),b[0]=v,b[1]=G):G=b[1];G=G;var H=c("useMWShouldHideReply")(v),I=x==null,J=!o,K=o&&r,L;b[2]!==B?(L=d("LSMessagingThreadTypeUtil").isArmadilloSecure(B),b[2]=B,b[3]=L):L=b[3];var ha=L;b[4]!==B?(L=d("LSMessagingThreadTypeUtil").isPublicCMThread(B),b[4]=B,b[5]=L):L=b[5];L=L;var M=c("useGetMediaGroupInformation")(v,t,u),N=d("useSupportMessagingGroupThreadSubtype.react").useSupportMessagingGroupThreadSubtype(v.threadKey),O;b[6]!==N?(O=N&&c("gkx")("7815")&&c("justknobx")._("3290"),b[6]=N,b[7]=O):O=b[7];N=O;if(b[8]!==C||b[9]!==M||b[10]!==v||b[11]!==x){O=C||d("MWPMessageParsingUtils").isEndOfGroup(v,x)||(M==null?void 0:M.groupsLastMessage)!=null&&d("MWPMessageParsingUtils").isEndOfGroup(M.groupsLastMessage,(O=M.groupsNextMessage)!=null?O:void 0);b[8]=C;b[9]=M;b[10]=v;b[11]=x;b[12]=O}else O=b[12];var P=O;M=c("useGetOriginalMsgFromBumpMsg")(v==null?void 0:v.replyType,v==null?void 0:v.replySourceId,v==null?void 0:v.threadKey);O=M!=null&&!(j||(j=d("I64"))).equal(M==null?void 0:M.senderId,v.senderId);var Q=M!=null?M:v,R;b[13]!==Q?(R=c("mwpMessageIsReply")(Q),b[13]=Q,b[14]=R):R=b[14];var S=R;Q=d("MWPAttachmentDataContext").useMWPGetAttachments(M!=null?M:v);R=Q.length>0;var T;b[15]!==Q[0]||b[16]!==R?(T=R&&d("MWSearchPluginUtils").isSearchPlugin(Q[0]),b[15]=Q[0],b[16]=R,b[17]=T):T=b[17];T=T;var U;b[18]!==Q[0]||b[19]!==R?(U=R&&d("MWSearchPluginUtils").isSearchSingleBubblePlugin(Q[0]),b[18]=Q[0],b[19]=R,b[20]=U):U=b[20];R=U;U=M!=null?M:v;var V;b[21]!==Q||b[22]!==U?(V=c("mwpIsMessageUnsupported")(U,Q),b[21]=Q,b[22]=U,b[23]=V):V=b[23];U=V;b[24]!==U||b[25]!==F||b[26]!==E?(V=F&&E.some(ea)||U,b[24]=U,b[25]=F,b[26]=E,b[27]=V):V=b[27];var ia=V;U=(D.length>0||E.length>0)&&!F;b[28]!==q||b[29]!==K?(V=q&&!K?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:2}):null,b[28]=q,b[29]=K,b[30]=V):V=b[30];b[31]!==r||b[32]!==S||b[33]!==t||b[34]!==v||b[35]!==J||b[36]!==H||b[37]!==B?(K=S&&!H&&k.jsx(c("MWMessageReplyRow.react"),{isGroupThread:r,isSecureMessage:t,message:v,outgoing:J,threadType:B}),b[31]=r,b[32]=S,b[33]=t,b[34]=v,b[35]=J,b[36]=H,b[37]=B,b[38]=K):K=b[38];b[39]!==G||b[40]!==S||b[41]!==t||b[42]!==v.editCount||b[43]!==v.messageId||b[44]!==J||b[45]!==B?(H=G&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.EditedMessageHistoryList",children:k.jsx(ba,{editCount:v.editCount,isReply:S,isSecureMessage:t,msgId:v.messageId,outgoing:J,threadType:B})}),b[39]=G,b[40]=S,b[41]=t,b[42]=v.editCount,b[43]=v.messageId,b[44]=J,b[45]=B,b[46]=H):H=b[46];b[47]!==e||b[48]!==f||b[49]!==n||b[50]!==p||b[51]!==s||b[52]!==C||b[53]!==t||b[54]!==ha||b[55]!==ga||b[56]!==v||b[57]!==J||b[58]!==ia||b[59]!==B?(G=function(a){return ga?k.jsx(d("MWMessageRowActions.react").MWMessageRowActions,{ariaHidden:s===!1,containerThreadKey:e,focused:f||p||s,hidden:a,hovered:n,isSecureMessage:t,message:v,outgoing:J,shouldHideHoverMenuReact:ia,threadType:B}):C?k.jsx(c("MWPinnedMessageDropdownButton.react"),{hidden:!n&&!f,isSecureMessage:t,isSecureThread:ha,message:v}):null},b[47]=e,b[48]=f,b[49]=n,b[50]=p,b[51]=s,b[52]=C,b[53]=t,b[54]=ha,b[55]=ga,b[56]=v,b[57]=J,b[58]=ia,b[59]=B,b[60]=G):G=b[60];var W;b[61]!==F||b[62]!==v||b[63]!==J||b[64]!==D||b[65]!==E?(W=function(){if(v.isUnsent)return null;var a=E!=null&&E.length>0;return!F||!a?null:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(da.multiReactContainer,J?da.multiReactContainerOutgoing:!1),{children:k.jsx(d("MWPMessageReactions.react").MWPMessageReactions,{message:v,outgoing:J,reactions:D,reactionsV2:E,children:function(a,b,d,e,f,g,h,i){return k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.ReactionsContainer",children:k.jsx(aa,{emojis:a,isMultiReactRowExpanded:h,message:e,onOpenDialog:g,outgoing:J,reactionsV2:E,toggleMultiReactionRowExpansion:i})})}})}))},b[61]=F,b[62]=v,b[63]=J,b[64]=D,b[65]=E,b[66]=W):W=b[66];var X;b[67]!==r||b[68]!==P||b[69]!==s||b[70]!==v?(X=function(){return k.jsx(c("MWV2MessageProfilePhoto.react"),{ariaHidden:r?!s:!0,display:P?"visible":"hidden",isGroupThread:r,message:v})},b[67]=r,b[68]=P,b[69]=s,b[70]=v,b[71]=X):X=b[71];var Y;b[72]!==S||b[73]!==J?(Y=function(a){return k.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:J,isReply:S})},b[72]=S,b[73]=J,b[74]=Y):Y=b[74];var Z=M!=null?M:v,$;b[75]!==Q||b[76]!==e||b[77]!==O||b[78]!==g||b[79]!==i||b[80]!==q||b[81]!==P||b[82]!==C||b[83]!==S||b[84]!==T||b[85]!==t||b[86]!==u||b[87]!==v||b[88]!==w||b[89]!==x||b[90]!==M||b[91]!==J||b[92]!==y||b[93]!==D||b[94]!==E||b[95]!==z||b[96]!==A||b[97]!==B?($=C?k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:Q,containerThreadKey:e,hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:q,isLastMessageInGroup:P,isSearchPluginAttachment:T,isSecureMessage:t,mediaRenderQpl:u,message:v,nextMessage:x,offlineAttachmentId:Q&&Q.length>0?Q[0].offlineAttachmentId:null,originalBumpedMsg:M,outgoing:J,prevMessage:y,reactions:D,reactionsV2:A?E:void 0,renderAttachment:z,threadType:B}):k.jsx(c("MWPinnedMessageOverlay.react"),{alreadyRenderedPin:S,message:v,outgoing:J,children:k.jsx(d("MWMessageRowMessageComponent.react").MWMessageRowMessageComponent,{attachments:Q,containerThreadKey:e,hasBlockQuoteStyle:O,hasClickState:g,hasMessageEmphasisRing:i,isFirstMessageInGroup:q,isLastMessageInGroup:P,isSearchPluginAttachment:T,isSecureMessage:t,mediaRenderQpl:u,message:v,navigateToRouteForMediaViewer:w,nextMessage:x,offlineAttachmentId:Q&&Q.length>0?Q[0].offlineAttachmentId:null,originalBumpedMsg:M,outgoing:J,prevMessage:y,reactions:D,reactionsV2:A?E:void 0,renderAttachment:z,threadType:B})}),b[75]=Q,b[76]=e,b[77]=O,b[78]=g,b[79]=i,b[80]=q,b[81]=P,b[82]=C,b[83]=S,b[84]=T,b[85]=t,b[86]=u,b[87]=v,b[88]=w,b[89]=x,b[90]=M,b[91]=J,b[92]=y,b[93]=D,b[94]=E,b[95]=z,b[96]=A,b[97]=B,b[98]=$):$=b[98];b[99]!==Q||b[100]!==Z||b[101]!==$?(O=k.jsx(c("MWMessagePromptPopoverTrigger.react"),{attachments:Q,message:Z,children:$}),b[99]=Q,b[100]=Z,b[101]=$,b[102]=O):O=b[102];b[103]!==Q||b[104]!==T||b[105]!==R||b[106]!==v||b[107]!==M?(q=(T||R)&&k.jsx(l,{attachments:Q,isSearchSingleBubblePluginAttachment:R,message:M!=null?M:v}),b[103]=Q,b[104]=T,b[105]=R,b[106]=v,b[107]=M,b[108]=q):q=b[108];b[109]!==fa||b[110]!==Y||b[111]!==O||b[112]!==q?(w=k.jsxs(c("CometErrorBoundary.react"),{fallback:Y,onError:fa,children:[O,q]}),b[109]=fa,b[110]=Y,b[111]=O,b[112]=q,b[113]=w):w=b[113];b[114]!==i||b[115]!==U||b[116]!==v||b[117]!==M||b[118]!==J||b[119]!==G||b[120]!==W||b[121]!==X||b[122]!==w?(y=k.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowBody,{hasMessageEmphasisRing:i,hasReactions:U,message:v,originalBumpedMsg:M,outgoing:J,renderGutterItem:m,renderMessageActions:G,renderMultiReactions:W,renderProfile:X,children:w}),b[114]=i,b[115]=U,b[116]=v,b[117]=M,b[118]=J,b[119]=G,b[120]=W,b[121]=X,b[122]=w,b[123]=y):y=b[123];b[124]!==o||b[125]!==v.messageId||b[126]!==N?(z=N&&o&&k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWMessageRowBody.MWSupportTranslatedMessageTextWrapper",children:k.jsx(ca,{msgId:v.messageId})}),b[124]=o,b[125]=v.messageId,b[126]=N,b[127]=z):z=b[127];b[128]!==I||b[129]!==v||b[130]!==J?(A=k.jsx(c("MWPinnedMessageRowFooterNUXWrapperRequireNUX.react"),{isLastMessage:I,isOutgoing:J,message:v}),b[128]=I,b[129]=v,b[130]=J,b[131]=A):A=b[131];b[132]!==I||b[133]!==L||b[134]!==t||b[135]!==u||b[136]!==v||b[137]!==J||b[138]!==N?(Z=k.jsx(c("MWMustacheText"),{isLastMessage:I,isPublicCMThread:L,isSecureMessage:t,mediaRenderQpl:u,message:v,outgoing:J,showSupportTranslationToggleMustache:N}),b[132]=I,b[133]=L,b[134]=t,b[135]=u,b[136]=v,b[137]=J,b[138]=N,b[139]=Z):Z=b[139];b[140]!==x?($=k.jsx(c("MWExtraPinnedMessagePadding.react"),{nextMessage:x}),b[140]=x,b[141]=$):$=b[141];b[142]!==a||b[143]!==g||b[144]!==I||b[145]!==P||b[146]!==v.messageId?(Q=g&&a===v.messageId?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):P&&!I?k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:6}):null,b[142]=a,b[143]=g,b[144]=I,b[145]=P,b[146]=v.messageId,b[147]=Q):Q=b[147];b[148]!==V||b[149]!==K||b[150]!==H||b[151]!==y||b[152]!==z||b[153]!==A||b[154]!==Z||b[155]!==$||b[156]!==Q?(T=k.jsxs(k.Fragment,{children:[V,K,H,y,z,A,Z,$,Q]}),b[148]=V,b[149]=K,b[150]=H,b[151]=y,b[152]=z,b[153]=A,b[154]=Z,b[155]=$,b[156]=Q,b[157]=T):T=b[157];return T}function m(){return k.jsx("div",{className:"x1xc55vz",role:"none"})}m.displayName=m.name+" [from "+f.id+"]";function ea(a){return(j||(j=d("I64"))).to_int32(a.count)>0}g["default"]=a}),98);
__d("MWClickToReavealMustachTextInPinnedMessageList.react",["MWClickToRevealMustacheText.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={lastMessageInGroup:{marginTop:"xifccgj",$$css:!0},pinnedMessage:{paddingTop:"x1yrsyyn",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3),e=a.isLastMessage,f=a.message;a=a.nextMessage;a=d("MWPMessageParsingUtils").isEndOfGroup(f,a);a=a&&!e?j.lastMessageInGroup:j.pinnedMessage;b[0]!==f.messageId||b[1]!==a?(e=i.jsx(c("MWClickToRevealMustacheText.react"),{messageId:f.messageId,xsyle:a}),b[0]=f.messageId,b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWMessageRowFooter.react",["MWClickToReavealMustachTextInPinnedMessageList.react","MWMessageDeliveryStatus","MWMessageListDisplayContext.react","MWPBaseMessageListRow.react","MWV2MessageEndOfGroupContent.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(23),e=a.hasClickState,f=a.incoming,g=a.isBroadcastThread,h=a.isFromBlockedContact,j=a.isLastMessage,k=a.isSecureMessage,l=a.message,m=a.nextMessage,n=a.outgoing,o=a.status;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var p=a.isPinnedMessageList;a=a.isStandardMessageList;if(a){b[0]!==e||b[1]!==o?(a=e||d("MWMessageDeliveryStatus").isAlwaysShownStatus(o),b[0]=e,b[1]=o,b[2]=a):a=b[2];var q;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==j||b[8]!==k||b[9]!==l||b[10]!==n||b[11]!==o?(q=function(){return i.jsx(d("MWV2MessageEndOfGroupContent.react").MWV2MessageEndOfGroupContent,{alignLeft:e&&f,hasTextBasedMessageReceipts:!0,isFromBlockedContact:h,isLastMessage:j,isOutgoing:n,isSecureMessage:k,isTextOnly:g,message:l,status:o})},b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=j,b[8]=k,b[9]=l,b[10]=n,b[11]=o,b[12]=q):q=b[12];var r;b[13]!==l||b[14]!==m||b[15]!==a||b[16]!==q?(r=i.jsx(d("MWPBaseMessageListRow.react").MWPBaseMessageListRowFooter,{message:l,nextMessage:m,showContent:a,children:q}),b[13]=l,b[14]=m,b[15]=a,b[16]=q,b[17]=r):r=b[17];return r}if(p){b[18]!==h||b[19]!==j||b[20]!==l||b[21]!==m?(a=h?i.jsx(c("MWClickToReavealMustachTextInPinnedMessageList.react"),{isLastMessage:j,message:l,nextMessage:m}):null,b[18]=h,b[19]=j,b[20]=l,b[21]=m,b[22]=a):a=b[22];return a}return null}g["default"]=a}),98);
__d("MWPForwardedContent",["fbt","I64","LSIntEnum","MWPMessageAuthor.react","MessagingAttachmentType","ReQL","ReQLSuspense","mwpMessageHasAttachment","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l;(j||d("react")).useMemo;function m(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)))return a.defaultCtaType==="xma_web_url";else return!1}function n(a){if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)))return!0;else return(k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE))}function o(a,b,e){var g=d("react-compiler-runtime").c(28),j=(i||(i=c("useReStore")))(),o=a.messageId,p=a.threadKey,q;g[0]!==a?(q=c("mwpMessageHasAttachment")(a),g[0]=a,g[1]=q):q=g[1];var r=q;g[2]!==j||g[3]!==r||g[4]!==o||g[5]!==p?(a=function(){if(r)return d("ReQL").fromTableAscending(j.tables.attachments).getKeyRange(p,o);else return d("ReQL").empty()},q=[j,o,p,r],g[2]=j,g[3]=r,g[4]=o,g[5]=p,g[6]=a,g[7]=q):(a=g[6],q=g[7]);a=d("ReQLSuspense").useFirst(a,q,f.id+":63");if(b)if(a!=null)if(m(a)){g[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"You forwarded a link"),g[8]=q):q=g[8];b=q}else if(n(a)){g[9]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"You forwarded an image"),g[9]=q):q=g[9];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"You forwarded a video"),g[10]=q):q=g[10];b=q}else{g[11]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"You forwarded a message"),g[11]=q):q=g[11];b=q}else{g[12]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"You forwarded a message"),g[12]=q):q=g[12];b=q}else if(a!=null)if(e!=null)if(m(a)){g[13]!==e?(q=h._(/*BTDS*/"{name} forwarded a link",[h._param("name",e)]),g[13]=e,g[14]=q):q=g[14];b=q}else if(n(a)){g[15]!==e?(q=h._(/*BTDS*/"{name} forwarded an image",[h._param("name",e)]),g[15]=e,g[16]=q):q=g[16];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[17]!==e?(q=h._(/*BTDS*/"{name} forwarded a video",[h._param("name",e)]),g[17]=e,g[18]=q):q=g[18];b=q}else{g[19]!==e?(q=h._(/*BTDS*/"{name} forwarded a message",[h._param("name",e)]),g[19]=e,g[20]=q):q=g[20];b=q}else if(m(a)){g[21]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Forwarded a link"),g[21]=q):q=g[21];b=q}else if(n(a)){g[22]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Forwarded an image"),g[22]=q):q=g[22];b=q}else if((k||(k=d("I64"))).equal(a.attachmentType,(l||(l=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO))){g[23]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Forwarded a video"),g[23]=q):q=g[23];b=q}else{g[24]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Forwarded a message"),g[24]=a):a=g[24];b=a}else if(e!=null){g[25]!==e?(q=h._(/*BTDS*/"{name} forwarded a message",[h._param("name",e)]),g[25]=e,g[26]=q):q=g[26];b=q}else{g[27]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Forwarded a message"),g[27]=a):a=g[27];b=a}return b}function a(a,b){var c=d("MWPMessageAuthor.react").useAuthorName();c=c[0];return o(a,b,c)}g.useTitle=a}),226);
__d("MWXIconForwardAction",["MWXSvgIcon","SVGIcon","cr:22337","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22337")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWForwardedContent.react",["BaseIsDecorativeContext","MWPForwardedContent","MWXIconForwardAction","MWXIconStrict.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function a(a){var b=d("react-compiler-runtime").c(7),e=a.message;a=a.outgoing;e=d("MWPForwardedContent").useTitle(e,a);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("BaseIsDecorativeContext").Provider,{value:!0,children:i.jsx(c("MWXIconStrict.react"),{color:j,icon:c("MWXIconForwardAction"),size:12})})}),b[0]=a):a=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1aimgj9"},b[1]=f):f=b[1];b[2]!==e?(a=i.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:4,verticalAlign:"center",children:[a,i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:i.jsx("span",babelHelpers["extends"]({},f,{children:e}))})})]}),b[2]=e,b[3]=a):a=b[3];f=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 xg8j3zb x1nn3v0j"},b[4]=e):e=b[4];b[5]!==f?(a=i.jsx("div",babelHelpers["extends"]({},e,{children:f})),b[5]=f,b[6]=a):a=b[6];return a}g["default"]=a}),98);
__d("MWPMessagePinnedText.react",["fbt","react","react-compiler-runtime","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.divider;a=a.message;a=c("useMWPIsMessagePinned")(a);var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Pinned"),b[0]=f):f=b[0];f=f;b[1]!==e||b[2]!==a?(f=a&&j.jsxs(j.Fragment,{children:[e!=null&&j.jsx("span",{className:"x1sdyfia",children:e}),j.jsx("span",{"aria-label":f,children:f})]}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),226);
__d("MWXIconForward",["MWXSvgIcon","SVGIcon","cr:22338","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22338")),c("gkx")("23219"));g["default"]=a}),98);
__d("WorkLSHiddenEyebrowLabel.react",["fbt","BaseMiddot.react","FDSTooltip.react","MessengerWebUXLogger","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(10);a=a.separatorStyle;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={eventName:"edit_eyebrow_impression"},b[0]=e):e=b[0];e=c("MessengerWebUXLogger").useImpressionLoggerRef(e);var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Hidden"),b[1]=f):f=b[1];f=f;var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"This message is only visible to you"),b[2]=g):g=b[2];g=g;var i;b[3]!==a?(i=a!=null&&j.jsx(d("react-strict-dom").html.span,{style:a,children:j.jsx(c("BaseMiddot.react"),{})}),b[3]=a,b[4]=i):i=b[4];b[5]!==e?(a=j.jsx(c("FDSTooltip.react"),{position:"end",tooltip:g,children:j.jsx(d("react-strict-dom").html.span,{"data-testid":void 0,ref:e,children:f})}),b[5]=e,b[6]=a):a=b[6];b[7]!==i||b[8]!==a?(g=j.jsxs(j.Fragment,{children:[i,a]}),b[7]=i,b[8]=a,b[9]=g):g=b[9];return g}g["default"]=a}),226);
__d("isMWMetamateEmployeeOnlyHiddenMessage",["gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){return!!(a!=null&&a.includes("#hidden"))&&!!(a!=null&&a.includes("#metamate"))&&b&&c("gkx")("20861")&&c("gkx")("22885")&&c("gkx")("10631")}g["default"]=a}),98);
__d("useMWReplySnippetContent",["fbt","Actor","I64","MWPMessageAuthor.react","react-compiler-runtime","useMWIsReplyToAuthor","useMWPIsMessagePinned"],(function(a,b,c,d,e,f,g,h){"use strict";var i;function a(a,b){var e=d("react-compiler-runtime").c(3),f=c("useMWPIsMessagePinned")(a),g=d("MWPMessageAuthor.react").useAuthorName();g=g[0];var j=d("Actor").useActor();j=j[0];j=j===(i||(i=d("I64"))).to_string(a.senderId);var k=c("useMWIsReplyToAuthor")(a);if(!f||j||k)return a.replySnippet;e[0]!==g||e[1]!==b?(f=b?h._(/*BTDS*/"Pinned your reply").toString():h._(/*BTDS*/"Pinned {name}'s reply",[h._param("name",g)]).toString(),e[0]=g,e[1]=b,e[2]=f):f=e[2];return f}g["default"]=a}),226);
__d("MWReplySnippet.react",["I64","LSIntEnum","LSMessageReplySourceTypeV2","LSMessagingThreadTypeUtil","MWEditedEyebrow.react","MWXIconForward","MWXIconForwardAction","MWXIconReply","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXThreadThemeColor","ReQL","ReQLSuspense","WorkLSHiddenEyebrowLabel.react","isMWBumpMessage","isMWEditedMessage","isMWMetamateEmployeeOnlyHiddenMessage","react","react-compiler-runtime","useMWJumpToMessage","useMWReplySnippetContent","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||d("react"),m={separator:{paddingInlineEnd:"x11lfxj5",paddingInlineStart:"x135b78x",$$css:!0}},n=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--chat-admin-text-color, var(--placeholder-text))");function o(a){var b=d("react-compiler-runtime").c(3);a=a.replySourceType;if(a==null)return null;if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").LIGHTWEIGHT_STATUS))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_PRODUCER_STORY_REPLY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").EXPIRED_STORY))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").HIGHLIGHTS_TAB_POST_REPLY))){var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconReply"),size:12}),b[0]=e):e=b[0];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").IG_STORY_SHARE))||(j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_SHARE))){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForwardAction"),size:12}),b[1]=e):e=b[1];return e}else if((j||(j=d("I64"))).equal(a,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FB_STORY_MENTION))){b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=l.jsx(c("MWXIconStrict.react"),{color:n,icon:c("MWXIconForward"),size:12}),b[2]=e):e=b[2];return e}return null}function a(a){var b=d("react-compiler-runtime").c(35),e=a.enableEditHistory,g=a.message;a=a.outgoing;e=e===void 0?!0:e;var i=(h||(h=c("useReStore")))(),j=c("useMWReplySnippetContent")(g,a),k=c("useMWJumpToMessage")("Bump"),n;b[0]!==i.tables.threads||b[1]!==g.threadKey?(n=function(){return d("ReQL").fromTableAscending(i.tables.threads,["threadType"]).getKeyRange(g.threadKey).map(p)},b[0]=i.tables.threads,b[1]=g.threadKey,b[2]=n):n=b[2];var q;b[3]!==i||b[4]!==g.threadKey?(q=[i,g.threadKey],b[3]=i,b[4]=g.threadKey,b[5]=q):q=b[5];n=d("ReQLSuspense").useFirst(n,q,f.id+":123");q=n==null?!1:d("LSMessagingThreadTypeUtil").isArmadilloSecure(n);q=(n=d("useStringWithSubstitutions").useStringWithSubstitutions(q?j:null,g.threadKey))!=null?n:j;if(j==null||j.trim().length===0)return null;b[6]!==g?(n=c("isMWEditedMessage")(g),b[6]=g,b[7]=n):n=b[7];j=n;b[8]!==g.text||b[9]!==a?(n=c("isMWMetamateEmployeeOnlyHiddenMessage")(g.text,a),b[8]=g.text,b[9]=a,b[10]=n):n=b[10];a=n;b[11]!==g.replyType?(n=c("isMWBumpMessage")(g.replyType),b[11]=g.replyType,b[12]=n):n=b[12];n=n;n=n&&g.replySourceId!=null&&g.replySourceTimestampMs!=null;var r;b[13]!==g.replySourceTypeV2||b[14]!==n?(r=!n&&l.jsx(o,{replySourceType:g==null?void 0:g.replySourceTypeV2}),b[13]=g.replySourceTypeV2,b[14]=n,b[15]=r):r=b[15];var s;b[16]!==r?(s=l.jsx(c("MWXRowItem.react"),{children:r}),b[16]=r,b[17]=s):s=b[17];b[18]!==e||b[19]!==j||b[20]!==k||b[21]!==g.replySourceId||b[22]!==g.replySourceTimestampMs||b[23]!==q||b[24]!==n?(r=l.jsx(c("MWXRowItem.react"),{children:n?l.jsx(c("MWXPressable.react"),{onPress:function(){g.replySourceId!=null&&g.replySourceTimestampMs!=null&&k(g.replySourceId,g.replySourceTimestampMs)},overlayDisabled:!0,children:l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsx("span",{className:"x1aimgj9",children:q})})}):l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsxs("span",{className:"x1aimgj9",children:[q,j&&l.jsx(d("MWEditedEyebrow.react").MWEditedEyebrow,{enableEditHistory:e,separatorStyle:m.separator})]})})}),b[18]=e,b[19]=j,b[20]=k,b[21]=g.replySourceId,b[22]=g.replySourceTimestampMs,b[23]=q,b[24]=n,b[25]=r):r=b[25];b[26]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1aimgj9"},b[26]=e):e=b[26];b[27]!==a?(j=a&&l.jsx(c("WorkLSHiddenEyebrowLabel.react"),{separatorStyle:m.separator}),b[27]=a,b[28]=j):j=b[28];b[29]!==j?(q=l.jsx(c("MWXRowItem.react"),{children:l.jsx(c("MWXText.react"),{color:"tertiary",type:"meta4",children:l.jsx("span",babelHelpers["extends"]({},e,{children:j}))})}),b[29]=j,b[30]=q):q=b[30];b[31]!==q||b[32]!==s||b[33]!==r?(n=l.jsxs(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:10,paddingVertical:4,spacing:4,testid:void 0,verticalAlign:"center",children:[s,r,q]}),b[31]=q,b[32]=s,b[33]=r,b[34]=n):n=b[34];return n}function p(a){return a.threadType}g["default"]=a}),98);
__d("MWMessageRowHeader.react",["BaseMiddot.react","MWForwardedContent.react","MWMessageListDisplayContext.react","MWPBaseMessageRowHeader.react","MWPMessagePinnedText.react","MWReplySnippet.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.isCMThread,f=a.isFirstMessageInGroup,g=a.isGroupThread,h=a.isLastMessageInGroup,l=a.message,m=a.outgoing;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var n=a.isPinnedMessageList,o=a.isStandardMessageList;a=k;var p;b[0]!==l||b[1]!==m?(p=function(){return i.jsx(c("MWForwardedContent.react"),{message:l,outgoing:m})},b[0]=l,b[1]=m,b[2]=p):p=b[2];var q;b[3]!==o||b[4]!==l?(q=function(a,b){return o?i.jsx(c("MWPMessagePinnedText.react"),{divider:b&&i.jsx(c("BaseMiddot.react"),{}),message:l}):null},b[3]=o,b[4]=l,b[5]=q):q=b[5];var r;b[6]!==l||b[7]!==m?(r=function(){return i.jsx(c("MWReplySnippet.react"),{message:l,outgoing:m})},b[6]=l,b[7]=m,b[8]=r):r=b[8];a=n?a:void 0;var s;b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==n||b[14]!==l||b[15]!==m||b[16]!==p||b[17]!==q||b[18]!==r||b[19]!==a?(s=i.jsx(c("MWPBaseMessageRowHeader.react"),{alwaysRenderSenderName:n,isAnyCMThread:e,isFirstMessageInGroup:f,isGroupThread:g,isLastMessageInGroup:h,message:l,outgoing:m,renderForwardSnippet:p,renderPinnedText:q,renderReplySnippet:r,renderTextWrapper:j,renderTimestamp:a}),b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=n,b[14]=l,b[15]=m,b[16]=p,b[17]=q,b[18]=r,b[19]=a,b[20]=s):s=b[20];return s}function j(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}j.displayName=j.name+" [from "+f.id+"]";function k(a){return i.jsx(c("MWXText.react"),{color:"secondary",type:"meta4",children:a})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWEBRestoreGapUIWithEBCheck.react",["cr:9929"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9929")}),98);
__d("MWPMessageListFocusableTableRowSimple.react",["BaseView.react","MWPMessageListFocusableTableRow.react","MWV2MessageListIsRowModalContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.startTransition;b.useCallback;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(6),e=a.nameForModality,f=k(!1),g=f[0],h=f[1];f=k(!1);var l=f[0];f=f[1];var m;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=function(a){return j(function(){return h(a)})},b[0]=m):m=b[0];m=m;var n=d("MWV2MessageListIsRowModalContext.react").useMWV2MessageListIsRowModal();n=n.modal;n=n===e;b[1]!==l||b[2]!==g||b[3]!==n||b[4]!==a?(e=i.jsx(c("BaseView.react"),{role:"row",children:i.jsx(c("MWPMessageListFocusableTableRow.react"),babelHelpers["extends"]({isDialogOpened:l,isFocused:g,isModal:n,setFocused:m,setIsDialogOpened:f},a))}),b[1]=l,b[2]=g,b[3]=n,b[4]=a,b[5]=e):e=b[5];return e}g["default"]=a}),98);
__d("MWMessageRowMissingMessagesIndicator.react",["fbt","CometErrorBoundary.react","I64","JSResourceForInteraction","MWEBMobileOnboardingEligibility","MWEBRestoreGapUIWithEBCheck.react","MWPMessageListColumn.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBOnboardingGapUI.react").__setRef("MWMessageRowMissingMessagesIndicator.react")),m=(j||(j=d("I64"))).of_int32(5e3);function a(a){var b=d("react-compiler-runtime").c(4),e=a.entryPoint,f=a.isSecureMessage,g=a.lastEbMessageTime,i=a.message,o=a.nextMessage;a=a.prevMessage;if(e==="pinned_message_list")return null;var p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=h._(/*BTDS*/"Messages are missing."),b[0]=p):p=b[0];p=p;if(g==null){var q=f&&a!=null&&!(j||(j=d("I64"))).equal(a==null?void 0:a.threadKey,i.threadKey);f=f&&a==null;if(q||f){b[1]!==e?(a=l!=null&&k.jsx(c("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:p,nameForModality:"ebmmindicator",children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(l,{fallback:null,props:{entryPoint:e}})})}),b[1]=e,b[2]=a):a=b[2];return a}}else if((j||(j=d("I64"))).gt((j||(j=d("I64"))).sub(g,i.timestampMs),m)&&(o==null||(j||(j=d("I64"))).lt(g,o.timestampMs))){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("MWEBRestoreGapUIWithEBCheck.react")!=null&&k.jsx(c("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:p,nameForModality:"ebmmindicator",children:k.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:k.jsx(c("CometErrorBoundary.react"),{fallback:n,children:k.jsx(c("MWEBRestoreGapUIWithEBCheck.react"),{})})})}),b[3]=q):q=b[3];return q}return null}function n(){return null}g["default"]=a}),226);
__d("MWChatMessageUnreadIndicator.react",["fbt","MWXRow.react","MWXRowItem.react","MWXText.react","react","react-compiler-runtime","react-strict-dom"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={color:{color:"x186z157",$$css:!0},line:{backgroundColor:"x1m026b5",flexGrow:"x1iyjqo2",height:"xjm9jq1",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Unread messages"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})}),a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("MWXRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta4",children:j.jsx(d("react-strict-dom").html.div,{style:k.color,children:b})})}),a[2]=f):f=a[2];a[3]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsxs(c("MWXRow.react"),{"aria-label":b,paddingVertical:12,spacingVertical:0,children:[e,f,j.jsx(c("MWXRowItem.react"),{verticalAlign:"center",xstyle:k.line,children:j.jsx(j.Fragment,{})})]}),a[3]=b):b=a[3];return b}g["default"]=a}),226);
__d("useThreadLastUnreadWatermarkAndMessages",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];b=d("ReQLSuspense").useFirstWithoutSubscribing(g,j,f.id+":23");return(g=b==null?void 0:b.lastReadWatermarkTimestampMs)!=null?g:(h||(h=d("I64"))).zero}function b(a,b){var e=d("react-compiler-runtime").c(10),g=(i||(i=c("useReStore")))(),j=d("MWPActor.react").useActor(),k;e[0]!==j||e[1]!==g.tables.messages||e[2]!==b||e[3]!==a?(k=function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(a).bounds({gt:[b]}).filter(function(a){if(!(h||(h=d("I64"))).equal(a.senderId,j))return!a.isAdminMessage;else return!1})},e[0]=j,e[1]=g.tables.messages,e[2]=b,e[3]=a,e[4]=k):k=e[4];var l;e[5]!==j||e[6]!==g||e[7]!==b||e[8]!==a?(l=[j,g,b,a],e[5]=j,e[6]=g,e[7]=b,e[8]=a,e[9]=l):l=e[9];return d("ReQLSuspense").useArray(k,l,f.id+":36")}g.useThreadLastReadWatermark=a;g.useUnreadMessages=b}),98);
__d("MWChatMessageUnreadIndicatorCountAndAISummary.react",["fbt","I64","JSResourceForInteraction","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","intlSummarizeNumber","react","react-compiler-runtime","requireDeferred","useMWXLazyDialog","useThreadLastUnreadWatermarkAndMessages"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||d("react"),l=c("requireDeferred")("MessagingAiAgentInteractionsFalcoEvent").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react"),m=c("JSResourceForInteraction")("MWAISummaryDialogRoot.react").__setRef("MWChatMessageUnreadIndicatorCountAndAISummary.react");function a(a){var b=d("react-compiler-runtime").c(32),e=a.lastReadWatermarkTimestampMs,f=a.threadKey,g=e===void 0?(j||(j=d("I64"))).zero:e;a=d("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(f,g).length;e=c("useMWXLazyDialog")(m);var i=e[0];if(a<=0)return null;b[0]!==a?(e=h._(/*BTDS*/"_j{\"*\":\"{count} unread messages.\",\"_1\":\"{count} unread message.\"}",[h._plural(a),h._param("count",String(c("intlSummarizeNumber")(a)))]).toString(),b[0]=a,b[1]=e):e=b[1];a=e;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Summarize with Meta AI").toString(),b[2]=e):e=b[2];e=e;var o;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(o=h._(/*BTDS*/"These messages will be shared with Meta AI to create a summary and may be used to improve AI at Meta.").toString(),b[3]=o):o=b[3];o=o;var p;b[4]!==a?(p=k.jsx(c("MWXText.react"),{color:"secondary",isSemanticHeading:!0,type:"meta1",children:a}),b[4]=a,b[5]=p):p=b[5];var q;b[6]!==p||b[7]!==a?(q=k.jsx(c("MWXRowItem.react"),{"aria-label":a,verticalAlign:"center",children:p}),b[6]=p,b[7]=a,b[8]=q):q=b[8];b[9]!==g||b[10]!==i||b[11]!==f?(p=function(){i({startTimestampMs:(j||(j=d("I64"))).to_float(g),threadKey:j.to_string(f)}),l.onReady(n)},b[9]=g,b[10]=i,b[11]=f,b[12]=p):p=b[12];b[13]!==e?(a=k.jsx(c("MWXText.react"),{color:"highlight",type:"meta1",children:e}),b[13]=e,b[14]=a):a=b[14];var r;b[15]!==p||b[16]!==a?(r=k.jsx(c("MWXPressable.react"),{onPress:p,children:a}),b[15]=p,b[16]=a,b[17]=r):r=b[17];b[18]!==e||b[19]!==r?(p=k.jsx(c("MWXRowItem.react"),{"aria-label":e,verticalAlign:"center",children:r}),b[18]=e,b[19]=r,b[20]=p):p=b[20];b[21]!==p||b[22]!==q?(a=k.jsxs(c("MWXRow.react"),{align:"center",spacingHorizontal:4,spacingVertical:0,children:[q,p]}),b[21]=p,b[22]=q,b[23]=a):a=b[23];b[24]!==o?(e=k.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"meta1",children:o})}),b[24]=o,b[25]=e):e=b[25];b[26]!==o||b[27]!==e?(r=k.jsx(c("MWXRow.react"),{align:"center","aria-label":o,paddingVertical:8,spacingVertical:0,children:e}),b[26]=o,b[27]=e,b[28]=r):r=b[28];b[29]!==a||b[30]!==r?(p=k.jsxs(k.Fragment,{children:[a,r]}),b[29]=a,b[30]=r,b[31]=p):p=b[31];return p}function n(a){return a.log(o)}function o(){return{action_type:0,entry_point:244,is_e2ee:!1,selected_item:"link",thread_type:2,view_name:8}}g["default"]=a}),226);
__d("useThreadMetadata",["ReQL","ReQLSuspense","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b,e=(h||(h=c("useReStore")))();return(b=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.threads,["metadata"]).getKeyRange(a).map(i)},[e,a],f.id+":25"))!=null?b:""}function i(a){a=a.metadata;return a}g["default"]=a}),98);
__d("useThreadUnreadMessagesWordCount",["MWUnvaultedText","react","react-compiler-runtime","useThreadLastUnreadWatermarkAndMessages"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;function a(a,b){var c=d("react-compiler-runtime").c(2);a=d("useThreadLastUnreadWatermarkAndMessages").useUnreadMessages(a,b);c[0]!==a?(b=a.filter(k).map(j).reduce(i,0),c[0]=a,c[1]=b):b=c[1];a=b;c=a;return c}function i(a,b){return a+b}function j(a){a=d("MWUnvaultedText").getMWUnvaultedText(!1,a.text);return a!=null&&a!==""?a.trim().split(/\s+/).length:0}function k(a){return a.text!=null}g.useThreadUnreadMessagesWordCount=a}),98);
__d("MWMessageRowUnreadMessagesIndicator.react",["I64","MWChatMessageUnreadIndicator.react","MWChatMessageUnreadIndicatorCountAndAISummary.react","MWPMessageListColumn.react","MWPThreadCapabilitiesContext","MWV2MessageRowSimple.react","react","react-compiler-runtime","useJSON","useThreadMetadata","useThreadUnreadMessagesWordCount"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=50;function a(a){var b=d("react-compiler-runtime").c(7),e=a.isOpenGroupThread,f=a.lastReadWatermarkTimestampMs;a=a.threadKey;var g=d("useThreadUnreadMessagesWordCount").useThreadUnreadMessagesWordCount(a,f!=null?f:(i||(i=d("I64"))).zero),h=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();h=h.air131ShareChatMessagesWithMetaAiEnabled;var l=c("useThreadMetadata")(a);l=(l=c("useJSON")(l!=null?l:"{}"))!=null?l:[];l=l==null?void 0:l.is_limit_sharing_enabled;var m;b[0]!==h||b[1]!==l||b[2]!==e||b[3]!==f||b[4]!==a||b[5]!==g?(m=j.jsx(c("MWV2MessageRowSimple.react"),{children:j.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:e&&h&&!l&&g>=k?j.jsx(c("MWChatMessageUnreadIndicatorCountAndAISummary.react"),{lastReadWatermarkTimestampMs:f,threadKey:a}):j.jsx(c("MWChatMessageUnreadIndicator.react"),{})})}),b[0]=h,b[1]=l,b[2]=e,b[3]=f,b[4]=a,b[5]=g,b[6]=m):m=b[6];return m}g["default"]=a}),98);
__d("useMWMessageRowAddInteractionTracingMetadata",["I64","cr:4391","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,c){var e=d("react-compiler-runtime").c(2),f;e[0]!==a.displayedContentTypes?(f=(h||(h=d("I64"))).to_string(a.displayedContentTypes),e[0]=a.displayedContentTypes,e[1]=f):f=e[1];b("cr:4391")("displayed_content_types",f);b("cr:4391")("row_index_from_bottom",String(c))}g["default"]=a}),98);
__d("useNextNonAdminMessage",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=10;function a(a,b){var e=d("react-compiler-runtime").c(6),g=(h||(h=c("useReStore")))(),k=(b==null?void 0:b.isAdminMessage)===!0,l,m;e[0]!==g||e[1]!==k||e[2]!==a.primarySortKey||e[3]!==a.threadKey?(l=function(){return k?d("ReQL").fromTableAscending(g.tables.messages.index("messageDisplayOrder"),["isAdminMessage","timestampMs","senderId"]).getKeyRange(a.threadKey).bounds({gt:d("ReQL").key(a.primarySortKey)}).take(i).filter(j):d("ReQL").empty()},m=[g,k,a.primarySortKey,a.threadKey],e[0]=g,e[1]=k,e[2]=a.primarySortKey,e[3]=a.threadKey,e[4]=l,e[5]=m):(l=e[4],m=e[5]);e=d("ReQLSuspense").useFirst(l,m,f.id+":49");return k?e:b}function j(a){return!a.isAdminMessage}g["default"]=a}),98);
__d("MWMessageRow.react",["BaseView.react","CometErrorBoundary.react","CometPageletWithDiv.react","HeroInteractionIgnoreWithDiv.react","I64","Int64Hooks","InteractionTracing","LSIntEnum","LSMessagingThreadTypeUtil","MNLSXMALayoutType","MWCMThreadTypes.react","MWGroupBlockingProtectionUtils","MWMessageEditContext.react","MWMessageListAttachmentContainer.react","MWMessageListDisplayContext.react","MWMessageRowAdminMessage.react","MWMessageRowBody.react","MWMessageRowFooter.react","MWMessageRowHeader.react","MWMessageRowMissingMessagesIndicator.react","MWMessageRowUnreadMessagesIndicator.react","MWPActor.react","MWPAttachmentDataContext","MWPMessageListColumn.react","MWPMessageListRowWithKeyboardInteractions.react","MWPMessageLoggingUtil","MWPMessageParsingUtils","MWPMessageRowCalculateStatus.react","MWPThreadCapabilitiesContext","MWShowMessagePromptPopoverContext.react","MWSupportTranslationsContext.react","MWThreadViewMediaRenderQpl","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","MWV2MessageStartOfGroupContent.react","WAGetPlatformFromStanzaId","WAStanzaUtils","gkx","mwCMIsAnyCMThread","mwpMessageIsReply","qex","react","react-compiler-runtime","useHeroErrorMetadata","useMWMessageRowAddInteractionTracingMetadata","useMWMessageRowTheme","useMWPEditMessageDeemphasizer","useNextNonAdminMessage"],(function(a,b,c,d,e,f,g){"use strict";var h=["message","nextMessage"],i=["rowIndexFromBottom"],j=["rowIndexFromBottom"],k,l,m,n=k||(k=d("react"));e=k;var o=e.memo,p=e.startTransition,q=e.useCallback,r=e.useEffect,s=e.useId,t=e.useState,u={adminMessageAttachment:{boxSizing:"x9f619",maxWidth:"x4ndzw7",minWidth:"xwj5yc2",paddingBottom:"xdvlbce",paddingInlineStart:"x106a9eq",paddingInlineEnd:"x1xnnf8n",paddingLeft:null,paddingRight:null,paddingTop:"x1nn3v0j",$$css:!0}},v=n.memo(c("MWPMessageRowCalculateStatus.react"));function w(a){var b=d("react-compiler-runtime").c(10),c,e,f;b[0]!==a?(c=a.message,e=a.nextMessage,f=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=c,b[2]=e,b[3]=f):(c=b[1],e=b[2],f=b[3]);b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","isUnsent","threadKey","primarySortKey","timestampMs","messageId","isAdminMessage","sendStatusV2","groupId","groupIndex","groupSize","displayedContentTypes"],b[4]=a):a=b[4];c=d("Int64Hooks").usePickInt64(c,a);b[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=["senderId","timestampMs","isAdminMessage"],b[5]=a):a=b[5];e=d("Int64Hooks").usePickInt64(e,a);b[6]!==f||b[7]!==c||b[8]!==e?(a=n.jsx(v,babelHelpers["extends"]({message:c,nextMessage:e},f)),b[6]=f,b[7]=c,b[8]=e,b[9]=a):a=b[9];return a}function x(a){var b=a.containerThreadKey,e=a.domElementRef,f=a.entryPoint,g=a.hasMessageEmphasisRing,h=a.isMediaGroupLastMessage,i=a.isModal,j=a.isSecureMessage,k=a.lastEbMessageTime,o=a.lastReadWatermarkTimestampMs,v=a.message,x=a.navigateToRouteForMediaViewer,z=a.nextMessage,A=a.onRenderError,C=a.prevMessage,D=a.renderAttachment,E=a.shouldRenderUnreadIndicator,F=a.stopHoveringRef,G=a.threadType;a=a.useReactionsV2;var H=a===void 0?!1:a;a=d("MWMessageListDisplayContext.react").useMWMessageListDisplayContext();var I=a.isPinnedMessageList;a=a.isStandardMessageList;var J=d("MWPActor.react").useActor(),K=I||d("MWPMessageParsingUtils").isStartOfGroup(v,C),L=I||d("MWPMessageParsingUtils").isEndOfGroup(v,z),M=c("mwCMIsAnyCMThread")(G),N=d("MWCMThreadTypes.react").isBroadcastThread(G),O=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(G),P=d("LSMessagingThreadTypeUtil").isGroup(G),aa=d("LSMessagingThreadTypeUtil").isOpenGroupFnFThread(G),Q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(G),ba=c("mwpMessageIsReply")(v),R=d("MWPThreadCapabilitiesContext").useMWPThreadCapabilitiesContext();R=R.seenCountV2Enabled;R=!v.isUnsent&&R;var ca=R&&!O&&!d("LSMessagingThreadTypeUtil").isCMSubthread(G)&&!d("MWCMThreadTypes.react").isStandardCMThread(G),da=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(v.senderId,v.threadKey),S=!I&&(l||(l=d("I64"))).equal(v.senderId,J);R=c("useNextNonAdminMessage")(v,z);var ea=R==null||h===!0,fa=!S;I=t(!1);var T=I[0],U=I[1];J=t(!1);var ga=J[0],V=J[1],W=q(function(a){return p(function(){return V(a)})},[V,p]),ha=q(function(a){return p(function(){return U(a)})},[U,p]),ia=s();I=t(!1);var ja=I[0],ka=I[1],la=c("useMWMessageRowTheme")(),X;J=d("MWPAttachmentDataContext").useMWPGetAttachments(v);I=J.length>0&&J[0].xmaLayoutType!=null&&(l||(l=d("I64"))).equal(J[0].xmaLayoutType,(m||(m=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").STANDARD_DXMA));var Y=J.length>0&&J[0].xmaLayoutType!=null&&(l||(l=d("I64"))).equal(J[0].xmaLayoutType,(m||(m=d("LSIntEnum"))).ofNumber(c("MNLSXMALayoutType").SHARED_STACK)),ma=c("useMWPEditMessageDeemphasizer")(),Z=d("MWThreadViewMediaRenderQpl").useMediaRenderQpl(v,G),$=Z.mediaRenderQpl;Z=Z.messageRowRef;r(function(){$==null||$.addPoint("render-message-row"),j&&($==null||$.addAnnotations({string:{e2ee_platform:d("WAGetPlatformFromStanzaId").getPlatformFromStanzaId(d("WAStanzaUtils").toStanzaId(v.offlineThreadingId))}}))},[j,$,v.offlineThreadingId]);v.isAdminMessage?X=n.jsx(c("MWMessageRowAdminMessage.react"),{domElementRef:e,isDialogOpened:ja,isFirstMessageInGroup:K,isFocused:T,isModal:i,message:v,messageDomID:ia,nextMessage:z,outgoing:S,prevMessage:C,setFocusedInTransition:ha,setHoveredInTransition:W,setIsDialogOpened:ka,stopHoveringRef:F}):I||Y?X=n.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:n.jsx(c("MWV2MessageRowSimple.react"),{children:n.jsx(c("BaseView.react"),{xstyle:ma,children:n.jsx(c("MWMessageListAttachmentContainer.react"),{connectBottom:!1,connectTop:!1,mediaRenderQpl:$,message:v,outgoing:S,xstyle:u.adminMessageAttachment})})})}):X=n.jsx(d("MWShowMessagePromptPopoverContext.react").MWShowMessagePromptPopoverContextProvider,{children:n.jsx(d("MWMessageEditContext.react").MWMessageEditContextProvider,{children:n.jsx(d("MWSupportTranslationsContext.react").MWSupportTranslationsContextProvider,{children:n.jsxs(n.Fragment,{children:[E===!0&&n.jsx(c("MWMessageRowUnreadMessagesIndicator.react"),{isOpenGroupThread:aa,lastReadWatermarkTimestampMs:o,threadKey:v.threadKey}),K&&a?n.jsx(c("MWV2MessageStartOfGroupContent.react"),{message:v,prevMessage:C}):null,n.jsx(w,{isBroadcastChannel:O,isBroadcastThread:N,isLargeGroup:!1,isSecureGroupThread:Q&&P,isSecureThread:Q,message:v,nextMessage:R,children:function(a){return n.jsx(y,{containerThreadKey:b,domElementRef:e,focused:T,hasClickState:ca,hasMessageEmphasisRing:g,hovered:ga,incoming:fa,isBroadcastThread:N,isCMThread:M,isDialogOpened:ja,isFirstMessageInGroup:K,isFromBlockedContact:da,isGroupThread:P,isLastMessage:ea,isLastMessageInGroup:L,isMediaGroupLastMessage:h,isModal:i,isSecureMessage:j,mediaRenderQpl:$,message:v,messageDomID:ia,navigateToRouteForMediaViewer:x,nextMessage:z,onRenderError:A,outgoing:S,prevMessage:C,renderAttachment:D,setFocusedInTransition:ha,setHoveredInTransition:W,setIsDialogOpened:ka,shouldUseReactionsV2:H,status:a,stopHoveringRef:F,theme:la,threadType:G})}})]})})})});Y=(I=c("qex")._("4967"))!=null?I:!1;return n.jsx("div",{ref:Z,children:n.jsxs(B,{isReply:ba,message:v,offlineAttachmentId:J.length>0?J[0].offlineAttachmentId:void 0,outgoing:S,children:[Y===!0?n.jsx(c("HeroInteractionIgnoreWithDiv.react"),{children:X}):X,Q&&n.jsx(c("MWMessageRowMissingMessagesIndicator.react"),{entryPoint:f,isSecureMessage:j,lastEbMessageTime:k,message:v,nextMessage:z,prevMessage:C})]})})}x.displayName=x.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(55),e=a.containerThreadKey,f=a.domElementRef,g=a.focused,h=a.hasClickState,i=a.hasMessageEmphasisRing,j=a.hovered,k=a.incoming,l=a.isBroadcastThread,m=a.isCMThread,o=a.isDialogOpened,p=a.isFirstMessageInGroup,q=a.isFromBlockedContact,r=a.isGroupThread,s=a.isLastMessage,t=a.isLastMessageInGroup,u=a.isMediaGroupLastMessage,v=a.isModal,w=a.isSecureMessage,x=a.mediaRenderQpl,y=a.message,z=a.messageDomID,A=a.navigateToRouteForMediaViewer,B=a.nextMessage,C=a.onRenderError,D=a.outgoing,E=a.prevMessage,F=a.renderAttachment,G=a.setFocusedInTransition,H=a.setHoveredInTransition,I=a.setIsDialogOpened,J=a.shouldUseReactionsV2,K=a.status,L=a.stopHoveringRef,M=a.theme;a=a.threadType;var N;b[0]!==m||b[1]!==p||b[2]!==r||b[3]!==t||b[4]!==y||b[5]!==D?(N=n.jsx(c("MWMessageRowHeader.react"),{isCMThread:m,isFirstMessageInGroup:p,isGroupThread:r,isLastMessageInGroup:t,message:y,outgoing:D}),b[0]=m,b[1]=p,b[2]=r,b[3]=t,b[4]=y,b[5]=D,b[6]=N):N=b[6];b[7]!==e||b[8]!==g||b[9]!==h||b[10]!==i||b[11]!==j||b[12]!==k||b[13]!==o||b[14]!==p||b[15]!==r||b[16]!==v||b[17]!==w||b[18]!==x||b[19]!==y||b[20]!==A||b[21]!==B||b[22]!==C||b[23]!==E||b[24]!==F||b[25]!==J||b[26]!==a?(m=n.jsx(c("MWMessageRowBody.react"),{containerThreadKey:e,focused:g,hasClickState:h,hasMessageEmphasisRing:i,hovered:j,incoming:k,isDialogOpened:o,isFirstMessageInGroup:p,isGroupThread:r,isModal:v,isSecureMessage:w,mediaRenderQpl:x,message:y,navigateToRouteForMediaViewer:A,nextMessage:B,onRenderError:C,prevMessage:E,renderAttachment:F,shouldUseReactionsV2:J,threadType:a}),b[7]=e,b[8]=g,b[9]=h,b[10]=i,b[11]=j,b[12]=k,b[13]=o,b[14]=p,b[15]=r,b[16]=v,b[17]=w,b[18]=x,b[19]=y,b[20]=A,b[21]=B,b[22]=C,b[23]=E,b[24]=F,b[25]=J,b[26]=a,b[27]=m):m=b[27];t=u===!0?void 0:B;b[28]!==h||b[29]!==k||b[30]!==l||b[31]!==q||b[32]!==s||b[33]!==w||b[34]!==y||b[35]!==D||b[36]!==K||b[37]!==t?(e=n.jsx(c("MWMessageRowFooter.react"),{hasClickState:h,incoming:k,isBroadcastThread:l,isFromBlockedContact:q,isLastMessage:s,isSecureMessage:w,message:y,nextMessage:t,outgoing:D,status:K}),b[28]=h,b[29]=k,b[30]=l,b[31]=q,b[32]=s,b[33]=w,b[34]=y,b[35]=D,b[36]=K,b[37]=t,b[38]=e):e=b[38];b[39]!==f||b[40]!==g||b[41]!==o||b[42]!==v||b[43]!==y||b[44]!==z||b[45]!==D||b[46]!==G||b[47]!==H||b[48]!==I||b[49]!==L||b[50]!==N||b[51]!==m||b[52]!==e||b[53]!==M?(i=n.jsxs(c("MWPMessageListRowWithKeyboardInteractions.react"),{domElementRef:f,isDialogOpened:o,isFocused:g,isModal:v,message:y,messageDomID:z,outgoing:D,setFocused:G,setHovered:H,setIsDialogOpened:I,stopHoveringRef:L,theme:M,children:[N,m,e]}),b[39]=f,b[40]=g,b[41]=o,b[42]=v,b[43]=y,b[44]=z,b[45]=D,b[46]=G,b[47]=H,b[48]=I,b[49]=L,b[50]=N,b[51]=m,b[52]=e,b[53]=M,b[54]=i):i=b[54];return i}var y=o(a),z=o(function(a){if(a.isSecureMessage)return n.jsx(x,babelHelpers["extends"]({},a));else return n.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:a.message,children:n.jsx(x,babelHelpers["extends"]({},a))})});function A(a){var b=d("react-compiler-runtime").c(5),e,f;b[0]!==a?(f=a.rowIndexFromBottom,e=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);c("useMWMessageRowAddInteractionTracingMetadata")(e.message,f);b[3]!==e?(a=n.jsx(z,babelHelpers["extends"]({},e)),b[3]=e,b[4]=a):a=b[4];return a}function b(a){var b=d("react-compiler-runtime").c(8),e,f;b[0]!==a?(f=a.rowIndexFromBottom,e=babelHelpers.objectWithoutPropertiesLoose(a,j),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);if(c("gkx")("7810")){b[3]!==e||b[4]!==f?(a=n.jsx(d("CometPageletWithDiv.react").Div,{name:"MWMessageRow",children:n.jsx(A,babelHelpers["extends"]({},e,{rowIndexFromBottom:f}))}),b[3]=e,b[4]=f,b[5]=a):a=b[5];return a}else{b[6]!==e?(f=n.jsx(z,babelHelpers["extends"]({},e)),b[6]=e,b[7]=f):f=b[7];return f}}function B(a){var b=a.children,e=a.isReply,f=a.message,g=a.offlineAttachmentId,h=a.outgoing,i=d("MWPMessageLoggingUtil").getInteractionUUIDForMessage({messageId:f.messageId,optimisticAttachmentId:g,optimisticMessageId:f.offlineThreadingId});a=c("useHeroErrorMetadata")();g=q(function(a,b){var d=i!=null?c("InteractionTracing").getPendingInteractionById(i):null;if(i==null||d==null)return;var e=a==null?void 0:a.message;if((a==null?void 0:a.messageFormat)!=null){var f=0;e=a.messageFormat.replace(/%s/g,function(b){return a.messageParams!=null?a.messageParams[f++]:"unknown"})}d.addAnnotation("failType","failLSSInteraction");d.failTrace(b+" - "+e,!0)},[i]);return n.jsx(c("CometErrorBoundary.react"),{augmentError:a,description:"MWMessageRow.ErrorBoundary",fallback:function(){return n.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:h,isReply:e})},onError:g,children:b})}B.displayName=B.name+" [from "+f.id+"]";g.MWMessageRow=b}),98);
__d("MWCMSubthreadParentMessage.react",["LSIntEnum","MWMessageRow.react","MWPMessageAuthor.react","MWV2MessageActionsVisibility.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function a(a){var b=d("react-compiler-runtime").c(15),e=a.domElementRef,g=a.subthread,j=(h||(h=c("useReStore")))();a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var l;b[0]!==j.tables.messages||b[1]!==g.threadKey?(l=function(){return d("ReQL").fromTableAscending(j.tables.messages.index("messageSubthreadKey")).getKeyRange(g.threadKey)},b[0]=j.tables.messages,b[1]=g.threadKey,b[2]=l):l=b[2];var m;b[3]!==j||b[4]!==g.threadKey?(m=[j,g.threadKey],b[3]=j,b[4]=g.threadKey,b[5]=m):m=b[5];l=d("ReQLSuspense").useFirst(l,m,f.id+":33");if(l==null)return null;m=l.senderId;var n=l.threadKey,o;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(o=(i||(i=d("LSIntEnum"))).ofNumber(18),b[6]=o):o=b[6];b[7]!==e||b[8]!==l||b[9]!==a?(o=k.jsx(d("MWMessageRow.react").MWMessageRow,{domElementRef:e,hasMessageEmphasisRing:!1,isModal:!1,isSecureMessage:!1,message:l,rowIndexFromBottom:0,stopHoveringRef:a,threadType:o}),b[7]=e,b[8]=l,b[9]=a,b[10]=o):o=b[10];b[11]!==l.senderId||b[12]!==l.threadKey||b[13]!==o?(e=k.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:m,threadKey:n,children:o}),b[11]=l.senderId,b[12]=l.threadKey,b[13]=o,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("MWCMSubthreadThreadViewContexts.react",["MAWEditMessageContext.react","MWCMIsSubthreadContext.react","MWChatFocusComposerContext","MWPReplyContext.react","MWThreadKey.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),c=a.children;a=a.thread;var e;b[0]!==c?(e=i.jsx(d("MWCMIsSubthreadContext.react").MWCMIsSubthreadContextProvider,{isSubthread:!0,children:i.jsx(d("MWChatFocusComposerContext").MWChatFocusComposerContextProvider,{children:i.jsx(d("MAWEditMessageContext.react").MAWEditMessageContext,{children:c})})}),b[0]=c,b[1]=e):e=b[1];b[2]!==e||b[3]!==a.threadKey?(c=i.jsx("div",{"data-testid":void 0,children:i.jsx(d("MWPReplyContext.react").MWPReplyContextProvider,{children:i.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:a.threadKey,isSubthread:!0,children:e})})}),b[2]=e,b[3]=a.threadKey,b[4]=c):c=b[4];return c}g["default"]=a}),98);
__d("MWComposerPlaceholder.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=i.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}g["default"]=a}),98);
__d("MWPArmadilloLoadingStateMessage.react",["fbt","MWXColumn.react","MWXColumnItem.react","MWXSpinner.react","MWXText.react","cr:6285","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(2);a=a.threadKey;a=b("cr:6285")(a);var f;e[0]!==a?(f=a?null:j.jsxs(c("MWXColumn.react"),{align:"center",id:"armadillo-loading-indicator-banner",paddingVertical:12,spacing:8,children:[j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:20})}),j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXText.react"),{type:"entityHeaderMeta1",children:h._(/*BTDS*/"Loading more messages...")})})]}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),226);
__d("useMWLSProactiveWarningTables",["MWPreloadableQueries","MWThreadKey.react","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(11),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=(h||(h=c("useReStore")))(),g,i;a[0]!==e||a[1]!==b?(g=function(){return d("MWPreloadableQueries").getThreadBannerQuery(e,b)},i=[e,b],a[0]=e,a[1]=b,a[2]=g,a[3]=i):(g=a[2],i=a[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":31");var j;a[4]!==e||a[5]!==b?(i=function(){return d("MWPreloadableQueries").getProactiveWarningsForThreadQuery(e,b)},j=[e,b],a[4]=e,a[5]=b,a[6]=i,a[7]=j):(i=a[6],j=a[7]);i=d("ReQLSuspense").useFirst(i,j,f.id+":36");a[8]!==g||a[9]!==i?(j={banner:g,pwSettings:i},a[8]=g,a[9]=i,a[10]=j):j=a[10];return j}g["default"]=a}),98);
__d("useMWProactiveWarningPayloadMemo",["I64","Int64Hooks","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),c=a.banner,e=a.ignoreDismissTime,f=a.isPWDismissTimeSet,g=a.pwSettings,i=a.threadKey,j;b[0]!==c||b[1]!==e||b[2]!==f||b[3]!==g||b[4]!==i?(a=function(){if(g==null||c==null)return;var a=g.context,b=g.entryPoint,j=g.storyLocation,k=g.suspectId,l=g.tag,m=c.bannerId,n=c.cta1Title,o=c.cta2Title,p=c.heading,q=c.titleSectionOne;if(!((Boolean(e)||f)&&(h||(h=d("I64"))).equal(m,(h||(h=d("I64"))).of_string("7"))))return;if(k!=null&&a!=null&&j!=null&&b!=null&&l!=null&&p!=null&&o!=null&&n!=null&&q!=null)return{context:a,cta1Title:n,cta2Title:o,description:q,falco_event_data:{data:{entry_point:(h||(h=d("I64"))).to_int32(b),feedback_tags:[l],surface:h.to_int32(j)},impersonatedUser:{id:"0"},otherUser:{id:h.to_string(k)},reportedUser:{id:"0"},thread:{id:h.to_string(i),type:1}},header:p,threadKey:i}},j=[i,c,g,f,e],b[0]=c,b[1]=e,b[2]=f,b[3]=g,b[4]=i,b[5]=a,b[6]=j):(a=b[5],j=b[6]);return d("Int64Hooks").useMemoInt64(a,j)}g["default"]=a}),98);
__d("useMWProactiveWarningPayload",["I64","MWThreadKey.react","react-compiler-runtime","useMWLSProactiveWarningTables","useMWProactiveWarningPayloadMemo"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(8),f=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g=c("useMWLSProactiveWarningTables")(),i=g.banner;g=g.pwSettings;if(e[0]!==b){var j;j=b!=null&&(h||(h=d("I64"))).equal((j=b.proactiveWarningDismissTime)!=null?j:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero);e[0]=b;e[1]=j}else j=e[1];b=j;e[2]!==i||e[3]!==a||e[4]!==b||e[5]!==g||e[6]!==f?(j={banner:i,ignoreDismissTime:a,isPWDismissTimeSet:b,pwSettings:g,threadKey:f},e[2]=i,e[3]=a,e[4]=b,e[5]=g,e[6]=f,e[7]=j):j=e[7];return c("useMWProactiveWarningPayloadMemo")(j)}g["default"]=a}),98);
__d("MWPSafetyNoticesChatBlockedComposerDetails.react",["fbt","FDSButton.react","IXTProactiveWarningFollowUpActionsCell.react","LSFactory","LSSetProactiveWarningDismissTimeStoredProcedure","LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent","LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent","MDSTextPairing.react","MWThreadKey.react","MWXText.react","promiseDone","react","react-compiler-runtime","stylex","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useEffect,n={button:{width:"x5sxuk9",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(48),e=a.fallback,g=a.onClose;a=a.thread;var k=c("useMWProactiveWarningPayload")(void 0,a),o=(i||(i=c("useReStore")))(),p=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),q;b[0]!==k?(a=function(){k!=null&&c("LsFrxMessengerFeedbackProactiveWarningBannerShownFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},q=[k],b[0]=k,b[1]=a,b[2]=q):(a=b[1],q=b[2]);m(a,q);if(k==null)return e;b[3]!==k.header?(a=h._(/*BTDS*/"{header value}",[h._param("header value",k.header)]),b[3]=k.header,b[4]=a):a=b[4];q=a;b[5]!==k.description?(e=h._(/*BTDS*/"{message value}",[h._param("message value",k.description)]),b[5]=k.description,b[6]=e):e=b[6];a=e;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(e=(j||(j=c("stylex"))).props(n.button,!1),b[7]=e):e=b[7];var r;b[8]!==k.falco_event_data?(r=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerSecondaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}})},b[8]=k.falco_event_data,b[9]=r):r=b[9];var s;b[10]!==o||b[11]!==g||b[12]!==p?(s=function(){c("promiseDone")(o.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:p})},"readwrite",void 0,void 0,f.id+":117"),g,g)},b[10]=o,b[11]=g,b[12]=p,b[13]=s):s=b[13];b[14]!==g||b[15]!==k.context||b[16]!==k.cta1Title||b[17]!==r||b[18]!==s?(e=l.jsx("div",babelHelpers["extends"]({},e,{children:l.jsx(c("IXTProactiveWarningFollowUpActionsCell.react"),{context:k.context,label:k.cta1Title,onClose:g,onPress:r,setPWDismissTime:s})})),b[14]=g,b[15]=k.context,b[16]=k.cta1Title,b[17]=r,b[18]=s,b[19]=e):e=b[19];r=e;b[20]===Symbol["for"]("react.memo_cache_sentinel")?(s=(j||(j=c("stylex"))).props(n.button,!1),b[20]=s):s=b[20];b[21]!==k.cta2Title?(e=h._(/*BTDS*/"{CTA text value}",[h._param("CTA text value",k.cta2Title)]),b[21]=k.cta2Title,b[22]=e):e=b[22];var t;b[23]!==o||b[24]!==g||b[25]!==k.falco_event_data||b[26]!==k.threadKey?(t=function(){c("LsFrxMessengerFeedbackProactiveWarningBannerPrimaryActionTappedFalcoEvent").log(function(){var a;return{data:babelHelpers["extends"]({},k.falco_event_data.data,{mute_duration:(a=k.falco_event_data.data.mute_duration)==null?void 0:a.toString(),selected_messages_count:(a=k.falco_event_data.data.selected_messages_count)==null?void 0:a.toString()}),impersonated_user:k.falco_event_data.impersonatedUser,other_user:k.falco_event_data.otherUser,reported_user:k.falco_event_data.reportedUser,thread:k.falco_event_data.thread}}),c("promiseDone")(o.runInTransaction(function(a){return c("LSSetProactiveWarningDismissTimeStoredProcedure")(c("LSFactory")(a),{threadKey:k.threadKey})},"readwrite",void 0,void 0,f.id+":156"),g,g)},b[23]=o,b[24]=g,b[25]=k.falco_event_data,b[26]=k.threadKey,b[27]=t):t=b[27];b[28]!==e||b[29]!==t?(s=l.jsx("div",babelHelpers["extends"]({},s,{children:l.jsx(c("FDSButton.react"),{label:e,onPress:t,reduceEmphasis:!1,size:"medium",type:"secondary"})})),b[28]=e,b[29]=t,b[30]=s):s=b[30];e=s;b[31]!==a?(t=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:a}),b[31]=a,b[32]=t):t=b[32];b[33]!==q?(s=l.jsx(c("MWXText.react"),{color:"primary",type:"bodyLink4",children:q}),b[33]=q,b[34]=s):s=b[34];b[35]!==t||b[36]!==s?(a=l.jsx(c("MDSTextPairing.react"),{body:t,headline:s,level:4,textAlign:"center"}),b[35]=t,b[36]=s,b[37]=a):a=b[37];b[38]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"x78zum5 x1q0g3np x1qughib x14vqqas xh8yej3"},b[38]=q):q=b[38];b[39]!==r||b[40]!==e?(t=l.jsxs("div",babelHelpers["extends"]({},q,{children:[r,e]})),b[39]=r,b[40]=e,b[41]=t):t=b[41];b[42]!==a||b[43]!==t?(s=l.jsxs(l.Fragment,{children:[a,t]}),b[42]=a,b[43]=t,b[44]=s):s=b[44];q=s;b[45]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"xzg4506 xi81zsa x14vqqas xyinxu5 x1hwfens xxbrewl xbmws1g"},b[45]=r):r=b[45];b[46]!==q?(e=l.jsx("div",babelHelpers["extends"]({},r,{children:q})),b[46]=q,b[47]=e):e=b[47];return e}g["default"]=a}),226);
__d("MWPSafetyNoticesChatBlockedComposer.react",["MWPSafetyNoticesChatBlockedComposerDetails.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.fallback,f=a.onClose;a=a.thread;var g;b[0]!==e||b[1]!==f||b[2]!==a?(g=i.jsx(c("MWPSafetyNoticesChatBlockedComposerDetails.react"),{fallback:e,onClose:f,thread:a}),b[0]=e,b[1]=f,b[2]=a,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWChatComposerVoiceIndicator.react",["fbt","CurrentUser","MWXText.react","MWXTextPairing.react","getTopMostRoute","react","react-compiler-runtime","useCometRouterState"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.forceShown_TEST_ONLY;a=a===void 0?!1:a;var e=c("useCometRouterState")();if(b[0]!==e){var f=e!=null?c("getTopMostRoute")(e):null;f=(f=f==null?void 0:f.tracePolicy)!=null?f:null;f=f!==null?f.startsWith("comet.page.admin")||f.startsWith("comet.group.admin"):!1;b[0]=e;b[1]=f}else f=b[1];e=f;if(b[2]===Symbol["for"]("react.memo_cache_sentinel")){f=c("CurrentUser").getName();f=h._(/*BTDS*/"You are messaging from your personal account \"{full name}\"",[h._param("full name",j.jsx(c("MWXText.react"),{type:"meta2",children:f}))]);b[2]=f}else f=b[2];f=f;b[3]!==a||b[4]!==e?(f=e||a?j.jsx("div",{className:"x57kliw x1exxf4d x13fuv20 x178xt8z xi81zsa xyinxu5 x1hwfens xs9asl8 xbmws1g",children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:f}),level:4,textAlign:"center"})}):null,b[3]=a,b[4]=e,b[5]=f):f=b[5];return f}g["default"]=a}),226);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24589171490761454"}),null);
__d("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql",["MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"other_user_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"users_connected"}],c={kind:"Variable",name:"thread_id",variableName:"thread_id"},d=[c];c=[{fields:[{kind:"Literal",name:"client_capabilities",value:{platform:"WEB",supported_components:["ABOVE_COMPOSER_BANNER"]}},{kind:"Literal",name:"exclude_interventions",value:[]},{kind:"Variable",name:"other_user_id",variableName:"other_user_id"},{fields:[{kind:"Variable",name:"users_connected",variableName:"users_connected"}],kind:"ObjectValue",name:"thread_capabilities"},c],kind:"ObjectValue",name:"input"}];var e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:d,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:c,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMsgrSafetyInterventionsUIEngineFragment"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",selections:[{alias:null,args:d,concreteType:"XFBMsgrSafetyInterventionsRoot",kind:"LinkedField",name:"xfb_msgr_safety_interventions",plural:!1,selections:[{alias:null,args:c,concreteType:"XFBMsgrSafetyInterventionsOneToOneThreadResult",kind:"LinkedField",name:"one_to_one_thread_interventions",plural:!1,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligible",kind:"LinkedField",name:"eligible_interventions",plural:!0,selections:[{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionEligibleClientInstructions",kind:"LinkedField",name:"client_instructions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expiration_ts",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"component",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"component_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"header",storageKey:null},{alias:null,args:null,concreteType:"XFBMsgrSafetyInterventionComponentBody",kind:"LinkedField",name:"body",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_dismissable",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"image",plural:!1,selections:[e,{alias:null,args:null,kind:"ScalarField",name:"image_type",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"stock_image_type_v2",storageKey:null}],type:"XFBMsgrSafetyInterventionComponentStockImage",abstractKey:null}],storageKey:null}],type:"XFBMsgrSafetyInterventionAboveComposerBannerComponent",abstractKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"intervention_type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"evaluation_id",storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:b("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery_facebookRelayOperation"),metadata:{live:{config_id:""}},name:"MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWComposerDisclosureMSipNotices.react",["Actor","CometMsgrSafetyInterventionsUIEngine.react","CometMsgrSafetyInterventionsUIEngineFragment.graphql","CometRelay","I64","LsThreadType","MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql","RelayHooks","SafetyInterventionPlatformAnalyticsLogger","SafetyNoticeEnumConverter","castToEnum","react","react-compiler-runtime","useStable","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect;function a(a){var e,f,g,i=d("react-compiler-runtime").c(15),n=a.other_user_id,o=a.thread;a=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWComposerDisclosureMSipNoticesMwbSafetyInterventionQuery.graphql"),{other_user_id:n,thread_id:(j||(j=d("I64"))).to_string(o.threadKey),users_connected:!1},{fetchPolicy:"store-and-network"});var p=(e=d("RelayHooks").useFragment(c("CometMsgrSafetyInterventionsUIEngineFragment.graphql"),a==null||(f=a.xfb_msgr_safety_interventions)==null?void 0:f.one_to_one_thread_interventions))==null?void 0:e.evaluation_id;e=d("Actor").useActor();var q=e[0];if(i[0]!==o.threadType){e=d("SafetyNoticeEnumConverter").convertLSThreadTypeToSafetyNoticeThreadType(c("castToEnum")((j||(j=d("I64"))).to_int32((e=o.threadType)!=null?e:(j||(j=d("I64"))).zero),c("LsThreadType"),0));i[0]=o.threadType;i[1]=e}else e=i[1];var r=e,s=c("useStable")(m),t;i[2]!==q||i[3]!==s||i[4]!==r||i[5]!==p||i[6]!==n||i[7]!==o.threadKey?(e=function(){return d("SafetyInterventionPlatformAnalyticsLogger").logSafetyInterventionTriggered(s,p,(j||(j=d("I64"))).to_string(o.threadKey),r,q,n,"thread_open")},t=[q,s,r,p,n,o.threadKey],i[2]=q,i[3]=s,i[4]=r,i[5]=p,i[6]=n,i[7]=o.threadKey,i[8]=e,i[9]=t):(e=i[8],t=i[9]);l(e,t);e=a==null||(g=a.xfb_msgr_safety_interventions)==null?void 0:g.one_to_one_thread_interventions;i[10]!==s||i[11]!==n||i[12]!==e||i[13]!==o?(t=k.jsx(c("CometMsgrSafetyInterventionsUIEngine.react"),{client_session_id:s,fragment$key:e,other_user_id:n,thread:o}),i[10]=s,i[11]=n,i[12]=e,i[13]=o,i[14]=t):t=i[14];return t}function m(){return c("uuidv4")()}g["default"]=a}),98);
__d("MWMessageRequestComposerBanner.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSMessageThreadUnsendabilityStatus","MWMessageRequestSharedTexts.react","MWPActor.react","MWPThreadIsPage.react","MWXComposerBanner.react","MWXLink.react","MessageRequestsLog","MessagingThreadSubtype","MessengerMSplitFlag","MessengerWebUXLogger","MetaConfig","QPLUserFlow","XCometSettingsControllerRouteBuilder","nux:912","qpl","react","react-compiler-runtime","useMWXConfirmationDialog","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));e=i;e.useCallback;e.useMemo;var m=(f=b("nux:912"))==null?void 0:f("CREATOR_MESSAGING_CHAT_WITH_PAGES_YOU_FOLLOW"),n="www.facebook.com";function a(a){var b=d("react-compiler-runtime").c(81),e=a.isGroup,f=a.isGXAC,g=a.isIgContact,i=a.isMSplitContact,o=a.name,p=a.onAccept,q=a.onDeleteConversation,r=a.onLeaveGroup,s=a.otherUserContact,t=a.secondaryName,u=a.thread,v=c("useMWXConfirmationDialog")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("JSResourceForInteraction")("MWChatBlockActionDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[0]=a):a=b[0];a=c("useMWXLazyDialog")(a);var w=a[0];b[1]!==u.cannotUnsendReason||b[2]!==u.threadType?(a=(j||(j=d("I64"))).equal(u.threadType,(k||(k=d("LSIntEnum"))).ofNumber(1))&&u.cannotUnsendReason!=null&&(j||(j=d("I64"))).equal(u.cannotUnsendReason,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageThreadUnsendabilityStatus").DENY_IF_PAGE_THREAD)),b[1]=u.cannotUnsendReason,b[2]=u.threadType,b[3]=a):a=b[3];var x=a;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("MWPActor.react").isAPPlus(),b[4]=a):a=b[4];a=a;var y=d("MWPThreadIsPage.react").useIsPage(),z;b[5]!==y||b[6]!==u.threadSubtype?(z=y&&u.threadSubtype!=null&&(j||(j=d("I64"))).equal(u.threadSubtype,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").PAGE_TO_USER)),b[5]=y,b[6]=u.threadSubtype,b[7]=z):z=b[7];y=z;b[8]!==s?(z=s!=null?(j||(j=d("I64"))).to_string(s.id):void 0,b[8]=s,b[9]=z):z=b[9];var A=z;b[10]!==q||b[11]!==u?(s={isMessageRequest:!0,onConfirm:q,thread:u},b[10]=q,b[11]=u,b[12]=s):s=b[12];z=s;var B=z;if(b[13]===Symbol["for"]("react.memo_cache_sentinel")){s=(q=c("XCometSettingsControllerRouteBuilder").buildUri({tab:"how_people_find_and_contact_you"}).setDomain(n))==null||(q=q.setProtocol("https"))==null?void 0:q.toString();b[13]=s}else s=b[13];z=s;b[14]!==x||b[15]!==w||b[16]!==A||b[17]!==u?(q=function(){w({loggingData:{entryPoint:4,requestId:void 0,source:x?5:1,sourceOwner:0},targetFBID:A!=null?A:(j||(j=d("I64"))).to_string(u.threadKey),thread:u})},b[14]=x,b[15]=w,b[16]=A,b[17]=u,b[18]=q):q=b[18];var C=q;s=p!=null;b[19]!==r||b[20]!==v?(q=function(){v({body:h._(/*BTDS*/"You will stop receiving messages from this conversation and people will see that you left."),title:h._(/*BTDS*/"Leave conversation?")},r)},b[19]=r,b[20]=v,b[21]=q):q=b[21];var D=q;b[22]===Symbol["for"]("react.memo_cache_sentinel")?(q=c("JSResourceForInteraction")("MWChatDeleteConversationDialog.react").__setRef("MWMessageRequestComposerBanner.react"),b[22]=q):q=b[22];q=c("useMWXLazyDialog")(q);var E=q[0],F=c("MessengerWebUXLogger").useInteractionLogger();b[23]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Block"),b[23]=q):q=b[23];b[24]!==C||b[25]!==A||b[26]!==u?(q={label:q,onPress:function(){d("MessageRequestsLog").logActionTapped(u,2,A),C()}},b[24]=C,b[25]=A,b[26]=u,b[27]=q):q=b[27];q=q;q=q;var G;b[28]===Symbol["for"]("react.memo_cache_sentinel")?(G=h._(/*BTDS*/"Leave"),b[28]=G):G=b[28];b[29]!==F||b[30]!==D||b[31]!==u?(G={label:G,onPress:function(){d("MessageRequestsLog").logActionTapped(u,10),F==null||F({eventName:"leave_group",threadKey:u.threadKey,threadType:u.threadType}),D()}},b[29]=F,b[30]=D,b[31]=u,b[32]=G):G=b[32];G=G;G=G;G=e?G:q;if(e){b[33]!==f?(q=f?h._(/*BTDS*/"This group has people from Facebook and Instagram"):void 0,b[33]=f,b[34]=q):q=b[34];e=q;b[35]!==f?(q=f?h._(/*BTDS*/"If you reply, you and other members can see information like when you've read messages."):c("MessengerMSplitFlag").is_msplit_account?h._(/*BTDS*/"If you reply, everyone in this group will be able to send messages and make group calls."):h._(/*BTDS*/"If you reply, you and other members will be able to make group calls and see information like when you've read messages."),b[35]=f,b[36]=q):q=b[36];f=q;if(s){b[37]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"If you accept, you and other members will be able to make group calls and may see info like your Active Status and when you\u2019ve read messages. {=m2}",[h._implicitParam("=m2",l.jsx(c("MWXLink.react"),{href:z,style:{color:"var(--blue-link)"},target:"_blank",children:h._(/*BTDS*/"Choose who can message you")}))]),b[37]=q):q=b[37];f=q}}else{b[38]!==g?(q=g?h._(/*BTDS*/"You're messaging an Instagram account"):void 0,b[38]=g,b[39]=q):q=b[39];e=q;if(g)if(o!=null&&t!=null){b[40]!==o||b[41]!==t?(q=h._(/*BTDS*/"If you reply {XACDisplayName} ({XACSecondaryName}) will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[h._param("XACDisplayName",o),h._param("XACSecondaryName",t)]),b[40]=o,b[41]=t,b[42]=q):q=b[42];f=q}else if(o==null&&t!=null){b[43]!==t?(g=h._(/*BTDS*/"If you reply, {XACDisplayName} will also be able to call you from Instagram and see info like your Active Status and when you've seen messages.",[h._param("XACDisplayName",t)]),b[43]=t,b[44]=g):g=b[44];f=g}else{b[45]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"If you reply, Instagram User will also be able to call you from Instagram and see info like your Active Status and when you've seen messages."),b[45]=q):q=b[45];f=q}else if(y){b[46]!==o?(t=o!=null?h._(/*BTDS*/"If you reply, {FB Page Name} will be able to call you and may see info like your Active Status and when you've read messages. {=m4}",[h._param("FB Page Name",o),h._implicitParam("=m4",l.jsx(c("MWXLink.react"),{href:z,onClick:function(){c("QPLUserFlow").start(c("qpl")._(421071534,"2982"))},target:"_blank",children:h._(/*BTDS*/"Choose who can message you")}))]):h._(/*BTDS*/"If you reply, Facebook page will be able to call you and may see info like your Active Status and when you've read messages. {=m2}",[h._implicitParam("=m2",l.jsx(c("MWXLink.react"),{href:z,target:"_blank",children:h._(/*BTDS*/"Choose who can message you")}))]),b[46]=o,b[47]=t):t=b[47];f=t}else{b[48]!==i||b[49]!==o?(g=o!=null?h._(/*BTDS*/"{Composer info message}",[h._param("Composer info message",c("MessengerMSplitFlag").is_msplit_account||i?d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessageForMSplit(o):d("MWMessageRequestSharedTexts.react").getFBUserInfoTextMessage(o))]):h._(/*BTDS*/"If you reply, Facebook User will also be able to call you and see info like your Active Status and when you've seen messages."),b[48]=i,b[49]=o,b[50]=g):g=b[50];f=g}if(s){b[51]!==o?(q=h._(/*BTDS*/"If you accept, {FB Page Name} will also be able to call you and may see info like your Active Status and when you\u2019ve read messages. {=m4}",[h._param("FB Page Name",o),h._implicitParam("=m4",l.jsx(c("MWXLink.react"),{href:z,style:{color:"var(--blue-link)"},target:"_blank",children:h._(/*BTDS*/"Choose who can message you")}))]),b[51]=o,b[52]=q):q=b[52];f=q}}b[53]!==G.label||b[54]!==G.onPress?(t={label:G.label,onPress:G.onPress,size:32,type:"secondary"},b[53]=G.label,b[54]=G.onPress,b[55]=t):t=b[55];i=t;g=i;b[56]===Symbol["for"]("react.memo_cache_sentinel")?(z=h._(/*BTDS*/"Delete"),b[56]=z):z=b[56];b[57]!==B||b[58]!==E||b[59]!==A||b[60]!==u?(o={label:z,onPress:function(){d("MessageRequestsLog").logActionTapped(u,8,A),E(B)},size:32,type:"secondary"},b[57]=B,b[58]=E,b[59]=A,b[60]=u,b[61]=o):o=b[61];q=o;G=q;b[62]===Symbol["for"]("react.memo_cache_sentinel")?(t=h._(/*BTDS*/"Accept"),b[62]=t):t=b[62];b[63]!==p||b[64]!==A||b[65]!==u?(i={label:t,onPress:function(){d("MessageRequestsLog").logActionTapped(u,1,A),p==null||p()},size:32,type:"secondary"},b[63]=p,b[64]=A,b[65]=u,b[66]=i):i=b[66];z=i;o=z;b[67]!==y||b[68]!==u?(q=!a&&y&&m&&c("MetaConfig")._("60")?l.jsx(m,{thread:u}):null,b[67]=y,b[68]=u,b[69]=q):q=b[69];t=f;i=s?o:null;b[70]!==g||b[71]!==G||b[72]!==i?(z=[g,G,i].filter(Boolean),b[70]=g,b[71]=G,b[72]=i,b[73]=z):z=b[73];b[74]!==e||b[75]!==f||b[76]!==z?(a=l.jsx(c("MWXComposerBanner.react"),{bodyText:t,buttons:z,headerText:e,testid:void 0}),b[74]=e,b[75]=f,b[76]=z,b[77]=a):a=b[77];b[78]!==q||b[79]!==a?(y=l.jsxs(l.Fragment,{children:[q,a]}),b[78]=q,b[79]=a,b[80]=y):y=b[80];return y}g["default"]=a}),226);
__d("MWReQLMessageRequestComposerBanner.react",["fbt","I64","LSContactTypeExact","LSIntEnum","MWContactDetails","MWLSContactTypeExactUtils","MWMessageRequestComposerBanner.react","MessageRequestsLog","isMWXacGroupThread","isStringNullOrEmpty","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useRef;function a(a){var b=d("react-compiler-runtime").c(27),e=a.isGroup,f=a.onAccept,g=a.onDeleteConversation,i=a.onLeaveGroup,o=a.otherUserContact,p=a.thread,q=n(!1);b[0]!==p?(a=c("isMWXacGroupThread")(p),b[0]=p,b[1]=a):a=b[1];a=a;if(b[2]!==o){var r;r=(r=d("MWContactDetails").getName(o))!=null?r:h._(/*BTDS*/"Facebook user");b[2]=o;b[3]=r}else r=b[3];r=r;var s,t;b[4]!==o?(s=d("MWContactDetails").getSecondaryName(o),t=c("isStringNullOrEmpty")(s)?void 0:s,b[4]=o,b[5]=s,b[6]=t):(s=b[5],t=b[6]);s=t;b[7]!==o?(t=o!=null?d("MWLSContactTypeExactUtils").isIgContact(o.contactTypeExact):!1,b[7]=o,b[8]=t):t=b[8];t=t;var u;b[9]!==o?(u=(o==null?void 0:o.contactTypeExact)!=null&&(j||(j=d("I64"))).equal(o.contactTypeExact,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactTypeExact").MESSENGER_ONLY_NOT_ALLOWED_ON_FB)),b[9]=o,b[10]=u):u=b[10];u=u;var v,w;b[11]!==o||b[12]!==p?(v=function(){if(q.current===!0)return;q.current=!0;o==null?d("MessageRequestsLog").logMessageRequestInfoShown(p):d("MessageRequestsLog").logMessageRequestInfoShown(p,(j||(j=d("I64"))).to_string(o.id))},w=[p,o],b[11]=o,b[12]=p,b[13]=v,b[14]=w):(v=b[13],w=b[14]);m(v,w);b[15]!==a||b[16]!==e||b[17]!==t||b[18]!==u||b[19]!==r||b[20]!==f||b[21]!==g||b[22]!==i||b[23]!==o||b[24]!==s||b[25]!==p?(v=l.jsx(c("MWMessageRequestComposerBanner.react"),{isGXAC:a,isGroup:e,isIgContact:t,isMSplitContact:u,name:r,onAccept:f,onDeleteConversation:g,onLeaveGroup:i,otherUserContact:o,secondaryName:s,thread:p}),b[15]=a,b[16]=e,b[17]=t,b[18]=u,b[19]=r,b[20]=f,b[21]=g,b[22]=i,b[23]=o,b[24]=s,b[25]=p,b[26]=v):v=b[26];return v}g["default"]=a}),226);
__d("useMessageRequestDeleteConversation",["Int64Hooks","LSFactory","LSIntEnum","LSOptimisticRemoveThreadStoredProcedure","LSThreadRemoveType","MWChatStateActions","MWChatStateV2.react","MessageRequestsLog","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(5),e=(i||(i=c("useReStore")))(),g=d("MWChatStateV2.react").useDispatch(),j,k;b[0]!==e||b[1]!==g||b[2]!==a?(j=function(){d("MessageRequestsLog").logActionConfirmed(a,8),c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveThreadStoredProcedure")(c("LSFactory")(b),{removeType:(h||(h=d("LSIntEnum"))).ofNumber(c("LSThreadRemoveType").DELETE_THREAD),threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":42"),function(){return g(d("MWChatStateActions").closeTabByThreadKey(Date.now(),a.threadKey))})},k=[e,a,g],b[0]=e,b[1]=g,b[2]=a,b[3]=j,b[4]=k):(j=b[3],k=b[4]);return d("Int64Hooks").useCallbackInt64(j,k)}g["default"]=a}),98);
__d("useMessageRequestLeaveGroup",["Int64Hooks","LSFactory","LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure","LSVec","MWPActor.react","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(5),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),i,j;b[0]!==g||b[1]!==e||b[2]!==a?(i=function(){c("promiseDone")(e.runInTransaction(function(b){return c("LSOptimisticRemoveParticipantsFromGroupThreadStoredProcedure")(c("LSFactory")(b),{contactIds:c("LSVec").ofArray([g]),threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},j=[g,e,a],b[0]=g,b[1]=e,b[2]=a,b[3]=i,b[4]=j):(i=b[3],j=b[4]);return d("Int64Hooks").useCallbackInt64(i,j)}g["default"]=a}),98);
__d("MWV2ComposerDisclosure.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWChatComposerVoiceIndicator.react","MWComposerDisclosureMSipNotices.react","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MWXComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","react-compiler-runtime","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));l.useMemo;var n=b("cr:3912")==null?function(a,b){return!1}:b("cr:3912").isOneOnOneMessageRequestV2,o=b("cr:3912")==null?function(a){return!1}:b("cr:3912").isGroupMessageRequest,p=c("gkx")("7387"),q=c("gkx")("11801");function r(a){var b=d("react-compiler-runtime").c(49),e=a.forceVoiceIndicatorShown_TEST_ONLY,g=a.thread,l=(i||(i=c("useReStore")))(),r=c("useMessageRequestLeaveGroup")(g.threadKey),s=g.threadType;a=c("useMessageRequestDeleteConversation")(g);var t;b[0]!==s?(t=d("LSMessagingThreadTypeUtil").isArmadilloSecure(s),b[0]=s,b[1]=t):t=b[1];var u=t;b[2]!==u||b[3]!==g?(t=!u&&d("LSThreadBitOffset").has(21,g),b[2]=u,b[3]=g,b[4]=t):t=b[4];t=t;var v=d("MWPActor.react").useActor(),w,x;b[5]!==v||b[6]!==l.tables.contacts||b[7]!==l.tables.participants||b[8]!==g.threadKey||b[9]!==s?(w=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(s)||(j||(j=d("I64"))).equal(s,(k||(k=d("LSIntEnum"))).ofNumber(5))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(l.tables.participants).getKeyRange(g.threadKey),d("ReQL").fromTableAscending(l.tables.contacts)).filter(function(a){a=a[1];return!(j||(j=d("I64"))).equal(a.id,v)}):d("ReQL").empty()},x=[g.threadKey,s,l.tables.participants,l.tables.contacts,v],b[5]=v,b[6]=l.tables.contacts,b[7]=l.tables.participants,b[8]=g.threadKey,b[9]=s,b[10]=w,b[11]=x):(w=b[10],x=b[11]);var y=d("ReQLSuspense").useFirst(w,x,f.id+":79");bb0:{if(u){b[12]!==y||b[13]!==g?(w=n(g,y)||p&&o(g),b[12]=y,b[13]=g,b[14]=w):w=b[14];x=w;break bb0}x=!1}w=x;b[15]!==s?(x=d("LSMessagingThreadTypeUtil").isGroup(s),b[15]=s,b[16]=x):x=b[16];var z=x;b[17]!==l||b[18]!==y||b[19]!==g?(x=function(){y!=null&&d("MAWSecureComposerUtils").onDeleteThread(l,g,y[1].id)},b[17]=l,b[18]=y,b[19]=g,b[20]=x):x=b[20];x=x;var A=c("MessengerWebUXLogger").useInteractionLogger(),B=c("gkx")("11065"),C;b[21]!==g.threadType?(C=(j||(j=d("I64"))).equal(g.threadType,(k||(k=d("LSIntEnum"))).ofNumber(5)),b[21]=g.threadType,b[22]=C):C=b[22];C=C;B=!q&&B&&C;b[23]!==y?(C=y==null?!1:(k||(k=d("LSIntEnum"))).equal(y[1].contactReachabilityStatusType,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER),b[23]=y,b[24]=C):C=b[24];C=C;var D;b[25]!==e?(D=m.jsx(c("MWChatComposerVoiceIndicator.react"),{forceShown_TEST_ONLY:e}),b[25]=e,b[26]=D):D=b[26];b[27]!==B||b[28]!==y||b[29]!==g?(e=B&&y?m.jsx(c("MWComposerDisclosureMSipNotices.react"),{other_user_id:(j||(j=d("I64"))).to_string(y==null?void 0:y[1].id),thread:g}):null,b[27]=B,b[28]=y,b[29]=g,b[30]=e):e=b[30];b[31]!==z||b[32]!==u||b[33]!==r||b[34]!==A||b[35]!==a||b[36]!==x||b[37]!==(y==null?void 0:y[1])||b[38]!==t||b[39]!==w||b[40]!==g?(B=w||t?m.jsx(c("MWReQLMessageRequestComposerBanner.react"),{isGroup:z,onDeleteConversation:u?x:a,onLeaveGroup:function(){if(!u&&z){d("MessageRequestsLog").logActionConfirmed(g,10);A==null||A({eventName:"leave_group",threadKey:g.threadKey,threadType:g.threadType});return r()}},otherUserContact:y==null?void 0:y[1],thread:g}):null,b[31]=z,b[32]=u,b[33]=r,b[34]=A,b[35]=a,b[36]=x,b[37]=y==null?void 0:y[1],b[38]=t,b[39]=w,b[40]=g,b[41]=B):B=b[41];b[42]!==C?(a=C?m.jsx(c("MWXComposerBanner.react"),{bodyText:h._(/*BTDS*/"You can send one message with this request. Once they accept, you can send more messages."),variant:"banner"}):null,b[42]=C,b[43]=a):a=b[43];b[44]!==D||b[45]!==e||b[46]!==B||b[47]!==a?(x=m.jsxs(m.Fragment,{children:[D,e,B,a]}),b[44]=D,b[45]=e,b[46]=B,b[47]=a,b[48]=x):x=b[48];return x}function a(a){var b=d("react-compiler-runtime").c(3),e=a.forceVoiceIndicatorShown_TEST_ONLY;a=a.thread;e=e!=null?e:!1;var f;b[0]!==e||b[1]!==a?(f=m.jsx(c("CometErrorBoundary.react"),{fallback:s,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWV2ComposerDisclosure",children:m.jsx(r,{forceVoiceIndicatorShown_TEST_ONLY:e,thread:a})})}),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}function s(){return null}g["default"]=a}),226);
__d("MWV2ErrorComposer.react",["fbt","MDSTextPairing.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"xcrg951 x8cjs6t x13fuv20 x178xt8z x1a8lsjc x1a4sjiy xvahy20 x889kno"},a[0]=b):b=a[0];var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Something isn't working."),a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(b=j.jsx("div",babelHelpers["extends"]({},b,{children:j.jsx(c("MDSTextPairing.react"),{headline:e,headlineColor:"secondary",level:4,meta:j.jsx(c("MWXText.react"),{numberOfLines:2,type:"meta3",children:h._(/*BTDS*/"This may be because of a technical error we're working to fix.")}),reduceEmphasis:!0,textAlign:"center"})})),a[2]=b):b=a[2];return b}g["default"]=a}),226);
__d("MWXACSunsettedComposer.react",["fbt","BaseTheme.react","MWXLink.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={dark:{"primary-text":"#e4e6eb","secondary-text":"#b0b3b8"},light:{"primary-text":"rgba(0, 0, 0, 0.7)","secondary-text":"rgba(0, 0, 0, 0.5)"},type:"VARIABLES"};function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"You can no longer chat with people on Instagram from a Facebook profile. Start a new chat on Instagram to continue the conversation. {=Learn more}",[h._param("=Learn more",j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",children:j.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"Learn more")})}))]),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1exxf4d x13fuv20 x178xt8z xqy66fx x1xnnf8n xx6bls6 x106a9eq"},a[1]=e):e=a[1];a[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=j.jsx("div",babelHelpers["extends"]({},e,{children:j.jsx(c("BaseTheme.react"),{config:k,children:j.jsx(c("MWXTextPairing.react"),{body:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:b}),level:4,textAlign:"center"})})})),a[2]=e):e=a[2];return e}g["default"]=a}),226);
__d("RecoverableViolation.react",["FBLogger","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(4),e=a.errorMessage,f=a.errorObject,g=a.projectName,h=j(!1);b[0]!==e||b[1]!==f||b[2]!==g?(a=function(){if(!h.current){var a=c("FBLogger")(g);(f==null?void 0:f.error)!=null?a.catching(f.error):a.blameToPreviousFrame();a.mustfix(e);h.current=!0}},b[0]=e,b[1]=f,b[2]=g,b[3]=a):a=b[3];i(a,void 0);return null}g["default"]=a}),98);
__d("useMWLSSprocFetchProactiveWarningIfNeeded",["I64","Int64Hooks","LSFactory","LSFetchProactiveWarningsIfNeededStoredProcedure","MWThreadKey.react","promiseDone","react-compiler-runtime","useMWLSProactiveWarningTables","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b,e){var g=d("react-compiler-runtime").c(17),j=(i||(i=c("useReStore")))(),k=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),l=c("useMWLSProactiveWarningTables")(),m=l.banner;l=l.pwSettings;var n;g[0]!==m||g[1]!==l?(n=m!=null&&l!=null?(h||(h=d("I64"))).equal(m.bannerId,(h||(h=d("I64"))).of_string("7")):!1,g[0]=m,g[1]=l,g[2]=n):n=g[2];m=n;if(g[3]!==m||g[4]!==a||g[5]!==e||g[6]!==b){n=a&&!m?e?!0:b!=null?(h||(h=d("I64"))).equal((l=b.proactiveWarningDismissTime)!=null?l:(h||(h=d("I64"))).zero,(h||(h=d("I64"))).zero):!1:!1;g[3]=m;g[4]=a;g[5]=e;g[6]=b;g[7]=n}else n=g[7];l=n;var o=b!=null&&l;g[8]!==o||g[9]!==j||g[10]!==k?(m=function(){o&&c("promiseDone")(j.runInTransaction(function(a){return c("LSFetchProactiveWarningsIfNeededStoredProcedure")(c("LSFactory")(a),{threadKey:k})},"readwrite",void 0,void 0,f.id+":57"))},g[8]=o,g[9]=j,g[10]=k,g[11]=m):m=g[11];g[12]!==l||g[13]!==o||g[14]!==j||g[15]!==k?(a=[k,l,o,j],g[12]=l,g[13]=o,g[14]=j,g[15]=k,g[16]=a):a=g[16];d("Int64Hooks").useEffectInt64(m,a)}g["default"]=a}),98);
__d("useMWMarketplaceThreadOtherUser",["I64","LSIntEnum","MWPActor.react","MessagingThreadSubtype","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(6),e=a.thread,g=(j||(j=c("useReStore")))(),l=d("MWPActor.react").useActor(),m;b[0]!==l||b[1]!==g||b[2]!==e.threadKey||b[3]!==e.threadSubtype?(a=function(){return e.threadSubtype!=null&&(h||(h=d("I64"))).equal(e.threadSubtype,(i||(i=d("LSIntEnum"))).ofNumber(c("MessagingThreadSubtype").MARKETPLACE_THREAD))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(e.threadKey),d("ReQL").fromTableAscending(g.tables.contacts)).filter(function(a){a=a[1];return!(h||(h=d("I64"))).equal(a.id,l)}).map(k):d("ReQL").empty()},m=[e.threadKey,g,l,e.threadSubtype],b[0]=l,b[1]=g,b[2]=e.threadKey,b[3]=e.threadSubtype,b[4]=a,b[5]=m):(a=b[4],m=b[5]);return d("ReQLSuspense").useFirst(a,m,f.id+":31")}function k(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWPComposerFileDropzoneRegisterHandler",["MWV2FileDropzone.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useContext,j=b.useEffect;function a(a){var b=i(d("MWV2FileDropzone.react").mWV2FileDropzoneContext);j(function(){if(a){b.current.enabled=!1;b.current.handler=null;return function(){b.current.enabled=!0,b.current.handler=null}}},[b,a])}g["default"]=a}),98);
__d("MWPComposerGating.react",["CometErrorBoundary.react","CometPlaceholder.react","I64","JSResourceForInteraction","LSAuthorityLevel","LSCommunityPublicGroupParticipationApprovalStatus","LSContactBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MWCMThreadTypes.react","MWComposerPlaceholder.react","MWJoinChannelComposerPlaceholder.react","MWPActor.react","MWPArmadilloLoadingStateMessage.react","MWPSafetyNoticesChatBlockedComposer.react","MWPThreadIsPage.react","MWV2ComposerDisclosure.react","MWV2ErrorComposer.react","MWXACSunsettedComposer.react","MessagingCommunityChatsPauseStatus","MessagingCommunityType","ReQL","ReQLSuspense","RecoverableViolation.react","ServerTime","ThreadStatus","cr:19626","gkx","justknobx","lazyLoadComponent","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","mwIsThreadDisabled","nullthrows","react","react-compiler-runtime","useCommunityFolder","useIsChatPreviewsEnabled","useMWLSSprocFetchProactiveWarningIfNeeded","useMWMarketplaceThreadOtherUser","useMWPComposerFileDropzoneRegisterHandler","useMWProactiveWarningPayload","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.memo,o=m.useMemo,p=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPLeftGroupComposer.react").__setRef("MWPComposerGating.react")),q=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupMutedComposer.react").__setRef("MWPComposerGating.react")),r=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupBroadcastComposer.react").__setRef("MWPComposerGating.react")),s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWJoinChannelComposer.react").__setRef("MWPComposerGating.react")),t=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWBroadcastChannelMemberComposer.react").__setRef("MWPComposerGating.react")),u=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMSoftActionPausedCommunityComposer.react").__setRef("MWPComposerGating.react")),v=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMPausedChatComposer.react").__setRef("MWPComposerGating.react")),w=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatPreviewComposer.react").__setRef("MWPComposerGating.react")),x=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMChatLoadingComposer.react").__setRef("MWPComposerGating.react")),y=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),z=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCMGroupPendingRequestToParticipateComposer.react").__setRef("MWPComposerGating.react")),A=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPTakenDownThreadComposer.react").__setRef("MWPComposerGating.react")),B=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPCannotReplyFallbackComposer.react").__setRef("MWPComposerGating.react")),C=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMComposerNudgeText.react").__setRef("MWPComposerGating.react")),D=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDisableMarketplaceDMAThreadComposer.react").__setRef("MWPComposerGating.react")),E=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDisableMarketplaceClosedThreadComposer.react").__setRef("MWPComposerGating.react")),F=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCMDeprecatedChatComposer.react").__setRef("MWPComposerGating.react"));function a(a){var b,e=d("react-compiler-runtime").c(101),f=a.renderComposer;a=a.thread;var g=(j||(j=d("I64"))).ge(a.authorityLevel,j.of_int32(c("LSAuthorityLevel").AUTHORITATIVE)),h=a.cannotReplyReason==="viewer_not_subscribed",i=a.cannotReplyReason==="broadcast_chat_read_only",m=a.threadStatus!=null&&((j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED))||(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").UPGRADED_TO_COMMUNITY_AND_TO_BE_PAUSED))),n=c("mwCMIsAnyCMThread")(a.threadType);a.threadStatus!=null&&(j||(j=d("I64"))).equal(a.threadStatus,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED));var o=d("LSThreadBitOffset").has(192,a),G;e[0]!==a?(G={thread:a},e[0]=a,e[1]=G):G=e[1];G=c("useMWMarketplaceThreadOtherUser")(G);var H=a.memberCount!=null?(j||(j=d("I64"))).to_int32(a.memberCount):0,I=d("MWCMThreadTypes.react").isMarketplaceThread(a.threadSubtype),J=I&&!d("LSThreadBitOffset").has(213,a)&&H===2&&(G==null||d("LSContactBitOffset").has(88,G)),K=I&&H===2&&d("LSThreadBitOffset").has(271,a)&&!c("justknobx")._("4558");I=I&&H===2&&d("LSThreadBitOffset").has(272,a)&&!c("justknobx")._("4558");H=c("useCommunityFolder")(a);var L=c("mwCMisStandAloneCommunity")(H==null?void 0:H.communityType),M=d("useIsChatPreviewsEnabled").isChatPreviewsEnabled(a,H==null?void 0:H.communityType);b=j.to_int32((b=H==null?void 0:H.sendsBlockedUntil)!=null?b:(j||(j=d("I64"))).zero)*1e3;b=b<0||b>d("ServerTime").getMillis();var N=c("mwIsThreadDisabled")(a.takedownState,H==null?void 0:H.takedownState),O=(H==null?void 0:H.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(H.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_REQUIRED)),P=(H==null?void 0:H.fbGroupUserParticipationApprovalStatus)!=null&&(j||(j=d("I64"))).equal(H.fbGroupUserParticipationApprovalStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSCommunityPublicGroupParticipationApprovalStatus").PARTICIPATION_REQUEST_PENDING)),Q=(H==null?void 0:H.pauseStatus)!=null&&(j||(j=d("I64"))).equal(H.pauseStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").PAUSED_BY_SOFT_ACTION))&&c("gkx")("4216");if(!g&&n){e[2]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[2]=g):g=e[2];e[3]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.LoadingComposer",children:l.jsx(x,{})}),e[3]=n):n=e[3];return n}if(H!=null&&(j||(j=d("I64"))).equal((g=H.pauseStatus)!=null?g:(j||(j=d("I64"))).zero,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityChatsPauseStatus").DEPRECATED))&&(j||(j=d("I64"))).equal((n=a.threadStatus)!=null?n:(j||(j=d("I64"))).zero,(j||(j=d("I64"))).of_int32(c("ThreadStatus").PAUSED))&&a.cannotReplyReason==="paused_for_cc_deprecation"&&a.metadata!=null){e[4]!==a.metadata?(g=JSON.parse(a.metadata),e[4]=a.metadata,e[5]=g):g=e[5];n=g;e[6]!==H.folderId?(g=(j||(j=d("I64"))).to_string(H.folderId),e[6]=H.folderId,e[7]=g):g=e[7];g=g;if(n.cc_deprecation_composer_block!=null){var R;e[8]===Symbol["for"]("react.memo_cache_sentinel")?(R=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[8]=R):R=e[8];e[9]!==g||e[10]!==n.cc_deprecation_composer_block?(R=l.jsx(c("CometPlaceholder.react"),{fallback:R,name:"useMWRelayGroupComposerConfiguration.CMDeprecatedChatComposer",children:l.jsx(F,{communityID:g,composerBlock:n.cc_deprecation_composer_block})}),e[9]=g,e[10]=n.cc_deprecation_composer_block,e[11]=R):R=e[11];return R}}if(N){e[12]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[12]=g):g=e[12];e[13]!==a.threadType?(n=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.TakenDownThread",children:l.jsx(A,{threadType:a.threadType})}),e[13]=a.threadType,e[14]=n):n=e[14];return n}else if(Q&&!L){e[15]===Symbol["for"]("react.memo_cache_sentinel")?(R=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[15]=R):R=e[15];N=H==null?void 0:H.folderId;g=H==null?void 0:H.name;n=H==null?void 0:H.fbGroupId;e[16]!==N||e[17]!==g||e[18]!==n||e[19]!==a.threadKey?(Q=l.jsx(c("CometPlaceholder.react"),{fallback:R,name:"MWPComposerGating.CMPausedCommunity",children:l.jsx(u,{communityId:N,communityName:g,groupId:n,threadKey:a.threadKey})}),e[16]=N,e[17]=g,e[18]=n,e[19]=a.threadKey,e[20]=Q):Q=e[20];return Q}else if(m){e[21]===Symbol["for"]("react.memo_cache_sentinel")?(L=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[21]=L):L=e[21];e[22]!==a?(R=d("LSThreadBitOffset").has(154,a),e[22]=a,e[23]=R):R=e[23];e[24]!==a.threadType?(N=d("LSMessagingThreadTypeUtil").isSocialChannel(a.threadType),e[24]=a.threadType,e[25]=N):N=e[25];e[26]!==R||e[27]!==N||e[28]!==a.threadKey?(g=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.PausedChat",children:l.jsx(v,{canPauseChat:R,shouldUseChannelTerminology:N,threadKey:a.threadKey})}),e[26]=R,e[27]=N,e[28]=a.threadKey,e[29]=g):g=e[29];return g}else if(M){e[30]===Symbol["for"]("react.memo_cache_sentinel")?(n=l.jsx(c("MWComposerPlaceholder.react"),{height:64}),e[30]=n):n=e[30];if(e[31]!==(H==null?void 0:H.communityType)){m=(Q=H==null?void 0:H.communityType)!=null?Q:(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingCommunityType").FB_COMMUNITY);e[31]=H==null?void 0:H.communityType;e[32]=m}else m=e[32];R=(L=H==null?void 0:H.isMember)!=null?L:!1;e[33]!==m||e[34]!==R||e[35]!==a?(N=l.jsx(c("CometPlaceholder.react"),{fallback:n,name:"MWPComposerGating.CMChatPreview",children:l.jsx(w,{communityType:m,isCommunityMember:R,thread:a})}),e[33]=m,e[34]=R,e[35]=a,e[36]=N):N=e[36];return N}else if(d("LSMessagingThreadTypeUtil").isUnjoinedDiscoverablePublicBroadcastChannel(a.threadType)){e[37]!==a.threadKey?(g=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,threadKey:a.threadKey}),e[37]=a.threadKey,e[38]=g):g=e[38];e[39]!==a?(M=l.jsx(s,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Broadcast,thread:a}),e[39]=a,e[40]=M):M=e[40];e[41]!==g||e[42]!==M?(Q=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.UnjoinedDiscoverablePublicBroadcastChannel",children:M}),e[41]=g,e[42]=M,e[43]=Q):Q=e[43];return Q}else if(d("LSMessagingThreadTypeUtil").isSocialChannelUnjoined(a.threadType)){e[44]!==a.threadKey?(L=l.jsx(d("MWJoinChannelComposerPlaceholder.react").MWJoinChannelComposerPlaceholder,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,threadKey:a.threadKey}),e[44]=a.threadKey,e[45]=L):L=e[45];e[46]!==a?(n=l.jsx(s,{channelType:d("MWJoinChannelComposerPlaceholder.react").ChannelType.Social,thread:a}),e[46]=a,e[47]=n):n=e[47];e[48]!==L||e[49]!==n?(m=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.SocialChannelUnjoined",children:n}),e[48]=L,e[49]=n,e[50]=m):m=e[50];return m}else if(o){e[51]===Symbol["for"]("react.memo_cache_sentinel")?(R=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[51]=R):R=e[51];e[52]===Symbol["for"]("react.memo_cache_sentinel")?(N=l.jsx(c("CometPlaceholder.react"),{fallback:R,name:"MWPComposerGating.XACSunset",children:l.jsx(c("MWXACSunsettedComposer.react"),{})}),e[52]=N):N=e[52];return N}else if(h){e[53]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:99}),e[53]=g):g=e[53];M=H==null?void 0:H.fbGroupId;e[54]!==M||e[55]!==a?(Q=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.LeftGroup",children:l.jsx(p,{groupId:M,thread:a})}),e[54]=M,e[55]=a,e[56]=Q):Q=e[56];return Q}else if(d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&i){e[57]===Symbol["for"]("react.memo_cache_sentinel")?(L=l.jsx(c("MWComposerPlaceholder.react"),{height:55}),e[57]=L):L=e[57];e[58]!==a?(n=d("LSThreadBitOffset").has(139,a),e[58]=a,e[59]=n):n=e[59];e[60]!==n?(m=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.CMGroupBroadcastReadOnly",children:l.jsx(r,{isBroadcastChatsReactionsEnabled:n})}),e[60]=n,e[61]=m):m=e[61];return m}else if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)&&i){e[62]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWComposerPlaceholder.react"),{height:48}),e[62]=o):o=e[62];e[63]!==a.threadKey?(R=l.jsx(c("CometPlaceholder.react"),{fallback:o,name:"MWPComposerGating.BroadcastChannelMemberComposer",children:l.jsx(t,{isJoined:!0,threadKey:a.threadKey})}),e[63]=a.threadKey,e[64]=R):R=e[64];return R}else if(b){e[65]===Symbol["for"]("react.memo_cache_sentinel")?(N=l.jsx(c("MWComposerPlaceholder.react"),{height:141}),e[65]=N):N=e[65];e[66]!==H?(h=l.jsx(c("CometPlaceholder.react"),{fallback:N,name:"MWPComposerGating.CMGroupMuted",children:l.jsx(q,{communityFolder:H})}),e[66]=H,e[67]=h):h=e[67];return h}else if(O){e[68]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:104}),e[68]=g):g=e[68];e[69]!==H?(M=c("nullthrows")(H),e[69]=H,e[70]=M):M=e[70];e[71]!==M||e[72]!==a?(Q=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.CMGroupRequestToParticipate",children:l.jsx(y,{communityFolder:M,thread:a})}),e[71]=M,e[72]=a,e[73]=Q):Q=e[73];return Q}else if(P){e[74]===Symbol["for"]("react.memo_cache_sentinel")?(L=l.jsx(c("MWComposerPlaceholder.react"),{height:100}),e[74]=L):L=e[74];e[75]!==(H==null?void 0:H.fbGroupId)?(n=(j||(j=d("I64"))).to_string(c("nullthrows")(H==null?void 0:H.fbGroupId)),e[75]=H==null?void 0:H.fbGroupId,e[76]=n):n=e[76];e[77]!==n||e[78]!==a?(m=l.jsx(c("CometPlaceholder.react"),{fallback:L,name:"MWPComposerGating.CMGroupPendingRequestToParticipate",children:l.jsx(z,{groupID:n,thread:a})}),e[77]=n,e[78]=a,e[79]=m):m=e[79];return m}else if(a.cannotReplyReason!=null){e[80]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[80]=o):o=e[80];e[81]===Symbol["for"]("react.memo_cache_sentinel")?(R=l.jsx(c("CometPlaceholder.react"),{fallback:o,name:"MWPComposerGating.CannotReply",children:l.jsx(B,{})}),e[81]=R):R=e[81];return R}else if(J){e[82]===Symbol["for"]("react.memo_cache_sentinel")?(b=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[82]=b):b=e[82];e[83]===Symbol["for"]("react.memo_cache_sentinel")?(N=l.jsx(c("CometPlaceholder.react"),{fallback:b,name:"MWPComposerGating.DisableMarketplaceDMA",children:l.jsx(D,{})}),e[83]=N):N=e[83];return N}else if(K){e[84]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[84]=h):h=e[84];e[85]!==G?(O=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.DisableMarketplaceViewerClosedThread",children:l.jsx(E,{isClosedByViewer:!0,otherUser:G})}),e[85]=G,e[86]=O):O=e[86];return O}else if(I){e[87]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),e[87]=g):g=e[87];e[88]!==G?(M=l.jsx(c("CometPlaceholder.react"),{fallback:g,name:"MWPComposerGating.DisableMarketplaceParticipantClosedThread",children:l.jsx(E,{isClosedByViewer:!1,otherUser:G})}),e[88]=G,e[89]=M):M=e[89];return M}else{e[90]!==i||e[91]!==a?(Q=d("MWCMThreadTypes.react").isBroadcastThread(a.threadType)&&!i?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPComposerGating.ComposerNudge",children:l.jsx(C,{thread:a})}):null,e[90]=i,e[91]=a,e[92]=Q):Q=e[92];e[93]!==a?(P=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),e[93]=a,e[94]=P):P=e[94];e[95]!==f?(H=f(),e[95]=f,e[96]=H):H=e[96];e[97]!==Q||e[98]!==P||e[99]!==H?(L=l.jsxs(l.Fragment,{children:[Q,P,H]}),e[97]=Q,e[98]=P,e[99]=H,e[100]=L):L=e[100];return L}}var G=n(a);function e(a){var b=d("react-compiler-runtime").c(20),e=a.isMessengerInbox,f=a.renderComposer;a=a.thread;var g;b[0]!==a?(g=l.jsx(c("MWV2ComposerDisclosure.react"),{thread:a}),b[0]=a,b[1]=g):g=b[1];var h;b[2]!==f?(h=f(),b[2]=f,b[3]=h):h=b[3];b[4]!==g||b[5]!==h?(f=l.jsxs(l.Fragment,{children:[g,h]}),b[4]=g,b[5]=h,b[6]=f):f=b[6];g=f;b[7]!==a.proactiveWarningDismissTime?(h=a.proactiveWarningDismissTime==null||(j||(j=d("I64"))).is_zero(a.proactiveWarningDismissTime),b[7]=a.proactiveWarningDismissTime,b[8]=h):h=b[8];f=h;b[9]!==a.threadType?(h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[9]=a.threadType,b[10]=h):h=b[10];h=h;var i;b[11]!==g||b[12]!==e||b[13]!==f||b[14]!==h||b[15]!==a?(i=e?null:f&&!h?l.jsx(c("MWPSafetyNoticesChatBlockedComposer.react"),{fallback:g,onClose:H,thread:a}):null,b[11]=g,b[12]=e,b[13]=f,b[14]=h,b[15]=a,b[16]=i):i=b[16];e=i;c("useMWLSSprocFetchProactiveWarningIfNeeded")(e!=null,a,!1);f=c("useMWProactiveWarningPayload")(void 0,a);if(e!=null&&f!=null){b[17]===Symbol["for"]("react.memo_cache_sentinel")?(h=l.jsx(c("MWComposerPlaceholder.react"),{height:35}),b[17]=h):h=b[17];b[18]!==e?(i=l.jsx(c("CometPlaceholder.react"),{fallback:h,name:"MWPComposerGating.ProactiveWarning",children:e}),b[18]=e,b[19]=i):i=b[19];return i}return g}function H(){}var I=n(e);function J(a){var e=a.configurations,g=a.isMessengerInbox,i=a.renderComposer,m=a.thread,n=(h||(h=c("useReStore")))(),p=d("MWPActor.react").useActor(),q=(j||(j=d("I64"))).equal(p,m.threadKey),r=d("ReQLSuspense").useArray(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(n.tables.participants).getKeyRange(m.threadKey),d("ReQL").fromTableAscending(n.tables.contacts)).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[n,m.threadKey,m.threadType],f.id+":626");a=o(function(){return r.find(function(a){return q||r.length===1&&(j||(j=d("I64"))).equal(a.id,p)||!(j||(j=d("I64"))).equal(a.id,p)})},[p,q,r]);var s=d("LSMessagingThreadTypeUtil").isArmadilloSecure(m.threadType),t=b("cr:19626")(!1,m,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);s=s&&t;t=e.find(function(a){return a!=null});e=t!=null;c("useMWPComposerFileDropzoneRegisterHandler")(e);return l.jsxs(l.Fragment,{children:[s?l.jsx(c("MWPArmadilloLoadingStateMessage.react"),{threadKey:m.threadKey}):null,e?t:d("LSMessagingThreadTypeUtil").isOneToOne(m.threadType)?a!=null?l.jsx(I,{isMessengerInbox:g,otherUser:a,renderComposer:i,thread:m}):(j||(j=d("I64"))).lt(m.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?null:l.jsx(c("RecoverableViolation.react"),{errorMessage:"Missing contact row",projectName:"messenger_comet"}):l.jsx(G,{renderComposer:i,thread:m})]})}J.displayName=J.name+" [from "+f.id+"]";function K(a){var b=d("react-compiler-runtime").c(8),e=a.configurations,f=a.isMessengerInbox,g=a.renderComposer;a=a.thread;f=f!=null?f:!1;var h;b[0]!==e||b[1]!==g||b[2]!==f||b[3]!==a?(h=l.jsx(J,{configurations:e,isMessengerInbox:f,renderComposer:g,thread:a}),b[0]=e,b[1]=g,b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==h||b[6]!==a.threadKey?(e=l.jsx(c("CometErrorBoundary.react"),{fallback:L,children:l.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:a.threadKey,children:h})}),b[5]=h,b[6]=a.threadKey,b[7]=e):e=b[7];return e}function L(a){return l.jsx(c("MWV2ErrorComposer.react"),{})}L.displayName=L.name+" [from "+f.id+"]";g["default"]=K}),98);
__d("MWPUseVoiceRecorder",["AudioContextSingleton","MWChatRecorderUtilsWorkerResource","MWPAudioPlayerIcons.react","MWPAudioPlayerLabels","Promise","WAGetMediaDevicesSupportedConstraints","WAGetSafeQPLError","WebWorker","clearTimeout","emptyFunction","react","setTimeout","useIsMountedRef","usePrevious"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i,l=k.useCallback,m=k.useEffect,n=k.useReducer,o=k.useRef;function a(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function e(a){switch(a.stage){case"Unopen":case"Recording":return!1;case"Recorded":case"Playing":return!0}}function p(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.duration;case"Recorded":case"Playing":return Math.max(a.duration-a.currentTime,0)}}function q(a){switch(a.stage){case"Unopen":return 0;case"Recording":return a.recordingTimeout;case"Recorded":case"Playing":return a.duration}}function r(a){switch(a.stage){case"Unopen":case"Recording":return;case"Recorded":case"Playing":return a.currentTime}}function s(a){switch(a.stage){case"Unopen":case"Recorded":return!1;case"Recording":case"Playing":return!0}}function t(a){if(a.stage==="Recorded")return a.currentTime===0;else return!1}function u(a){switch(a.stage){case"Recording":return d("MWPAudioPlayerLabels").stopLabel;case"Unopen":case"Recorded":return d("MWPAudioPlayerLabels").playLabel;case"Playing":return d("MWPAudioPlayerLabels").pauseLabel}}function v(a,b){switch(a.stage){case"Recording":return j.jsx(d("MWPAudioPlayerIcons.react").StopIcon,{color:b});case"Unopen":case"Recorded":return j.jsx(d("MWPAudioPlayerIcons.react").PlayIcon,{color:b});case"Playing":return j.jsx(d("MWPAudioPlayerIcons.react").PauseIcon,{color:b})}}v.displayName=v.name+" [from "+f.id+"]";function w(a,b){switch(b.type){case"Start":return{duration:0,mediaStream:b.mediaStream,recordingTimeout:b.recordingTimeout,stage:"Recording"};case"Toggle":switch(a.stage){case"Unopen":return a;case"Recording":return{currentTime:0,duration:a.duration,stage:"Recorded"};case"Recorded":return{currentTime:a.currentTime,duration:a.duration,stage:"Playing"};case"Playing":return{currentTime:a.currentTime,duration:a.duration,stage:"Recorded"}}break;case"UpdateDuration":if(a.duration!=null&&b.duration<a.duration)return a;var c=b.duration;switch(a.stage){case"Unopen":return a;case"Recording":return{duration:c,mediaStream:a.mediaStream,recordingTimeout:a.recordingTimeout,stage:"Recording"};case"Recorded":return{currentTime:a.currentTime,duration:c,stage:"Recorded"};case"Playing":return{currentTime:a.currentTime,duration:c,stage:"Playing"}}break;case"UpdateTime":c=b.currentTime;switch(a.stage){case"Unopen":case"Recording":return a;case"Recorded":var d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Recorded"};case"Playing":d=a.duration;return c===d?{currentTime:0,duration:d,stage:"Recorded"}:{currentTime:c,duration:d,stage:"Playing"}}break;case"RecordingTimeout":return{currentTime:0,duration:b.recordingTimeout,stage:"Recorded"};case"Reset":return{stage:"Unopen"}}}var x={stage:"Unopen"},y=1;function z(a){var e=a.maxDuration,f=e===void 0?60:e;e=a.logClickStartRecording;var g=e===void 0?c("emptyFunction"):e;e=a.logBrowserDenyAccess;var i=e===void 0?c("emptyFunction"):e,j=a.createVoiceRecordQpl,k=((e=d("WAGetMediaDevicesSupportedConstraints").getMediaDevicesSupportedConstraints())==null?void 0:e.sampleRate)===!0;a=n(w,x);var p=a[0],q=a[1],r=c("useIsMountedRef")(),s=o(),t=o([]),u=o([]),v=o(),z=o(),A=o(),B=o(),C=o(),D=o(c("emptyFunction")),E=l(function(a){var b=a[0],c=a[1];if(!r.current)return;a=URL.createObjectURL(b);A.current=a;var d=new Audio(a);d.addEventListener("canplay",function(){z.current=d;var a=d.duration;q({duration:a,type:"UpdateDuration"});a={duration:a,file:b,waveformData:c};B.current=a;D.current(a);(a=C.current)==null||a.endSuccess()});d.addEventListener("timeupdate",function(){var a;a=(a=z.current)==null?void 0:a.currentTime;a!=null&&q({currentTime:a,type:"UpdateTime"})});d.addEventListener("durationchange",function(){var a;a=(a=z.current)==null?void 0:a.duration;a!=null&&!Number.isNaN(a)&&q({duration:a,type:"UpdateDuration"})})},[r]),F=l(function(){if(s.current==null||v.current==null)return;v.current.postMessage({buffersL:t.current,buffersR:y===2?u.current:null,sampleRate:s.current})},[]);m(function(){if(p.stage!=="Recording")return;t.current=[];u.current=[];var a=c("AudioContextSingleton").get({sampleRate:k?44100:void 0}),b=a.destination;s.current=a.sampleRate;var d=p.mediaStream,e=a.createScriptProcessor(4096,y,y);a=a.createMediaStreamSource(d);v.current=new(c("WebWorker"))(c("MWChatRecorderUtilsWorkerResource")).setMessageHandler(E).setAllowCrossPageTransition(!0).execute();var f=function(a){p.stage==="Recording"&&a instanceof AudioProcessingEvent&&(t.current.push(a.inputBuffer.getChannelData(0).slice()),y===2&&u.current.push(a.inputBuffer.getChannelData(1).slice()))};e.addEventListener("audioprocess",f);a.connect(e);e.connect(b);g();return function(){d.getAudioTracks().forEach(function(a){if(a.readyState!=="ended"){a.stop();return}}),e.removeEventListener("audioprocess",f)}},[E,g,p.stage,p.mediaStream,k]);var G=c("usePrevious")(p);m(function(){(G==null?void 0:G.stage)==="Recording"&&p.stage==="Recorded"&&F()},[G==null?void 0:G.stage,F,p.stage]);m(function(){if(p.stage!=="Recording")return;var a=Date.now(),b,d=function(){var e=(Date.now()-a)/1e3;if(e>=f){q({recordingTimeout:f,type:"RecordingTimeout"});return}q({duration:e,type:"UpdateDuration"});b=c("setTimeout")(d,1e3)};b=c("setTimeout")(d,1e3);return function(){b!=null&&c("clearTimeout")(b)}},[f,p.stage]);e=l(function(a){var b=j==null?void 0:j();C.current=b;b==null||b.start({startInfo:{isOpusRecorder:!1}});q({mediaStream:a,recordingTimeout:f,type:"Start"})},[f,j]);a=l(function(){var a;(a=C.current)==null||a.endCancel();q({type:"Reset"});(a=z.current)==null||a.pause();z.current=void 0;B.current=void 0;s.current=void 0;a=A.current;a!=null&&(URL.revokeObjectURL(a),A.current=void 0)},[]);var H=l(function(){var a=function(){q({maxDuration:f,type:"Toggle"})},b=z.current;if(b==null){a();return}switch(p.stage){case"Unopen":a();break;case"Recording":var c;(c=C.current)==null||c.addPoint("stop-recording");a();break;case"Recorded":(c=C.current)==null||c.addPoint("play-audio");b.play().then(a)["catch"](function(a){var b;(b=C.current)==null||b.endFail("browser-deny-access",{string:{failReason:d("WAGetSafeQPLError").getSafeQPLErrorMessage(a)}});i()});break;case"Playing":(c=C.current)==null||c.addPoint("pause-playing");b.pause();a();break}},[i,p.stage]),I=l(function(){return new(h||(h=b("Promise")))(function(a){var b=B.current;if(b!=null)return a(b);D.current=a;if(p.stage==="Recording")return H()})},[p,H]);return{audioEl:z,getVoiceClip:I,reset:a,start:e,state:p,toggle:H}}g.showScreenReaderLabel=a;g.hasScrubber=e;g.getTimerTime=p;g.getDuration=q;g.getCurrentTime=r;g.isProgressing=s;g.isCompleted=t;g.getPlaybackLabel=u;g.getPlaybackIcon=v;g.useVoiceRecorder=z}),98);
__d("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24284299517844364"}),null);
__d("MWChatViewerChatVisibilityHookQuery.graphql",["MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null}],storageKey:null}];return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatViewerChatVisibilityHookQuery",selections:a,type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MWChatViewerChatVisibilityHookQuery",selections:a},params:{id:b("MWChatViewerChatVisibilityHookQuery_facebookRelayOperation"),metadata:{},name:"MWChatViewerChatVisibilityHookQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("MWChatViewerChatVisibilityHook",["CometRelay","MWChatViewerChatVisibilityHookQuery.graphql","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect,k=h!==void 0?h:h=b("MWChatViewerChatVisibilityHookQuery.graphql");function a(){var a,b,e,f=d("react-compiler-runtime").c(6),g=d("CometRelay").useRelayEnvironment(),h=d("CometRelay").useLazyLoadQuery(k,{},{fetchPolicy:"store-only"}),i;if(f[0]!==(h==null||(a=h.viewer)==null?void 0:a.chat_visibility)||f[1]!==g){var l;i=function(){var a;(h==null||(a=h.viewer)==null?void 0:a.chat_visibility)==null&&c("promiseDone")(d("CometRelay").fetchQuery(g,k,{}).toPromise())};f[0]=h==null||(l=h.viewer)==null?void 0:l.chat_visibility;f[1]=g;f[2]=i}else i=f[2];var m=h==null||(b=h.viewer)==null?void 0:b.chat_visibility,n;f[3]!==g||f[4]!==m?(n=[m,g],f[3]=g,f[4]=m,f[5]=n):n=f[5];j(i,n);return(h==null||(e=h.viewer)==null?void 0:e.chat_visibility)===!0}g.useViewerChatVisibility=a}),98);
__d("useOnTypingStateChanged",["I64","Int64Hooks","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSSendTypingIndicatorStoredProcedure","LSTypingIndicatorSettingState","MWPActor.react","MessengerWebUXLogger","ReQL","mwCMIsAnyCMThread","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;async function k(a,b,e,f){if((i||(i=d("I64"))).equal(e,(j||(j=d("LSIntEnum"))).ofNumber(1))&&!(i||(i=d("I64"))).equal(b,f)){var g;b=await Promise.all([(g=d("ReQL")).firstAsync(g.fromTableAscending(a.tables.threads,["typingIndicatorDisabled"]).getKeyRange(b)),g.firstAsync(g.mergeJoin(g.fromTableAscending(a.tables.participants).getKeyRange(b),g.fromTableAscending(a.tables.contacts.index("blockedByViewerStatusId")).getKeyRange((j||(j=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED))).filter(function(a){var b=a[0];a[1];return!(i||(i=d("I64"))).equal(b.contactId,f)}))]);g=b[0];a=b[1];b=g==null?void 0:g.typingIndicatorDisabled;g=b!=null?(i||(i=d("I64"))).equal((j||(j=d("LSIntEnum"))).ofNumber(c("LSTypingIndicatorSettingState").DISABLED),b):!1;return a!=null&&!g}else return!c("mwCMIsAnyCMThread")(e)}function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=c("MessengerWebUXLogger").useInteractionLogger(),m,n;b[0]!==g||b[1]!==e||b[2]!==l||b[3]!==a.authorityLevel||b[4]!==a.threadKey||b[5]!==a.threadType?(m=function(b){if(!(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return;c("promiseDone")(k(e,a.threadKey,a.threadType,g).then(function(g){if(g){l==null||l({eventName:"send_typing_indicators",threadKey:a.threadKey,threadType:a.threadType});return e.runInTransaction(function(e){return c("LSSendTypingIndicatorStoredProcedure")(c("LSFactory")(e),{isGroupThread:d("LSMessagingThreadTypeUtil").isGroup(a.threadType),isTyping:b,threadKey:a.threadKey})},"readwrite",void 0,void 0,f.id+":134")}}))},n=[a.authorityLevel,a.threadKey,a.threadType,e,g,l],b[0]=g,b[1]=e,b[2]=l,b[3]=a.authorityLevel,b[4]=a.threadKey,b[5]=a.threadType,b[6]=m,b[7]=n):(m=b[6],n=b[7]);return d("Int64Hooks").useCallbackInt64(m,n)}g.default=a}),98);
__d("useMWOnTypingStateChanged",["MWChatViewerChatVisibilityHook","react","useOnTypingStateChanged"],(function(a,b,c,d,e,f,g){"use strict";var h;(h||d("react")).useMemo;var i=function(a){return void 0};function a(a){a=c("useOnTypingStateChanged")(a);var b=d("MWChatViewerChatVisibilityHook").useViewerChatVisibility();b=b?a:i;return b}g["default"]=a}),98);
__d("MWV2OpenComposer.react",["FBLogger","I64","LSAuthorityLevel","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MWGenAIUtils","MWPActor.react","MWPReplyContext.react","MWPUseVoiceRecorder","MWV2ComposerEditContainer.react","MWV2ComposerReplyView.react","MWV2ComposerView.react","MessengerMSplitFlag","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","ReQL","WebUXLoggingSurfaceContextProvider","emptyFunction","gkx","promiseDone","qex","react","react-compiler-runtime","requireDeferred","useAsyncReStore","useMAWEditMessageData","useMWGenAIWriteConsentMutation","useMWMediaManager","useMWOnTypingStateChanged","useMWPComposerEditor","useMWV2FileDropzoneRegisterHandler","useMWV2OnSendOpenMessage"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useContext,m=b.useRef,n=c("requireDeferred")("MWChatAudioLog").__setRef("MWV2OpenComposer.react"),o=c("gkx")("23426");function p(){n.onReady(function(a){return a.logClickStartRecording()})}function q(){n.onReady(function(a){return a.logBrowserDenyAccess()})}function r(a){var b=d("react-compiler-runtime").c(15),e=a.afterSendMessage,g=a.thread,h=c("useAsyncReStore")(),k=d("MWPActor.react").useActor();b[0]!==k||b[1]!==e||b[2]!==h||b[3]!==g.authorityLevel||b[4]!==g.threadKey||b[5]!==g.threadType?(a=function(){d("MWPActor.react").isAPPlus()&&d("LSMessagingThreadTypeUtil").isOneToOne(g.threadType)&&(i||(i=d("I64"))).lt(g.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&c("qex")._("2568")&&c("promiseDone")(h,async function(a){var b;b=await (b=d("ReQL")).firstAsync(b.leftJoin(b.fromTableAscending(a.tables.participants).getKeyRange(g.threadKey).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,k)}),b.fromTableAscending(a.tables.contacts)));var e=b==null?void 0:b[1];if(!e){c("FBLogger")("messenger_web_product").warn("contact not found");return}if((j||(j=d("LSIntEnum"))).equal(e.contactReachabilityStatusType,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER))return a.runInTransaction(function(a){return a.contacts.put(babelHelpers.extends({},e,{contactReachabilityStatusType:(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER)}))},"readwrite",void 0,void 0,f.id+":148")}),e()},b[0]=k,b[1]=e,b[2]=h,b[3]=g.authorityLevel,b[4]=g.threadKey,b[5]=g.threadType,b[6]=a):a=b[6];var l;b[7]!==a||b[8]!==g?(l={afterSendMessage:a,skipUrlPreviewGen:!1,thread:g},b[7]=a,b[8]=g,b[9]=l):l=b[9];var n=c("useMWV2OnSendOpenMessage")(l),o=m(!1);b[10]===Symbol.for("react.memo_cache_sentinel")?(a=c("MessengerWebGenAIConsentStatusStore").getChatConsented(),b[10]=a):a=b[10];var p=m(a);l=c("useMWGenAIWriteConsentMutation")();var q=l[0];b[11]!==q||b[12]!==n||b[13]!==g.threadKey?(a=function(a,b,e,f,h,i,j,k,l,m,r,s,t,u,v,w,x,y){d("MWGenAIUtils").isMetaAIThread(g.threadKey)&&!p.current&&(c("MessengerWebGenAIConsentStatus").nux_scope==="EU"||c("MessengerWebGenAIConsentStatus").nux_scope==="EU_V2")&&q({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:c("MessengerWebGenAIConsentStatus").nux_scope},onSuccess:function(){p.current=!0}});x=n(a,b,e,f,h,i,j,k,l,m,r,s,t,u,v,w,d("MWGenAIUtils").getGenAIAssistantDataclassParams({isSubsequentSend:o.current,threadKey:g.threadKey}),y);o.current=!0;return x},b[11]=q,b[12]=n,b[13]=g.threadKey,b[14]=a):a=b[14];return a}function a(a){var b=d("react-compiler-runtime").c(37),e=a.afterSendMessage,f=a.isPreviewThread;a=a.thread;e=e===void 0?c("emptyFunction"):e;var g=l(d("MWPReplyContext.react").MWPReplyContext);g=g.reply;var h=c("useMAWEditMessageData")(),i;b[0]!==a?(i={thread:a},b[0]=a,b[1]=i):i=b[1];i=c("useMWMediaManager")(i);var j=i.handleFileRemove,m=i.handleFileSelect,n=i.mediaStaging;i=i.onHdMediaToggled;var s;b[2]!==e||b[3]!==a?(s={afterSendMessage:e,thread:a},b[2]=e,b[3]=a,b[4]=s):s=b[4];e=r(s);b[5]===Symbol.for("react.memo_cache_sentinel")?(s={logBrowserDenyAccess:q,logClickStartRecording:p,maxDuration:void 0},b[5]=s):s=b[5];s=d("MWPUseVoiceRecorder").useVoiceRecorder(s);var t=c("useMWOnTypingStateChanged")(a);c("useMWV2FileDropzoneRegisterHandler")(m);var u;b[6]!==a?(u=d("LSMessagingThreadTypeUtil").isAiBotSummoning(a),b[6]=a,b[7]=u):u=b[7];u=u;var v;b[8]!==f||b[9]!==n||b[10]!==e||b[11]!==t||b[12]!==a.threadKey?(v={composerEntrypointForLogging:"MWV2OpenComposer",isPreviewThread:f,mediaStaging:n,onSendMessage:e,onTypingStateChanged:t,threadKey:a.threadKey},b[8]=f,b[9]=n,b[10]=e,b[11]=t,b[12]=a.threadKey,b[13]=v):v=b[13];f=c("useMWPComposerEditor")(v);t=f.editor;v=f.editorElementRef;var w=f.hasStuffToSend;f=f.sendMessage;var x;b[14]!==g||b[15]!==a?(x=g!=null?k.jsx(d("MWV2ComposerReplyView.react").MWV2ComposerReplyView,{messageId:g.messageId,messageThreadKey:g.threadKey,messageTimestamp:g.timestampMs,thread:a}):null,b[14]=g,b[15]=a,b[16]=x):x=b[16];b[17]!==h?(g=h!=null&&k.jsx(c("MWV2ComposerEditContainer.react"),{editMessageData:h}),b[17]=h,b[18]=g):g=b[18];var y;b[19]!==h||b[20]!==t||b[21]!==v||b[22]!==w||b[23]!==u||b[24]!==n||b[25]!==j||b[26]!==m||b[27]!==i||b[28]!==e||b[29]!==f||b[30]!==a||b[31]!==s?(y=h!=null?null:k.jsx(d("MWV2ComposerView.react").MWV2ComposerView,{editor:t,editorElementRef:v,hasStuffToSend:w,isAiBotMentionsEnabled:u&&o&&!c("MessengerMSplitFlag").is_msplit_account,mediaStaging:n,onAttachmentRemoved:j,onAttachmentsAdded:m,onHdMediaToggled:i,onSendMessage:e,policyProduct:"messaging_lightswitch",sendMessage:f,supportedFileTypes:void 0,surface:"mwp_mwv2_composer",thread:a,voiceRecorder:s}),b[19]=h,b[20]=t,b[21]=v,b[22]=w,b[23]=u,b[24]=n,b[25]=j,b[26]=m,b[27]=i,b[28]=e,b[29]=f,b[30]=a,b[31]=s,b[32]=y):y=b[32];b[33]!==x||b[34]!==g||b[35]!==y?(h=k.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"open_composer",children:k.jsxs("div",{children:[x,g,y]})}),b[33]=x,b[34]=g,b[35]=y,b[36]=h):h=b[36];return h}g.default=a}),98);
__d("useMWAppealableMessageSendComposerBlockConfiguration",["fbt","MWCallingRestrictionDialog.entrypoint","MWCallingRestrictionLogger","MWXComposerBanner.react","MWXLink.react","react","react-compiler-runtime","useMWHasAppealableMessageSendFeatureLimit","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;b.useMemo;function a(){var a=d("react-compiler-runtime").c(12),b=c("useMWHasAppealableMessageSendFeatureLimit")(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={},a[0]=e):e=a[0];e=c("useMWXEntryPointDialog")(c("MWCallingRestrictionDialog.entrypoint"),e);var f=e[0];e=d("MWCallingRestrictionLogger").useLogComposerBlockImpression();var g;a[1]!==f?(g=function(){f({trigger:"message_thread"})},a[1]=f,a[2]=g):g=a[2];g=g;var i;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"How to confirm"),a[3]=i):i=a[3];a[4]!==g?(i={label:i,onPress:g,size:32,testid:"facerec-feature-limit-composer-block-button",type:"secondary"},a[4]=g,a[5]=i):i=a[5];g=i;i=g;if(b()){e();a[6]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {=m2}",[h._implicitParam("=m2",j.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/1053588012132894",style:{color:"var(--blue-link)"},target:"_blank",children:h._(/*BTDS*/"Learn more")}))]),a[6]=g):g=a[6];a[7]!==i?(b=[i],a[7]=i,a[8]=b):b=a[8];a[9]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Confirm your identity to send messages"),a[9]=e):e=a[9];a[10]!==b?(i=j.jsx(c("MWXComposerBanner.react"),{bodyText:g,buttons:b,headerText:e,testid:void 0}),a[10]=b,a[11]=i):i=a[11];return i}}g["default"]=a}),226);
__d("MWXComposerGlimmer.react",["MWXColumn.react","MWXColumnItem.react","MWXGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={block:{paddingBottom:"x1l90r2v",$$css:!0},container:{alignSelf:"xkh2ocl",backgroundColor:"x57kliw",borderTopColor:"x1epquy7",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},glimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(4);a=a.ref;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.container,j.block],b[0]=e):e=b[0];var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=i.jsx(c("MWXColumnItem.react"),{children:i.jsx(c("MWXGlimmer.react"),{index:0,xstyle:j.glimmer})}),b[1]=f):f=b[1];b[2]!==a?(e=i.jsx(c("MWXColumn.react"),{paddingHorizontal:16,paddingVertical:16,ref:a,spacing:20,xstyle:e,children:f}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("useMWComposerGlimmerOnDraftLoadingState",["MAWUIMessageComposerDraftsPersistedDataService","MWXComposerGlimmer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e;b[0]!==a.threadKey||b[1]!==a.threadType?(e=d("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().isThreadLoading(a.threadKey,a.threadType),b[0]=a.threadKey,b[1]=a.threadType,b[2]=e):e=b[2];a=e;b[3]!==a?(e=a?i.jsx(c("MWXComposerGlimmer.react"),{}):void 0,b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),98);
__d("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability",["FBLogger","LSContactBitOffset","LSMessagingThreadTypeUtil","MAWDefaultE2eeOneToOneEligibility","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(27),g=(h||(h=c("useReStore")))(),j;e[0]!==g.tables._user_info?(j=function(){return d("ReQL").fromTableAscending(g.tables._user_info).map(i)},e[0]=g.tables._user_info,e[1]=j):j=e[1];var k;e[2]!==g?(k=[g],e[2]=g,e[3]=k):k=e[3];var l=d("ReQLSuspense").useFirst(j,k,f.id+":38");e[4]!==g.tables.contacts||e[5]!==l?(j=function(){return l!=null?d("ReQL").fromTableAscending(g.tables.contacts,d("LSContactBitOffset").contactCapabilityFields).getKeyRange(l):d("ReQL").empty()},e[4]=g.tables.contacts,e[5]=l,e[6]=j):j=e[6];e[7]!==g||e[8]!==l?(k=[g,l],e[7]=g,e[8]=l,e[9]=k):k=e[9];j=d("ReQLSuspense").useFirst(j,k,f.id+":43");k=j!=null&&d("LSContactBitOffset").has(80,j);var m;e[10]!==g.tables.contacts||e[11]!==a||e[12]!==b?(m=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},e[10]=g.tables.contacts,e[11]=a,e[12]=b,e[13]=m):m=e[13];var n;e[14]!==g||e[15]!==a||e[16]!==b?(n=[g,a,b],e[14]=g,e[15]=a,e[16]=b,e[17]=n):n=e[17];m=d("ReQLSuspense").useFirst(m,n,f.id+":62");e[18]!==m?(n=d("MAWDefaultE2eeOneToOneEligibility").isContactDefaultE2eeOneToOneEligible({maybeContact:m}),e[18]=m,e[19]=n):n=e[19];n=n;if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)){var o;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!0,null],e[20]=o):o=e[20];return o}if(j==null){c("FBLogger")("messenger_web").info("Viewer is null when checking default e2ee thread capability");e[21]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[21]=o):o=e[21];return o}if(!k){n&&c("FBLogger")("messenger_web").warn("Viewer has no DEFAULT_E2EE_THREADS capability but other participant has DEFAULT_E2EE_THREAD_ONE_TO_ONE");e[22]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!0,null],e[22]=j):j=e[22];return j}if(m==null){e[23]===Symbol["for"]("react.memo_cache_sentinel")?(o=[!1,!1,null],e[23]=o):o=e[23];return o}e[24]!==n||e[25]!==m.id?(k=[n,!0,m.id],e[24]=n,e[25]=m.id,e[26]=k):k=e[26];return k}function i(a){return a.facebookUserId}g["default"]=a}),98);
__d("useIsDefaultE2eeOpenThread",["LSMessagingThreadTypeUtil","react-compiler-runtime","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=d("react-compiler-runtime").c(3),e=c("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")(a.threadKey,a.threadType);e=e[0];var f;b[0]!==e||b[1]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&e,b[0]=e,b[1]=a.threadType,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("useMWDefaultE2eeComposerConfiguration",["FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSThreadAttributionStore","lazyLoadComponent","react","react-compiler-runtime","useIsDefaultE2eeOpenThread"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react")),l=h.useEffect,m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDefaultE2eeThreadBlockedComposer.react").__setRef("useMWDefaultE2eeComposerConfiguration"));function a(a){var b=d("react-compiler-runtime").c(6),e=c("useIsDefaultE2eeOpenThread")(a),f,g;b[0]!==e||b[1]!==a.threadKey?(f=function(){if(e){var b=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(i||(i=d("I64"))).to_string(a.threadKey));b=b.type==="MWLSEntrypoint"?b.value:(j||(j=d("LSIntEnum"))).toNumber(b.value);c("FBLogger")("messenger_web").info("Default e2ee composer block showing up from non-meteora with entrypoint %s",b)}},g=[a.threadKey,e],b[0]=e,b[1]=a.threadKey,b[2]=f,b[3]=g):(f=b[2],g=b[3]);l(f,g);if(e){b[4]!==a?(f=k.jsx(m,{thread:a}),b[4]=a,b[5]=f):f=b[5];return f}}g["default"]=a}),98);
__d("useMWMetaAIBlockingComposerConfiguration",["fbt","MWGenAINuxQplLogger","MWGenAIUtils","MWXComposerBanner.react","MXGenAINuxTextContent.react","MessengerWebGenAIConsentStatus","MessengerWebGenAIConsentStatusStore","react","react-compiler-runtime","useMWGenAIWriteConsentMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("MessengerWebGenAIConsentStatusStore").getChatConsented(),b[0]=e):e=b[0];e=k(e);var f=e[0],g=e[1];e=c("useMWGenAIWriteConsentMutation")();var i=e[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"OK"),b[1]=e):e=b[1];b[2]!==i?(e={label:e,onPress:function(){i({metadata:{consent_source:"MW_CHAT_WEB",nux_scope:c("MessengerWebGenAIConsentStatus").nux_scope}}),g(!0),d("MWGenAINuxQplLogger").logNuxHidden("BR_UK")},size:32,type:"primary"},b[2]=i,b[3]=e):e=b[3];e=e;e=e;if(!d("MWGenAIUtils").isMetaAIThread(a.threadKey))return;if(!f&&c("MessengerWebGenAIConsentStatus").nux_scope==="BR_UK"){d("MWGenAINuxQplLogger").logNuxRender("BR_UK");b[4]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MXGenAINuxTextContent.react"),{formattedText:c("MessengerWebGenAIConsentStatus").inline_disclosure_text}),b[4]=a):a=b[4];b[5]!==e?(f=j.jsx(c("MWXComposerBanner.react"),{bodyText:a,buttons:[e]}),b[5]=e,b[6]=f):f=b[6];return f}}g["default"]=a}),226);
__d("MWPComposerPlaceholder.react",["CometPlaceholder.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(3);a=a.height;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c="x1exxf4d x13fuv20 x178xt8z",b[0]=c):c=b[0];a=a.toString()+"px";b[1]!==a?(c=i.jsx("div",{className:c,style:{height:a}}),b[1]=a,b[2]=c):c=b[2];return c}function a(a){var b=d("react-compiler-runtime").c(5),e=a.children;a=a.height;var f;b[0]!==a?(f=i.jsx(j,{height:a}),b[0]=a,b[1]=f):f=b[1];b[2]!==e||b[3]!==f?(a=i.jsx(c("CometPlaceholder.react"),{fallback:f,name:"MWPComposerPlaceholder",children:e}),b[2]=e,b[3]=f,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("useLogPageFollowerExposure",["I64","LSContactReachabilityStatusType","LSContactUtils","ReQL","ReQLSuspense","qex","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(j||d("react")).useEffect,l=c("requireDeferred")("CreatorMessagingRecipientFalcoEvent").__setRef("useLogPageFollowerExposure");function m(a){var b=d("react-compiler-runtime").c(4),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a?(g=function(){return a==null?d("ReQL").empty():d("ReQL").fromTableDescending(e.tables.messages_ranges_v2__generated).getKeyRange(a.id)},i=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=i):(g=b[2],i=b[3]);b=d("ReQLSuspense").useFirst(g,i,f.id+":32");return b!=null&&b.hasMoreBefore===!1&&b.isLoadingBefore===!1&&b.maxMessageId===""&&b.minMessageId===""}var n=new Set(),o=new Set([c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED,c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER]);function a(a){var b=d("react-compiler-runtime").c(4),e=m(a),f,g;b[0]!==a||b[1]!==e?(f=function(){if(!c("qex")._("2568")||a==null)return;var b=(i||(i=d("I64"))).to_string(a.id),f=d("LSContactUtils").getUserReachability(a);e&&o.has(f)&&!n.has(b)&&(n.add(b),l.onReady(function(b){return b.log(function(){return{recipient_id:(i||(i=d("I64"))).to_string(a.id)}})}))},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);k(f,g)}g["default"]=a}),98);
__d("useMWPAdultMinorRestrictionLogging",["I64","LSContactReachabilityStatusType","LSIntEnum","LSMessagingThreadTypeUtil","MwbActorExperienceEventFalcoEvent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=(h||d("react")).useEffect;function l(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);a=d("LSMessagingThreadTypeUtil").isGroup(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";return a?b?"messenger_encrypted_group_thread":"messenger_group_thread_details":"unknown"}function m(a){switch(a){case c("LSContactReachabilityStatusType").UNREACHABLE_USER_TYPE:return 12;case c("LSContactReachabilityStatusType").UNREACHABLE_ADULT_TYPE:return 21;default:return 0}}var n=function(a){return a?(i||(i=d("LSIntEnum"))).toNumber(a):c("LSContactReachabilityStatusType").REACHABLE};function a(a,b){var e=d("react-compiler-runtime").c(11),f;e[0]!==b?(f=n(b),e[0]=b,e[1]=f):f=e[1];var g=f;e[2]!==a?(b=l(a),e[2]=a,e[3]=b):b=e[3];var h=b;e[4]!==a?(f=(j||(j=d("I64"))).to_string(a),e[4]=a,e[5]=f):f=e[5];var i=f;e[6]!==h||e[7]!==g||e[8]!==i?(b=function(){g!==c("LSContactReachabilityStatusType").REACHABLE&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&g!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&c("MwbActorExperienceEventFalcoEvent").log(function(){return{action:1,restriction_type:m(g),surface:h,thread_id:i}})},a=[i,g,h],e[6]=h,e[7]=g,e[8]=i,e[9]=b,e[10]=a):(b=e[9],a=e[10]);k(b,a)}g["default"]=a}),98);
__d("useMWPBlockedComposerConfiguration",["fbt","FocusRegion.react","I64","JSResourceForInteraction","LSContactBlockedByViewerStatus","LSContactReachabilityStatusType","LSContactUtils","LSFriendshipStatus","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCallingRestrictionDialog.entrypoint","MWGetLSThreadReportingTokenFromThread","MWPActor.react","MWPComposerPlaceholder.react","MWPThreadIsPage.react","MWXLink.react","ReQL","ReQLSuspense","lazyLoadComponent","react","useLogPageFollowerExposure","useMWPAdultMinorRestrictionLogging","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useCallback,o=b.useMemo,p="https://www.facebook.com/help/messenger-app/2258699540867663/?helpref=uf_share",q="https://www.facebook.com/help/1518695669102556/",r="https://www.facebook.com/help/1053588012132894/",s=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLBlockedComposer.react").__setRef("useMWPBlockedComposerConfiguration"));function a(a,b){var e=(i||(i=c("useReStore")))(),g=d("MWPActor.react").useActor(),l=(j||(j=d("I64"))).equal(g,a.threadKey),t=d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE,u=d("ReQLSuspense").useFirst(function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a[0];a=a[1];return l||!(j||(j=d("I64"))).equal(a.id,g)}).map(function(a){a[0];a=a[1];return a}):d("ReQL").empty()},[e,a.threadKey,a.threadType,g,l],f.id+":65"),v=d("LSContactUtils").getUserReachability(u),w=d("MWPThreadIsPage.react").useIsPage(),x=c("useMWXEntryPointDialog")(c("MWCallingRestrictionDialog.entrypoint"),{}),y=x[0],z=n(function(){y({trigger:"message_thread"})},[y]);x=o(function(){return{label:h._(/*BTDS*/"How to confirm"),onPress:z,size:32,type:"secondary"}},[z]);var A=[];c("useMWPAdultMinorRestrictionLogging")(a.threadKey,u==null?void 0:u.contactReachabilityStatusType);c("useLogPageFollowerExposure")(u);if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&u!=null){var B=c("MWGetLSThreadReportingTokenFromThread")(a),C=!(j||(j=d("I64"))).equal(u.blockedByViewerStatus,(k||(k=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED));if(v!==c("LSContactReachabilityStatusType").REACHABLE&&v!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_BANNER&&v!==c("LSContactReachabilityStatusType").REACHABLE_INVITE_MODEL_TEXT_ONLY&&v!==c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_REACHABLE_TEXT_ONLY_AND_BANNER){var D,E=h._(/*BTDS*/"You can't message this account."),F=u.friendshipStatus;v===c("LSContactReachabilityStatusType").UNREACHABLE_RS_UPSELL_ELIGIBLE&&F!==void 0&&(j||(j=d("I64"))).to_float(F)!==c("LSFriendshipStatus").CANNOT_REQUEST&&(j||(j=d("I64"))).to_float(F)!==c("LSFriendshipStatus").UNKNOWN?(E=h._(/*BTDS*/"You can't message this account. It may help to add them as a friend on Facebook."),t=d("MWBlockedComposerLogging").ComposerBlockingReason.USER_UNREACHABLE_MESSAGE_REQUEST):v===c("LSContactReachabilityStatusType").UNREACHABLE_INVITE_BLOCK?(D=h._(/*BTDS*/"Message request sent"),E=h._(/*BTDS*/"You can send more messages after they accept. {learn_more_link}",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:p,target:"_blank",children:h._(/*BTDS*/"Learn more")}))])):v===c("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK?(D=h._(/*BTDS*/"You've reached the message request limit"),E=h._(/*BTDS*/"There's a limit to how many requests you can send in 24 hours.")):v===c("LSContactReachabilityStatusType").UNREACHABLE_MR_LIMIT_BLOCK_WITH_APPEAL?(D=h._(/*BTDS*/"Confirm your identity to send messages"),E=h._(/*BTDS*/"Certain actions have been restricted due to unusual activity. {learn_more_link}",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:r,target:"_blank",children:h._(/*BTDS*/"Learn more")}))]),A=[x]):v===c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_BLOCK_COMPOSER?(D=h._(/*BTDS*/"Message request pending"),E=h._(/*BTDS*/"You can send message requests to 10 new people per day. Limit resets at midnight PST. {learn_more_link}",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:q,target:"_blank",children:h._(/*BTDS*/"Learn more")}))])):v===c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_REQUEST_LIMIT_REACHED?(D=h._(/*BTDS*/"Message request limit reached"),E=h._(/*BTDS*/"You can send message requests to 10 new people per day. Limit resets at midnight PST. {learn_more_link}",[h._param("learn_more_link",m.jsx(c("MWXLink.react"),{href:q,target:"_blank",children:h._(/*BTDS*/"Learn more")}))])):v===c("LSContactReachabilityStatusType").AP_PLUS_MESSAGING_UNREACHABLE_USER&&(D=w?h._(/*BTDS*/"This Page is unavailable"):h._(/*BTDS*/"This person is unavailable"),E=h._(/*BTDS*/"You can\u2019t message this account."));return m.jsx(c("MWPComposerPlaceholder.react"),{height:35,children:m.jsx(d("FocusRegion.react").FocusRegion,{children:m.jsx(s,{buttonsUnreachable:A,fbid:(j||(j=d("I64"))).to_string(u.id),isReachable:!1,reason:t,reportingToken:void 0,thread:a,unreachableHeader:D,unreachableTitle:E})})})}if(C)return m.jsx(c("MWPComposerPlaceholder.react"),{height:189,children:m.jsx(s,{buttonsOverride:b,fbid:(j||(j=d("I64"))).to_string(u.id),reason:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED,reportingToken:B,thread:a})})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWXIconDragHandle",["MWXSvgIcon","SVGIcon","cr:22302","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22302")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMWV2DisabledPageComposerSendMenuItem",["LSFactory","LSIntEnum","LSMailboxType","LSMessageReplySourceType","LSMessageReplySourceTypeV2","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","MWPActor.react","MessagePowerUp","promiseDone","react","react-compiler-runtime","useLSMessagingSource","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWPActor.react").useActor(),g=c("useLSMessagingSource")(),j;a[0]!==e||a[1]!==g||a[2]!==b?(j=function(a,h,j){c("promiseDone")(b.runInTransaction(function(b){var f=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(a,g);return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(b),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,mark_read:!0,platform_token:j,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),reply_source_type:i.ofNumber(c("LSMessageReplySourceType").MESSAGE),reply_source_type_v2:i.ofNumber(c("LSMessageReplySourceTypeV2").MESSAGE),snippet_has_emoji:!1,source:f}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:e,snippet:h,text:h,threadKey:a,threadType:i.ofNumber(1)})},"readwrite",void 0,void 0,f.id+":41"))},a[0]=e,a[1]=g,a[2]=b,a[3]=j):j=a[3];return j}g["default"]=a}),98);
__d("MWV2DisabledPageComposer.react",["fbt","JSResourceForInteraction","MWBlockedComposerLogging","MWXButton.react","MWXIconDragHandle","MWXLazyPopoverTrigger.react","react","react-compiler-runtime","useMWV2DisabledPageComposerSendMenuItem"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("LSComposerPersistentMenu.react").__setRef("MWV2DisabledPageComposer.react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(e,d("MWBlockedComposerLogging").ComposerBlockingReason.PAGE_THREAD_DISABLED);var f=c("useMWV2DisabledPageComposerSendMenuItem")();b[0]!==f||b[1]!==e?(a=function(a){var b=a.title;a=a.id;if(a!=null)return f(e,b,a)},b[0]=f,b[1]=e,b[2]=a):a=b[2];a=a;var g;b[3]!==a?(g=j.jsx(c("MWXLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:m,onSelect:a},popoverResource:k,children:l}),b[3]=a,b[4]=g):g=b[4];return g}function l(a,b){return j.jsx("div",{className:"x78zum5 xu06os2 xvijh9v xz9dl7a xpdmqnj xsag5q8 x1g0dm76",ref:a,children:j.jsx(c("MWXButton.react"),{icon:c("MWXIconDragHandle"),label:h._(/*BTDS*/"Menu"),onPress:b,reduceEmphasis:!0})})}l.displayName=l.name+" [from "+f.id+"]";function m(){}g["default"]=a}),226);
__d("useMWPDisablePageComposerConfiguration",["MWV2DisabledPageComposer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(2);if(a.disableComposerInput&&a.hasPersistentMenu){var e;b[0]!==a.threadKey?(e=i.jsx(c("MWV2DisabledPageComposer.react"),{threadKey:a.threadKey}),b[0]=a.threadKey,b[1]=e):e=b[1];return e}}g["default"]=a}),98);
__d("MWPFeatureLimitLoggingUtils",["I64","Int64Hooks","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","react-compiler-runtime","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MwbActorExperienceEventFalcoEvent").__setRef("MWPFeatureLimitLoggingUtils");function a(a,b,c){var e=d("react-compiler-runtime").c(7),f;e[0]!==c?(f=k(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){l({action:1,restriction_type:a,surface:g,thread_id:(h||(h=d("I64"))).to_string(b!=null?b:(h||(h=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function b(a,b,c){var e=d("react-compiler-runtime").c(7),f;e[0]!==c?(f=k(c),e[0]=c,e[1]=f):f=e[1];var g=f;e[2]!==a||e[3]!==g||e[4]!==b?(c=function(){l({action:2,restriction_type:a,surface:g,thread_id:(h||(h=d("I64"))).to_string(b!=null?b:(h||(h=d("I64"))).zero)})},f=[b,a,g],e[2]=a,e[3]=g,e[4]=b,e[5]=c,e[6]=f):(c=e[5],f=e[6]);return d("Int64Hooks").useCallbackInt64(c,f)}function e(a){if(a)if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PRIVATE)))return 40;else if((h||(h=d("I64"))).equal(a.type_,(i||(i=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC)))return 39;else return 6;return 0}function k(a){if(a){var b=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a),c=d("LSMessagingThreadTypeUtil").isOneToOne(a);if(c)return b?"messenger_encrypted_direct_thread":"messenger_direct_thread_details";c=d("LSMessagingThreadTypeUtil").isGroup(a);a=d("LSMessagingThreadTypeUtil").isPublicCMThread(a);if(c)return b?"messenger_encrypted_group_thread":a?"messenger_public_cm_chat":"messenger_group_thread_details"}return"unknown"}function l(a){var b=a.action,c=a.restriction_type,d=a.surface,e=a.thread_id;j.onReady(function(a){return a.log(function(){return{action:b,restriction_type:c,surface:d,thread_id:e}})})}g.useLogFeatureLimitComposerImpression=a;g.useLogViewCommunityStandards=b;g.getRestrictionTypeFromFeatureLimit=e}),98);
__d("useMWCMFetchSafetyInterventions",["I64","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(6),e=a===void 0?"prompt":a,g=(i||(i=c("useReStore")))(),l=d("MWPActor.react").useActor(),m=e==="composer_block",n=k,o;b[0]!==l||b[1]!==g.tables.mwb_safety_interventions||b[2]!==m||b[3]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.mwb_safety_interventions).filter(function(a){var b=a.logOnlySafetyInterventionType,c=a.mutImpressionsCount,f=a.userId;return a.uiType===e&&n(b)&&f===(h||(h=d("I64"))).to_string(l)&&(m||(h||(h=d("I64"))).equal(c,(h||(h=d("I64"))).zero))}).map(j)},o=[g.tables.mwb_safety_interventions,e,l,m],b[0]=l,b[1]=g.tables.mwb_safety_interventions,b[2]=m,b[3]=e,b[4]=a,b[5]=o):(a=b[4],o=b[5]);b=d("ReQLSuspense").useArray(a,o,f.id+":35");return b}function j(a){return(h||(h=d("I64"))).to_string(a.interventionId)}function k(a){return a==="education_notice_cm"||a==="education_notice_cm_unbatched"}g["default"]=a}),98);
__d("useMWPFeatureLimitComposerBlockHeaderText",["fbt","I64","react-compiler-runtime","useServerTime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=60*60*1e3,k=24*j,l=23*j,m=1e3;function a(a,b){var e=d("react-compiler-runtime").c(7),f=c("useServerTime")().valueOf();a=a!=null?(i||(i=d("I64"))).to_float(a.expirationTimestampSeconds)*1e3:f;a=a-f;if(a<=l){f=Math.ceil(Math.max(a,j)/j);var g;e[0]!==b||e[1]!==f?(g=b?h._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} hours\",\"_1\":\"You can't send messages in community chats and channels for 1 hour\"}",[h._plural(f,"number")]):h._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} hours\",\"_1\":\"You can't send messages for 1 hour\"}",[h._plural(f,"number")]),e[0]=b,e[1]=f,e[2]=g):g=e[2];return g}else{f=Math.ceil(Math.max(a,k)/k);if(f>=m){e[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"You can't send messages"),e[3]=g):g=e[3];return g}e[4]!==b||e[5]!==f?(a=b?h._(/*BTDS*/"_j{\"*\":\"You can't send messages in community chats and channels for {number} days\",\"_1\":\"You can't send messages in community chats and channels for 1 day\"}",[h._plural(f,"number")]):h._(/*BTDS*/"_j{\"*\":\"You can't send messages for {number} days\",\"_1\":\"You can't send messages for 1 day\"}",[h._plural(f,"number")]),e[4]=b,e[5]=f,e[6]=a):a=e[6];return a}}g["default"]=a}),226);
__d("MWPFeatureLimitsBlockedComposer.react",["fbt","I64","LSFeatureLimitsType","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWCMContentTakedownEnforcementNoticeDialog.entrypoint","MWCMThreadTypes.react","MWPActor.react","MWPFeatureLimitLoggingUtils","MWPFeatureLimitedData","MWXComposerBanner.react","react","react-compiler-runtime","useMWCMFetchSafetyInterventions","useMWPFeatureLimitComposerBlockHeaderText","useMWXEntryPointDialog","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=d("react-compiler-runtime").c(35);a=a.thread;var e=c("useMWCMFetchSafetyInterventions")("composer_block"),f;b[0]!==a.threadType?(f=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=f):f=b[1];f=f;var g;b[2]!==a.threadType?(g=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType),b[2]=a.threadType,b[3]=g):g=b[3];g=g;g=(g||f)&&e.length>0;b[4]!==e?(f={interventions_ids:e},b[4]=e,b[5]=f):f=b[5];f=c("useMWXEntryPointDialog")(c("MWCMContentTakedownEnforcementNoticeDialog.entrypoint"),f);var i=f[0];d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a==null?void 0:a.threadKey,d("MWBlockedComposerLogging").ComposerBlockingReason.FEATURE_LIMITED_TO_READONLY);f=d("MWPFeatureLimitedData").useReadOnlyFeatureLimitDataWithThreadType(a==null?void 0:a.threadType);var n;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(n=d("MWPActor.react").isAPPlus(),b[6]=n):n=b[6];n=n;b[7]!==f?(n=f!=null&&(j||(j=d("I64"))).equal(f.type_,(k||(k=d("LSIntEnum"))).ofNumber(c("LSFeatureLimitsType").MESSAGE_SEND_PUBLIC))&&n,b[7]=f,b[8]=n):n=b[8];n=n;var o=c("useMWPFeatureLimitComposerBlockHeaderText")(f,n),p;b[9]!==f?(p=d("MWPFeatureLimitLoggingUtils").getRestrictionTypeFromFeatureLimit(f),b[9]=f,b[10]=p):p=b[10];f=p;p=d("MWPFeatureLimitLoggingUtils").useLogFeatureLimitComposerImpression(f,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);f=d("MWPFeatureLimitLoggingUtils").useLogViewCommunityStandards(f,a==null?void 0:a.threadKey,a==null?void 0:a.threadType);b[11]!==p?(a={onImpressionStart:p},b[11]=p,b[12]=a):a=b[12];p=c("useSinglePartialViewImpression")(a);b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Something you sent in a chat went against our Community Standards."),b[13]=a):a=b[13];a=a;var q;b[14]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Your Page is restricted because you sent messages that went against Community Standards."),b[14]=q):q=b[14];q=q;var r;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(r={target:"_blank",url:"https://www.facebook.com/communitystandards/"},b[15]=r):r=b[15];r=r;var s;b[16]!==g||b[17]!==n?(s=n||g?h._(/*BTDS*/"Learn More"):h._(/*BTDS*/"See Community Standards"),b[16]=g,b[17]=n,b[18]=s):s=b[18];s=s;n=n?q:a;q=g?void 0:r;b[19]!==g||b[20]!==e||b[21]!==f||b[22]!==i?(a=g?function(){i({interventionsIds:e},m)}:f,b[19]=g,b[20]=e,b[21]=f,b[22]=i,b[23]=a):a=b[23];b[24]!==s||b[25]!==q||b[26]!==a?(r=[{label:s,linkProps:q,onPress:a}],b[24]=s,b[25]=q,b[26]=a,b[27]=r):r=b[27];b[28]!==o||b[29]!==n||b[30]!==r?(g=l.jsx(c("MWXComposerBanner.react"),{bodyText:n,buttons:r,headerText:o}),b[28]=o,b[29]=n,b[30]=r,b[31]=g):g=b[31];b[32]!==p||b[33]!==g?(f=l.jsx("div",{ref:p,children:g}),b[32]=p,b[33]=g,b[34]=f):f=b[34];return f}function m(){}g["default"]=a}),226);
__d("useMWPFeatureLimitsBlockedComposerConfiguration",["MWPFeatureLimitsBlockedComposer.react","isFeatureLimitEnabled","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b,e){var f=d("react-compiler-runtime").c(2);b=b&&(!a||c("isFeatureLimitEnabled")());if(b){f[0]!==e?(a=i.jsx(c("MWPFeatureLimitsBlockedComposer.react"),{thread:e}),f[0]=e,f[1]=a):a=f[1];return a}}g["default"]=a}),98);
__d("useMWPReQLFeatureLimitsBlockedComposerConfiguration",["LSMessagingThreadTypeUtil","react","react-compiler-runtime","useIsReadOnlyFeatureLimitedWithThreadType","useMWPFeatureLimitsBlockedComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e;b[0]!==a.threadType?(e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),b[0]=a.threadType,b[1]=e):e=b[1];b=e;e=c("useIsReadOnlyFeatureLimitedWithThreadType")(a.threadType);return c("useMWPFeatureLimitsBlockedComposerConfiguration")(b,e,a)}g["default"]=a}),98);
__d("useMWPNullComposerConfiguration",["I64","LSNullstateCTAType","MWBlockedComposerLogging","MWPreloadedText","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react")),k=h.useContext;function l(a){var b=a.reason;a=a.threadKey;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a,b);return null}function a(a,b,e,f){var g=d("react-compiler-runtime").c(3),h=k(c("MWPreloadedText"));f=f!=null&&(i||(i=d("I64"))).equal(f,(i||(i=d("I64"))).of_float(c("LSNullstateCTAType").GET_STARTED))&&!h.text;h=!(i||(i=d("I64"))).equal(b,i.zero);b=c("justknobx")._("926");if(f&&!h||!b&&e){f=e?d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GAME_BOT:d("MWBlockedComposerLogging").ComposerBlockingReason.GAMING_GET_STARTED_CTA;g[0]!==f||g[1]!==a?(h=j.jsx(l,{reason:f,threadKey:a}),g[0]=f,g[1]=a,g[2]=h):h=g[2];return h}}g["default"]=a}),98);
__d("useMWPReQLNullComposerConfiguration",["LSThreadBitOffset","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWPNullComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.thread_nullstate||b[1]!==a.threadKey?(g=function(){return d("ReQL").fromTableAscending(e.tables.thread_nullstate).getKeyRange(a.threadKey)},b[0]=e.tables.thread_nullstate,b[1]=a.threadKey,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a.threadKey?(i=[e,a.threadKey],b[3]=e,b[4]=a.threadKey,b[5]=i):i=b[5];g=d("ReQLSuspense").useFirst(g,i,f.id+":27");b[6]!==a?(i=d("LSThreadBitOffset").has(44,a),b[6]=a,b[7]=i):i=b[7];b=i;return c("useMWPNullComposerConfiguration")(a.threadKey,a.lastActivityTimestampMs,b,g==null?void 0:g.ctaType)}g["default"]=a}),98);
__d("MWChatUnavailableComposer.react",["fbt","ComponentMountUnmountSubspanLogger.react","MWBlockedComposerLogging","MWXComposerBanner.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(2),e=a.reason;a=a.thread;d("MWBlockedComposerLogging").useLogMWBlockedComposerReason(a.threadKey,e);b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"This person is unavailable on Messenger."),b[0]=a):a=b[0];e=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsxs("div",{children:[j.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MWChatUnavailableComposer"}),j.jsx(c("MWXComposerBanner.react"),{bodyText:e})]}),b[1]=a):a=b[1];return a}g["default"]=a}),226);
__d("getMWPUnavailableComposerConfiguration",["I64","LSAuthorityLevel","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","MWChatUnavailableComposer.react","MWXComposerGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b,e){if(d("LSMessagingThreadTypeUtil").isOneToOne(b)&&e!=null){b=!e.isPage&&(!e.hasMessageCapability||!e.hasReplyMessageCapability);if(e.blockedSinceTimestampMs==null&&b)return(i||(i=d("I64"))).lt(e.authorityLevel,(i||(i=d("I64"))).of_int32(c("LSAuthorityLevel").AUTHORITATIVE))?j.jsx(c("MWXComposerGlimmer.react"),{}):j.jsx(c("MWChatUnavailableComposer.react"),{reason:e.hasMessageCapability?d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_REPLY:d("MWBlockedComposerLogging").ComposerBlockingReason.USER_BLOCKED_CANNOT_MESSAGE,thread:{threadKey:a}})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWPReQLUnavailableComposerConfiguration",["I64","LSContactBitOffset","LSContactType","LSIntEnum","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","getMWPUnavailableComposerConfiguration","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k;k||d("react");function a(a){var b=d("react-compiler-runtime").c(16),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),k;b[0]!==g||b[1]!==a.threadKey?(k=(i||(i=d("I64"))).equal(g,a.threadKey),b[0]=g,b[1]=a.threadKey,b[2]=k):k=b[2];var m=k,n;b[3]!==g||b[4]!==e||b[5]!==m||b[6]!==a.threadKey||b[7]!==a.threadType?(k=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a=a[1];return m||!(i||(i=d("I64"))).equal(a.id,g)}).map(l):d("ReQL").empty()},n=[e,a.threadKey,a.threadType,g,m],b[3]=g,b[4]=e,b[5]=m,b[6]=a.threadKey,b[7]=a.threadType,b[8]=k,b[9]=n):(k=b[8],n=b[9]);k=d("ReQLSuspense").useFirst(k,n,f.id+":33");if(k==null)return;n=k==null?void 0:k.authorityLevel;var o=k==null?void 0:k.blockedSinceTimestampMs,p;b[10]!==k||b[11]!==n||b[12]!==o||b[13]!==a.threadKey||b[14]!==a.threadType?(p=c("getMWPUnavailableComposerConfiguration")(a.threadKey,a.threadType,{authorityLevel:n,blockedSinceTimestampMs:o,hasMessageCapability:d("LSContactBitOffset").has(0,k),hasReplyMessageCapability:d("LSContactBitOffset").has(1,k),isPage:(i||(i=d("I64"))).equal(k.contactType,(j||(j=d("LSIntEnum"))).ofNumber(c("LSContactType").PAGE))}),b[10]=k,b[11]=n,b[12]=o,b[13]=a.threadKey,b[14]=a.threadType,b[15]=p):p=b[15];return p}function l(a){a=a[1];return a}g["default"]=a}),98);
__d("useMWPShouldShowRestrictedComposer",["LSMessagingThreadTypeUtil","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var c=d("react-compiler-runtime").c(3),e;c[0]!==b||c[1]!==a?(e=d("LSMessagingThreadTypeUtil").isOneToOne(a)&&b,c[0]=b,c[1]=a,c[2]=e):e=c[2];return e}g["default"]=a}),98);
__d("useMWPRestrictedComposerConfiguration",["I64","JSResourceForInteraction","LSContactBitOffset","MWPComposerPlaceholder.react","lazyLoadComponent","react","react-compiler-runtime","useMWGetOtherUserContact","useMWIsContactRestricted","useMWPShouldShowRestrictedComposer"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react"),k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWPReQLRestrictedComposer.react").__setRef("useMWPRestrictedComposerConfiguration"));function a(a){var b=d("react-compiler-runtime").c(7),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=["id"].concat(d("LSContactBitOffset").contactCapabilityFields),b[0]=e):e=b[0];e=c("useMWGetOtherUserContact")(a.threadKey,a.threadType,e);var f=c("useMWIsContactRestricted")(e);f=c("useMWPShouldShowRestrictedComposer")(a.threadType,f);if(f&&e!=null){b[1]!==e.id?(f=(i||(i=d("I64"))).to_string(e.id),b[1]=e.id,b[2]=f):f=b[2];b[3]!==f||b[4]!==a.threadKey||b[5]!==a.threadType?(e=j.jsx(c("MWPComposerPlaceholder.react"),{height:128,children:j.jsx(k,{fbid:f,threadKey:a.threadKey,threadType:a.threadType})}),b[3]=f,b[4]=a.threadKey,b[5]=a.threadType,b[6]=e):e=b[6];return e}}g["default"]=a}),98);
__d("useMWCutoverComposerConfiguration",["JSResourceForInteraction","LSMessagingThreadTypeUtil","MWBlockedComposerLogging","gkx","lazyLoadComponent","react","react-compiler-runtime","useMAWCanThreadBeCutoverOnDemand"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useState,k=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),l=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWOnDemandCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration")),m=c("lazyLoadComponent")(c("JSResourceForInteraction")("MWDualThreadCutoverComposer.react").__setRef("useMWCutoverComposerConfiguration"));function a(a,b,e,f,g,h){var n=d("react-compiler-runtime").c(17),o=j(!1),p=o[0];o=o[1];var q=c("useMAWCanThreadBeCutoverOnDemand")(a);if((h||g||q||p)&&(!d("LSMessagingThreadTypeUtil").isOneToOne(b)||e!=null))if(f&&c("gkx")("12491")){n[0]!==a||n[1]!==b?(h={threadKey:a,threadType:b},n[0]=a,n[1]=b,n[2]=h):h=n[2];n[3]!==e||n[4]!==h?(g=i.jsx(m,{otherUser:e,thread:h}),n[3]=e,n[4]=h,n[5]=g):g=n[5];return g}else if(q||p){n[6]!==a?(f={threadKey:a},n[6]=a,n[7]=f):f=n[7];n[8]!==p||n[9]!==f?(h=i.jsx(l,{isODCutoverNavigationInProgress:p,reason:d("MWBlockedComposerLogging").ComposerBlockingReason.ON_DEMAND_CUTOVER,setIsODCutoverNavigationInProgress:o,thread:f}),n[8]=p,n[9]=f,n[10]=h):h=n[10];return h}else{g=e!=null?d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_THREAD_ALREADY_CUTOVER:d("MWBlockedComposerLogging").ComposerBlockingReason.ARMADILLO_GROUP_THREAD_CUTOVER;n[11]!==a||n[12]!==b?(q={threadKey:a,threadType:b},n[11]=a,n[12]=b,n[13]=q):q=n[13];n[14]!==g||n[15]!==q?(o=i.jsx(k,{reason:g,thread:q}),n[14]=g,n[15]=q,n[16]=o):o=n[16];return o}}g["default"]=a}),98);
__d("useMWReQLCutoverComposerConfiguration",["LSContactBitOffset","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWCutoverComposerConfiguration","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a.threadKey||b[2]!==a.threadType?(g=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(a.threadKey):d("ReQL").empty()},b[0]=e.tables.contacts,b[1]=a.threadKey,b[2]=a.threadType,b[3]=g):g=b[3];var i;b[4]!==e||b[5]!==a?(i=[e,a],b[4]=e,b[5]=a,b[6]=i):i=b[6];g=d("ReQLSuspense").useFirst(g,i,f.id+":33");i=((i=(i=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.messages_ranges_v2__generated).getKeyRange(a.threadKey)},[e,a.threadKey],f.id+":44"))==null?void 0:i.minMessageId)!=null?i:"")==="";var j;b[7]!==g?(j=g!=null&&d("LSContactBitOffset").has(76,g),b[7]=g,b[8]=j):j=b[8];b=j;j=b&&i;b=d("MAWThreadCutover").useIsCutoverOpenThread(a.threadKey)||d("LSThreadBitOffset").has(128,a);i=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a.threadKey);return c("useMWCutoverComposerConfiguration")(a.threadKey,a.threadType,g,i,b,j)}g["default"]=a}),98);
__d("useMWReQLMessageRequestBlockedComposerConfiguration",["I64","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWSecureComposerUtils","MWPActor.react","MWReQLMessageRequestComposerBanner.react","MessageRequestsLog","MessengerWebUXLogger","ReQL","ReQLSuspense","cr:3912","gkx","react","react-compiler-runtime","useMWLSAcceptMessageRequest","useMessageRequestDeleteConversation","useMessageRequestLeaveGroup","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));k.useMemo;var m=b("cr:3912")==null?function(a,b){return!1}:b("cr:3912").isOneOnOneMessageRequestV2,n=b("cr:3912")==null?function(a){return!1}:b("cr:3912").isGroupMessageRequest,o=c("gkx")("7387");function a(a){var b=d("react-compiler-runtime").c(32),e=(h||(h=c("useReStore")))(),g=c("useMessageRequestLeaveGroup")(a.threadKey),k=a.threadType,p=c("useMessageRequestDeleteConversation")(a),q;b[0]!==k?(q=d("LSMessagingThreadTypeUtil").isArmadilloSecure(k),b[0]=k,b[1]=q):q=b[1];var r=q,s=c("useMWLSAcceptMessageRequest")(a.threadKey);q=!r&&d("LSThreadBitOffset").has(21,a);var t=d("MWPActor.react").useActor(),u,v;b[2]!==t||b[3]!==e.tables.contacts||b[4]!==e.tables.participants||b[5]!==a.threadKey||b[6]!==k?(u=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(k)||(i||(i=d("I64"))).equal(k,(j||(j=d("LSIntEnum"))).ofNumber(5))?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(e.tables.participants).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(e.tables.contacts)).filter(function(a){a=a[1];return!(i||(i=d("I64"))).equal(a.id,t)}):d("ReQL").empty()},v=[a.threadKey,k,e.tables.participants,e.tables.contacts,t],b[2]=t,b[3]=e.tables.contacts,b[4]=e.tables.participants,b[5]=a.threadKey,b[6]=k,b[7]=u,b[8]=v):(u=b[7],v=b[8]);var w=d("ReQLSuspense").useFirst(u,v,f.id+":67");bb0:{if(r){u=m(a,w)||o&&n(a);break bb0}u=!1}v=u;b[9]!==k?(u=d("LSMessagingThreadTypeUtil").isGroup(k),b[9]=k,b[10]=u):u=b[10];var x=u;b[11]!==e||b[12]!==w||b[13]!==a?(u=function(){w!=null&&d("MAWSecureComposerUtils").onDeleteThread(e,a,w[1].id)},b[11]=e,b[12]=w,b[13]=a,b[14]=u):u=b[14];u=u;var y=c("MessengerWebUXLogger").useInteractionLogger();if((v||q)&&c("gkx")("1545")){b[15]!==s||b[16]!==y||b[17]!==a?(v=function(){d("MessageRequestsLog").logActionConfirmed(a,1),y==null||y({eventName:"accept_chat_request",threadKey:a.threadKey,threadType:a.threadType}),s()},b[15]=s,b[16]=y,b[17]=a,b[18]=v):v=b[18];q=r?u:p;b[19]!==x||b[20]!==r||b[21]!==g||b[22]!==y||b[23]!==a?(u=function(){if(!r&&x){d("MessageRequestsLog").logActionConfirmed(a,10);y==null||y({eventName:"leave_group",threadKey:a.threadKey,threadType:a.threadType});return g()}},b[19]=x,b[20]=r,b[21]=g,b[22]=y,b[23]=a,b[24]=u):u=b[24];p=w==null?void 0:w[1];var z;b[25]!==x||b[26]!==v||b[27]!==q||b[28]!==u||b[29]!==p||b[30]!==a?(z=l.jsx(c("MWReQLMessageRequestComposerBanner.react"),{isGroup:x,onAccept:v,onDeleteConversation:q,onLeaveGroup:u,otherUserContact:p,thread:a}),b[25]=x,b[26]=v,b[27]=q,b[28]=u,b[29]=p,b[30]=a,b[31]=z):z=b[31];return z}}g["default"]=a}),98);
__d("MWComposerGating.react",["LSMessagingThreadTypeUtil","MWPComposerGating.react","MWV2OpenComposer.react","cr:9773","emptyFunction","react","react-compiler-runtime","useMAWEditMessageData","useMWAppealableMessageSendComposerBlockConfiguration","useMWComposerGlimmerOnDraftLoadingState","useMWDefaultE2eeComposerConfiguration","useMWMetaAIBlockingComposerConfiguration","useMWPBlockedComposerConfiguration","useMWPDisablePageComposerConfiguration","useMWPReQLFeatureLimitsBlockedComposerConfiguration","useMWPReQLNullComposerConfiguration","useMWPReQLUnavailableComposerConfiguration","useMWPRestrictedComposerConfiguration","useMWReQLCutoverComposerConfiguration","useMWReQLMessageRequestBlockedComposerConfiguration"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.memo;function k(a){var b=d("react-compiler-runtime").c(13),e=c("useMWPReQLNullComposerConfiguration")(a),f=c("useMWPDisablePageComposerConfiguration")(a),g=c("useMWPReQLFeatureLimitsBlockedComposerConfiguration")(a),h=c("useMWReQLCutoverComposerConfiguration")(a),i=c("useMWPBlockedComposerConfiguration")(a),j=c("useMWPRestrictedComposerConfiguration")(a),k=c("useMWPReQLUnavailableComposerConfiguration")(a),l=c("useMWDefaultE2eeComposerConfiguration")(a),m=c("useMWReQLMessageRequestBlockedComposerConfiguration")(a),n=c("useMWAppealableMessageSendComposerBlockConfiguration")(),o=c("useMWMetaAIBlockingComposerConfiguration")(a);a=c("useMWComposerGlimmerOnDraftLoadingState")(a);var p;b[0]!==e||b[1]!==f||b[2]!==o||b[3]!==a||b[4]!==g||b[5]!==h||b[6]!==i||b[7]!==j||b[8]!==k||b[9]!==l||b[10]!==m||b[11]!==n?(p=[e,f,g,h,i,j,k,l,m,n,o,a],b[0]=e,b[1]=f,b[2]=o,b[3]=a,b[4]=g,b[5]=h,b[6]=i,b[7]=j,b[8]=k,b[9]=l,b[10]=m,b[11]=n,b[12]=p):p=b[12];return p}function a(a){var e=d("react-compiler-runtime").c(8),f=a.afterSendMessage,g=a.isPreviewThread;a=a.thread;var h=c("useMAWEditMessageData")();h=d("LSMessagingThreadTypeUtil").isArmadilloSecure(h!=null?h.threadType:a.threadType);if(b("cr:9773")!=null&&h){e[0]!==f||e[1]!==g||e[2]!==a?(h=i.jsx(b("cr:9773"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[0]=f,e[1]=g,e[2]=a,e[3]=h):h=e[3];return h}else{e[4]!==f||e[5]!==g||e[6]!==a?(h=i.jsx(c("MWV2OpenComposer.react"),{afterSendMessage:f,isPreviewThread:g,thread:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=h):h=e[7];return h}}var l=j(a);function e(a){var b=d("react-compiler-runtime").c(8),e=a.afterSendMessage,f=a.isPreviewThread,g=a.thread,h=e===void 0?c("emptyFunction"):e;a=k(g);b[0]!==h||b[1]!==f||b[2]!==g?(e=function(){return i.jsx(l,{afterSendMessage:h,isPreviewThread:f,thread:g})},b[0]=h,b[1]=f,b[2]=g,b[3]=e):e=b[3];var j;b[4]!==a||b[5]!==e||b[6]!==g?(j=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!1,renderComposer:e,thread:g}),b[4]=a,b[5]=e,b[6]=g,b[7]=j):j=b[7];return j}function f(a){var b=d("react-compiler-runtime").c(8),e=a.afterSendMessage,f=a.isPreviewThread,g=a.thread;a=k(g);var h;b[0]!==e||b[1]!==f||b[2]!==g?(h=function(){return i.jsx(l,{afterSendMessage:e,isPreviewThread:f,thread:g})},b[0]=e,b[1]=f,b[2]=g,b[3]=h):h=b[3];var j;b[4]!==a||b[5]!==h||b[6]!==g?(j=i.jsx(c("MWPComposerGating.react"),{configurations:a,isMessengerInbox:!0,renderComposer:h,thread:g}),b[4]=a,b[5]=h,b[6]=g,b[7]=j):j=b[7];return j}g.MWChatComposerGating=e;g.MWInboxComposerGating=f}),98);
__d("useOtherContactFromOneToOneThread",["Actor","I64","LSIntEnum","LSMessagingThreadTypeUtil","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a){var b=d("react-compiler-runtime").c(6),e=(j||(j=c("useReStore")))(),g=d("Actor").useActor(),l=g[0],m;b[0]!==l||b[1]!==e||b[2]!==a.threadKey||b[3]!==a.threadType?(g=function(){return(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(5))||d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)?d("ReQL").leftJoin(d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a.threadKey).take(2).filter(function(a){a=a.contactId;return(h||(h=d("I64"))).to_string(a)!==l}),d("ReQL").fromTableAscending(e.tables.contacts)).map(k):d("ReQL").empty()},m=[l,e,a.threadKey,a.threadType],b[0]=l,b[1]=e,b[2]=a.threadKey,b[3]=a.threadType,b[4]=g,b[5]=m):(g=b[4],m=b[5]);return d("ReQLSuspense").useFirst(g,m,f.id+":29")}function k(a){a=a[1];return a}g.useOtherContactFromOneToOneThread=a}),98);
__d("MWLSChatTabHeaderDetails.react",["fbt","BaseMiddot.react","CometPlaceholder.react","I64","LSIntEnum","LSMessagingThreadTypeUtil","LSRtcCallState","LSThreadTitle.react","LSVerificationBadge.react","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeaderDetailsSubtitleMutedIcon.react","MWGenAIUtils","MWInboxHeaderDetailsUnifiedPresenceStatusText.react","MWLSContactTypeExactUtils","MWSeparatorContainer.react","MWVerticalRhythm","MWXText.react","MessengerMuteUtils","cr:112","cr:4703","react","react-compiler-runtime","useMWChatCalculateIsMutedFromExpireTime","useMWIsStaleCall","useOtherContactFromOneToOneThread"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react"),m={item:{alignItems:"x6s0dn4",display:"x78zum5",maxWidth:"x193iq5w",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(3);a=a.children;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x1dyh7pn"},b[0]=e):e=b[0];b[1]!==a?(e=l.jsx(c("MWXText.react"),{align:"center",numberOfLines:1,type:"meta3",children:l.jsx("div",babelHelpers["extends"]({},e,{children:a}))}),b[1]=a,b[2]=e):e=b[2];return e}function a(a){var e=d("react-compiler-runtime").c(52),f=a.thread;a=a.threadNameSize;var g=d("useOtherContactFromOneToOneThread").useOtherContactFromOneToOneThread(f),i=f.memberCount,o=f.muteCallsExpireTimeMs,p=f.muteExpireTimeMs,q=f.nullstateDescriptionText1,r=f.ongoingCallState,s=f.ongoingCallTimestampMs,t=f.threadKey,u=f.threadType,v;e[0]!==g?(v=g!=null&&d("MWLSContactTypeExactUtils").isIgContact(g.contactTypeExact)?g.secondaryName:null,e[0]=g,e[1]=v):v=e[1];g=v;e[2]!==u?(v=d("MWCMThreadTypes.react").isJoinedCMThread(u),e[2]=u,e[3]=v):v=e[3];v=v;var w;e[4]!==u?(w=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(u),e[4]=u,e[5]=w):w=e[5];w=w;var x;e[6]!==t?(x=d("MWGenAIUtils").isMetaAIThread(t),e[6]=t,e[7]=x):x=e[7];x=x;var y;e[8]!==o||e[9]!==p||e[10]!==u?(y=d("MessengerMuteUtils").calcMuteUntilMs({muteCallsExpireTimeMs:o,muteExpireTimeMs:p,threadType:u}),e[8]=o,e[9]=p,e[10]=u,e[11]=y):y=e[11];o=y;p=c("useMWChatCalculateIsMutedFromExpireTime")(o);y=!(j||(j=d("I64"))).equal(r,(k||(k=d("LSIntEnum"))).ofNumber(c("LSRtcCallState").NO_ONGOING_CALL));e[12]!==u?(o=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(u),e[12]=u,e[13]=o):o=e[13];r=o;e[14]!==u?(o=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(u),e[14]=u,e[15]=o):o=e[15];o=o;s=c("useMWIsStaleCall")(u,y,s!=null?s:(j||(j=d("I64"))).zero);var z;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(z={className:"x1djpfga x1im30kd"},e[16]=z):z=e[16];e[17]===Symbol["for"]("react.memo_cache_sentinel")?(z=l.jsx("div",babelHelpers["extends"]({},z,{children:l.jsx(n,{children:l.jsx(c("BaseMiddot.react"),{})})})),e[17]=z):z=e[17];z=z;var A,B;e[18]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"x1cy8zhl x78zum5 xdt5ytf x1iyjqo2 xl56j7k xj9xw9b"},B={className:"x6s0dn4 x78zum5 x193iq5w"},e[18]=A,e[19]=B):(A=e[18],B=e[19]);var C;e[20]===Symbol["for"]("react.memo_cache_sentinel")?(C={className:"xxymvpz x1dyh7pn"},e[20]=C):C=e[20];var D;e[21]!==f?(D=l.jsx(c("LSThreadTitle.react"),{thread:f}),e[21]=f,e[22]=D):D=e[22];var E;e[23]!==o||e[24]!==v||e[25]!==f.threadKey?(E=!o&&!v&&l.jsx(c("LSVerificationBadge.react"),{size:"small",threadKey:f.threadKey}),e[23]=o,e[24]=v,e[25]=f.threadKey,e[26]=E):E=e[26];e[27]!==E?(o=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetails.ThreadVerificationBadge",children:E}),e[27]=E,e[28]=o):o=e[28];e[29]!==D||e[30]!==o?(E=l.jsxs("span",babelHelpers["extends"]({},C,{children:[D,o]})),e[29]=D,e[30]=o,e[31]=E):E=e[31];e[32]!==E||e[33]!==a?(C=l.jsx("div",babelHelpers["extends"]({},B,{children:l.jsx(c("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,testid:void 0,type:a,children:E})})),e[32]=E,e[33]=a,e[34]=C):C=e[34];e[35]!==g||e[36]!==r||e[37]!==v||e[38]!==x||e[39]!==p||e[40]!==y||e[41]!==w||e[42]!==s||e[43]!==i||e[44]!==q||e[45]!==f||e[46]!==t||e[47]!==u?(D=r&&b("cr:112")?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(n,{children:l.jsx(b("cr:112"),{memberCount:i!=null?(j||(j=d("I64"))).to_int32(i):0})})]}):w?b("cr:4703")!=null&&i!=null?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(n,{children:l.jsx(b("cr:4703"),{count:(j||(j=d("I64"))).to_int32(i)})})]}):null:v?l.jsxs(c("CometPlaceholder.react"),{fallback:l.jsx(c("MWVerticalRhythm"),{height:15}),name:"MWLSChatTabHeaderDetails.CommunityGroupName",children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsx("div",{className:"x6s0dn4 x78zum5 x193iq5w","data-testid":void 0,children:l.jsx(n,{children:l.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:f})})})]}):x?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(n,{children:q})]}):y&&!s?l.jsxs(l.Fragment,{children:[l.jsx(c("MWVerticalRhythm"),{height:6}),l.jsxs(c("MWSeparatorContainer.react"),{separator:z,xstyle:m.item,children:[g!=null?l.jsx(n,{children:g}):null,l.jsx(n,{children:h._(/*BTDS*/"Ongoing call")}),p?l.jsx(c("MWChatHeaderDetailsSubtitleMutedIcon.react"),{}):null]})]}):l.jsx(c("MWInboxHeaderDetailsUnifiedPresenceStatusText.react"),{igHandle:g,isMuted:p,threadKey:t,threadType:u}),e[35]=g,e[36]=r,e[37]=v,e[38]=x,e[39]=p,e[40]=y,e[41]=w,e[42]=s,e[43]=i,e[44]=q,e[45]=f,e[46]=t,e[47]=u,e[48]=D):D=e[48];e[49]!==C||e[50]!==D?(o=l.jsxs("div",babelHelpers["extends"]({},A,{children:[C,D]})),e[49]=C,e[50]=D,e[51]=o):o=e[51];return o}g["default"]=a}),226);
__d("MWLSContactLink.react",["CurrentEnvironment","MWLSContactTypeExactUtils","MWXLink.react","MWXPressable.react","getLSContactHref","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={expanding:{display:"x78zum5",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.children,f=a.contact,g=a.isText,h=a.label;a=a.testid;g=g===void 0?!0:g;var k=f.blockedByViewerStatus,l=f.contactTypeExact,m=f.id;f=f.secondaryName;f=f!=null?f:void 0;var n;b[0]!==k||b[1]!==l||b[2]!==m||b[3]!==f?(n=c("getLSContactHref")({blockedByViewerStatus:k,contactTypeExact:l,id:m,secondaryName:f}),b[0]=k,b[1]=l,b[2]=m,b[3]=f,b[4]=n):n=b[4];k=n;m=d("MWLSContactTypeExactUtils").isIgContact(l);f=!c("CurrentEnvironment").facebookdotcom||m?"_blank":void 0;if(g){b[5]!==e||b[6]!==h||b[7]!==f||b[8]!==a||b[9]!==k?(n=i.jsx(c("MWXLink.react"),{href:k,label:h,target:f,testid:void 0,children:e}),b[5]=e,b[6]=h,b[7]=f,b[8]=a,b[9]=k,b[10]=n):n=b[10];return n}b[11]!==f||b[12]!==k?(l={target:f,url:k},b[11]=f,b[12]=k,b[13]=l):l=b[13];b[14]!==e||b[15]!==h||b[16]!==l||b[17]!==a?(m=i.jsx(c("MWXPressable.react"),{expanding:!0,label:h,linkProps:l,overlayRadius:"normal",testid:void 0,xstyle:j.expanding,children:e}),b[14]=e,b[15]=h,b[16]=l,b[17]=a,b[18]=m):m=b[18];return m}g["default"]=a}),98);
__d("useOtherParticipantOrSelfContact",["I64","LSMessagingThreadTypeUtil","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function j(a){var b=d("react-compiler-runtime").c(10),e=(i||(i=c("useReStore")))(),g=a.threadKey,j=a.threadType,l=d("MWPActor.react").useActor(),m;b[0]!==e||b[1]!==g||b[2]!==j?(a=function(){return!d("LSMessagingThreadTypeUtil").isOneToOne(j)?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(g).map(k).take(2)},m=[e,g,j],b[0]=e,b[1]=g,b[2]=j,b[3]=a,b[4]=m):(a=b[3],m=b[4]);a=d("ReQLSuspense").useArray(a,m,f.id+":28");if(a.length===0)return null;if(a.length===1)return a[0];if(b[5]!==l||b[6]!==a){b[8]!==l?(m=function(a){return!(h||(h=d("I64"))).equal(a,l)},b[8]=l,b[9]=m):m=b[9];m=a.find(m);b[5]=l;b[6]=a;b[7]=m}else m=b[7];return m}function k(a){return a.contactId}function a(a){var b=d("react-compiler-runtime").c(4),e=(i||(i=c("useReStore")))(),g=j(a),h;b[0]!==g||b[1]!==e?(a=function(){return g==null?d("ReQL").empty():d("ReQL").fromTableAscending(e.tables.contacts).getKeyRange(g)},h=[e,g],b[0]=g,b[1]=e,b[2]=a,b[3]=h):(a=b[2],h=b[3]);return d("ReQLSuspense").useFirst(a,h,f.id+":51")}g.useOtherParticipantOrSelfContact=a}),98);
__d("MWLSChatTabHeaderDetailsPressable.react",["fbt","CometPressable.react","CurrentEnvironment","FBLogger","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWLSContactLink.react","MWLSGroupMembershipDialog.entrypoint","MWXTooltip.react","ReQL","ReQLSuspense","XCometVanityURLControllerRouteBuilder","react","react-compiler-runtime","useCometRouterDispatcher","useCommunityFolder","useMWAriaLabelForThread","useMWXEntryPointDialog","useOtherParticipantOrSelfContact","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useRef,n={title:{maxWidth:"x193iq5w",$$css:!0}};function o(a){var b=d("react-compiler-runtime").c(16),e=a.children,g=a.thread,h=c("useCometRouterDispatcher")(),k=(i||(i=c("useReStore")))();b[0]!==k.tables.participants||b[1]!==g.threadKey?(a=function(){return d("ReQL").fromTableAscending(k.tables.participants,["isSuperAdmin","contactId"]).getKeyRange(g.threadKey).take(2)},b[0]=k.tables.participants,b[1]=g.threadKey,b[2]=a):a=b[2];var o;b[3]!==k||b[4]!==g.threadKey?(o=[k,g.threadKey],b[3]=k,b[4]=g.threadKey,b[5]=o):o=b[5];a=d("ReQLSuspense").useArray(a,o,f.id+":56");o=c("useMWAriaLabelForThread")(g);var q=g.snippetSenderContactId,r=m(null),s;b[6]!==a?(s=a.find(p),b[6]=a,b[7]=s):s=b[7];var t=s;b[8]!==(t==null?void 0:t.contactId)||b[9]!==h||b[10]!==q?(a=function(){var a=q!=null?q:t==null?void 0:t.contactId;if(a==null)return;a=(c("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+c("XCometVanityURLControllerRouteBuilder").buildUri({vanity:(j||(j=d("I64"))).to_string(a)}).toString();h==null||h.go(a,{})},b[8]=t==null?void 0:t.contactId,b[9]=h,b[10]=q,b[11]=a):a=b[11];b[12]!==e||b[13]!==o||b[14]!==a?(s=l.jsx(c("CometPressable.react"),{"aria-label":o,onPress:a,overlayDisabled:!0,ref:r,xstyle:n.title,children:e}),b[12]=e,b[13]=o,b[14]=a,b[15]=s):s=b[15];return s}function p(a){return a.isSuperAdmin===!0}function q(a){var b=d("react-compiler-runtime").c(14),e=a.children;a=a.thread;var f=c("useMWAriaLabelForThread")(a),g=c("useCommunityFolder")(a);a=m(null);if(b[0]!==(g==null?void 0:g.fbGroupId)){var i;i=(j||(j=d("I64"))).to_string((i=g==null?void 0:g.fbGroupId)!=null?i:(j||(j=d("I64"))).zero);b[0]=g==null?void 0:g.fbGroupId;b[1]=i}else i=b[1];var k;b[2]!==i?(k={groupID:i},b[2]=i,b[3]=k):k=b[3];i=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),k);var o=i[0];b[4]!==g||b[5]!==o?(k=function(){return o({folder:g!=null?g:void 0})},b[4]=g,b[5]=o,b[6]=k):k=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Members"),b[7]=i):i=b[7];b[8]!==e?(i=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:i,children:e}),b[8]=e,b[9]=i):i=b[9];b[10]!==f||b[11]!==k||b[12]!==i?(e=l.jsx(c("CometPressable.react"),{"aria-label":f,onPress:k,overlayDisabled:!0,ref:a,xstyle:n.title,children:i}),b[10]=f,b[11]=k,b[12]=i,b[13]=e):e=b[13];return e}function r(a){var b=d("react-compiler-runtime").c(7),e=a.children;a=a.thread;var f=d("LSThreadBitOffset").has(8,a),g=d("useOtherParticipantOrSelfContact").useOtherParticipantOrSelfContact(a);d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType)&&g==null&&c("FBLogger")("meteora").warn("Missing other participant in one-to-one thread.");if(g==null||!f)return e;a=g.name;b[0]!==e||b[1]!==a?(f=l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:a,children:e}),b[0]=e,b[1]=a,b[2]=f):f=b[2];b[3]!==a||b[4]!==g||b[5]!==f?(e=l.jsx(c("MWLSContactLink.react"),{contact:g,isText:!1,label:a,children:f}),b[3]=a,b[4]=g,b[5]=f,b[6]=e):e=b[6];return e}function a(a){var b=d("react-compiler-runtime").c(9),c=a.children;a=a.thread;var e=a.threadSubtype,f=a.threadType,g=d("LSThreadBitOffset").has(26,a);if(d("LSMessagingThreadTypeUtil").isBusinessSupportThread(e!=null?e:void 0))return c;if(d("LSMessagingThreadTypeUtil").isOneToOne(f)){b[0]!==c||b[1]!==a?(e=l.jsx(r,{thread:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}if(d("LSMessagingThreadTypeUtil").isGroup(f)&&g){b[3]!==c||b[4]!==a?(e=l.jsx(q,{thread:a,children:c}),b[3]=c,b[4]=a,b[5]=e):e=b[5];return e}if(d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(f)){b[6]!==c||b[7]!==a?(g=l.jsx(o,{thread:a,children:c}),b[6]=c,b[7]=a,b[8]=g):g=b[8];return g}return c}g["default"]=a}),226);
__d("usePresenceUnifiedIsThreadActiveForContactIds",["I64","PresenceCommonPresenceCommonTypes","react","react-compiler-runtime","usePresenceUnifiedClientContext","usePresenceUnifiedMapContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),c=d("usePresenceUnifiedMapContext").usePresenceUnifiedMapContext(),e=d("usePresenceUnifiedClientContext").usePresenceUnifiedClientContext(),f,g;b[0]!==a||b[1]!==e?(f=function(){e==null||e.addAdditionalContacts(a.map(k))},g=[a,e],b[0]=a,b[1]=e,b[2]=f,b[3]=g):(f=b[2],g=b[3]);j(f,g);if(b[4]!==a||b[5]!==c){b[7]!==c?(f=function(a){return((a=c.get((i||(i=d("I64"))).to_string(a)))==null?void 0:a.presenceStatus)===d("PresenceCommonPresenceCommonTypes").PresenceStatus.Active},b[7]=c,b[8]=f):f=b[8];g=a.some(f);b[4]=a;b[5]=c;b[6]=g}else g=b[6];return g}function k(a){return(i||(i=d("I64"))).to_string(a)}g["default"]=a}),98);
__d("useMWLSMQTTPresence",["Actor","I64","ReQL","ReQLSuspense","react-compiler-runtime","usePresenceUnifiedIsThreadActiveForContactIds","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(5),e=(i||(i=c("useReStore")))(),g=d("Actor").useActor(),k=g[0],l;b[0]!==k||b[1]!==e.tables.participants||b[2]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).map(j).filter(function(a){return a!=null&&(h||(h=d("I64"))).to_string(a)!==k})},l=[k,e.tables.participants,a],b[0]=k,b[1]=e.tables.participants,b[2]=a,b[3]=g,b[4]=l):(g=b[3],l=b[4]);b=d("ReQLSuspense").useArray(g,l,f.id+":25");return c("usePresenceUnifiedIsThreadActiveForContactIds")(b)}function j(a){return a==null?void 0:a.contactId}g["default"]=a}),98);
__d("MWPLSPresenceBadge.react",["MWPPresenceBadge.react","react","react-compiler-runtime","useMWLSMQTTPresence"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.borderThemeColor,f=a.size;a=a.threadKey;a=c("useMWLSMQTTPresence")(a);var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=i.jsx(c("MWPPresenceBadge.react"),{borderThemeColor:e,isActiveStatePresence:a,size:f}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}g["default"]=a}),98);
__d("MWLSChatTabHeaderCustomPicture.react",["CometPlaceholder.react","FDSFacepilePhoto.react","MWPLSPresenceBadge.react","react","react-compiler-runtime","translatedServerString","useLSGetThreadTitle.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.badgeSize,f=a.photoSize,g=a.thread,h=a.threadPictureUrl;a=a.withAltText;var k=c("useLSGetThreadTitle.react")(g);k=k.threadTitle;var l;b[0]!==e||b[1]!==g?(l=g!=null?i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderCustomPicture",children:i.jsx(c("MWPLSPresenceBadge.react"),{borderThemeColor:j.borderThemeColor,size:e,threadKey:g.threadKey})}):null,b[0]=e,b[1]=g,b[2]=l):l=b[2];e=l;b[3]!==k||b[4]!==a?(g=a===!0&&k!=null?c("translatedServerString")(k):void 0,b[3]=k,b[4]=a,b[5]=g):g=b[5];b[6]!==k||b[7]!==a?(l=a===!0&&k!=null?c("translatedServerString")(k):void 0,b[6]=k,b[7]=a,b[8]=l):l=b[8];b[9]!==l||b[10]!==h?(k=[{alt:l,disabled:!1,source:h}],b[9]=l,b[10]=h,b[11]=k):k=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==k?(a=i.jsx(c("FDSFacepilePhoto.react"),{badge:e,label:g,size:f,sources:k,totalItems:1}),b[12]=e,b[13]=f,b[14]=g,b[15]=k,b[16]=a):a=b[16];return a}g["default"]=a}),98);
__d("MWLSChatTabHeaderCustomPictureCommunity.react",["MWCMThreadPictureCustomThreadCommunity.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.communityFolder,f=a.photoSize;a=a.threadPictureUrl;var g=e.pictureUrl,h=e.pictureUrlExpirationTimestampMs;e=e.pictureUrlFallback;g=g!=null?g:void 0;h=h!=null?h:void 0;e=e!=null?e:void 0;var j;b[0]!==g||b[1]!==h||b[2]!==e?(j={pictureUrl:g,pictureUrlExpirationTimestampMs:h,pictureUrlFallback:e},b[0]=g,b[1]=h,b[2]=e,b[3]=j):j=b[3];b[4]!==f||b[5]!==j||b[6]!==a?(g=i.jsx(c("MWCMThreadPictureCustomThreadCommunity.react"),{community:j,photoSize:f,threadPictureUrl:a}),b[4]=f,b[5]=j,b[6]=a,b[7]=g):g=b[7];return g}g["default"]=a}),98);
__d("MWLSChatTabHeaderFacepile.react",["CometPlaceholder.react","MWFacepile.react","MWPLSPresenceBadge.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={borderThemeColor:{borderTopColor:"xwi95zy",borderInlineEndColor:"x1mlikqm",borderBottomColor:"xt1txi7",borderInlineStartColor:"x1uir17b",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(12),e=a.ariaHidden,f=a.badgeSize,g=a.label,h=a.onlyAuthoratitiveContacts,k=a.photoSize,l=a.thread;a=a.withAltText;h=h===void 0?!1:h;k=k===void 0?32:k;a=a===void 0?!0:a;var m=l.threadKey;l=l.threadType;var n;b[0]!==f||b[1]!==m?(n=i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderFacepile",children:i.jsx(c("MWPLSPresenceBadge.react"),{borderThemeColor:j.borderThemeColor,size:f,threadKey:m})}),b[0]=f,b[1]=m,b[2]=n):n=b[2];f=n;b[3]!==f||b[4]!==e||b[5]!==g||b[6]!==h||b[7]!==k||b[8]!==m||b[9]!==l||b[10]!==a?(n=i.jsx(c("MWFacepile.react"),{actualBadge:f,ariaHidden:e,label:g,onlyAuthoratitiveContacts:h,photoSize:k,threadKey:m,threadType:l,withAltText:a}),b[3]=f,b[4]=e,b[5]=g,b[6]=h,b[7]=k,b[8]=m,b[9]=l,b[10]=a,b[11]=n):n=b[11];return n}g["default"]=a}),98);
__d("MWLSChatTabHeaderPicture.react",["MWLSChatTabHeaderCustomPicture.react","MWLSChatTabHeaderCustomPictureCommunity.react","MWLSChatTabHeaderFacepile.react","ReQL","ReQLSuspense","getLSMediaThreadPictureUrl","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(19),e=a.ariaHidden,g=a.badgeSize,i=a.photoSize,k=a.thread,l=(h||(h=c("useReStore")))(),m;b[0]!==l.tables.community_folders||b[1]!==k.parentThreadKey?(a=function(){return d("ReQL").fromTableAscending(l.tables.community_folders,["pictureUrl","pictureUrlExpirationTimestampMs","pictureUrlFallback"]).getKeyRange(k.parentThreadKey)},m=[l.tables.community_folders,k.parentThreadKey],b[0]=l.tables.community_folders,b[1]=k.parentThreadKey,b[2]=a,b[3]=m):(a=b[2],m=b[3]);a=d("ReQLSuspense").useFirst(a,m,f.id+":40");m=k.threadPictureUrl;var n=k.threadPictureUrlExpirationTimestampMs,o=k.threadPictureUrlFallback;m=m!=null?m:void 0;n=n!=null?n:void 0;o=o!=null?o:void 0;var p;b[4]!==m||b[5]!==n||b[6]!==o?(p=c("getLSMediaThreadPictureUrl")({threadPictureUrl:m,threadPictureUrlExpirationTimestampMs:n,threadPictureUrlFallback:o}),b[4]=m,b[5]=n,b[6]=o,b[7]=p):p=b[7];m=p;if(m!=null){b[8]!==g||b[9]!==a||b[10]!==i||b[11]!==m||b[12]!==k?(n=a!=null?j.jsx(c("MWLSChatTabHeaderCustomPictureCommunity.react"),{badgeSize:g,communityFolder:a,photoSize:i,threadPictureUrl:m}):j.jsx(c("MWLSChatTabHeaderCustomPicture.react"),{badgeSize:g,photoSize:i,thread:k,threadPictureUrl:m}),b[8]=g,b[9]=a,b[10]=i,b[11]=m,b[12]=k,b[13]=n):n=b[13];return n}b[14]!==e||b[15]!==g||b[16]!==i||b[17]!==k?(o=j.jsx(c("MWLSChatTabHeaderFacepile.react"),{ariaHidden:e,badgeSize:g,photoSize:i,thread:k}),b[14]=e,b[15]=g,b[16]=i,b[17]=k,b[18]=o):o=b[18];return o}g["default"]=a}),98);
__d("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="29477693758510886"}),null);
__d("MWV2HeaderGroupSettingsSectionQuery$Parameters",["MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWV2HeaderGroupSettingsSectionQuery_facebookRelayOperation"),metadata:{},name:"MWV2HeaderGroupSettingsSectionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWV2HeaderSettingsMenu.entrypoint",["JSResourceForInteraction","MWV2HeaderGroupSettingsSectionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.groupID;return{queries:{headerSettingsMenuQueryRef:{parameters:c("MWV2HeaderGroupSettingsSectionQuery$Parameters"),variables:{groupID:a!=null?a:""}}}}},root:c("JSResourceForInteraction")("MWV2HeaderSettingsMenu.react").__setRef("MWV2HeaderSettingsMenu.entrypoint")};g["default"]=a}),98);
__d("MWV2HeaderSettingsPopoverTrigger.react",["I64","MWV2HeaderSettingsMenu.entrypoint","MWXEntryPointPopoverTrigger.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","cr:2580","emptyFunction","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=d("react-compiler-runtime").c(17),f=a.children,g=a.folderFbGroupId,h=a.pushPage,k=a.tab;a=a.thread;var l=a.threadKey,m=a.threadType,n=c("MessengerWebUXLogger").useImpressionLogger();e[0]!==g?(a=g!=null?(i||(i=d("I64"))).to_string(g):void 0,e[0]=g,e[1]=a):a=e[1];g=a;a=c("qex")._("2998")?"button_aggressive":"button";var o;e[2]!==g?(o={groupID:g},e[2]=g,e[3]=o):o=e[3];e[4]!==n||e[5]!==l||e[6]!==m?(g=function(a){b("cr:2580")&&a&&(b("cr:2580")({threadKey:l,threadType:m},"open_thread_settings_menu","popup_chat_box"),n==null||n({eventName:"thread_settings_menu_impression",threadKey:l,threadType:m}))},e[4]=n,e[5]=l,e[6]=m,e[7]=g):g=e[7];var p;e[8]!==h||e[9]!==k||e[10]!==l?(p={onClose:c("emptyFunction"),pushPage:h,tab:k,threadKey:l},e[8]=h,e[9]=k,e[10]=l,e[11]=p):p=e[11];e[12]!==f||e[13]!==o||e[14]!==g||e[15]!==p?(h=j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"chat_tab_header_settings_menu",children:j.jsx(c("MWXEntryPointPopoverTrigger.react"),{entryPointParams:o,onVisibilityChange:g,otherProps:p,popoverEntryPoint:c("MWV2HeaderSettingsMenu.entrypoint"),position:"start",preloadTrigger:a,children:f})}),e[12]=f,e[13]=o,e[14]=g,e[15]=p,e[16]=h):h=e[16];return h}g["default"]=a}),98);
__d("useMWCMIssueCommunityMemberListFetch",["I64","Int64Hooks","LSFactory","LSIntEnum","LSIssueCommunityMemberListFetchStoredProcedure","LSVec","pageID","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b){var e=d("react-compiler-runtime").c(5),g=(j||(j=c("useReStore")))(),k,l;e[0]!==g||e[1]!==a||e[2]!==b?(k=function(){c("promiseDone")(g.runInTransaction(function(e){return c("LSIssueCommunityMemberListFetchStoredProcedure")(c("LSFactory")(e),{communityId:a,fetchAdminsOnly:!1,fetchFriendMembersOnly:!1,maxName:"",maxTimestampMs:(h||(h=d("I64"))).zero,nextPageCursor:"",requestId:c("pageID"),roles:c("LSVec").ofArray([(i||(i=d("LSIntEnum"))).ofNumber(0)]),source:i.ofNumber(7),threadKey:b,threadRoles:c("LSVec").ofArray([])})},"readwrite",void 0,void 0,f.id+":33"))},l=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=k,e[4]=l):(k=e[3],l=e[4]);return d("Int64Hooks").useCallbackInt64(k,l)}g["default"]=a}),98);
__d("useMWV2HeaderSettingsPopover",["LSFactory","LSFetchAdditionalThreadDataStoredProcedure","MWCMThreadTypes.react","ODS","getMWV2HeaderSettingsPopoverTooltip","promiseDone","react-compiler-runtime","useAsyncReStore","useMWCMIssueCommunityMemberListFetch"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(12),e=a.fbGroupId,g=a.threadKey;a=a.threadType;var i;b[0]!==a?(i=c("getMWV2HeaderSettingsPopoverTooltip")({threadType:a}),b[0]=a,b[1]=i):i=b[1];i=i;var j=c("useAsyncReStore")(),k=c("useMWCMIssueCommunityMemberListFetch")(e,g);b[2]!==a?(e=d("MWCMThreadTypes.react").isJoinedCMThread(a),b[2]=a,b[3]=e):e=b[3];var l=e;b[4]!==j||b[5]!==l||b[6]!==k||b[7]!==g?(a=function(a){a(),l&&(k(),c("promiseDone")(j,function(a){return a.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:g})},"readwrite",void 0,void 0,f.id+":56")})),(h||(h=d("ODS"))).bumpEntityKey(3185,"mwchat_header","settings")},b[4]=j,b[5]=l,b[6]=k,b[7]=g,b[8]=a):a=b[8];b[9]!==a||b[10]!==i?(e={showDialog:a,tooltip:i},b[9]=a,b[10]=i,b[11]=e):e=b[11];return e}g["default"]=a}),98);
__d("MWV2HeaderSettingsButton.react",["MDSRow.react","MDSRowItem.react","MWV2HeaderSettingsButtonChevron.react","MWV2HeaderSettingsPopoverTrigger.react","MWXPressable.react","react","react-compiler-runtime","useMWV2HeaderSettingsPopover"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={icon:{marginInlineStart:"x13fj5qh",$$css:!0},rowItem:{alignItems:"x6s0dn4",flexDirection:"x1q0g3np",flexGrow:"x1iyjqo2",$$css:!0},settingsButton:{flexShrink:"xs83m0k",marginInlineEnd:"x1xegmmw",minWidth:"xeuugli",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.children,f=a.folderFbGroupId,g=a.pushPage,h=a.tab;a=a.thread;var k=a.threadKey,l=a.threadType,m=f!=null?f:k,n;b[0]!==m||b[1]!==k||b[2]!==l?(n={fbGroupId:m,threadKey:k,threadType:l},b[0]=m,b[1]=k,b[2]=l,b[3]=n):n=b[3];m=c("useMWV2HeaderSettingsPopover")(n);var o=m.showDialog,p=m.tooltip;b[4]!==k||b[5]!==l?(n={eventName:"open_setting_from_chat_tab",threadKey:k,threadType:l},b[4]=k,b[5]=l,b[6]=n):n=b[6];var q=n;b[7]!==e||b[8]!==q||b[9]!==o||b[10]!==p?(m=function(a,b,d,f,g,h,k){return i.jsx(c("MWXPressable.react"),{"aria-label":p,loggingEvent:q,onHoverIn:f,onHoverOut:g,onPress:function(){return o(b)},onPressIn:h,overlayRadius:"compact",ref:a,testid:void 0,xstyle:j.settingsButton,children:i.jsx(c("MDSRow.react"),{align:"center",paddingHorizontal:0,paddingVertical:0,spacingHorizontal:0,verticalAlign:"center",children:i.jsxs(c("MDSRowItem.react"),{expanding:!0,xstyle:j.rowItem,children:[e,i.jsx(c("MWV2HeaderSettingsButtonChevron.react"),{xstyle:j.icon})]})})})},b[7]=e,b[8]=q,b[9]=o,b[10]=p,b[11]=m):m=b[11];b[12]!==f||b[13]!==g||b[14]!==m||b[15]!==h||b[16]!==a?(k=i.jsx(c("MWV2HeaderSettingsPopoverTrigger.react"),{folderFbGroupId:f,pushPage:g,tab:h,thread:a,children:m}),b[12]=f,b[13]=g,b[14]=m,b[15]=h,b[16]=a,b[17]=k):k=b[17];return k}g["default"]=a}),98);
__d("MWLSChatTabHeaderSettingsButton.react",["LSMessagingThreadTypeUtil","MWV2HeaderSettingsButton.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(21),e=a.children,g=a.pushPage,i=a.tab,k=a.thread,l=(h||(h=c("useReStore")))();b[0]!==l.tables.cutover_threads||b[1]!==k.threadKey?(a=function(){return d("ReQL").fromTableAscending(l.tables.cutover_threads).getKeyRange(k.threadKey)},b[0]=l.tables.cutover_threads,b[1]=k.threadKey,b[2]=a):a=b[2];var m;b[3]!==l||b[4]!==k.threadKey?(m=[l,k.threadKey],b[3]=l,b[4]=k.threadKey,b[5]=m):m=b[5];a=d("ReQLSuspense").useFirst(a,m,f.id+":36");b[6]!==l.tables.community_folders||b[7]!==k.parentThreadKey?(m=function(){return d("ReQL").fromTableAscending(l.tables.community_folders,["fbGroupId"]).getKeyRange(k.parentThreadKey)},b[6]=l.tables.community_folders,b[7]=k.parentThreadKey,b[8]=m):m=b[8];var n;b[9]!==l||b[10]!==k.parentThreadKey?(n=[l,k.parentThreadKey],b[9]=l,b[10]=k.parentThreadKey,b[11]=n):n=b[11];m=d("ReQLSuspense").useFirst(m,n,f.id+":43");n=a!=null;a=k.threadKey;var o=k.threadSubtype,p=k.threadType;if(n===!0||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(o!=null?o:void 0))return e;n=m==null?void 0:m.fbGroupId;b[12]!==a||b[13]!==p?(o={threadKey:a,threadType:p},b[12]=a,b[13]=p,b[14]=o):o=b[14];b[15]!==e||b[16]!==g||b[17]!==n||b[18]!==o||b[19]!==i?(m=j.jsx(c("MWV2HeaderSettingsButton.react"),{children:e,folderFbGroupId:n,pushPage:g,tab:i,thread:o}),b[15]=e,b[16]=g,b[17]=n,b[18]=o,b[19]=i,b[20]=m):m=b[20];return m}g["default"]=a}),98);
__d("MWLSChatTabHeaderDetailsContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSIntEnum","MWLSChatTabHeaderDetails.react","MWLSChatTabHeaderDetailsPressable.react","MWLSChatTabHeaderPicture.react","MWLSChatTabHeaderSettingsButton.react","MWXRow.react","MWXRowItem.react","MWXTooltip.react","cr:10559","getMWV2HeaderSettingsPopoverTooltip","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h.memo;var l={detailsContainer:{marginInlineStart:"xw01apr",marginInlineEnd:"x1ws5yxj",marginLeft:null,marginRight:null,paddingInlineStart:"xyiysdx",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(29),f=a.badgeSize,g=a.photoSize,h=a.pushPage,o=a.tab,p=a.thread;a=a.threadNameSize;f=f===void 0?10:f;g=g===void 0?40:g;a=a===void 0?"headlineEmphasized3":a;var q;e[0]!==p.threadType?(q=c("getMWV2HeaderSettingsPopoverTooltip")({threadType:p.threadType}),e[0]=p.threadType,e[1]=q):q=e[1];q=q;var r;e[2]!==f||e[3]!==g||e[4]!==p?(r=k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWLSChatTabHeaderPicture.react"),{badgeSize:f,photoSize:g,thread:p})}),e[2]=f,e[3]=g,e[4]=p,e[5]=r):r=e[5];f=r;e[6]!==p||e[7]!==a?(g=k.jsx(c("MWLSChatTabHeaderDetails.react"),{thread:p,threadNameSize:a}),e[6]=p,e[7]=a,e[8]=g):g=e[8];e[9]!==g||e[10]!==q?(r=k.jsx(c("MWXRowItem.react"),{expanding:!0,xstyle:l.detailsContainer,children:k.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:q,children:g})}),e[9]=g,e[10]=q,e[11]=r):r=e[11];a=r;e[12]!==h||e[13]!==o||e[14]!==p?(g=b("cr:10559")!=null&&(i||(i=d("I64"))).equal(p.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))&&k.jsx(c("CometErrorBoundary.react"),{fallback:n,onError:m,children:k.jsx(b("cr:10559"),{pushPage:h,tab:o,thread:p})}),e[12]=h,e[13]=o,e[14]=p,e[15]=g):g=e[15];q=g;e[16]===Symbol["for"]("react.memo_cache_sentinel")?(r={className:"x9f619 x193iq5w x1yrsyyn x1icxu4v x10b6aqq x25sj25"},e[16]=r):r=e[16];e[17]!==p||e[18]!==f?(g=k.jsx("div",{"data-testid":void 0,children:k.jsx(c("MWLSChatTabHeaderDetailsPressable.react"),{thread:p,children:f})}),e[17]=p,e[18]=f,e[19]=g):g=e[19];e[20]!==h||e[21]!==o||e[22]!==p||e[23]!==a?(f=k.jsx(c("MWLSChatTabHeaderSettingsButton.react"),{pushPage:h,tab:o,thread:p,children:a}),e[20]=h,e[21]=o,e[22]=p,e[23]=a,e[24]=f):f=e[24];e[25]!==q||e[26]!==g||e[27]!==f?(h=k.jsx("div",babelHelpers["extends"]({},r,{children:k.jsx(c("MWXRow.react"),{align:"start",expanding:!0,paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWLSChatTabHeaderDetailsContainer",children:k.jsxs(k.Fragment,{children:[q,g,f]})})})})),e[25]=q,e[26]=g,e[27]=f,e[28]=h):h=e[28];return h}function m(){return c("FBLogger")("messenger_web_search").mustfix("Error rendering back to search button in chat tab header")}function n(){return null}f=e(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=f}),98);
__d("MWV2ChatTabHeaderRTCButtons.react",["Int64Hooks","LSThreadBitOffset","MWReQLChatRTCButtons.react","ODS","ReQL","ReQLSuspense","react","react-compiler-runtime","requireDeferred","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));j.useCallback;var l=c("requireDeferred")("ZenonUserActionLoggerCommon").__setRef("MWV2ChatTabHeaderRTCButtons.react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey;a=o;var g=m,i=(h||(h=c("useReStore")))(),j;b[0]!==i.tables.threads||b[1]!==e?(j=function(){return d("ReQL").fromTableAscending(i.tables.threads,["threadKey","threadType","folderName","ongoingCallState","parentThreadKey"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(e)},b[0]=i.tables.threads,b[1]=e,b[2]=j):j=b[2];var l;b[3]!==i||b[4]!==e?(l=[i,e],b[3]=i,b[4]=e,b[5]=l):l=b[5];j=d("ReQLSuspense").useFirst(j,l,f.id+":49");if(j==null)return;b[6]!==j?(l=k.jsx(c("MWReQLChatRTCButtons.react"),{audioCallingSurface:"comet_chattab_audio_button",logAudio:a,logVideo:g,thread:j,videoCallingSurface:"comet_chattab_video_button"}),b[6]=j,b[7]=l):l=b[7];return l}function m(){(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_header","video"),l.onReady(n)}function n(a){return a.logClick({component:"video_button",surface:"chat_tab"})}function o(){(i||(i=d("ODS"))).bumpEntityKey(3185,"mwchat_header","audio"),l.onReady(p)}function p(a){return a.logClick({component:"audio_button",surface:"chat_tab"})}b=k.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=b}),98);
__d("MWXIconMinus",["MWXSvgIcon","SVGIcon","cr:22402","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22402")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWV2HeaderMinimizeButton.react",["fbt","MWChatHeaderActionButton.react","MWXIconMinus","MWXThreadThemeColor","react","react-compiler-runtime","useSetAttributeRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onPress;var e=c("useSetAttributeRef")("data-prevent_chattab_focus","1"),f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Minimize chat"),b[0]=f):f=b[0];f=f;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-header-button-color)"),b[1]=g):g=b[1];b[2]!==a||b[3]!==e?(g=j.jsx(c("MWChatHeaderActionButton.react"),{color:g,icon:c("MWXIconMinus"),iconRatio:"large",label:f,loggingEvent:"minimize_chat_tab",onPress:a,ref:e,tooltipLabel:f}),b[2]=a,b[3]=e,b[4]=g):g=b[4];return g}g["default"]=a}),226);
__d("MWLSChatTabHeader.react",["I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWChatStateActions","MWChatStateV2.react","MWCreatorMessagingUtils","MWLSChatTabHeaderDetailsContainer.react","MWV2ChatTabHeaderRTCButtons.react","MWV2HeaderCloseButton.react","MWV2HeaderContainer.react","MWV2HeaderMinimizeButton.react","MWXTooltipGroup.react","QPLUserFlow","qpl","react","react-compiler-runtime","useMWV2CloseTab"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=d("react-compiler-runtime").c(32),e=a.pushPage,f=a.renderThreadDetails,g=a.tab,h=a.thread;b[0]!==h?(a=d("LSThreadBitOffset").has(21,h),b[0]=h,b[1]=a):a=b[1];var k=a;a=h.threadKey;var l=h.threadSubtype,m=d("MWChatStateV2.react").useDispatch(),n=c("useMWV2CloseTab")(a,g),o=d("MAWThreadCutover").useIsCutoverOpenThread(a),p;b[2]!==e||b[3]!==g||b[4]!==h?(p=j.jsx(c("MWLSChatTabHeaderDetailsContainer.react"),{photoSize:32,pushPage:e,tab:g,thread:h,threadNameSize:"headlineEmphasized4"}),b[2]=e,b[3]=g,b[4]=h,b[5]=p):p=b[5];e=p;if(o||d("LSMessagingThreadTypeUtil").isBusinessSupportThread(l!=null?l:void 0))p=e;else{b[6]!==e||b[7]!==f?(o=f!=null?f():e,b[6]=e,b[7]=f,b[8]=o):o=b[8];p=o}b[9]!==k||b[10]!==h?(l=function(){h!=null&&(d("MWCreatorMessagingUtils").isAPPlusInitiatedThread(h)&&k&&c("QPLUserFlow").endCancel(c("qpl")._(421070823,"2981"),{annotations:{string:{action:"no_action"}},instanceKey:(i||(i=d("I64"))).to_int32(h.threadKey)}))},b[9]=k,b[10]=h,b[11]=l):l=b[11];var q=l;b[12]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 x1lxpwgx"},b[12]=e):e=b[12];b[13]!==a?(f=j.jsx(c("MWV2ChatTabHeaderRTCButtons.react"),{threadKey:a}),b[13]=a,b[14]=f):f=b[14];b[15]!==m||b[16]!==q||b[17]!==g.tabId?(o=j.jsx(c("MWV2HeaderMinimizeButton.react"),{onPress:function(){m(d("MWChatStateActions").minimizeTab(Date.now(),g.tabId)),q()}}),b[15]=m,b[16]=q,b[17]=g.tabId,b[18]=o):o=b[18];b[19]!==n||b[20]!==q?(l=function(){n(),q()},b[19]=n,b[20]=q,b[21]=l):l=b[21];a="mwchattab-closebutton-"+(i||(i=d("I64"))).to_string(a);var r;b[22]!==l||b[23]!==a?(r=j.jsx(c("MWV2HeaderCloseButton.react"),{onPress:l,testid:void 0}),b[22]=l,b[23]=a,b[24]=r):r=b[24];b[25]!==f||b[26]!==o||b[27]!==r?(l=j.jsx(c("MWXTooltipGroup.react"),{children:j.jsxs("div",babelHelpers["extends"]({},e,{children:[f,o,r]}))}),b[25]=f,b[26]=o,b[27]=r,b[28]=l):l=b[28];b[29]!==p||b[30]!==l?(a=j.jsx(c("MWV2HeaderContainer.react"),{endContent:l,startContent:p}),b[29]=p,b[30]=l,b[31]=a):a=b[31];return a}g["default"]=a}),98);
__d("MWLSChatTabHeaderRoot.react",["LSThreadBitOffset","MWLSChatTabHeader.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.pushPage,g=a.renderThreadDetails,i=a.tab,k=a.threadKey,l=(h||(h=c("useReStore")))();b[0]!==l.tables.threads||b[1]!==k?(a=function(){return d("ReQL").fromTableAscending(l.tables.threads,["authorityLevel","memberCount","muteCallsExpireTimeMs","muteExpireTimeMs","nullstateDescriptionText1","ongoingCallState","ongoingCallTimestampMs","threadKey","parentThreadKey","threadName","cannotReplyReason","threadType","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadSubtype","snippetSenderContactId","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(k)},b[0]=l.tables.threads,b[1]=k,b[2]=a):a=b[2];var m;b[3]!==l||b[4]!==k?(m=[l,k],b[3]=l,b[4]=k,b[5]=m):m=b[5];a=d("ReQLSuspense").useFirst(a,m,f.id+":30");if(a==null)return null;b[6]!==e||b[7]!==g||b[8]!==i||b[9]!==a?(m=j.jsx(c("MWLSChatTabHeader.react"),{pushPage:e,renderThreadDetails:g,tab:i,thread:a}),b[6]=e,b[7]=g,b[8]=i,b[9]=a,b[10]=m):m=b[10];return m}g["default"]=a}),98);
__d("MWCollapsibleAdminMessages.react",["fbt","BaseView.react","MWMessageRow.react","MWPMessageListColumn.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","MWXLink.react","MWXText.react","ODS","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i=["messages"],j,k,l=j||(j=d("react")),m=j.useState,n={collapsed:{paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",$$css:!0},expanded:{paddingBottom:"x1120s5i",paddingTop:"xz9dl7a",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(22),e=d("MWV2MessageActionsVisibility.react").useStopHoveringRef(),f,g;b[0]!==a?(f=a.messages,g=babelHelpers.objectWithoutPropertiesLoose(a,i),b[0]=a,b[1]=f,b[2]=g):(f=b[1],g=b[2]);a=m(!1);var j=a[0],p=a[1];b[3]!==j?(a=function(){(k||(k=d("ODS"))).bumpEntityKey(3303,"collapsible_admin_messages",j?"hide_messages":"show_messages"),p(o)},b[3]=j,b[4]=a):a=b[4];var q=j?n.expanded:n.collapsed,r;b[5]!==j||b[6]!==f?(r=j?h._(/*BTDS*/"Hide updates"):h._(/*BTDS*/"See {number of admin udpates} updates",[h._param("number of admin udpates",f.length)]),b[5]=j,b[6]=f,b[7]=r):r=b[7];var s;b[8]!==q||b[9]!==r?(s=l.jsx(c("BaseView.react"),{xstyle:q,children:r}),b[8]=q,b[9]=r,b[10]=s):s=b[10];b[11]!==a||b[12]!==s?(q=l.jsx(c("MWXText.react"),{type:"bodyLink4",children:l.jsx(c("MWXLink.react"),{color_DEPRECATED:"highlight",onClick:a,role:"button",children:s})}),b[11]=a,b[12]=s,b[13]=q):q=b[13];b[14]!==j||b[15]!==f||b[16]!==g||b[17]!==e?(r=j?f.map(function(a,b){return l.createElement(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},g,{key:a.messageId,message:a,nextMessage:f[b+1],prevMessage:f[b-1],stopHoveringRef:e}))}):null,b[14]=j,b[15]=f,b[16]=g,b[17]=e,b[18]=r):r=b[18];b[19]!==q||b[20]!==r?(a=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnShrinkwrap,{centered:!0,children:l.jsxs(d("MWV2ChatAdminMessage.react").MWV2ChatAdminMessageContainer,{children:[q,r]})}),b[19]=q,b[20]=r,b[21]=a):a=b[21];return a}function o(a){return!a}g["default"]=a}),226);
__d("MWXIconMenuItemArrowDown",["MWXSvgIcon","SVGIcon","cr:22549","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgMenuItemIcon(d("SVGIcon").svgIcon(b("cr:22549")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWJumpToMostRecentMessageButton.react",["fbt","MWPBumpEntityKey","MWXIconMenuItemArrowDown","MWXIconStrict.react","MWXPressable.react","MWXThreadThemeColor","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={circleButton:{alignItems:"x6s0dn4",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"xurzqwv",display:"x78zum5",height:"x1vqgdyp",justifyContent:"xl56j7k",width:"x100vrsf",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.onPress;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Go to most recent message"),b[0]=a):a=b[0];var f;b[1]!==e?(f=function(){e(),d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw_jump_to_bottom","app_id")},b[1]=e,b[2]=f):f=b[2];var g;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=j.jsx(c("MWXIconStrict.react"),{color:d("MWXThreadThemeColor").mwxThreadThemeColor("var(--mwp-primary-theme-color)"),icon:c("MWXIconMenuItemArrowDown"),size:20}),b[3]=g):g=b[3];b[4]!==f?(a=j.jsx(c("MWXPressable.react"),{"aria-label":a,onPress:f,xstyle:k.circleButton,children:g}),b[4]=f,b[5]=a):a=b[5];return a}g["default"]=a}),226);
__d("useIsNearBottomOfScrollArea",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useLayoutEffect,j=b.useState,k=10;function a(a,b){var c=d("react-compiler-runtime").c(6),e=b===void 0?k:b;b=j(!0);var f=b[0],g=b[1];c[0]!==e||c[1]!==a.current?(b=function(){var b=a.current;if(b==null)return;var c=function(){return g(Math.abs(b.scrollHeight-b.scrollTop-b.clientHeight)<e)},d=window.requestAnimationFrame(c);b.addEventListener("scroll",c);return function(){b.removeEventListener("scroll",c),window.cancelAnimationFrame(d)}},c[0]=e,c[1]=a.current,c[2]=b):b=c[2];var h;c[3]!==e||c[4]!==a?(h=[e,a],c[3]=e,c[4]=a,c[5]=h):h=c[5];i(b,h);return f}g["default"]=a}),98);
__d("MWPMessageListJumpToMostRecentMessageButton.react",["MWPJumpToMostRecentMessageButtonAnimationWrapper.react","react","react-compiler-runtime","useIsNearBottomOfScrollArea"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var b=d("react-compiler-runtime").c(4),e=a.alwaysShow,f=a.jumpToMostRecentMessage,g=a.renderButton;a=a.scrollAreaRef;a=c("useIsNearBottomOfScrollArea")(a,108);a=a===!1||e;b[0]!==f||b[1]!==g||b[2]!==a?(e=g?i.jsx(c("MWPJumpToMostRecentMessageButtonAnimationWrapper.react"),{visible:a,children:g(f)}):null,b[0]=f,b[1]=g,b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),98);
__d("MWXMessageScrollList.react",["BaseScrollableAreaContext","CometInfiniteScrollTrigger.react","MWXScrollableAreaStyles","gkx","react","stylex","useMergeRefs","useResizeObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useContext,m=b.useLayoutEffect,n=b.useMemo,o=b.useRef,p=10,q=function(a){return a},r={expanding:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"x2lah0s",justifyContent:"xl56j7k",minHeight:"x121v3j4",$$css:!0},overscrollBehaviorContain:{overscrollBehavior:"xish69e",$$css:!0},scrollArea:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",overflowX:"x6ikm8r",overflowY:"x1odjw0f",$$css:!0}};function s(a){var b=a.anchoredElement,d=a.getKeyForItem;d=d===void 0?q:d;var e=a.hasNext;a=a.items;var f=a.length,g=f>0?d(a[0]):void 0,h=f>0?d(a[a.length-1]):void 0,i=o(f),j=o(g),l=o(h),n=o(),r=o(),s=o(),t=o(),u=o();d=k(function(a){a=a.target;if(!(a instanceof HTMLDivElement))return;if(n.current!=null&&a.scrollHeight!==n.current||r.current!=null&&a.clientHeight!==r.current)return;s.current=a.scrollTop},[]);m(function(){var a=u.current;if(a==null)return;a.scrollTop<=p&&(a.scrollTop=a.scrollHeight)},[]);a=k(function(){var a,c,d,k,m,o,q,v;a=(a=b==null||(c=b.current)==null?void 0:c.offsetTop)!=null?a:0;var w=l.current,x=j.current;d=(d=i.current)!=null?d:0;k=(k=n.current)!=null?k:0;m=(m=r.current)!=null?m:0;o=(o=s.current)!=null?o:0;q=(q=t.current)!=null?q:-1;var y=u.current;if((y==null?void 0:y.scrollHeight)===0&&(y==null?void 0:y.clientHeight)===0)return;n.current=(v=y==null?void 0:y.scrollHeight)!=null?v:n.current;s.current=(v=y==null?void 0:y.scrollTop)!=null?v:s.current;i.current=f;j.current=g;l.current=h;t.current=a;if(y==null)return;v=y.clientHeight;var z=y.scrollHeight;r.current=v;var A=Math.abs(k-o-m)<p;w=w!=null&&h!==w;x=x!=null&&g!==x;d=f>d;x=d&&x;d=d&&w;var B=m!==0&&m!==v;w=q!==-1&&q>o&&q<o+m;var C;(b==null?void 0:b.current)!=null&&w?C=a-(q-o):!e&&A?C=o+z-k+m-v:x?C=o+z-k:d&&(C=o);var D=C;if(D!=null){y.scrollTop=D;s.current=C;var E=window.requestAnimationFrame(function(){var a=y.scrollTop;Math.abs(a-D)>p?y.scrollTop=D+(a>D?1:-1)*p:B&&(y.scrollTop=D)});return function(){return window.cancelAnimationFrame(E)}}},[g,e,h,f,b]);var v=c("useResizeObserver")(a),w=c("useResizeObserver")(a);m(a,[a]);return{contentRef:w,onScroll:d,ref:c("useMergeRefs")(u,v)}}function a(a){var b=a.anchoredElement,d=a.ariaLabel,e=a.getKeyForItem,f=a.hasNext,g=a.hasPrevious,i=a.isLoadingNext,m=a.isLoadingPrevious,p=a.items,q=a.loadNext,t=a.loadPrevious,u=a.onUserScroll,v=a.ref,w=a.renderFooter,x=a.renderHeader,y=a.renderItem,z=a.renderLoadingAnimation,A=a.role;A=A===void 0?"grid":A;a=a.xstyle;var B=p.length;x=[!g&&x!=null&&j.jsx(j.Fragment,{children:x()},"header"),j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:g,isLoading:m,onLoadMore:t,xstyle:[r.expanding,a],children:z==null?void 0:z(B)},"loadPrevious")].concat(p.map(function(a,b){return y(a,p[b-1],p[b+1],c("gkx")("7810")?B-1-b:0)}),[j.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:f,isLoading:i,onLoadMore:q,xstyle:[r.expanding,a],children:z==null?void 0:z(B)},"loadNext"),!f&&w!=null&&j.jsx(j.Fragment,{children:w()},"footer")]);g=s({anchoredElement:b,getKeyForItem:e,hasNext:f,items:p});m=g.contentRef;var C=g.onScroll;t=g.ref;i=k(function(a){u==null||u(),C(a)},[u,C]);var D=c("useMergeRefs")(t,v);q=k(function(a){D(a!=null?a:null),F.current=a},[D]);var E=l(c("BaseScrollableAreaContext")),F=o();z=n(function(){return[].concat(E,[{getDOMNode:function(){return F==null?void 0:F.current}}])},[E]);return j.jsx(c("BaseScrollableAreaContext").Provider,{value:z,children:j.jsx("div",babelHelpers["extends"]({"aria-label":d},(h||(h=c("stylex"))).props(r.scrollArea,r.overscrollBehaviorContain,c("MWXScrollableAreaStyles").themed),{"data-testid":void 0,onScroll:i,ref:q,role:A,children:j.jsx("div",babelHelpers["extends"]({},h.props(r.expanding,a),{ref:m,children:x}))}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessageForIntegrityCheck",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.isAdminMessage?null:{displayedContentTypes:a.displayedContentTypes,messageId:a.messageId,offlineThreadingId:a.offlineThreadingId,primarySortKey:a.primarySortKey,timestampMs:a.timestampMs}}f.prepMessageForIntegrityCheck=a}),66);
__d("MWPConcatenateMessageListsDataSource",["ReplayLastSubject","relay-runtime","switchMap"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=a.count,e=a.first,f=a.getSecond;this.$1=c("switchMap")(e,function(a){var c=a.data.length;if(c>=b||a.hasMore||a.isLoadingMore)return new(d("ReplayLastSubject").ReplayLastSubject)(babelHelpers["extends"]({},a,{hasMore:!0}));c=d("relay-runtime").Observable.from(f(b-c));return c.map(function(b){return{data:[].concat(a.data,b.data),hasMore:a.hasMore||b.hasMore,isLoadingMore:a.isLoadingMore||b.isLoadingMore}})})}var b=a.prototype;b.subscribe=function(a){return this.$1.subscribe(a)};return a}();g["default"]=a}),98);
__d("MWPDataDrivenDependenciesForMLv2",["JSResourceForInteraction","LSIntEnum","MessagingAttachmentType","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=c("JSResourceForInteraction")("MWV2ChatVideo.react").__setRef("MWPDataDrivenDependenciesForMLv2"),j=c("JSResourceForInteraction")("MWXMAAttachmentImpl.react").__setRef("MWPDataDrivenDependenciesForMLv2"),k=c("JSResourceForInteraction")("MWXMAV2AttachmentContainerComponent.react").__setRef("MWPDataDrivenDependenciesForMLv2");b=function(a){a=(h||(h=d("LSIntEnum"))).toNumber(a.attachmentType);switch(a){case c("MessagingAttachmentType").VIDEO:return[i];case c("MessagingAttachmentType").XMA:return[j,k];default:return[]}};var l=[b];async function m(a){a=(a=a.associatedData)==null?void 0:a.attachmentData.attachments.flatMap(function(a){return l.map(function(b){return b(a)})});if(a==null)return;await Promise.all(a.map(function(a){return a.map(function(a){return a.load()})}))}function a(a){return d("relay-runtime").Observable.create(function(b){var c=!1,d=a.subscribe({complete:b.complete,error:b.error,next:function(a){var d=a.map(function(a){a[0];a=a[1];return m(a)});void Promise.all(d).finally(function(){c||b.next(a)})}});return function(){c=!0,d.unsubscribe()}})}g.default=a}),98);
__d("memoizeObservable",["deepEquals","relay-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h={};function a(a,b){b===void 0&&(b=c("deepEquals"));return d("relay-runtime").Observable.create(function(c){var d=h,e=a.subscribe({complete:function(){c.complete()},error:function(a){c.error(a)},next:function(a){b(d,a)||(d=a,c.next(a))}});return function(){e.unsubscribe()}})}g["default"]=a}),98);
__d("MWPMessageListSingleDirectionDataSource",["FBLogger","I64","JSONStringifyBigIntSafe","LSAuthorityLevel","LSIntEnum","LSMessageRenderingType","MAWMessagesDirection","MAWSubscribeToLSTruncateMetadataThreads","MLV2DataSourceLogger","MWPDataDrivenDependenciesForMLv2","MessagesRangesV2ExternalIds","Promise","ReQL","ReQLObservable","ReplayLastSubject","combineLatestWith","deepEquals","gkx","justknobx","memoizeObservable","promiseDone","qex","relay-runtime","setTimeout","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h=["isLoadingAfter","isLoadingBefore"],i,j,k;function l(a){return a.length>0?a[a.length-1]:void 0}var m=2,n=!c("gkx")("7019");a=function(){function a(a,b,e,f,g,h,i,l,m,n){var o=this;this.$6=new(d("ReplayLastSubject").ReplayLastSubject)(!1);this.$14=null;this.$15=null;this.$16=!1;this.$1=a;this.$3=b;this.$2=e;this.$4=f;this.$5=g;this.$9=h;this.$10=i!=null&&(j||(j=d("I64"))).equal(i,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC));this.$11=l;this.$12=m;this.$13=n;this.$7=this.$17();this.$14=null;this.$15=d("MAWSubscribeToLSTruncateMetadataThreads").subscribeToLSTruncateMetadataThreads(a,function(a,b){(j||(j=d("I64"))).equal(o.$3.threadKey,b)&&(o.$16=!0)})}var e=a.prototype;e.$18=function(){return(j||(j=d("I64"))).equal(this.$3.timestampMs,(j||(j=d("I64"))).max_int)&&this.$2==="asc"};e.subscribe=function(a){var b,c=this;this.$18()||(this.$8=d("MLV2DataSourceLogger").startMLV2LoggerForThread(this.$3.threadKey,this.$2,this.$4,this.$9));(b=this.$8)==null||b.markQPLPoint("subscribed");var e=this.$7.subscribe(a);return{closed:e.closed,unsubscribe:function(){var a;e.unsubscribe();(a=c.$8)==null||a.markQPLCancel("unsubscribed");c.$8=void 0}}};e.$19=function(a,b){var d,e=this;n&&this.$20(!0);(d=this.$8)==null||d.markQPLPoint("fetch_more_msgs_start");c("promiseDone")(this.$5.extendRange(a,b,this.$2,this.$13,this.$11)["finally"](function(){var a;(a=e.$8)==null||a.markQPLPoint("fetch_more_msgs_end","begin attempting to extend a message range in a given direction");n&&e.$20(!1)}))};e.$20=function(a){var d=this;!a?c("promiseDone")(new(i||(i=b("Promise")))(function(a){return c("setTimeout")(a,0)}).then(function(){return d.$6.next(a)})):this.$6.next(a)};e.$21=function(a,b){var e;a.isLoadingAfter;a.isLoadingBefore;a=babelHelpers.objectWithoutPropertiesLoose(a,h);if(this.$14!=null){var f=this.$14,g=f.boundary;f=f.observable;if(c("deepEquals")(a,g)){(g=this.$8)==null||g.markQPLPoint("use_cached_messages_observable");return f}}g=this.$3;f=g.messageId;g=g.timestampMs;f=(f==null||f==="")&&(j||(j=d("I64"))).equal(g,(j||(j=d("I64"))).max_int);g=f&&(j||(j=d("I64"))).equal(a.minTimestampMs,(j||(j=d("I64"))).max_int);f=!a.hasMoreBefore||g;f=d("MAWMessagesDirection").switchOnMWPMessagesDirection(this.$2,{asc:{gte:d("ReQL").key(this.$3.timestampMs,d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(a.hasMoreAfter?a.maxTimestampMs:(j||(j=d("I64"))).max_int,(e=b==null?void 0:b.maxExternalId)!=null?e:d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)},desc:{gte:d("ReQL").key(f?(j||(j=d("I64"))).min_int:a.minTimestampMs,(e=b==null?void 0:b.minExternalId)!=null?e:d("MessagesRangesV2ExternalIds").MIN_EXTERNAL_ID),lte:d("ReQL").key(this.$3.timestampMs,d("MessagesRangesV2ExternalIds").MAX_EXTERNAL_ID)}});a=g?m:this.$4;b=o(this.$1,this.$2,this.$3,f,a);(e=this.$8)==null||e.markQPLPoint("use_lsdb_optimistic_observable");return b};e.$22=function(a,b,d,e){var f,g;b===void 0&&(b=[]);if(this.$16)return{data:[],hasMore:!1,isLoadingMore:!1};a=a;f=(f=l(b))==null?void 0:f[1].message;g=this.$2==="asc"?[d==null?void 0:d.maxMessageId,(g=d==null?void 0:d.hasMoreAfter)!=null?g:!1,(g=d==null?void 0:d.isLoadingAfter)!=null?g:!1]:[d==null?void 0:d.minMessageId,(g=d==null?void 0:d.hasMoreBefore)!=null?g:!1,(g=d==null?void 0:d.isLoadingBefore)!=null?g:!1];var h=g[0],i=g[1];g=g[2];f=b.length===this.$4&&(f!=null&&f.messageId!==h||!i);h!=null&&h!==""&&b.length<this.$4&&!b.some(function(a){return a[1].message.messageId===h})&&c("FBLogger")("messenger_e2ee_web").info("MLv2 irregularity, expected range message id, %s, is not present in emitted messages from LSDB",h);d!=null&&b.length<this.$4&&i&&!f&&!a&&!g&&(a=!0,this.$19(d,e));return{data:b,hasMore:f||i,isLoadingMore:a||!f&&g}};e.$17=function(){var a=this;return this.$18()?d("relay-runtime").Observable.from(new(d("ReplayLastSubject").ReplayLastSubject)({data:[],hasMore:!1,isLoadingMore:!1})):c("memoizeObservable")(c("combineLatestWith")(this.$6,c("switchMap")(this.$5.getOrCreateMessageRangeCoveringCursor(this.$3,this.$8,this.$11),function(b){var e,f=b.range,g=b.rangeExternalIds;(e=a.$8)==null||e.markQPLPoint("emitting_range");(e=a.$8)==null||e.addQPLAnnotations({string:{range:c("JSONStringifyBigIntSafe")(babelHelpers["extends"]({},b,{maxTimestampMs:f.maxTimestampMs==null?null:(j||(j=d("I64"))).to_string(f.maxTimestampMs),minTimestampMs:f.minTimestampMs==null?null:(j||(j=d("I64"))).to_string(f.minTimestampMs)}))}});e=a.$21(f,g);c("qex")._("3310")&&(e=c("MWPDataDrivenDependenciesForMLv2")(e));return e.map(function(a){return{messagesAndAssociatedData:a,messagesRange:f,messagesRangeExternalIds:g}})["do"]({error:function(b){var c;(c=a.$8)==null||c.markQPLPoint("emitting_messages_failed");(c=a.$8)==null||c.addQPLAnnotations({string:{emitting_message_error_message:b.message,emitting_message_error_name:b.name}})},next:function(b){var c;b=b.messagesAndAssociatedData;(c=a.$8)==null||c.markQPLPoint("emitting_messages");(c=a.$8)==null||c.addQPLAnnotations({"int":{num_fetched:b.length}})}})})).map(function(b){var c=b[0];b=b[1];b=b!=null?b:{};var d=b.messagesAndAssociatedData,e=b.messagesRange;b=b.messagesRangeExternalIds;return a.$22(c,d,e,b)}))["do"]({error:function(b){var c;(c=a.$8)==null||c.markQPLFailure(b);a.$8=void 0},next:function(b){var c=b.data;b=b.isLoadingMore;if(!b){(b=a.$8)==null||b.addQPLAnnotations({"int":{final_query_count:a.$4}});(b=a.$8)==null||b.markQPLSuccess(c.length);a.$8=void 0}else{(b=a.$8)==null||b.markQPLPoint("waiting_for_fetch")}}})};return a}();function o(a,b,e,f,g){b=b==="asc"?d("ReQL").fromTableAscending:d("ReQL").fromTableDescending;var h;c("qex")._("18")?h=b(a.tables.messages.index("messageDisplayOrderOfflineThreadingId")).getKeyRange(e.threadKey).bounds({gte:f.gte,lte:f.lte}):h=b(a.tables.messages).getKeyRange(e.threadKey).bounds({gte:[f.gte[0]],lte:[f.lte[0]]});var i=h.filter(function(a){a=a.messageRenderingType;return!(j||(j=d("I64"))).equal(a,j.of_int32(c("LSMessageRenderingType").HIDDEN))}).filter(function(a){a=a.transportKey;return c("justknobx")._("3424")?a!=="EncryptedBackupsMedia":!0}).take(g).map(function(a){return{message:a}});return d("ReQLObservable").create(a,function(){return i})}g["default"]=a}),98);
__d("MWPMessageRangeDataSource",["I64","LSFactory","LSIntEnum","LSIssueMessagesRangeQueryStoredProcedure","LSMailboxMessagesRangeQueryDirection","LSMessagePointQueryStoredProcedure","MLV2DataSourceLogger","ReQL","ReQLObservable","err","justknobx","promiseDone"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("justknobx")._("3621");function k(a,b){return b==="asc"&&a.isLoadingAfter||b==="desc"&&a.isLoadingBefore}a=function(a){var b=this;this.$2=function(a){return m(b.$1.tables.messages_ranges_v2__generated,a)};this.getOrCreateMessageRangeCoveringCursor=function(a,e,f){e==null||e.annotateMessageRangesDataSource("MWPMessageRangeDataSource");e==null||e.markQPLPoint("msys_message_range_fetch_start");return d("ReQLObservable").create(b.$1,function(){return b.$2(a)}).map(function(f){e==null||e.markQPLPoint("msys_message_range_fetch_end");f=(f=f[0])==null?void 0:f[1];if(f==null)if(a.messageId==null){var g;return{range:{hasMoreAfter:!(h||(h=d("I64"))).equal(a.timestampMs,h.max_int),hasMoreBefore:!0,isLoadingAfter:!1,isLoadingBefore:!1,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId}}}else{c("promiseDone")(r(b.$1,a));return{range:{hasMoreAfter:!0,hasMoreBefore:!0,isLoadingAfter:!0,isLoadingBefore:!0,maxMessageId:(g=a.messageId)!=null?g:"",maxTimestampMs:a.timestampMs,minMessageId:(g=a.messageId)!=null?g:"",minTimestampMs:a.timestampMs,threadKey:a.threadKey},rangeExternalIds:{maxExternalId:a.externalId,minExternalId:a.externalId}}}return{range:f,rangeExternalIds:{maxExternalId:null,minExternalId:null}}})};this.extendRange=function(a,e,g,i,j){var k=d("MLV2DataSourceLogger").getMLV2LoggerForThread(a.threadKey,g);k==null||k.annotateMessageRangesDataSource("MWPMessageRangeDataSource");k==null||k.markQPLPoint("msys_extend_range_start");var m=a.threadKey;if(!p(a,g)){k==null||k.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return Promise.resolve()}return b.$1.runInTransaction(async function(b){var e;k==null||k.markQPLPoint("fetch_message_ranges_from_table_start","Find a range in the database matching the range we were handed.");e=(e=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(b.messages_ranges_v2__generated).getKeyRange(m).bounds({lte:d("ReQL").key(a.minTimestampMs)}).filter(function(b){return(h||(h=d("I64"))).ge(b.maxTimestampMs,a.maxTimestampMs)})))!=null?e:a;if(!p(e,g)){k==null||k.markQPLPoint("mwp_msg_range_not_extensible","Trying to extend a range that is not extensible");return}if(!n(e,a,g)){k==null||k.markQPLPoint("mwp_msg_range_bound_mismatch","The range we are trying to extend has already been extended");return}k==null||k.markQPLPoint("mwp_fetch_message_ranges_start","Begin fetching message ranges");return c("LSIssueMessagesRangeQueryStoredProcedure")(c("LSFactory")(b),o(e,g))},"readwrite",void 0,void 0,f.id+":171").then(function(){return l(b.$1,m,g,k)})};this.$1=a};async function l(a,b,c,e){var f=await d("ReQL").firstAsync(d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b));if(f!=null&&!k(f,c)){e==null||e.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges");return}var g=new AbortController(),h=g.signal;f=new Promise(function(a){var b=window.setTimeout(function(){if(h.aborted)return;g.abort();e==null||e.markQPLPoint("mwp_fetch_message_ranges_timeout","Finish fetching message ranges");a()},j);h.addEventListener("abort",function(){window.clearTimeout(b)})});var i=new Promise(function(f){return d("ReQL").fromTableDescending(a.tables.messages_ranges_v2__generated).getKeyRange(b).subscribe(function(a,b){if(h.aborted)return;(b.operation==="put"||b.operation==="add")&&(k(b.value,c)||(e==null||e.markQPLPoint("mwp_fetch_message_ranges_end","Finish fetching message ranges"),g.abort(),f()))})});return Promise.race([i,f])}function m(a,b){return d("ReQL").fromTableDescending(a).getKeyRange(b.threadKey).bounds({lte:d("ReQL").key(b.timestampMs)}).filter(function(a){return q(b,a)}).take(1)}function n(a,b,c){if(c==="asc")return(h||(h=d("I64"))).equal(a.minTimestampMs,b.minTimestampMs);else return(h||(h=d("I64"))).equal(a.maxTimestampMs,b.maxTimestampMs)}function o(a,b){var e=a.maxTimestampMs,f=a.minTimestampMs;a=a.threadKey;return b==="asc"?{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").AFTER),referenceTimestampMs:e,threadKey:a}:{direction:(i||(i=d("LSIntEnum"))).ofNumber(c("LSMailboxMessagesRangeQueryDirection").BEFORE),referenceTimestampMs:f,threadKey:a}}function p(a,b){return b==="asc"&&a.hasMoreAfter&&!a.isLoadingAfter||b==="desc"&&a.hasMoreBefore&&!a.isLoadingBefore}function q(a,b){a=a.timestampMs;return((h||(h=d("I64"))).equal(a,(h||(h=d("I64"))).max_int)||(h||(h=d("I64"))).ge(b.maxTimestampMs,a))&&(h||(h=d("I64"))).le(b.minTimestampMs,a)}async function r(a,b,e){e===void 0&&(e=20);var g=b.messageId,i=b.threadKey;if(g==null)throw c("err")("Cannot issue a point query without a message ID.");await a.runInTransaction(function(a){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(a),{messageId:g,numContextMessages:(h||(h=d("I64"))).of_float(e),threadKey:i})},"readwrite",void 0,void 0,f.id+":386")}g.MSYSMessageRangeDataSource=a}),98);
__d("MWPMessageListDataSource",["I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWDumbRangeDataSource","MAWMessageRangeDataSourceV2","MWPConcatenateMessageListsDataSource","MWPMessageListSingleDirectionDataSource","MWPMessageRangeDataSource","ReQL","ReQLObservable","combineLatestWith","nullthrows","relay-runtime/network/RelayObservable","switchMap"],(function(a,b,c,d,e,f,g){"use strict";var h,i;a=function(){function a(a,b,e,f){var g=b.after,i=b.before,n=b.cursor,o=b.pageSize,p=b.secondaryThreadKey,q=b.secondaryThreadType,r=b.threadAuthorityLevel,s=b.threadType,t=function(b,g){g=new(c("MWPMessageListSingleDirectionDataSource"))(a,g==="desc"&&!(h||(h=d("I64"))).equal(n.timestampMs,(h||(h=d("I64"))).max_int)?babelHelpers["extends"]({},n,{timestampMs:(h||(h=d("I64"))).sub(n.timestampMs,(h||(h=d("I64"))).one)}):n,g,b,k(a,s,r),s,r,e,f,o);return g},u=function(b,g){g=new(c("MWPMessageListSingleDirectionDataSource"))(a,{externalId:n.externalId,messageId:n.messageId,threadKey:c("nullthrows")(p),timestampMs:g==="desc"&&!(h||(h=d("I64"))).equal(n.timestampMs,(h||(h=d("I64"))).max_int)?(h||(h=d("I64"))).sub(n.timestampMs,(h||(h=d("I64"))).one):n.timestampMs},g,b,k(a,c("nullthrows")(q),r),s,r,e,f,o);return g},v;p==null||q==null?(b=t(i,"desc"),v=t(g,"asc")):(b=new(c("MWPConcatenateMessageListsDataSource"))({count:i,first:t(i,"desc"),getSecond:function(a){return u(a,"desc")}}),v=new(c("MWPConcatenateMessageListsDataSource"))({count:g,first:u(g,"asc"),getSecond:function(a){return t(a,"asc")}}));i=c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});g=i;var w=new Map();i=c("combineLatestWith")(b,v,g).map(function(a){var b=a[0],c=a[1];a=a[2];a.forEach(function(a){return w.set(a[1].message.messageId,a)});a=new Set(w.keys());var d=b.data.toReversed().concat(c.data).sort(m(n.threadKey));l(a,d);var e=[];for(var f of w){var g=f[0],h=f[1];!a.has(g)?w["delete"](g):e.push(h)}return{authoritativeMessages:d,hasNext:c.hasMore,hasPrevious:b.hasMore,isLoadingNext:c.isLoadingMore,isLoadingPrevious:b.isLoadingMore,optimisticMessages:e}});this.$1=c("switchMap")(i,function(b){var c=b.authoritativeMessages,d=b.hasNext,e=b.hasPrevious,f=b.isLoadingNext,g=b.isLoadingPrevious;b=b.optimisticMessages;return j(a,b).map(function(a){a=[].concat(c,a);a.sort(m(n.threadKey));return{data:a,hasNext:d,hasPrevious:e,isLoadingNext:f,isLoadingPrevious:g}})})}var b=a.prototype;b.subscribe=function(a){return this.$1.subscribe(a)};return a}();function j(a,b){if(b.length===0)return c("relay-runtime/network/RelayObservable").create(function(a){return a.next([])});var e=b.map(function(b){b[0];b=b[1];return d("ReQL").fromTableAscending(a.tables.messages.index("optimistic")).getKeyRange(b.message.offlineThreadingId).map(function(a){return{message:a}})}).map(function(b){return d("ReQLObservable").create(a,function(){return b})});return c("combineLatestWith").apply(void 0,e).map(function(a){var c=[];a.forEach(function(a,d){if(a.length===0)return;a=a[0];a[0];a=a[1];c.push([b[d][0],a])});return c})}function k(a,b,e){if((h||(h=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return c("MAWDumbRangeDataSource")();return d("LSMessagingThreadTypeUtil").isArmadilloSecure(b)?c("MAWMessageRangeDataSourceV2")(a):new(d("MWPMessageRangeDataSource").MSYSMessageRangeDataSource)(a)}function l(a,b){if(a.size===0)return;var e=b.length-1;while(e>=0){var f=b[e];f[0];f=f[1];f=f.message;a.has(f.offlineThreadingId)&&((h||(h=d("I64"))).lt(f.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?b.splice(e,1):a["delete"](f.offlineThreadingId));e--}}var m=function(a){return function(b,c){b=b[1];c=c[1];b=b.message;c=c.message;var e=(h||(h=d("I64"))).compare(b.threadKey,c.threadKey);if(e!==0)return(h||(h=d("I64"))).equal(b.threadKey,a)?1:-1;e=h.compare(b.primarySortKey,c.primarySortKey);if(e!==0)return e;e=h.compare((e=b.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero,(e=c.secondarySortKey)!=null?e:(h||(h=d("I64"))).zero);return e!==0?e:h.compare(b.timestampMs,c.timestampMs)}};g["default"]=a}),98);
__d("useMWPMessageListDataSourceFactory",["MAWSubscribeToLSTruncateMetadataThreads","MWPMessageListDataSource","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useCallback;var i=b.useState;function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c=j(),b[0]=c):c=b[0];c=i(c);var e=c[0],f=c[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(){f(j())},b[1]=c):c=b[1];b=c;d("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(a,b);return e}function j(){return{create:function(a,b,d,e){var f=b.after,g=b.before,h=b.cursor,i=b.pageSize,j=b.secondaryThreadKey,k=b.secondaryThreadType,l=b.threadAuthorityLevel;b=b.threadType;return new(c("MWPMessageListDataSource"))(a,{after:f,before:g,cursor:h,pageSize:i,secondaryThreadKey:j,secondaryThreadType:k,threadAuthorityLevel:l,threadType:b},d,e)}}}g["default"]=a}),98);
__d("useObservable",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useEffect,j=b.useState;function a(a){var b=d("react-compiler-runtime").c(7),c=j(),e=c[0],f=c[1];c=j();var g=c[0],h=c[1];c=j(!1);var k=c[0],l=c[1],m;b[0]!==a?(c=function(){var b=a.subscribe({complete:function(){return l(!0)},error:h,next:f});return function(){return b.unsubscribe()}},m=[a],b[0]=a,b[1]=c,b[2]=m):(c=b[1],m=b[2]);i(c,m);b[3]!==g||b[4]!==k||b[5]!==e?(c=[e,g,k],b[3]=g,b[4]=k,b[5]=e,b[6]=c):c=b[6];return c}g["default"]=a}),98);
__d("useMWPMessageListData",["I64","Int64Hooks","JSONStringifyBigIntSafe","MAWObservableUtils","MAWStateContext.react","MWInboxMessageSearchJumpToResultQPL","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","justknobx","react","useMWPMessageListDataSourceFactory","useObservable","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useContext,m=b.useEffect,n=b.useRef,o=b.useState;function p(a,b){return c("JSONStringifyBigIntSafe")(a)===c("JSONStringifyBigIntSafe")(b)}var q=c("justknobx")._("3383");function a(a,b,e){var g,j=a.authorityLevel,r=a.threadKey,s=a.threadType,t=(h||(h=c("useReStore")))(),u=n(d("MAWObservableUtils").getUniqueRef()),v=l(d("MAWStateContext.react").MAWDispatchContext);a=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();a=a.visibleMessage;var w=a==null?void 0:a.messageId,x=a==null?void 0:a.messageOtid,y=(a=a==null?void 0:a.timestamp)!=null?a:(i||(i=d("I64"))).max_int,z=b==null?void 0:b.threadKey,A=b==null?void 0:b.threadType;a=o(e);var B=a[0],C=a[1];b=o(e);var D=b[0],E=b[1];a=o(w);var F=a[0],G=a[1];b=o(x);var H=b[0],I=b[1];a=o(y);var J=a[0],K=a[1];b=o(q);a=b[0];var L=b[1];b=o(!1);var M=b[0],N=b[1],O=n(new Map()),P=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(t.tables.mi_act_mapping_table,["jid"]).getKeyRange(r).map(function(a){return a.jid})},[t,r],f.id+":95"),Q=c("useMWPMessageListDataSourceFactory")(r);b=d("Int64Hooks").useMemoInt64(function(){return Q.create(t,{after:D,before:B,cursor:{externalId:H,messageId:F,secureThreadJid:P,threadKey:r,timestampMs:J},pageSize:e,secondaryThreadKey:z,secondaryThreadType:A,threadAuthorityLevel:j,threadType:s},v,u.current)},[D,B,t,P,v,F,H,z,A,r,s,J,j,e,Q]);b=c("useObservable")(b);var R=b[0];b=b[1];m(function(){L(!1),N(!1)},[R]);if(b!=null)throw b;b=(b=R==null?void 0:R.data.map(function(a){a[0];a=a[1];var b=a.message;if(b.isCollapsed===!0)return null;b=O.current.get(b.messageId);return b!=null&&p(a,b)?b:a}).filter(Boolean))!=null?b:[];var S=b.some(function(a){return a.message.messageId===w});d("Int64Hooks").useEffectInt64(function(){S||(K(y),G(w),I(x),d("MWInboxMessageSearchJumpToResultQPL").addPointIfJumpedToMessage("updated_offset_in_message_list",{messageId:w,offlineThreadingId:x}),C(e),E(e),q&&L(!0))},[S,w,x,y,e]);var T=(g=R==null?void 0:R.hasNext)!=null?g:!1,U=((g=R==null?void 0:R.isLoadingNext)!=null?g:!1)||M;g=k(function(){!U&&T&&(E(D+e),N(!0))},[T,U,D,e]);var V=(M=R==null?void 0:R.hasPrevious)!=null?M:!0,W=((M=R==null?void 0:R.isLoadingPrevious)!=null?M:!1)||a;R=k(function(){!W&&V&&(C(B+e),L(!0))},[V,W,B,e]);return{hasNext:T,hasPrevious:V,isLoadingNext:U,isLoadingPrevious:W,loadNext:g,loadPrevious:R,messagesAndAssociatedData:b}}g["default"]=a}),98);
__d("useMWPMessageListOnScrollToBottom",["Promise","react","react-compiler-runtime","useIsNearBottomOfScrollArea","useMWPSafelyMarkThreadAsRead"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");e.useCallback;var j=e.useEffect;function k(a,e,f,g,i){var k=d("react-compiler-runtime").c(10),l;k[0]!==f||k[1]!==g?(l=function(){return(h||(h=b("Promise"))).resolve(g&&!f)},k[0]=f,k[1]=g,k[2]=l):l=k[2];l=l;var m=c("useMWPSafelyMarkThreadAsRead")(i,l,a,e);k[3]!==a?(i=a(),k[3]=a,k[4]=i):i=k[4];var n=i;k[5]!==g||k[6]!==n||k[7]!==m?(l=function(){g&&!n&&m()},e=[g,n,m],k[5]=g,k[6]=n,k[7]=m,k[8]=l,k[9]=e):(l=k[8],e=k[9]);j(l,e)}function a(a,b,e,f,g,h){var i=d("react-compiler-runtime").c(4),l=c("useIsNearBottomOfScrollArea")(g),m;i[0]!==l||i[1]!==f?(g=function(){f!=null&&f(l)},m=[l,f],i[0]=l,i[1]=f,i[2]=g,i[3]=m):(g=i[2],m=i[3]);j(g,m);k(a,b,e,l,h)}g["default"]=a}),98);
__d("getOrCreateMapValue",[],(function(a,b,c,d,e,f){"use strict";function a(a,b,c){var d=a.get(b);d==null&&(d=c(),a.set(b,d));return d}f["default"]=a}),66);
__d("useMWPMessageListScrollVisibleMessageIntoView",["MWPVisibleMessageContext.react","getOrCreateMapValue","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.createRef,j=b.startTransition;b.useCallback;var k=b.useEffect,l=b.useRef;function a(){var a,b=d("react-compiler-runtime").c(12),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Map(),b[0]=e):e=b[0];var f=l(e);e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();var g=e.setVisibleMessage,h=e.visibleMessage;b[1]!==g||b[2]!==h?(e=function(a){var b=c("getOrCreateMapValue")(f.current,a,i);h!=null&&a===h.messageId&&(h==null?void 0:h.ref)!==b&&g(babelHelpers["extends"]({},h,{ref:b}));return b},b[1]=g,b[2]=h,b[3]=e):e=b[3];e=e;var m,n;b[4]!==g||b[5]!==h?(m=function(){var a=h==null?void 0:h.messageId;if(a==null||h==null)return;var b=f.current.get(a);b!==(h==null?void 0:h.ref)&&j(function(){g(babelHelpers["extends"]({},h,{ref:b}))})},n=[h,g],b[4]=g,b[5]=h,b[6]=m,b[7]=n):(m=b[6],n=b[7]);k(m,n);if(b[8]!==(h==null||(a=h.ref)==null?void 0:a.current)){var o;m=function(){var a,b=h==null||(a=h.ref)==null?void 0:a.current;if(b==null)return;var c=window.requestAnimationFrame(function(){b.scrollIntoView({behavior:"instant",block:"start",inline:"nearest"})});return function(){return window.cancelAnimationFrame(c)}};b[8]=h==null||(o=h.ref)==null?void 0:o.current;b[9]=m}else m=b[9];b[10]!==h?(n=[h],b[10]=h,b[11]=n):n=b[11];k(m,n);return e}g["default"]=a}),98);
__d("useMWPRelayMessageListJumpToMostRecentMessage",["MWPVisibleMessageContext.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));var i=h.useCallback;function a(a){var b=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),c=b.setVisibleMessage;return i(function(){var b=a.current;b!=null&&(c(void 0),b.scrollTop=b.scrollHeight)},[a,c])}g["default"]=a}),98);
__d("useObserveMessagePageLoad",["I64","MAWSubscribeToLSTruncateMetadataThreads","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;c=h||d("react");c.useCallback;var j=c.useEffect,k=c.useRef;function l(a,b){return b?[a.slice(0,a.length-1),a[a.length-1]]:[[].concat(a),null]}function m(a,b,c){if(b==null)return l(a,c);else{var d=a.findIndex(function(a){return a.messageId===b});if(d===-1)return l(a,c);else return[a.slice(0,d),a.at(d)]}}var n=function(a,b){return a.some(function(a){return b.findIndex(function(b){return b.offlineThreadingId===a.offlineThreadingId})>-1})};function o(a,b,c,e,f,g,h){var i=d("react-compiler-runtime").c(10),l;i[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=[],i[0]=l):l=i[0];var o=k(l),s=k(null),t=k(0);i[1]===Symbol["for"]("react.memo_cache_sentinel")?(l=function(){o.current=[],s.current=null,t.current=0},i[1]=l):l=i[1];l=l;d("MAWSubscribeToLSTruncateMetadataThreads").useLSTruncateMetadataThread(a,l);i[2]!==g||i[3]!==b||i[4]!==e||i[5]!==c||i[6]!==h||i[7]!==f?(a=function(){var a;h?(o.current.length>0&&!n(o.current,b)&&(o.current=[],s.current=null,t.current=g?999:0),o.current=[].concat(o.current,b).reduce(r,[]).sort(q),a=o.current):a=b;if(f)return;if(a.length===0){s.current=null;return}a=m(a,s.current,g);var d=a[0];a=a[1];if(d.length<c)return;d=d.reverse();a=a;while(d.length>=c){var i=d.splice(0,c);e(a==null?null:a,i.map(p),c,t.current);t.current=t.current+1;a=i[i.length-1]}s.current=(i=a)==null?void 0:i.messageId},l=[e,c,b,f,g,h],i[2]=g,i[3]=b,i[4]=e,i[5]=c,i[6]=h,i[7]=f,i[8]=a,i[9]=l):(a=i[8],l=i[9]);j(a,l)}function p(a){return a}function q(a,b){var c=(i||(i=d("I64"))).compare(a.primarySortKey,b.primarySortKey);return c!==0?c:a.offlineThreadingId.localeCompare(b.offlineThreadingId)}function r(a,b){var c=a.find(function(a){return a.offlineThreadingId===b.offlineThreadingId});if(c==null)a.push(b);else if(c.offlineThreadingId===c.messageId&&b.messageId!==b.offlineThreadingId){c=a.indexOf(c);a[c]=b}return a}function a(a,b,c,d,e,f){return o(a,b,c,d,e,f,!1)}function b(a,b,c,d,e,f){return o(a,b,c,d,e,f,!0)}g.useObserveMessagePageLoad=a;g.useObserveMessagePageLoadWithAggregation=b}),98);
__d("MWPRelayBaseMessageList.react",["BaseHeadingContextWrapper.react","Box.react","CometHeroHoldTrigger.react","CometHideableComponentExperiment.react","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MWChatInteraction","MWPMessageAuthor.react","MWPMessageListJumpToMostRecentMessageButton.react","MWPVisibleMessageContext.react","MWXMessageScrollList.react","MessageForIntegrityCheck","emptyFunction","justknobx","react","react-compiler-runtime","useMWPMessageListData","useMWPMessageListOnScrollToBottom","useMWPMessageListScrollVisibleMessageIntoView","useMWPRelayMessageListJumpToMostRecentMessage","useObserveMessagePageLoad"],(function(a,b,c,d,e,f,g){"use strict";var h=["ref"],i,j,k,l=i||(i=d("react"));b=i;var m=b.useEffect,n=b.useImperativeHandle,o=b.useRef,p={backgroundColor:{backgroundColor:"x1eb86dx",$$css:!0},list:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",overflowX:"x6ikm8r",overflowY:"x10wlt62",zIndex:"x1ja2u2z",$$css:!0}};function q(a,b){var c=d("react-compiler-runtime").c(4),e,f;c[0]!==a||c[1]!==b?(e=function(){if(b==null)return;var c=d("MWChatInteraction").get((j||(j=d("I64"))).to_string(a));c!=null&&d("MWChatInteraction").set((j||(j=d("I64"))).to_string(b),c)},f=[a,b],c[0]=a,c[1]=b,c[2]=e,c[3]=f):(e=c[2],f=c[3]);m(e,f)}function r(a){var b=d("react-compiler-runtime").c(34),e=a.checkIsThreadManuallySetAsUnread,f=a.entryPoint,g=a.onPageLoaded,h=a.onScrollToBottom,i=a.onUserScroll,k=a.pageSize,m=a.ref,r=a.renderFooter,t=a.renderHeader,u=a.renderJumpToMostRecentMessageButton,v=a.renderLoadingAnimation,w=a.renderRow,x=a.secondaryThread,y=a.shouldPausePageLoadTracking,z=a.thread;a=e===void 0?c("emptyFunction").thatReturnsFalse:e;e=g===void 0?c("emptyFunction"):g;g=y===void 0?!1:y;var A=o();y=c("useMWPMessageListData")(z,x,k);var B=y.hasNext,C=y.hasPrevious,D=y.isLoadingNext,E=y.isLoadingPrevious,F=y.loadNext,G=y.loadPrevious;y=y.messagesAndAssociatedData;var H=c("useMWPMessageListScrollVisibleMessageIntoView")();q(z.threadKey,x==null?void 0:x.threadKey);x=z.threadKey;if(b[0]!==y||b[1]!==z.threadKey){var I;b[3]!==z.threadKey?(I=function(a){a=a.message;return(j||(j=d("I64"))).equal(a.threadKey,z.threadKey)?d("MessageForIntegrityCheck").prepMessageForIntegrityCheck(a):null},b[3]=z.threadKey,b[4]=I):I=b[4];I=y.map(I).filter(Boolean);b[0]=y;b[1]=z.threadKey;b[2]=I}else I=b[2];d("useObserveMessagePageLoad").useObserveMessagePageLoadWithAggregation(x,I,k,e,g,B);c("useMWPMessageListOnScrollToBottom")(a,f,B,h,A,z);var J=c("useMWPRelayMessageListJumpToMostRecentMessage")(A);b[5]!==J?(x=function(){return{getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:function(){J(!0)},restoreScrollPosition:c("emptyFunction")}},I=[J],b[5]=J,b[6]=x,b[7]=I):(x=b[6],I=b[7]);n(m,x,I);var K=o(null);e=(k=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext().visibleMessage)==null?void 0:k.ref;b[8]!==H||b[9]!==w?(g=function(a,b,e,f){var g=a.message;return l.createElement("div",babelHelpers["extends"]({},{0:{},1:{className:"x1vjfegm"}}[!!((j||(j=d("I64"))).to_float(g.displayedContentTypes)===8)<<0],{key:g.offlineThreadingId,ref:H(g.messageId)}),l.jsx(c("CometHideableComponentExperiment.react"),{callingSurface:"thread_view",disableHiding:!0,scrollport:function(){return A.current},unmountXStyle:p.backgroundColor,children:l.jsx(d("MWPMessageAuthor.react").MWPMessageAuthor,{contactId:g.senderId,threadKey:g.threadKey,children:w({domElementRef:K,message:a.message,messageAssociatedData:a==null?void 0:a.associatedData,nextMessage:e==null?void 0:e.message,prevMessage:b==null?void 0:b.message,rowIndexFromBottom:f})})}))},b[8]=H,b[9]=w,b[10]=g):g=b[10];b[11]!==v?(a=function(a){a=a>c("justknobx")._("2674");return l.jsxs(l.Fragment,{children:[v==null?void 0:v(a),l.jsx(c("CometHeroHoldTrigger.react"),{description:"MessageListLoadingMoreItems(Base)",hold:!a})]})},b[11]=v,b[12]=a):a=b[12];b[13]!==B||b[14]!==C||b[15]!==D||b[16]!==E||b[17]!==F||b[18]!==G||b[19]!==y||b[20]!==i||b[21]!==r||b[22]!==t||b[23]!==a||b[24]!==e||b[25]!==g?(f=l.jsx(c("BaseHeadingContextWrapper.react"),{children:l.jsx(c("MWXMessageScrollList.react"),{anchoredElement:e,getKeyForItem:s,hasNext:B,hasPrevious:C,isLoadingNext:D,isLoadingPrevious:E,items:y,loadNext:F,loadPrevious:G,onUserScroll:i,ref:A,renderFooter:r,renderHeader:t,renderItem:g,renderLoadingAnimation:a,role:"none"})}),b[13]=B,b[14]=C,b[15]=D,b[16]=E,b[17]=F,b[18]=G,b[19]=y,b[20]=i,b[21]=r,b[22]=t,b[23]=a,b[24]=e,b[25]=g,b[26]=f):f=b[26];b[27]!==B||b[28]!==J||b[29]!==u?(h=l.jsx(c("MWPMessageListJumpToMostRecentMessageButton.react"),{alwaysShow:B,jumpToMostRecentMessage:J,renderButton:u,scrollAreaRef:A}),b[27]=B,b[28]=J,b[29]=u,b[30]=h):h=b[30];b[31]!==f||b[32]!==h?(m=l.jsxs(c("Box.react"),{xstyle:p.list,children:[f,h]}),b[31]=f,b[32]=h,b[33]=m):m=b[33];return m}function s(a){return a.message.messageId}function a(a){var b=d("react-compiler-runtime").c(11),e,f;b[0]!==a?(f=a.ref,e=babelHelpers.objectWithoutPropertiesLoose(a,h),b[0]=a,b[1]=e,b[2]=f):(e=b[1],f=b[2]);a=e;var g=a.renderLoadingAnimation;a=a.thread;a=(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("LSMessagingThreadTypeUtil").isCMSubthread(a.threadType);if(a){b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=l.jsx(c("CometHeroHoldTrigger.react"),{description:"MWChatWaitingForDisplayState-optimisticSubThread",hold:!0}),b[3]=a):a=b[3];var i;b[4]!==g?(i=g==null?void 0:g(!1),b[4]=g,b[5]=i):i=b[5];b[6]!==i?(g=l.jsxs(l.Fragment,{children:[a,i]}),b[6]=i,b[7]=g):g=b[7];return g}b[8]!==e||b[9]!==f?(a=l.jsx(r,babelHelpers["extends"]({},e,{ref:f})),b[8]=e,b[9]=f,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWMessageList",["CometPageletWithDiv.react","I64","Int64Hooks","LSCommunityBitOffset","LSMessageRenderingType","LSMessagingThreadTypeUtil","MWBlockingProtectionContext.react","MWChatInteraction","MWClickedMessageContext.react","MWCollapsibleAdminMessages.react","MWGenAINux.react","MWGenAIUtils","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWMessageListLoggingContext","MWMessageRow.react","MWMessageSendingContext.react","MWMessageTranslationContext.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWPVisibleMessageContext.react","MWV2ChatAdminMessage.react","MWV2MessageActionsVisibility.react","WebUXLoggingSurfaceContextProvider","cr:2942","cr:3907","isMWNewSearchUXEnabled","mwCMIsAnyCMThread","react","useCommunityFolder","useIsReactionsV2Enabled","useMWPAriaLabelForMessageListGrid","useThreadLastUnreadWatermarkAndMessages","uuidv4"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;var k=e.useEffect,l=e.useId,m=e.useState;function n(a){return d("MWV2ChatAdminMessage.react").isAdminMessage(a)&&a!=null&&(a.messageRenderingType==null||!(i||(i=d("I64"))).equal(a.messageRenderingType,(i||(i=d("I64"))).of_int32(c("LSMessageRenderingType").NON_COLLAPSIBLE_ADMIN_MESSAGE)))}function o(a){return j.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}o.displayName=o.name+" [from "+f.id+"]";function p(a){return j.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var e=a.entryPoint,f=a.hasUserSentMessage,g=a.ref,h=a.renderFooter,q=a.renderHeader,r=a.thread,s=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();a=m("");var t=a[0];a=a[1];var u=l(),v=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r.threadType),w=c("useMWPAriaLabelForMessageListGrid")(r),x=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),y=x.setVisibleMessage,z=x.visibleMessage,A=d("Int64Hooks").useMemoInt64(function(){return r.threadType},[r.threadType]),B=c("useCommunityFolder")(r),C=B!=null?d("LSCommunityBitOffset").has(9,B):!1,D=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(r.threadKey),E=d("useThreadLastUnreadWatermarkAndMessages").useThreadLastReadWatermark(r.threadKey),F=b("cr:2942")(r.threadKey,E);x=m(!1);var G=x[0],H=x[1];k(function(){F&&!G&&y(function(a){return a!=null?a:{contextLine:"",highlights:[],messageId:F.messageId,source:"LastReadWatermark",timestamp:F.timestampMs}})},[F,y,G]);x=d("Int64Hooks").useCallbackInt64(function(){return j.jsxs(j.Fragment,{children:[j.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:r.threadKey,threadType:A}),d("MWGenAIUtils").isMetaAIThread(r.threadKey)&&j.jsx(c("MWGenAINux.react"),{hasUserSentMessage:f,source:"footer"}),h&&h()]})},[h,r.threadKey,A,f]);var I=new Map();e=j.jsx(c("MWPRelayBaseMessageList.react"),{entryPoint:e,onPageLoaded:function(a,b,c,e){a=d("MWChatInteraction").getInteractionTraceForThreadKey((i||(i=d("I64"))).to_string(r.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},onUserScroll:function(){return H(!0)},pageSize:15,ref:g,renderFooter:x,renderHeader:q,renderJumpToMostRecentMessageButton:p,renderLoadingAnimation:o,renderRow:function(a){var b=a.domElementRef,e=a.message,f=a.nextMessage,g=a.prevMessage;a=a.rowIndexFromBottom;var h=v?(i||(i=d("I64"))).equal(r.threadKey,e.threadKey):!1,k=(F==null?void 0:F.messageId)===e.messageId,l=!n(g)&&!n(f),m=z==null?!1:z.messageId===e.messageId&&(z.source==="Reply"||z.source==="Pinned"||z.source==="Bump"||z.source==="Search"&&c("isMWNewSearchUXEnabled")());if((c("mwCMIsAnyCMThread")(r.threadType)||d("LSMessagingThreadTypeUtil").isDiscoverableChannel(r.threadType))&&n(e)&&!l){I.set(e.messageId,e);l=n(g)&&!n(f);if(l){l=Array.from(I.values());I.clear();return j.jsx(c("MWCollapsibleAdminMessages.react"),{domElementRef:b,fbGroupId:B==null?void 0:B.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:C,isModal:t===e.messageId,isSecureMessage:h,messages:l,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,threadType:A,useReactionsV2:D})}else return null}return j.jsx(d("MWMessageRow.react").MWMessageRow,{containerThreadKey:r.threadKey,domElementRef:b,fbGroupId:B==null?void 0:B.fbGroupId,hasMessageEmphasisRing:m,isCMAdmin:C,isModal:t===e.messageId,isSecureMessage:h,lastReadWatermarkTimestampMs:E,message:e,nextMessage:f,prevMessage:g,rowIndexFromBottom:a,shouldRenderUnreadIndicator:k,stopHoveringRef:s,threadType:A,useReactionsV2:D})},thread:r});return j.jsx(c("MWMessageSendingContext.react").Provider,{children:j.jsx(c("MWMessageTranslationContext.react").Provider,{children:j.jsx(c("MWClickedMessageContext.react").Provider,{children:j.jsx(c("MWBlockingProtectionContext.react").Provider,{children:j.jsx(d("CometPageletWithDiv.react").Placeholder,{className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d",fallback:j.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),name:"MWMessageList",children:j.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:r,children:j.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:w,modal:t,setModal:a,children:j.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXSurfaceLoggingContext.Provider,{value:"message_list",children:j.jsx(d("MWMessageListLoggingContext").MWMessageListLoggingContext,{flowInstanceId:c("uuidv4")(),children:b("cr:3907")==null?e:j.jsx(b("cr:3907"),{id:u,children:e})})})})})})})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWCMSubthreadThreadViewChatTab.react",["CometErrorBoundary.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSIntEnum","LSReportThreadViewOpenStoredProcedure","LSResult","LSThreadBitOffset","LSVerifyThreadRowExistsStoredProcedure","MWCMSubthreadHeader.react","MWCMSubthreadParentMessage.react","MWCMSubthreadThreadViewContexts.react","MWComposerGating.react","MWInboxThreadMessagesSpinner.react","MWLSChatTabHeaderRoot.react","MWLSThread","MWLSThreadDisplayContext","MWMessageList","MWPMessageListColumn.react","MWPThreadGradientBackground.react","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2OnAuthoritativeThreadInsert","MWV2TabContainer","MWXColumn.react","MWXColumnItem.react","emptyFunction","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));b=k;var m=b.useRef,n=b.useState,o={chatTabHeader:{maxHeight:"x1egxudb",$$css:!0}};function p(a){var b=a.onReturn,e=a.setActualThreadKey,g=a.tab,k=a.thread,n=(h||(h=c("useReStore")))(),p=d("MWLSThread").useThread(k.parentThreadKey),q=m(null);a=d("Int64Hooks").useCallbackInt64(function(){var a;(a=r.current)==null||a.jumpToMostRecentMessage();(i||(i=d("I64"))).equal(k.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&d("MWV2OnAuthoritativeThreadInsert").onAuthoritativeThreadInsert(c("LSResult")(k.threadKey),n,function(a){return e(a.threadKey)})},[k.authorityLevel,k.threadKey,n,e]);var r=m({getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")});d("Int64Hooks").useEffectInt64(function(){c("promiseDone")(n.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:k.threadKey})},"readwrite",void 0,void 0,f.id+":101"))},[n,k.threadKey]);var s=function(){return l.jsx(c("MWCMSubthreadHeader.react"),{closeSidePanelOnBack:!1,isChatTab:!0,onPressBack:function(){b()},subtitle:p==null?void 0:p.threadName,thread:k,title:k.threadName})};return l.jsx(d("MWLSThreadDisplayContext").MWLSThreadDisplayContextProvider,{value:"ChatTab",children:l.jsx(c("MWCMSubthreadThreadViewContexts.react"),{thread:k,children:l.jsxs(d("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:g,threadKey:k.parentThreadKey,children:[l.jsx(c("MWXColumn.react"),{expanding:!0,xstyle:o.chatTabHeader,children:l.jsx(c("MWXColumnItem.react"),{expanding:!0,children:l.jsx(c("MWLSChatTabHeaderRoot.react"),{renderThreadDetails:s,tab:g,threadKey:k.threadKey})})}),l.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isMediaOnly:!d("LSThreadBitOffset").has(56,k),thread:k,children:[l.jsx("div",{className:"x78zum5 xdt5ytf x1iyjqo2",children:l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsx(c("MWMessageList"),{entryPoint:"popup_chat_box",ref:r,renderHeader:function(){return l.jsxs(l.Fragment,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),l.jsx(c("MWCMSubthreadParentMessage.react"),{domElementRef:q,subthread:k})]})},thread:k})})}),l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ErrorComposer.react"),{})},children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:a,isPreviewThread:!1,thread:k})})]})]})})})}p.displayName=p.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(10),e=a.onReturn,g=a.tab,k=a.threadKey,m=(h||(h=c("useReStore")))();a=n(k);var o=a[0];a=a[1];var q=d("MWLSThread").useThread(o),r;b[0]!==m||b[1]!==q||b[2]!==k?(o=function(){(q==null||!(i||(i=d("I64"))).equal(q==null?void 0:q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))&&c("promiseDone")(m.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(j||(j=d("LSIntEnum"))).ofNumber(1),threadKey:k})},"readwrite",void 0,void 0,f.id+":201"))},r=[m,q,k],b[0]=m,b[1]=q,b[2]=k,b[3]=o,b[4]=r):(o=b[3],r=b[4]);d("Int64Hooks").useEffectInt64(o,r);if(q==null){b[5]===Symbol["for"]("react.memo_cache_sentinel")?(o=l.jsx(c("MWInboxThreadMessagesSpinner.react"),{}),b[5]=o):o=b[5];return o}b[6]!==e||b[7]!==g||b[8]!==q?(r=l.jsx(p,{onReturn:e,setActualThreadKey:a,tab:g,thread:q}),b[6]=e,b[7]=g,b[8]=q,b[9]=r):r=b[9];return r}g["default"]=a}),98);
__d("MWChannelInviteDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{}},root:c("JSResourceForInteraction")("MWChannelInviteDialog.react").__setRef("MWChannelInviteDialog.entrypoint")};g["default"]=a}),98);
__d("MWChatMultiReactionsTooltip.react",["fbt","I64","Int64Hooks","LSClearReactionsV2DetailsAndRangeStoredProcedure","LSFactory","LSIssueReactionsV2DetailsUsersListFetchStoredProcedure","LSPlatformWaitForTaskCompletion","MWPActor.react","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","intlSummarizeNumber","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));b=k;var m=b.useEffect,n=b.useRef,o=b.useState,p=9;function a(a){var b=d("react-compiler-runtime").c(63),e=a.isProcessingReactions,g=a.messageId,k=a.onTooltipCTAPress,t=a.reactionFbid,u=a.threadKey,v=(i||(i=c("useReStore")))();a=o(!0);var w=a[0],x=a[1],y;b[0]!==v||b[1]!==e||b[2]!==g||b[3]!==t||b[4]!==u?(a=function(){e||(x(!0),c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(v,function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g,reactionFbid:t,threadId:u})},"issueReactionsV2DetailsUsersListFetch").then(function(){x(!1)})))},y=[v,u,g,t,x,e],b[0]=v,b[1]=e,b[2]=g,b[3]=t,b[4]=u,b[5]=a,b[6]=y):(a=b[5],y=b[6]);d("Int64Hooks").useEffectInt64(a,y);var z=d("MWPActor.react").useActor();b[7]!==v.tables.reactions_v2_details||b[8]!==g||b[9]!==t||b[10]!==u?(a=function(){return d("ReQL").fromTableAscending(v.tables.reactions_v2_details).getKeyRange(u,g).filter(function(a){return(j||(j=d("I64"))).equal(a.reactionFbid,t)})},b[7]=v.tables.reactions_v2_details,b[8]=g,b[9]=t,b[10]=u,b[11]=a):a=b[11];b[12]!==v||b[13]!==g||b[14]!==t||b[15]!==u?(y=[v,u,g,t],b[12]=v,b[13]=g,b[14]=t,b[15]=u,b[16]=y):y=b[16];a=d("ReQLSuspense").useArray(a,y,f.id+":84");var A=new Map();a.forEach(function(a){return A.set((j||(j=d("I64"))).to_string(a.reactorId),a.fullName)});b[17]!==v.tables.contextual_profile_v1||b[18]!==v.tables.threads||b[19]!==u?(y=function(){return d("ReQL").fromTableAscending(v.tables.threads).getKeyRange(u).map(function(a){var b=a.parentThreadKey;return d("ReQLSuspense").toArray(d("ReQL").fromTableAscending(v.tables.contextual_profile_v1).filter(function(a){return(j||(j=d("I64"))).equal(a.associatedEntityId,b)}),f.id+":102")})},b[17]=v.tables.contextual_profile_v1,b[18]=v.tables.threads,b[19]=u,b[20]=y):y=b[20];var B;b[21]!==v||b[22]!==u?(B=[v,u],b[21]=v,b[22]=u,b[23]=B):B=b[23];y=d("ReQLSuspense").useFirst(y,B,f.id+":97");B=null;y!=null&&y.forEach(function(a){var b=(j||(j=d("I64"))).to_string(a.ownerId),c=a.profileName;if(c==null)return;A.has(b)&&A.set(b,c);(j||(j=d("I64"))).equal(a.ownerId,z)&&(B=c)});y=a.map(function(a){return A.get((j||(j=d("I64"))).to_string(a.reactorId))}).filter(Boolean);b[24]!==v.tables.reactions_v2||b[25]!==g||b[26]!==t||b[27]!==u?(a=function(){return d("ReQL").fromTableAscending(v.tables.reactions_v2).getKeyRange(u,g,t)},b[24]=v.tables.reactions_v2,b[25]=g,b[26]=t,b[27]=u,b[28]=a):a=b[28];var C;b[29]!==v||b[30]!==g||b[31]!==t||b[32]!==u?(C=[v,u,g,t],b[29]=v,b[30]=g,b[31]=t,b[32]=u,b[33]=C):C=b[33];a=d("ReQLSuspense").useFirst(a,C,f.id+":131");C=(C=a==null?void 0:a.viewerIsReactor)!=null?C:!1;var D;b[34]!==v.tables.contacts||b[35]!==z?(D=function(){return d("ReQL").fromTableAscending(v.tables.contacts).getKeyRange(z).map(s)},b[34]=v.tables.contacts,b[35]=z,b[36]=D):D=b[36];var E;b[37]!==v||b[38]!==z?(E=[v,z],b[37]=v,b[38]=z,b[39]=E):E=b[39];D=d("ReQLSuspense").useFirst(D,E,f.id+":143");E=B!=null?B:D;D=a!=null?(j||(j=d("I64"))).to_int32(a.count):0;if(D===1&&C&&y.length===0&&E!=null)y.push(E);else{C&&y[0]!=null&&E!=null&&((a=y[0])==null?void 0:a.toString())!==E&&y.unshift(E)}b[40]===Symbol["for"]("react.memo_cache_sentinel")?(C=h._(/*BTDS*/"Loading..."),b[40]=C):C=b[40];a=C;bb0:{E=[].concat(y.slice(0,p));C=!1;if(y.length>p){var F=D-p;if(F<0){var G;b[41]===Symbol["for"]("react.memo_cache_sentinel")?(G=[a,!0],b[41]=G):G=b[41];G=G;break bb0}E.push(h._(/*BTDS*/"_j{\"*\":\"and {count} others\",\"_1\":\"and {count} other\"}",[h._plural(F),h._param("count",String(c("intlSummarizeNumber")(F)))]).toString())}else C=(!w||!e)&&y.length!==D;G=E.length===0?[a,C]:[E.map(r),C]}F=G;w=F[0];var H=F[1],I=c("usePrevious")(H),J=n(null);b[42]===Symbol["for"]("react.memo_cache_sentinel")?(y=function(){return function(){J.current!=null&&window.clearTimeout(J.current)}},D=[],b[42]=y,b[43]=D):(y=b[42],D=b[43]);m(y,D);b[44]!==v||b[45]!==H||b[46]!==I||b[47]!==g||b[48]!==u?(a=function(){if(I===H)return;if(!H)J.current!=null&&(window.clearTimeout(J.current),J.current=null);else{if(J.current!=null)return;J.current=window.setTimeout(function(){J.current=null,c("promiseDone")(v.runInTransaction(q,"readwrite",void 0,void 0,f.id+":241")),c("promiseDone")(v.runInTransaction(function(a){return c("LSIssueReactionsV2DetailsUsersListFetchStoredProcedure")(c("LSFactory")(a),{messageId:g,threadId:u})},"readwrite",void 0,void 0,f.id+":249"))},700)}},b[44]=v,b[45]=H,b[46]=I,b[47]=g,b[48]=u,b[49]=a):a=b[49];b[50]!==v||b[51]!==H||b[52]!==I||b[53]!==g||b[54]!==t||b[55]!==u?(E=[v,H,I,g,t,u],b[50]=v,b[51]=H,b[52]=I,b[53]=g,b[54]=t,b[55]=u,b[56]=E):E=b[56];m(a,E);b[57]===Symbol["for"]("react.memo_cache_sentinel")?(C=h._(/*BTDS*/"See all reactions"),b[57]=C):C=b[57];b[58]!==w?(G=l.jsx(c("MWXText.react"),{color:"tooltip",type:"body4",children:w}),b[58]=w,b[59]=G):G=b[59];b[60]!==k||b[61]!==G?(F=l.jsx(c("MWXPressable.react"),{"aria-label":C,onPress:k,overlayDisabled:!0,children:G}),b[60]=k,b[61]=G,b[62]=F):F=b[62];return F}function q(a){return c("LSClearReactionsV2DetailsAndRangeStoredProcedure")(c("LSFactory")(a))}function r(a,b){return l.jsx("div",{children:a},String(b))}r.displayName=r.name+" [from "+f.id+"]";function s(a){return a.name}g["default"]=a}),226);
__d("MWCreatorMessagingDialogNuxContainer.react",["I64","JSResourceForInteraction","MWCreatorMessagingUtils","QPLUserFlow","declareNUXRequireable","qpl","react","react-compiler-runtime","useMWXLazyDialog","useNUX"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef,l=c("JSResourceForInteraction")("MWCreatorMessagingChatWithPagesYouFollowDialog.react").__setRef("MWCreatorMessagingDialogNuxContainer.react");function a(a){function b(b){var e=d("react-compiler-runtime").c(6),f=b.thread;b=c("useMWXLazyDialog")(l);var g=b[0];b=c("useNUX")(a);var h=b[0];b=b[1];var m=b.onDismiss,n=k(!1),o;e[0]!==h||e[1]!==m||e[2]!==g||e[3]!==f?(b=function(){var a=function(){c("QPLUserFlow").endSuccess(c("qpl")._(421072177,"2983"),{instanceKey:(i||(i=d("I64"))).to_int32(f.threadKey)}),m()};!n.current&&h&&f!=null&&d("MWCreatorMessagingUtils").isAPPlusInitiatedThread(f)&&(n.current=!0,c("QPLUserFlow").start(c("qpl")._(421072177,"2983"),{annotations:{string:{entrypoint:d("MWCreatorMessagingUtils").fetchQPLEntrypoint(f)}},instanceKey:(i||(i=d("I64"))).to_int32(f.threadKey)}),g({},a))},o=[h,m,g,f],e[0]=h,e[1]=m,e[2]=g,e[3]=f,e[4]=b,e[5]=o):(b=e[4],o=e[5]);j(b,o)}return b}e=c("declareNUXRequireable")(a);g["default"]=e}),98);
__d("MWEBRestoreGapUI.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEBEntrypointsKillswitch.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXRow.react","MWXRowItem.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWEBBackupState","useMWEBGetUpsellState","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreGapUI.react"),o={banner:{backgroundColor:"xlhe6ec",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xyamay9",paddingBottom:"x1l90r2v",paddingInlineStart:"x1mfogq2",paddingInlineEnd:"xsfy40s",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=d("react-compiler-runtime").c(21),b=(i||(i=c("useReStore")))(),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={},a[1]=f):f=a[1];f=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),f);var g=f[0];f=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var j=f.startFlow;f=c("useMWEBGetUpsellState")();f=f.isRestoreUpsellsDismissed;var p=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_GAP_UI,q=m(!1),r=m(!1),s;a[2]!==j||a[3]!==b?(s=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:b,onFetch:function(b){var e=b.ebsmWiped,f=b.firstUpsellTime,g=b.hasEbKeysLocally,h=b.hasEBSM,i=b.hasPDB,k=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;j({additionalAnnotations:{eb_session_identifier:f,ebsm_wiped:e,has_eb_keys_locally:g,has_ebsm:h,has_pdb:i,has_user_restored_before:k,has_user_restored_before_temp:b,restore_upsell_first_impression_time:f},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:p});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);r.current===!1&&(r.current=!0,c("promiseDone")(n.load(),function(a){return a(g)}))}})},a[2]=j,a[3]=b,a[4]=s):s=a[4];var t=s;a[5]!==t?(s={onVisible:function(){t("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_IMPRESSION")}},a[5]=t,a[6]=s):s=a[6];s=c("useVisibilityObserver")(s);var u=e===4&&!f;a[7]!==u||a[8]!==t?(e=function(){q.current===!1&&u&&(q.current=!0,t("RESTORE_IN_THREAD_MISSING_MESSAGE_GAP_UI_MOUNT"))},f=[u,t],a[7]=u,a[8]=t,a[9]=e,a[10]=f):(e=a[9],f=a[10]);l(e,f);if(!u)return null;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"Messages are missing."),a[11]=e):e=a[11];a[12]!==g||a[13]!==t?(f=function(){t("RESTORE_IN_THREAD_GAP_UI_CTA_CLICK"),g({source:p})},a[12]=g,a[13]=t,a[14]=f):f=a[14];var v;a[15]===Symbol["for"]("react.memo_cache_sentinel")?(v=h._(/*BTDS*/"Restore now"),a[15]=v):v=a[15];a[16]!==f?(e=k.jsx(c("MWXRowItem.react"),{xstyle:o.banner,children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:k.jsxs(k.Fragment,{children:[e," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:f,target:"_blank",testid:void 0,children:v})})]})})}),a[16]=f,a[17]=e):e=a[17];a[18]!==s||a[19]!==e?(v=k.jsx(c("MWXRow.react"),{align:"center",paddingHorizontal:16,paddingVertical:4,ref:s,spacing:0,children:e}),a[18]=s,a[19]=e,a[20]=v):v=a[20];return v}g["default"]=a}),226);
__d("MWEditChannelDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9783976471666723"}),null);
__d("MWEditChannelDialogQuery$Parameters",["MWEditChannelDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWEditChannelDialogQuery_facebookRelayOperation"),metadata:{},name:"MWEditChannelDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWEditChannelDialog.entrypoint",["JSResourceForInteraction","MWEditChannelDialogQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.threadID;return{queries:{queryReference:{options:{fetchPolicy:"network-only"},parameters:c("MWEditChannelDialogQuery$Parameters"),variables:{threadID:a}}}}},root:c("JSResourceForInteraction")("MWEditChannelDialog.react").__setRef("MWEditChannelDialog.entrypoint")};g["default"]=a}),98);
__d("MWEditChannelDialogTrigger.react",["I64","MWEditChannelDialog.entrypoint","promiseDone","react","react-compiler-runtime","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;j||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.threadKey,g=(h||(h=c("useReStore")))();b[0]!==f?(a=(i||(i=d("I64"))).to_string(f),b[0]=f,b[1]=a):a=b[1];var j;b[2]!==a?(j={threadID:a},b[2]=a,b[3]=j):j=b[3];a=j;j=c("useMWXEntryPointDialog")(c("MWEditChannelDialog.entrypoint"),a);var k=j[0];b[4]!==g||b[5]!==k||b[6]!==f?(a=function(){c("promiseDone")(g.tables.threads.get(f),function(a){if(a==null)return;k({thread:a})})},b[4]=g,b[5]=k,b[6]=f,b[7]=a):a=b[7];j=a;b[8]!==e||b[9]!==j?(a=e(j),b[8]=e,b[9]=j,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWExpandReactionsButton.react",["fbt","I64","MWCMThreadTypes.react","MWChatMessageId","MWChatReactionsActionContainer.react","MWMultiReactConstants","MWXPressable.react","MWXTooltip.react","emptyFunction","intlSummarizeNumber","react","stylex","useIsReactionsV2Enabled"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=j||(j=d("react"));b=j;var m=b.useCallback,n=b.useMemo,o={additionalInlineButton:{display:"x78zum5",flexDirection:"xdt5ytf",height:"xlup9mm",justifyContent:"xl56j7k",width:"x1npj6m0",$$css:!0},emoji:{alignItems:"x6s0dn4",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",cursor:"x1ypdohk",lineHeight:"x14ju556",marginInlineEnd:"x14z9mp",$$css:!0},emojiNum:{paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},fontStyles:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",$$css:!0}};function a(a){var b=a.isMultiReactExpanded,e=a.isReactionReadOnly,f=a.isSecure,g=a.message,j=a.numOverflowEmojis,p=a.sendReaction,q=a.setIsReactionsRowAnimationInProgress,r=a.threadKey,s=a.threadType,t=a.toggleMultiReactExpanded,u=(k||(k=d("I64"))).to_string(r),v=k.to_string(g.timestampMs);a=n(function(){return d("MWChatMessageId").makeSent(u,g.messageId,v)},[u,g.messageId,v]);s=d("MWCMThreadTypes.react").isBroadcastThread(s);r=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(r);var w=m(function(){t(),q(!0)},[q,t]);return l.jsx(c("MWChatReactionsActionContainer.react"),{alwaysShowEmojiPicker:!0,closeActionsMenu:c("emptyFunction"),disableCustomReactions:r&&s,hasReactionsV2:r,isBroadcastThread:s,isSecure:f,messageID:a,onVisibilityChange:c("emptyFunction"),sendReaction:p,children:function(a,f,g,k,m){f=h._(/*BTDS*/"Show all reactions");var n=c("intlSummarizeNumber")(j),p="+"+n;n=n.length;g=l.jsx(c("MWXPressable.react"),{"aria-label":f,disabled:e,expanding:!0,onHoverIn:g,onHoverOut:k,onPress:w,onPressIn:m,overlayRadius:"inherit",ref:a,role:"button",testid:void 0,xstyle:o.emojiRowContainer,children:l.jsx("div",{className:"x6s0dn4 x7daf1o x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r",role:"none",children:l.jsx("div",{className:(i||(i=c("stylex")))([].concat(b?[o.fontStyles,o.emoji,o.additionalInlineButton]:[o.fontStyles,o.emojiNum])),role:"none",style:{minWidth:n*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER},children:p})})});return e?g:l.jsx(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:f,children:g})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWFDSCrossCircle.svg.react",["cr:21619"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21619")}),98);
__d("MWFDSDragHandle.svg.react",["FBIconNaviconFilled12.svg.react"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=c("FBIconNaviconFilled12.svg.react")}),98);
__d("MWFDSFaceHappy.svg.react",["cr:2649"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:2649")}),98);
__d("MWFDSForward.svg.react",["cr:21662"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21662")}),98);
__d("MWFDSForwardAction.svg.react",["cr:21662"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21662")}),98);
__d("MWFDSGif.svg.react",["cr:21672"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21672")}),98);
__d("MWFDSHdOutline.svg.react",["cr:21678"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21678")}),98);
__d("MWFDSMicrophone.svg.react",["cr:21712"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21712")}),98);
__d("MWFDSMinus.svg.react",["cr:21713"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21713")}),98);
__d("MWFDSPhoto.svg.react",["cr:21736"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21736")}),98);
__d("MWFDSPhotoPlus.svg.react",["cr:21737"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21737")}),98);
__d("MWFDSPoll.svg.react",["cr:21742"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21742")}),98);
__d("MWFDSRollCall.svg.react",["cr:21766"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21766")}),98);
__d("MWFDSStickersFace.svg.react",["cr:21794"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21794")}),98);
__d("MWGroupLimitContainer.react",["cr:19926","react"],(function(a,b,c,d,e,f,g){"use strict";var h;h||d("react");function a(a){var c=a.children,d=a.groupLimitReachedContent;a=a.thread;a=(a=b("cr:19926")==null?void 0:b("cr:19926")(a.threadKey))!=null?a:[!1,!1];a=a[0];return a?d:c}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxInfoMembersSectionStorageKey",[],(function(a,b,c,d,e,f){"use strict";a="__MWInboxInfoMembersSection.isOpen__";f.storageKey=a}),66);
__d("MWMessageReaction.react",["BaseContextualLayer.react","I64","MWChatMultiReactionsTooltip.react","MWChatReactionEmoji","MWChatReactionsUtils","MWMultiReactConstants","MWXPopover.react","MWXPressable.react","MWXText.react","gkx","intlSummarizeNumber","react","react-compiler-runtime","stylex","useCometTheme","useFadeEffect"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef,n=b.useState,o={"--card-background":"rgba(0,0,0,0)"},p={animatedEmoji:{animationDuration:"xdz8niu",animationIterationCount:"x1v7wizp",animationName:"x4uz0a7",animationTimingFunction:"xjmqbfh",opacity:"x1hc1fzr",transform:"xds7yc5",transformOrigin:"x1jpgh95",$$css:!0},emojiNum:{color:"xi81zsa",fontSize:"x1nxh6w3",fontWeight:"x1s688f",paddingInlineStart:"x1djpfga",paddingInlineEnd:"x1im30kd",textAlign:"x2b8uid",$$css:!0},emojiRowContainer:{borderStartStartRadius:"x1ekkm8c",borderStartEndRadius:"x1143rjc",borderEndEndRadius:"xum4auv",borderEndStartRadius:"xj21bgg",marginBottom:"x12nagc",marginInlineEnd:"x2fvf9",$$css:!0},scaleHeartEmoji:{transform:"xhqu4j4",$$css:!0},selectedTextColor:{color:"x1f0x4kx",$$css:!0},tooltipContainer:{borderStartStartRadius:"xyjepno",borderStartEndRadius:"x15s83fx",borderEndEndRadius:"xdgutz0",borderEndStartRadius:"x1wjlvx0",display:"x1lliihq",marginBottom:"xjpr12u",marginTop:"xr9ek0c",maxWidth:"x86nfjv",opacity:"xg01cxk",paddingTop:"xz9dl7a",paddingInlineEnd:"xpdmqnj",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",position:"x1n2onr6",transitionDuration:"x1ebt8du",transitionProperty:"x19991ni",transitionTimingFunction:"x1dhq9h",$$css:!0},tooltipContainerVisible:{opacity:"x1hc1fzr",transitionDuration:"xhb22t3",transitionTimingFunction:"xls3em1",$$css:!0},tootltipBackgroundComet:{backgroundColor:"xj5tmjb",boxShadow:"xms15q0",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(81),e=a.emoji,f=a.isProcessingReactions,g=a.isReadOnly,i=a.isTooltipShown,s=a.message,t=a.onFocus,u=a.onMouseEnter,v=a.onMouseLeave,w=a.onTooltipCTAPress,x=a.queueSendReactionCallback,y=a.reaction,z=a.sendReaction,A=a.shouldAnimate;a=a.threadKey;var B=c("useCometTheme")("invert"),C=B[0];B=B[1];var D=c("useCometTheme")("light");D=D[1];var E;b[0]!==e[0]?(E=d("MWChatReactionsUtils").isHeart(e[0]),b[0]=e[0],b[1]=E):E=b[1];E=E;var F=m(null);i=c("useFadeEffect")(i);var G=i[0],H=i[1];i=i[2];var I=n(y.viewerIsReactor),J=I[0],K=I[1];b[2]!==y.count?(I=(j||(j=d("I64"))).to_int32(y.count),b[2]=y.count,b[3]=I):I=b[3];I=n(I);var L=I[0],M=I[1];I=n(!1);var N=I[0],O=I[1],P=m(null),Q;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(I=function(){P.current!=null&&window.clearTimeout(P.current)},Q=[],b[4]=I,b[5]=Q):(I=b[4],Q=b[5]);l(I,Q);b[6]!==A?(I=function(){A&&(O(!0),P.current!=null&&window.clearTimeout(P.current),P.current=window.setTimeout(function(){P.current=null,O(!1)},600))},Q=[A],b[6]=A,b[7]=I,b[8]=Q):(I=b[7],Q=b[8]);l(I,Q);b[9]!==f||b[10]!==y.count||b[11]!==y.viewerIsReactor?(I=function(){f||(M((j||(j=d("I64"))).to_int32(y.count)),K(y.viewerIsReactor))},Q=[f,y.count,y.viewerIsReactor],b[9]=f,b[10]=y.count,b[11]=y.viewerIsReactor,b[12]=I,b[13]=Q):(I=b[12],Q=b[13]);l(I,Q);b[14]===Symbol["for"]("react.memo_cache_sentinel")?(I=function(){K(!0),M(r)},b[14]=I):I=b[14];var R=I;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(Q=function(){K(!1),M(q)},b[15]=Q):Q=b[15];var S=Q;I=c("intlSummarizeNumber")(L).length;b[16]!==J||b[17]!==D?(Q=(h||(h=c("stylex"))).props(J?D:null),b[16]=J,b[17]=D,b[18]=Q):Q=b[18];b[19]!==e||b[20]!==J||b[21]!==x||b[22]!==L||b[23]!==z?(D=function(){J?S():R();var a=e.join("");L===1&&J?z(a,J):x(a,function(){z(a,J)})},b[19]=e,b[20]=J,b[21]=x,b[22]=L,b[23]=z,b[24]=D):D=b[24];var T;b[25]!==J?(T={0:{className:"x6s0dn4 xnmxlks x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r"},1:{className:"x6s0dn4 x1ekkm8c x1143rjc xum4auv xj21bgg x78zum5 xl56j7k x10b6aqq x1icxu4v xmzvs34 x1yrsyyn x1n2onr6 xp4054r x1y4ma1z"}}[!!J<<0],b[25]=J,b[26]=T):T=b[26];var U;b[27]!==g?(U={0:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp"},1:{className:"x6s0dn4 x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ju556 x14z9mp x1ypdohk"}}[!!!g<<0],b[27]=g,b[28]=U):U=b[28];var V;b[29]!==N||b[30]!==E||b[31]!==A?(V=(h||(h=c("stylex"))).props(A||N?p.animatedEmoji:!1,E?p.scaleHeartEmoji:!1),b[29]=N,b[30]=E,b[31]=A,b[32]=V):V=b[32];N="multi-react-emoji-"+e[0];b[33]!==e||b[34]!==N?(E=k.jsx(c("MWChatReactionEmoji"),{emoji:e,size:16,testid:void 0}),b[33]=e,b[34]=N,b[35]=E):E=b[35];b[36]!==V||b[37]!==E?(N=k.jsx("div",babelHelpers["extends"]({},V,{children:E})),b[36]=V,b[37]=E,b[38]=N):N=b[38];b[39]!==U||b[40]!==N?(V=k.jsx("div",babelHelpers["extends"]({},U,{children:N})),b[39]=U,b[40]=N,b[41]=V):V=b[41];E=J&&p.selectedTextColor;b[42]!==E?(U=(h||(h=c("stylex")))([p.emojiNum,E]),b[42]=E,b[43]=U):U=b[43];N="multi-react-emoji-num-"+e[0];E=I*d("MWMultiReactConstants").SPACING_PER_COUNT_CHARACTER;b[44]!==E?(I={minWidth:E},b[44]=E,b[45]=I):I=b[45];b[46]!==L?(E=c("intlSummarizeNumber")(L),b[46]=L,b[47]=E):E=b[47];var W;b[48]!==U||b[49]!==N||b[50]!==I||b[51]!==E?(W=k.jsx("div",{className:U,"data-testid":void 0,role:"none",style:I,children:E}),b[48]=U,b[49]=N,b[50]=I,b[51]=E,b[52]=W):W=b[52];b[53]!==T||b[54]!==V||b[55]!==W?(U=k.jsxs("div",babelHelpers["extends"]({},T,{children:[V,W]})),b[53]=T,b[54]=V,b[55]=W,b[56]=U):U=b[56];b[57]!==g||b[58]!==D||b[59]!==U?(N=k.jsx(c("MWXPressable.react"),{disabled:g,onPress:D,overlayRadius:"inherit",ref:F,xstyle:p.emojiRowContainer,children:U}),b[57]=g,b[58]=D,b[59]=U,b[60]=N):N=b[60];b[61]!==C||b[62]!==i||b[63]!==e||b[64]!==f||b[65]!==g||b[66]!==s||b[67]!==w||b[68]!==y.reactionFbid||b[69]!==H||b[70]!==G||b[71]!==B||b[72]!==a?(I=!g&&G&&k.jsx(C,{children:k.jsx(c("BaseContextualLayer.react"),{align:"middle",contextRef:F,position:"above",ref:i,children:k.jsx("div",{style:c("gkx")("23219")?null:o,children:k.jsx(c("MWXPopover.react"),{withArrow:c("gkx")("23219"),children:k.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(B,p.tooltipContainer,c("gkx")("23219")?null:p.tootltipBackgroundComet,H&&p.tooltipContainerVisible),{role:"tooltip",children:k.jsx(c("MWXText.react"),{color:"primary",type:"body4",children:k.jsx(c("MWChatMultiReactionsTooltip.react"),{isProcessingReactions:f,messageId:s.messageId,onTooltipCTAPress:function(){return w(y.reactionFbid,e.join(""))},reactionFbid:y.reactionFbid,threadKey:a})})}))})})})}),b[61]=C,b[62]=i,b[63]=e,b[64]=f,b[65]=g,b[66]=s,b[67]=w,b[68]=y.reactionFbid,b[69]=H,b[70]=G,b[71]=B,b[72]=a,b[73]=I):I=b[73];b[74]!==t||b[75]!==u||b[76]!==v||b[77]!==Q||b[78]!==N||b[79]!==I?(E=k.jsxs("div",babelHelpers["extends"]({},Q,{onFocus:t,onMouseEnter:u,onMouseLeave:v,children:[N,I]})),b[74]=t,b[75]=u,b[76]=v,b[77]=Q,b[78]=N,b[79]=I,b[80]=E):E=b[80];return E}function q(a){return a>1?a-1:a}function r(a){return a+1}g["default"]=a}),98);
__d("useEmojiReactionDynamicStyleXTransition",["differenceSets","mapMapToArray","mapSet","nullthrows","react","react-compiler-runtime","setImmediate","sortBy","useForceUpdate","useIsMountedRef","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useRef,m={animationBase:{opacity:"xg01cxk",transitionDuration:"xbb3pvg",transitionProperty:"xeq7tfg",width:"xnalus7",$$css:!0},animationEnter:{animationDuration:"xllfotl",animationName:"x127lhb5",opacity:"x1hc1fzr",$$css:!0},animationEnterWidth1:{width:"x1ygkb0v",$$css:!0},animationEnterWidth2:{width:"x1247r65",$$css:!0},animationEnterWidth3:{width:"xdc2ju1",$$css:!0},animationEnterWidth4:{width:"xgbm1jk",$$css:!0},animationEnterWidth5:{width:"x1rdo73f",$$css:!0},animationEnterWidth6:{width:"x13oubkp",$$css:!0},animationLeave:{animationDuration:"x773k2o",animationName:"xvma63k",opacity:"xg01cxk",width:"xnalus7",$$css:!0}};function n(a){switch(a){case 1:return m.animationEnterWidth1;case 2:return m.animationEnterWidth2;case 3:return m.animationEnterWidth3;case 4:return m.animationEnterWidth4;case 5:return m.animationEnterWidth5;case 6:return m.animationEnterWidth6;default:return null}}function o(){var a=l(new Map());function b(){return a.current}j(function(){return function(){return Array.from(b().values()).forEach(window.clearTimeout)}},[]);return b()}function p(){var a=d("react-compiler-runtime").c(3),b=c("useForceUpdate")(),e=c("useIsMountedRef")(),f;a[0]!==b||a[1]!==e.current?(f=function(){return function(){e.current&&b()}},a[0]=b,a[1]=e.current,a[2]=f):f=a[2];return c("useStable")(f)}function a(a,b,d,e){var f=p(),g=o(),h=c("useStable")(function(){return new Map()}),j=l(!0),q=d.duration,r=q===void 0?100:q,s=d.durationIn,t=d.durationOut,u=d.onEnter,v=d.onEnterComplete,w=d.onLeave,x=d.onLeaveComplete,y=i(function(a,b,c){return{item:b,key:a,order:c,style:{transitionDuration:(s!=null?s:r)+"ms"},xstyle:[m.animationBase,j.current&&m.animationEnter,j.current&&n((a=b==null?void 0:b.reactionCountCharactersNum)!=null?a:0)]}},[s,r]),z=new Map(a.map(function(a,c){return[b(a),{item:a,order:c}]})),A=c("differenceSets")(new Set(z.keys()),new Set(h.keys())),B=c("differenceSets")(new Set(h.keys()),new Set(z.keys())),C=new Map();q=Array.from(c("mapSet")(B,function(a){a=c("nullthrows")(h.get(a));a=a.order;return a})).sort(function(a,b){return a-b});q.forEach(function(b,c){b=b-c;while(b<a.length){c=(c=C.get(b))!=null?c:0;C.set(b,c+1);b+=1}});d=c("sortBy")([].concat(c("mapMapToArray")(h,function(a){var b=a.key;b=z.get(b);if(b){return babelHelpers["extends"]({},a,{item:b.item,order:b.order+((b=C.get(b.order))!=null?b:0)})}return a}),Array.from(c("mapSet")(A,function(a){var b=c("nullthrows")(z.get(a)),d=b.item;b=b.order;return y(a,d,b)}))),function(a){return a.order});k(function(){if(e===!0)return;a.forEach(function(a,d){var e,i=b(a),j=(e=h.get(i))!=null?e:y(i,a,d);A.has(i)&&window.requestAnimationFrame(function(){var b;j.xstyle=[m.animationBase,m.animationEnter,n((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];window.clearTimeout(g.get(i));g.set(i,window.setTimeout(function(){v&&v(a)},s!=null?s:r));c("setImmediate")(function(){var b;j.xstyle=[m.animationBase,m.animationEnter,n((b=a==null?void 0:a.reactionCountCharactersNum)!=null?b:0)];u&&u(a);f()})});j.item=a;j.order=d+((e=C.get(d))!=null?e:0);h.set(i,j)});Array.from(B.values()).forEach(function(a){var b=h.get(a);if(b==null)return;var d=b.item;b.status!=="leaving"&&(b.status="leaving",b.style={transitionDuration:(t!=null?t:r)+"ms"},window.requestAnimationFrame(function(){b.xstyle=[m.animationBase,m.animationLeave],window.clearTimeout(g.get(a)),g.set(a,window.setTimeout(function(){h["delete"](a),x&&x(d),f()},t!=null?t:r)),c("setImmediate")(function(){w&&w(d),f()})}))});j.current=!1},void 0);return d}g["default"]=a}),98);
__d("useSendReactionCallbackQueue",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useRef,j=b.useState,k=1e3,l=1500;function a(){var a=d("react-compiler-runtime").c(4),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=new Map(),a[0]=b):b=a[0];var c=i(b),e=i(null);b=j(!1);var f=b[0],g=b[1];if(a[1]===Symbol["for"]("react.memo_cache_sentinel")){b=function(a,b){g(!0),window.clearTimeout(e.current),c.current.set(a,b),e.current=window.setTimeout(function(){h()},l)};var h=function(){if(c.current.size>0){g(!0);var a=Array.from(c.current.entries())[0],b=a[0];a=a[1];a();c.current["delete"](b);e.current=window.setTimeout(function(){h()},l)}else m()},m=function(){window.setTimeout(function(){e.current=null,g(!1)},k)};a[1]=b}else b=a[1];a[2]!==f?(b=[b,f],a[2]=f,a[3]=b):b=a[3];return b}g["default"]=a}),98);
__d("MWMessageReactionsList.react",["I64","LSAuthorityLevel","LSIntEnum","MWMessageReaction.react","MWMultiReactConstants","intlSummarizeNumber","react","react-compiler-runtime","stylex","useEmojiReactionDynamicStyleXTransition","useSendReactionCallbackQueue"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useRef;function a(a){var b=d("react-compiler-runtime").c(43),e=a.emojis,f=a.hideTooltip,g=a.isMultiReactExpanded,h=a.isReactionReadOnly,i=a.message,q=a.onTooltipCTAPress,r=a.previousReactionItems,s=a.reactionItemsShown,t=a.reactionsV2,u=a.sendReactionThrottled,v=a.setIsReactionsRowAnimationInProgress,w=a.setShouldAnimate,x=a.shouldAnimate,y=a.showTooltip,z=a.threadKey,A=a.tooltipIndex,B=s.length,C=m(B);a=c("useSendReactionCallbackQueue")();var D=a[0],E=a[1];b[0]!==g||b[1]!==B||b[2]!==v||b[3]!==w?(a=function(){C.current=B,v(!1),g&&w(!1)},b[0]=g,b[1]=B,b[2]=v,b[3]=w,b[4]=a):a=b[4];a=a;var F;b[5]!==B||b[6]!==v?(F=function(){C.current=B,v(!1)},b[5]=B,b[6]=v,b[7]=F):F=b[7];F=F;var G;b[8]===Symbol["for"]("react.memo_cache_sentinel")?(G=[],b[8]=G):G=b[8];G=G;if(t!=null){if(b[9]!==e||b[10]!==f||b[11]!==E||b[12]!==h||b[13]!==i||b[14]!==q||b[15]!==r||b[16]!==D||b[17]!==s||b[18]!==u||b[19]!==y||b[20]!==z||b[21]!==A){b[23]!==e||b[24]!==f||b[25]!==E||b[26]!==h||b[27]!==i||b[28]!==q||b[29]!==r||b[30]!==D||b[31]!==u||b[32]!==y||b[33]!==z||b[34]!==A?(t=function(a,b){var g=a.emoji;a=a.reaction;return e[b]==null?null:{element:l.jsx(c("MWMessageReaction.react"),{emoji:g,isProcessingReactions:E,isReadOnly:h,isTooltipShown:A===b,message:i,onFocus:function(){return y(b)},onMouseEnter:function(){return y(b)},onMouseLeave:f,onTooltipCTAPress:q,queueSendReactionCallback:D,reaction:a,sendReaction:u,shouldAnimate:(r==null?void 0:r.find(function(a){return a.emoji.join("")===g.join("")}))==null&&(j||(j=d("I64"))).equal(a.authorityLevel,(k||(k=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)),threadKey:z},g.toString()),key:e.toString()+b,reactionCountCharactersNum:c("intlSummarizeNumber")((j||(j=d("I64"))).to_int32(a.count)).length}},b[23]=e,b[24]=f,b[25]=E,b[26]=h,b[27]=i,b[28]=q,b[29]=r,b[30]=D,b[31]=u,b[32]=y,b[33]=z,b[34]=A,b[35]=t):t=b[35];t=s.map(t);b[9]=e;b[10]=f;b[11]=E;b[12]=h;b[13]=i;b[14]=q;b[15]=r;b[16]=D;b[17]=s;b[18]=u;b[19]=y;b[20]=z;b[21]=A;b[22]=t}else t=b[22];G=t}b[36]!==a||b[37]!==F?(s={duration:d("MWMultiReactConstants").REACTIONS_ROW_EXPAND_COLLAPSE_ANIMATION_TOTAL_DURATION,onEnterComplete:a,onLeaveComplete:F},b[36]=a,b[37]=F,b[38]=s):s=b[38];t=c("useEmojiReactionDynamicStyleXTransition")(G,p,s);b[39]!==G||b[40]!==x||b[41]!==t?(a=x?t.map(o):G.map(n),b[39]=G,b[40]=x,b[41]=t,b[42]=a):a=b[42];return a}function n(a){return a==null?void 0:a.element}function o(a){return l.jsx("div",{className:(h||(h=c("stylex")))([a==null?void 0:a.xstyle]),style:babelHelpers["extends"]({},a.style),children:a.item&&a.item.element},a.key)}o.displayName=o.name+" [from "+f.id+"]";function p(a){return a!=null?a.key:0}g["default"]=a}),98);
__d("useGetMultiReactOrderedItems",["I64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useMemo,k=b.useRef;function l(a,b){var c={};a.forEach(function(a){c[a]=!0});var d=a;b.forEach(function(a){a=a.emoji.join("");if(c[a])return;d.push(a)});return d}function m(a,b){b=(b!=null?b:[]).filter(function(a){return(i||(i=d("I64"))).gt(a.count,i.zero)});return b.map(function(b,c){return{emoji:a[c],reaction:b}}).filter(function(a){return a.emoji!=null})}function a(a,b){var c=k(!0),e=k([]),f=j(function(){return m(a,b)},[a,b]),g=j(function(){var a={};f.forEach(function(b){a[b.emoji.join("")]=b});return a},[f]);return j(function(){if(c.current)f.length>0&&(c.current=!1,e.current=f.sort(function(a,b){return(i||(i=d("I64"))).compare(b.reaction.count,a.reaction.count)}).map(function(a){return a.emoji.join("")}));else{var a=e.current.filter(function(a){a=g[a];return a==null?!1:(i||(i=d("I64"))).to_int32(a.reaction.count)>0});e.current=l(a,f)}return e.current.map(function(a){return g[a]}).filter(Boolean)},[g,f])}g["default"]=a}),98);
__d("MWMessageReactionsContainerV2.react",["FBLogger","LSMessagingThreadTypeUtil","MAWPSendOrRemoveReaction.react","MWAddReactionButton.react","MWExpandReactionsButton.react","MWLSThread","MWMessageReactionsList.react","MWMultiReactConstants","ReQL","ReQLSuspense","emptyFunction","justknobx","react","react-compiler-runtime","stylex","useGetMultiReactOrderedItems","useIsMultiReactionEnabled","useIsReactionsV2Enabled","useOnOutsideClick","usePrevious","useReStore","useThrottled"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useRef,m=b.useState,n={wrapper:{alignItems:"x1cy8zhl",display:"x78zum5",flexDirection:"x1q0g3np",flexWrap:"x1a02dak",marginTop:"x1gslohp",$$css:!0},wrapperOutgoing:{alignItems:"xuk3077",justifyContent:"x13a6bvl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(83),e=a.emojis,g=a.isMultiReactRowExpanded,j=a.message,o=a.onOpenDialog,p=a.outgoing,q=a.reactionsV2,r=a.toggleMultiReactionRowExpansion;a=m(-1);var s=a[0],t=a[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=c("justknobx")._("2078"),b[0]=a):a=b[0];var u=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={isReactionsRowAnimationInProgress:!1,shouldAnimate:u},b[1]=a):a=b[1];a=m(a);var v=a[0],w=a[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){u&&w(function(b){return babelHelpers["extends"]({},b,{isReactionsRowAnimationInProgress:a})})},b[2]=a):a=b[2];var x=a;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a=function(a){u&&w(function(b){return babelHelpers["extends"]({},b,{shouldAnimate:a})})},b[3]=a):a=b[3];var y=a;a=m(!1);var z=a[0],A=a[1];a=j.threadKey;var B=(h||(h=c("useReStore")))(),C=d("MWLSThread").useThread(a),D;b[4]!==B||b[5]!==(C==null?void 0:C.parentThreadKey)?(D=function(){return C!=null&&C.parentThreadKey?d("ReQL").fromTableAscending(B.tables.community_folders).getKeyRange(C==null?void 0:C.parentThreadKey):d("ReQL").empty()},b[4]=B,b[5]=C==null?void 0:C.parentThreadKey,b[6]=D):D=b[6];var E=C==null?void 0:C.parentThreadKey,F;b[7]!==B||b[8]!==E?(F=[B,E],b[7]=B,b[8]=E,b[9]=F):F=b[9];E=d("ReQLSuspense").useFirst(D,F,f.id+":99");b[10]!==C?(D=C!=null?C:{},b[10]=C,b[11]=D):D=b[11];F=D;D=F.threadType;if(D==null)throw c("FBLogger")("messenger_web").mustfixThrow("thread cannot be null when reacting to message");b[12]!==D?(F=d("LSMessagingThreadTypeUtil").isArmadilloSecure(D),b[12]=D,b[13]=F):F=b[13];F=F;var G;b[14]!==D?(G=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(D),b[14]=D,b[15]=G):G=b[15];G=G;var H;b[16]!==g||b[17]!==z||b[18]!==r?(H=g?function(){z||(y(!0),r&&r(),x(!0))}:null,b[16]=g,b[17]=z,b[18]=r,b[19]=H):H=b[19];H=c("useOnOutsideClick")(H);var I=d("useIsMultiReactionEnabled").useIsMultiReactEnabled(a),J=d("MAWPSendOrRemoveReaction.react").useSendOrRemoveReaction(j,F,"instant_react"),K;b[20]!==j.messageId||b[21]!==J?(K=function(a,b){return J(j.messageId,a,b?"remove_reaction":"reaction")},b[20]=j.messageId,b[21]=J,b[22]=K):K=b[22];var L=K;b[23]!==L?(K=function(a,b){L(a,b)},b[23]=L,b[24]=K):K=b[24];K=c("useThrottled")(K,750);var M=l(null),N;b[25]!==s?(N=function(a){if(s===a)return;A(!0);M.current!=null&&window.clearTimeout(M.current);t(-1);M.current=window.setTimeout(function(){t(a)},1500)},b[25]=s,b[26]=N):N=b[26];N=N;var O;b[27]===Symbol["for"]("react.memo_cache_sentinel")?(O=function(){A(!1),M.current!=null&&window.clearTimeout(M.current),M.current=window.setTimeout(function(){return t(-1)},300)},b[27]=O):O=b[27];var P=O;b[28]!==o?(O=function(a,b){o({reactionFbid:a,reactionType:b}),P()},b[28]=o,b[29]=O):O=b[29];O=O;var Q=c("useGetMultiReactOrderedItems")(e,q);I=I?G===!0?d("MWMultiReactConstants").PUBLIC_CHANNELS_MAX_REACTIONS_EMOJIS_PREVIEWED_WHEN_COLLAPSED:d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED:d("MWMultiReactConstants").DEFAULT_MAX_REACTION_PREVIEWED_ALLOWED;var R;b[30]!==g||b[31]!==I||b[32]!==Q?(R=g?Q:Q.slice(0,I),b[30]=g,b[31]=I,b[32]=Q,b[33]=R):R=b[33];R=R;var S;b[34]!==g||b[35]!==I||b[36]!==Q?(S=g?[]:Q.slice(I),b[34]=g,b[35]=I,b[36]=Q,b[37]=S):S=b[37];I=S;var T=I.length;S=Q.length||0;I=c("usePrevious")(Q);if(S<1)return null;b[38]!==(E==null?void 0:E.communityType)||b[39]!==C?(Q=C==null?!1:d("useIsReactionsV2Enabled").isReactionsV2ReadOnly(C,E==null?void 0:E.communityType),b[38]=E==null?void 0:E.communityType,b[39]=C,b[40]=Q):Q=b[40];E=Q;Q=!p&&v.isReactionsRowAnimationInProgress;G=!E&&S>0&&(G||S<d("MWMultiReactConstants").CM_MAX_REACTION_EMOJIS_ALLOWED)&&!Q;S=T>0&&!Q;b[41]!==p?(Q=(i||(i=c("stylex"))).props(n.wrapper,p?n.wrapperOutgoing:!1),b[41]=p,b[42]=Q):Q=b[42];b[43]!==v.shouldAnimate||b[44]!==e||b[45]!==g||b[46]!==E||b[47]!==j||b[48]!==O||b[49]!==I||b[50]!==R||b[51]!==q||b[52]!==K||b[53]!==N||b[54]!==a||b[55]!==s?(p=k.jsx(c("MWMessageReactionsList.react"),{emojis:e,hideTooltip:P,isMultiReactExpanded:g,isReactionReadOnly:E,message:j,onTooltipCTAPress:O,previousReactionItems:I,reactionItemsShown:R,reactionsV2:q,sendReactionThrottled:K,setIsReactionsRowAnimationInProgress:x,setShouldAnimate:y,shouldAnimate:v.shouldAnimate,showTooltip:N,threadKey:a,tooltipIndex:s}),b[43]=v.shouldAnimate,b[44]=e,b[45]=g,b[46]=E,b[47]=j,b[48]=O,b[49]=I,b[50]=R,b[51]=q,b[52]=K,b[53]=N,b[54]=a,b[55]=s,b[56]=p):p=b[56];b[57]!==g||b[58]!==E||b[59]!==F||b[60]!==j||b[61]!==T||b[62]!==L||b[63]!==S||b[64]!==a||b[65]!==D||b[66]!==r?(v=S?k.jsx(c("MWExpandReactionsButton.react"),{isMultiReactExpanded:g,isReactionReadOnly:E,isSecure:F,message:j,numOverflowEmojis:T!=null?T:0,sendReaction:L,setIsReactionsRowAnimationInProgress:x,threadKey:a,threadType:D,toggleMultiReactExpanded:r!=null?r:c("emptyFunction")}):null,b[57]=g,b[58]=E,b[59]=F,b[60]=j,b[61]=T,b[62]=L,b[63]=S,b[64]=a,b[65]=D,b[66]=r,b[67]=v):v=b[67];b[68]!==F||b[69]!==j||b[70]!==T||b[71]!==L||b[72]!==G||b[73]!==a||b[74]!==D||b[75]!==r?(e=G?k.jsx(c("MWAddReactionButton.react"),{isSecure:F,message:j,sendReaction:function(a,b){T>0&&(r==null?void 0:r()),window.setTimeout(function(){L(a,b)},T*10)},setShouldRowStayExpanded:A,threadKey:a,threadType:D}):null,b[68]=F,b[69]=j,b[70]=T,b[71]=L,b[72]=G,b[73]=a,b[74]=D,b[75]=r,b[76]=e):e=b[76];b[77]!==H||b[78]!==Q||b[79]!==p||b[80]!==v||b[81]!==e?(O=k.jsxs("div",babelHelpers["extends"]({},Q,{"data-testid":void 0,ref:H,children:[p,v,e]})),b[77]=H,b[78]=Q,b[79]=p,b[80]=v,b[81]=e,b[82]=O):O=b[82];return O}g["default"]=a}),98);
__d("MWMessageSeenCountTooltip.react",["fbt","I64","Int64Hooks","LSMessagingThreadTypeUtil","MWClickedMessageContext.react","MWLSThread","MWLogBroadcastChannelFalcoEvent","MWMessageDeliveryStatus","MWMessageUnsentTimestampText.react","MWXTooltip.react","ReQL","ReQLSuspense","getMessengerPreciseTimestamp","gkx","react","react-compiler-runtime","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useMemo,n=c("gkx")("23219")?3:11;function o(a){var b,e=(i||(i=c("useReStore")))(),g=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(e.tables.community_chat_message_seen_count).getKeyRange(a.threadKey,a.messageId)},[e,a.threadKey,a.messageId],f.id+":45"),k=(b=d("MWLSThread").useThread(a.threadKey,function(a){return d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType)}))!=null?b:!1,o=g?(j||(j=d("I64"))).to_int32(g.seenCount):null;b=d("Int64Hooks").useCallbackInt64(function(){if(!k)return;d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent({action:2,event:16,parentSurface:n,source:15,surface:7,threadFbid:a.threadKey})},[k,a.threadKey]);var p=c("useSinglePartialViewImpression")({onImpressionStart:b});return m(function(){var b=a.isUnsent,e=a.timestampMs,f=a.unsentTimestampMs;if(f!=null&&b)return[l.jsx(c("MWMessageUnsentTimestampText.react"),{timestampMs:a.timestampMs,unsentTimestampMs:f},"first"),h._(/*BTDS*/"Message unsent")];b=o!=null?d("MWMessageDeliveryStatus").getSeenCount(o):d("MWMessageDeliveryStatus").Titles.loading;return[l.jsxs("div",{children:[l.jsx("div",{children:h._(/*BTDS*/"{time}",[h._param("time",c("getMessengerPreciseTimestamp")((j||(j=d("I64"))).to_float(e)))])}),o!==0&&l.jsx("div",{ref:p,children:b})]},"first"),b]},[a,p,o])}function a(a){var b=d("react-compiler-runtime").c(8),e=a.children,f=a.message;a=c("MWClickedMessageContext.react").useHook();var g=a.fetchMessageSeenCount;a=o(f);var h=a[0];a=a[1];var i;b[0]!==g||b[1]!==f?(i=function(a){a&&g(f.threadKey,f.messageId)},b[0]=g,b[1]=f,b[2]=i):i=b[2];var j;b[3]!==e||b[4]!==h||b[5]!==a||b[6]!==i?(j=l.jsx(c("MWXTooltip.react"),{align:"middle",label:a,onVisibilityChange:i,position:"start",tooltip:h,children:e}),b[3]=e,b[4]=h,b[5]=a,b[6]=i,b[7]=j):j=b[7];return j}g["default"]=a}),226);
__d("MWPEditMessageHistoryListText.react",["MWChatTextTransform","MWUnvaultedText","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},outgoing:{color:"xyk4ms5",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.isSecureMessage,f=a.maxLength,g=a.maxLines,i=a.seeLessLinkProps,l=a.seeMoreLinkProps,m=a.text,n=a.textColor,o=a.truncationStyle,p=a.outgoing,q=a.ranges,r=a.renderers,s=a.transforms;a=a.xstyleForText;e=d("MWUnvaultedText").useMWUnvaultedText(e,m);b[0]!==p||b[1]!==a?(m=(h||(h=c("stylex"))).props(k.regular,a,p?k.outgoing:k.incoming),b[0]=p,b[1]=a,b[2]=m):m=b[2];p=e||"";a=s!=null?s:d("MWChatTextTransform").textTransforms;b[3]!==f||b[4]!==g||b[5]!==q||b[6]!==r||b[7]!==i||b[8]!==l||b[9]!==p||b[10]!==a||b[11]!==o?(e=j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:f,maxLines:g,ranges:q,renderers:r,seeLessLinkProps:i,seeMoreLinkProps:l,text:p,transforms:a,truncationStyle:o,truncationThreshold:2,withParagraphs:!0}),b[3]=f,b[4]=g,b[5]=q,b[6]=r,b[7]=i,b[8]=l,b[9]=p,b[10]=a,b[11]=o,b[12]=e):e=b[12];b[13]!==m||b[14]!==e?(s=j.jsx("div",babelHelpers["extends"]({},m,{dir:"auto",children:e})),b[13]=m,b[14]=e,b[15]=s):s=b[15];b[16]!==s||b[17]!==n?(f=j.jsx(c("MWXText.react"),{color:n,type:"body3",children:s}),b[16]=s,b[17]=n,b[18]=f):f=b[18];return f}g["default"]=a}),98);
__d("MWPEditedMessageHistoryEntry.react",["MWGhostMessageBubbleWrapper.react","MWPEditMessageHistoryListText.react","MWXMessageBubble.react","defaultMWPThreadTheme","react","react-compiler-runtime","stylex","useMWPThreadTheme"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react")),k=i.useState,l={border:{boxShadow:"x7h7r2v",$$css:!0},makeSpaceForMessageActions:{maxWidth:"x1no2skz",$$css:!0},messageBubbleIncoming:{paddingInlineEnd:"x1r41h1w",$$css:!0},messageBubbleOutgoing:{paddingInlineStart:"xprvd4o",$$css:!0}};function a(a){var b,e=d("react-compiler-runtime").c(42),f=a.isReply,g=a.isSecureMessage,i=a.messageHistoryEntry,m=a.outgoing,n=a.renderMessageActions;a=m?"white":void 0;var o;e[0]!==a?(o={color_DEPRECATED:a,weight_DEPRECATED:"semibold"},e[0]=a,e[1]=o):o=e[1];a=o;o=k(!1);var p=o[0],q=o[1];o=c("useMWPThreadTheme")();o=o==null||(b=o.threadTheme)==null?void 0:b.fbid;var r;e[2]!==o?(r=d("defaultMWPThreadTheme").isDefaultTheme(o),e[2]=o,e[3]=r):r=e[3];o=r;r=o?c("MWGhostMessageBubbleWrapper.react"):j.Fragment;var s;e[4]!==o||e[5]!==m?(s={0:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli"},2:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},1:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli x15zctf7"},3:{className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo x15zctf7"}}[!!!o<<1|!!m<<0],e[4]=o,e[5]=m,e[6]=s):s=e[6];var t,u;e[7]!==n?(t=function(){n!=null&&q(!0)},u=function(){n!=null&&q(!1)},e[7]=n,e[8]=t,e[9]=u):(t=e[8],u=e[9]);var v;e[10]!==m||e[11]!==n?(v=(h||(h=c("stylex"))).props(n?l.makeSpaceForMessageActions:m?l.messageBubbleOutgoing:l.messageBubbleIncoming),e[10]=m,e[11]=n,e[12]=v):v=e[12];var w=m?"right":"left",x=m?"outgoing":"incoming",y=o?"default":"opaque";f=!m&&f&&l.border;var z;e[13]===Symbol["for"]("react.memo_cache_sentinel")?(z=[],e[13]=z):z=e[13];var A=i.messageContent||"";o=o?"secondary":m?"white":"primary";e[14]!==g||e[15]!==m||e[16]!==a||e[17]!==A||e[18]!==o?(z=j.jsx(c("MWPEditMessageHistoryListText.react"),{isSecureMessage:g,maxLength:300,maxLines:3,outgoing:m,ranges:z,seeLessLinkProps:a,seeMoreLinkProps:a,text:A,textColor:o,truncationStyle:"see-more-and-less"}),e[14]=g,e[15]=m,e[16]=a,e[17]=A,e[18]=o,e[19]=z):z=e[19];e[20]!==x||e[21]!==y||e[22]!==f||e[23]!==z||e[24]!==w?(g=j.jsx(c("MWXMessageBubble.react"),{align:w,color:x,connectBottom:!1,connectTop:!1,variant:y,xstyle:f,children:z}),e[20]=x,e[21]=y,e[22]=f,e[23]=z,e[24]=w,e[25]=g):g=e[25];e[26]!==r||e[27]!==g?(m=j.jsx(r,{children:g}),e[26]=r,e[27]=g,e[28]=m):m=e[28];e[29]!==m||e[30]!==v?(a=j.jsx("div",babelHelpers["extends"]({},v,{children:m})),e[29]=m,e[30]=v,e[31]=a):a=e[31];e[32]!==p||e[33]!==i||e[34]!==n?(A=n&&p?j.jsx("div",{className:"xc26acl x78zum5",children:n(i)}):null,e[32]=p,e[33]=i,e[34]=n,e[35]=A):A=e[35];e[36]!==a||e[37]!==A||e[38]!==s||e[39]!==t||e[40]!==u?(o=j.jsxs("div",babelHelpers["extends"]({},s,{"data-testid":void 0,onMouseEnter:t,onMouseLeave:u,role:"none",children:[a,A]})),e[36]=a,e[37]=A,e[38]=s,e[39]=t,e[40]=u,e[41]=o):o=e[41];return o}g.MWPEditedMessageHistoryEntry=a}),98);
__d("useEditMessageHistoryLS",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useMemo;function a(a,b){var e=d("react-compiler-runtime").c(9),g=(h||(h=c("useReStore")))(),i;e[0]!==g.tables.edit_message_history||e[1]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.edit_message_history.index("originalMsgPkEditTs")).getKeyRange(a)},e[0]=g.tables.edit_message_history,e[1]=a,e[2]=i):i=e[2];var j;e[3]!==g||e[4]!==a?(j=[g,a],e[3]=g,e[4]=a,e[5]=j):j=e[5];i=d("ReQLSuspense").useArray(i,j,f.id+":29");e[6]!==i||e[7]!==b?(j=b?i.slice(0,-1):i,e[6]=i,e[7]=b,e[8]=j):j=e[8];i=j;return i}g["default"]=a}),98);
__d("MWPEditedMessageHistoryList.react",["I64","MWMessageEditContext.react","MWPEditedMessageHistoryEntry.react","QPLUserFlow","qpl","react","react-compiler-runtime","stylex","useEditMessageHistoryLS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useEffect,m={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0},outgoing:{display:"x1lliihq",paddingInlineEnd:"xf159sx",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(24),e=a.editCount,f=a.isReply,g=a.isSecureMessage,i=a.msgId,n=a.outgoing,o=a.renderMessageActions,p=a.threadType;a=a.xstyle;var q=d("MWMessageEditContext.react").useMWMessageEditContext()||{showEdits:!1},r=q.showEdits,s=c("useEditMessageHistoryLS")(i,g);b[0]!==e||b[1]!==g||b[2]!==s||b[3]!==r||b[4]!==p?(q=function(){r&&(c("QPLUserFlow").addAnnotations(c("qpl")._(1056849214,"1777"),{bool:{isSecureMessage:g},"int":{threadType:(j||(j=d("I64"))).to_int32(p)}}),s!=null&&e!=null&&s.length===(j||(j=d("I64"))).to_int32(e)?c("QPLUserFlow").endSuccess(c("qpl")._(1056849214,"1777")):c("QPLUserFlow").endFailure(c("qpl")._(1056849214,"1777"),"no edits found"))},i=[s,e,r,g,p],b[0]=e,b[1]=g,b[2]=s,b[3]=r,b[4]=p,b[5]=q,b[6]=i):(q=b[5],i=b[6]);l(q,i);b[7]!==n||b[8]!==a?(q=(h||(h=c("stylex"))).props(m.base,n?m.outgoing:m.incoming,a),b[7]=n,b[8]=a,b[9]=q):q=b[9];if(b[10]!==f||b[11]!==g||b[12]!==s||b[13]!==n||b[14]!==o){b[16]!==f||b[17]!==g||b[18]!==n||b[19]!==o?(i=function(a,b){return k.jsx(d("MWPEditedMessageHistoryEntry.react").MWPEditedMessageHistoryEntry,{isReply:f,isSecureMessage:g,messageHistoryEntry:a,outgoing:n,renderMessageActions:o},b)},b[16]=f,b[17]=g,b[18]=n,b[19]=o,b[20]=i):i=b[20];a=s.map(i);b[10]=f;b[11]=g;b[12]=s;b[13]=n;b[14]=o;b[15]=a}else a=b[15];b[21]!==q||b[22]!==a?(i=k.jsx("div",babelHelpers["extends"]({},q,{role:"none",children:a})),b[21]=q,b[22]=a,b[23]=i):i=b[23];q=i;return r?q:null}g["default"]=a}),98);
__d("MWSupportTranslatedMessageText.react",["MWChatTextTransform","MWXMessageTextWithEntities.react","MWXText.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={incoming:{color:"x18lvrbx",$$css:!0},regular:{marginTop:"x1gslohp",marginInlineEnd:"x14z9mp",marginBottom:"x12nagc",marginInlineStart:"x1lziwak",textAlign:"x1yc453h",whiteSpace:"x126k92a",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(15),e=a.maxLength,f=a.maxLines,g=a.seeLessLinkProps,i=a.seeMoreLinkProps,l=a.text,m=a.truncationStyle,n=a.ranges,o=a.renderers,p=a.transforms;a=a.xstyleForText;var q;b[0]!==a?(q=(h||(h=c("stylex"))).props(k.regular,a,k.incoming),b[0]=a,b[1]=q):q=b[1];a=l||"";l=p!=null?p:d("MWChatTextTransform").textTransforms;b[2]!==e||b[3]!==f||b[4]!==n||b[5]!==o||b[6]!==g||b[7]!==i||b[8]!==a||b[9]!==l||b[10]!==m?(p=j.jsx(c("MWXMessageTextWithEntities.react"),{maxLength:e,maxLines:f,ranges:n,renderers:o,seeLessLinkProps:g,seeMoreLinkProps:i,text:a,transforms:l,truncationStyle:m,truncationThreshold:2,withParagraphs:!0}),b[2]=e,b[3]=f,b[4]=n,b[5]=o,b[6]=g,b[7]=i,b[8]=a,b[9]=l,b[10]=m,b[11]=p):p=b[11];b[12]!==q||b[13]!==p?(e=j.jsx(c("MWXText.react"),{color:"primary",type:"body3",children:j.jsx("div",babelHelpers["extends"]({},q,{dir:"auto",children:p}))}),b[12]=q,b[13]=p,b[14]=e):e=b[14];return e}g["default"]=a}),98);
__d("MWSupportTranslatedMessageTextEntry.react",["MWSupportTranslatedMessageText.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6);a=a.text;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={color_DEPRECATED:void 0,weight_DEPRECATED:"semibold"},b[0]=e):e=b[0];e=e;var f;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 x1iyjqo2 xs83m0k xjpr12u xeuugli xbyyjgo"},b[1]=f):f=b[1];var g;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x1r41h1w"},b[2]=g):g=b[2];var h;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(h=[],b[3]=h):h=b[3];b[4]!==a?(f=i.jsx("div",babelHelpers["extends"]({},f,{"data-testid":void 0,role:"none",children:i.jsx("div",babelHelpers["extends"]({},g,{children:i.jsx(c("MWXMessageBubble.react"),{align:"left",color:"incoming",connectBottom:!1,connectTop:!1,variant:"opaque",children:i.jsx(c("MWSupportTranslatedMessageText.react"),{maxLength:300,maxLines:3,ranges:h,seeLessLinkProps:e,seeMoreLinkProps:e,text:a,truncationStyle:"see-more-and-less"})})}))})),b[4]=a,b[5]=f):f=b[5];return f}g.MWSupportTranslatedMessageTextEntry=a}),98);
__d("MWSupportTranslatedMessageTextWrapper.react",["MWSupportTranslatedMessageTextEntry.react","MWSupportTranslationsContext.react","react","react-compiler-runtime","stylex","useSupportTranslationsFetchDataLS"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={base:{backgroundColor:"x1eb86dx",maxWidth:"x193iq5w",zIndex:"x1vjfegm",$$css:!0},incoming:{display:"x1lliihq",paddingInlineStart:"xua2c09",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(7),e=a.msgId;a=a.xstyle;var f=d("MWSupportTranslationsContext.react").useMWSupportTranslationsContext();f=f.showUntranslatedText;e=c("useSupportTranslationsFetchDataLS")(e);if(e==null)return null;var g;b[0]!==a?(g=(h||(h=c("stylex"))).props(k.base,k.incoming,a),b[0]=a,b[1]=g):g=b[1];b[2]!==e?(a=j.jsx(d("MWSupportTranslatedMessageTextEntry.react").MWSupportTranslatedMessageTextEntry,{text:e}),b[2]=e,b[3]=a):a=b[3];b[4]!==g||b[5]!==a?(e=j.jsx("div",babelHelpers["extends"]({},g,{role:"none",children:a})),b[4]=g,b[5]=a,b[6]=e):e=b[6];g=e;return f?g:null}g["default"]=a}),98);
__d("TetraMWChatComposerOverflowIcons.react",["MWChatChatButtonColorConstants","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={icon:{display:"x1lliihq",forcedColorAdjust:"x1tzjh5l",$$css:!0}};a=function(a){var b=a.fill,e=a.size,f=a.title;a=a.xstyle;a=a===void 0?!1:a;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,a),{height:e.toString()+"px",viewBox:"0 0 40 42",width:e.toString()+"px",children:[j.jsx("title",{children:f}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 4.5 30.5)",width:"29",x:"-6.5",y:"26.5"}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 20.5 24.5)",width:"41",x:"3.5",y:"20.5"}),j.jsx("rect",{fill:b,height:"7",rx:"2",transform:"rotate(-90 36.5 35.5)",width:"19",x:"30.5",y:"31.5"})]}))};b=function(a){var b=a.fill,e=a.size,f=a.title;a=a.xstyle;a=a===void 0?!1:a;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,a),{height:String(e)+"px",viewBox:"0 0 46 46",width:String(e)+"px",children:[j.jsx("title",{children:f}),j.jsx("path",{d:"M18 17.54v.92c0 1.79 1.75 3.26 4 3.49v-7.9c-2.25.23-4 1.7-4 3.49zM26 26.2v7.6c2.13-.5 4-1.94 4-3.34v-.92c0-1.4-1.87-2.84-4-3.34z",fill:b,transform:"translate(-1 -1)"}),j.jsx("path",{d:"M24 1a23 23 0 1023 23A23 23 0 0024 1zm10 29.46c0 3.95-4 6.83-8 7.42V40a2 2 0 01-4 0v-2.06c-4.43-.3-7.94-3.52-7.94-7.48a2 2 0 014 0c0 1.78 1.72 3.24 3.94 3.49V26c-4.46-.28-8-3.51-8-7.49v-.92c0-4 3.54-7.21 8-7.49V8a2 2 0 014 0v2.13c4 .63 7.09 3.71 7.09 7.41a2 2 0 01-4 0A3.74 3.74 0 0026 14.21v7.91c4 .59 8 3.47 8 7.42z",fill:b,transform:"translate(-1 -1)"})]}))};e=function(a){var b=a.fill,e=a.size;a=a.title;return j.jsxs("svg",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.icon,d("MWChatChatButtonColorConstants").styles.fillGrey,d("MWChatChatButtonColorConstants").styles.strokeGrey),{height:e.toString()+"px",viewBox:"0 0 34 48",width:e.toString()+"px",children:[j.jsx("title",{children:a}),j.jsx("path",{d:"M17 37v9",fill:"none",stroke:b,strokeLinejoin:"round",strokeWidth:"4"}),j.jsx("path",{d:"M10 46h14",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px"}),j.jsx("path",{d:"M39 20v3.5A14.5 14.5 0 0124.5 38h-1A14.5 14.5 0 019 23.5V20",fill:"none",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4px",transform:"translate(-7)"}),j.jsx("rect",{fill:b,height:"28",rx:"6.5",stroke:b,strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"4",width:"14",x:"10",y:"2"})]}))};g.PollsSVG=a;g.DollarSignSVG=b;g.MicrophoneSVG=e}),98);
__d("canMWAddMemberToGroupThread",["I64","LSIntEnum","LSThreadBitOffset"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a,b){if(b)return!1;b=(h||(h=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16));b=b&&a.needsAdminApprovalForNewParticipant===!1;return d("LSThreadBitOffset").has(27,a)||b}g["default"]=a}),98);
__d("useMAWOfflineQueueLoadingIndicatorV2",["MAWSharedProtocolQueueConst","useMAWOfflineQueueLoadingIndicatorShown","useMAWOfflineQueueLoadingIndicatorThreadJid","useMAWOfflineQueueState"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e){a=a===void 0?!1:a;e===void 0?h:e;e=c("useMAWOfflineQueueLoadingIndicatorShown")(a);a=c("useMAWOfflineQueueLoadingIndicatorThreadJid")(b.threadKey,b.threadType);b=d("useMAWOfflineQueueState").useMAWOfflineQueueState();if(a!=null&&Object.keys(b.offlineQueueThreadStatus).length>0){return e&&b.offlineQueueThreadStatus[a]!=null&&((a=b.offlineQueueThreadStatus[a])==null?void 0:a.chatStatus)!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}return e&&b.offlineQueueCount>0&&b.offlineQueueSyncState!==d("MAWSharedProtocolQueueConst").OfflineConsumerStatus.Complete}function h(){return i}function i(){return!0}g["default"]=a}),98);
__d("useMWAddParticipantDialog",["JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","promiseDone","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(9),f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=(h||(h=d("LSIntEnum"))).ofNumber(7),e[0]=f):f=e[0];var g=d("MWLSDatabaseLazySync").useSync(f);e[1]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MWAddParticipantOpenDialog.react").__setRef("useMWAddParticipantDialog"),e[1]=f):f=e[1];f=c("useMWXLazyDialog")(f);var i=f[0];e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=c("JSResourceForInteraction")("MAWAddParticipantSecureDialog.react").__setRef("useMWAddParticipantDialog"),e[2]=f):f=e[2];f=c("useMWXLazyDialog")(f);var j=f[0];e[3]!==i||e[4]!==j||e[5]!==g||e[6]!==a||e[7]!==b?(f=function(){c("promiseDone")(g());var e=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b);e?j({threadKey:a}):i({threadKey:a})},e[3]=i,e[4]=j,e[5]=g,e[6]=a,e[7]=b,e[8]=f):f=e[8];return f}g["default"]=a}),98);
__d("useMWCMEditChatInfoDialogEntrypoint",["GroupsCometChatEditChatDialog.entrypoint","I64","MWXCardedDialogLoadingState.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a,b){var e=d("react-compiler-runtime").c(7),f;e[0]!==a?(f=(i||(i=d("I64"))).to_string(a),e[0]=a,e[1]=f):f=e[1];e[2]!==f?(a={threadID:f},e[2]=f,e[3]=a):a=e[3];f=c("useMWXEntryPointDialog")(c("GroupsCometChatEditChatDialog.entrypoint"),a,void 0,k);var g=f[0];e[4]!==b||e[5]!==g?(a=function(){return g({enableEditNameOrDescription:!0,entryPoint:b})},e[4]=b,e[5]=g,e[6]=a):a=e[6];return a}function k(){return j.jsx(c("MWXCardedDialogLoadingState.react"),{})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useThreadHasCompletedEBFrontLoadingNoop",[],(function(a,b,c,d,e,f){"use strict";function a(a){return!1}f["default"]=a}),66);