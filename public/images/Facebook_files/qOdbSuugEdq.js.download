;/*FB_PKG_DELIM*/

__d("FDSFriendNeutralFilled24Icon",["cr:13877"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:13877")}),98);
__d("FDSFriendNeutralFilled24PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("481920"),24);b=a;g["default"]=b}),98);
__d("LSSLogger",["I64","Promise","ReQL","ReQLSuspense","qpl","react","react-compiler-runtime","useCometInteractionTracing"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");k.useCallback;var l=k.useEffect;function a(){var a=d("react-compiler-runtime").c(5),e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=c("qpl")._(30605384,"573"),a[0]=e):e=a[0];var f=c("useCometInteractionTracing")(e,"fast","INTERACTION",void 0);a[1]!==f?(e=function(){return new(h||(h=b("Promise")))(function(a){f(a)})},a[1]=f,a[2]=e):e=a[2];e=e;var g;a[3]!==e?(g={traceLocalSendMessageAsync:e},a[3]=e,a[4]=g):g=a[4];return g}function e(a,b){var c=d("react-compiler-runtime").c(19),e;c[0]!==a.tables.messages||c[1]!==b.threadKey?(e=function(){return d("ReQL").fromTableDescending(a.tables.messages).getKeyRange(b.threadKey)},c[0]=a.tables.messages,c[1]=b.threadKey,c[2]=e):e=c[2];var g;c[3]!==a||c[4]!==b?(g=[a,b],c[3]=a,c[4]=b,c[5]=g):g=c[5];var h=d("ReQLSuspense").useFirst(e,g,f.id+":45");c[6]!==a.tables.attachments||c[7]!==h||c[8]!==b.threadKey?(e=function(){return h!=null?d("ReQL").fromTableAscending(a.tables.attachments).getKeyRange(b.threadKey,h.messageId):d("ReQL").empty()},c[6]=a.tables.attachments,c[7]=h,c[8]=b.threadKey,c[9]=e):e=c[9];c[10]!==a||c[11]!==h||c[12]!==b?(g=[a,h,b],c[10]=a,c[11]=h,c[12]=b,c[13]=g):g=c[13];var i=d("ReQLSuspense").useArray(e,g,f.id+":50");c[14]!==i?(e=function(){var a=i.map(n).sort(m);if(a==null)return;a=(a=a[0])==null?void 0:a.offlineAttachmentId;if(a==null)return},c[14]=i,c[15]=e):e=c[15];c[16]!==i||c[17]!==b?(g=[i,b],c[16]=i,c[17]=b,c[18]=g):g=c[18];l(e,g)}function m(a,b){return(i||(i=d("I64"))).compare(a.attachmentIndex,b.attachmentIndex)}function n(a){return a}g.useLSSLogger=a;g.useCancelLSSForChatHead=e}),98);
__d("MWChatHeadPicture.react",["FDSFriendNeutralFilled24Icon","MDSGlimmer.react","MWChatFacepile.react","MWChatProfile.react","MWXIcon_DEPRECATED.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={chatHeadIntroAnim:{animationDirection:"xpz12be",animationDuration:"x4b6v7d",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xxjl4ni",animationTimingFunction:"x84okpw",$$css:!0},dropShadow:{borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},withOverflowBackground:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(21),e=a.children,f=a.images,g=a.noDropShadow;a=a.noFacepile;g=g===void 0?!1:g;a=a===void 0?!1:a;var i=f.length;if(i!==1){if(i!==0){if(a){b[0]!==g?(i=(h||(h=c("stylex"))).props(g?!1:k.dropShadow,k.withOverflowBackground),b[0]=g,b[1]=i):i=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXIcon_DEPRECATED.react"),{icon:c("FDSFriendNeutralFilled24Icon")}),b[2]=a):a=b[2];b[3]!==e||b[4]!==i?(a=j.jsxs("div",babelHelpers["extends"]({},i,{children:[a,e]})),b[3]=e,b[4]=i,b[5]=a):a=b[5];return a}b[6]!==e||b[7]!==f[0]||b[8]!==f[1]?(i=j.jsx(c("MWChatFacepile.react"),{borderBetweenImages:!1,firstParticipantURI:f[0],secondParticipantURI:f[1],shadow:!0,size:48,children:e}),b[6]=e,b[7]=f[0],b[8]=f[1],b[9]=i):i=b[9];return i}b[10]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xcrg951 x1c9tyrk xeusxvb x1pahc9y x1ertn4p xsdox4t x1n2onr6 x1useyqa"},b[10]=a):a=b[10];b[11]!==e?(i=j.jsx("div",babelHelpers["extends"]({},a,{children:j.jsx(c("MDSGlimmer.react"),{index:1,children:e})})),b[11]=e,b[12]=i):i=b[12];return i}b[13]!==g?(a=(h||(h=c("stylex"))).props(k.withOverflowBackground,g?!1:k.dropShadow,k.chatHeadIntroAnim),b[13]=g,b[14]=a):a=b[14];b[15]!==e||b[16]!==f[0]?(i=j.jsx(c("MWChatProfile.react"),{size:48,src:f[0],children:e}),b[15]=e,b[16]=f[0],b[17]=i):i=b[17];b[18]!==a||b[19]!==i?(g=j.jsx("div",babelHelpers["extends"]({},a,{children:i})),b[18]=a,b[19]=i,b[20]=g):g=b[20];return g}g["default"]=a}),98);
__d("MWChatStateV2IsFlyoutOpen",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.openFlyoutWatermark!==0}f.isFlyoutOpen=a}),66);
__d("MWV2ChatHeadButton.react",["MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",height:"xsdox4t",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",width:"x1useyqa",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(4),c=a.children;a=a.style;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e="x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x10l6tqk x1useyqa",b[0]=e):e=b[0];b[1]!==c||b[2]!==a?(e=i.jsx("div",{className:e,style:a,children:c}),b[1]=c,b[2]=a,b[3]=e):e=b[3];return e}function b(a){var b=d("react-compiler-runtime").c(12),e=a.ariaDescribedBy,f=a.ariaLabel,g=a.children,h=a.onFocusChange,k=a.onHoverChange,l=a.onHoverIn,m=a.onHoverOut,n=a.onPress,o=a.onPressIn,p=a.ref;a=a.testid;var q;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h||b[4]!==k||b[5]!==l||b[6]!==m||b[7]!==n||b[8]!==o||b[9]!==p||b[10]!==a?(q=i.jsx(c("MWXPressable.react"),{"aria-describedby":e,"aria-label":f,onFocusChange:h,onHoverChange:k,onHoverIn:l,onHoverOut:m,onPress:n,onPressIn:o,overlayDisabled:!0,ref:p,testid:void 0,xstyle:j.button,children:g}),b[0]=e,b[1]=f,b[2]=g,b[3]=h,b[4]=k,b[5]=l,b[6]=m,b[7]=n,b[8]=o,b[9]=p,b[10]=a,b[11]=q):q=b[11];return q}e=b;g.MWV2ChatHeadButtonContainer=a;g.MWV2ChatHeadButton=e}),98);
__d("MWV2ChatHeadCloseButton.react",["fbt","FDSCrossFilled12Icon","MWXIcon_DEPRECATED.react","MWXPressable.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k={closeButton:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",display:"x78zum5",height:"x1qx5ct2",insetInlineEnd:"xqwxbl3",left:null,right:null,justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",top:"x1fo6t33",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"xw4jnvo",$$css:!0},visible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(9),e=a.isVisible,f=a.onFocusChange,g=a.onHoverChange;a=a.onPress;var i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=h._(/*BTDS*/"Close chat"),b[0]=i):i=b[0];var l;b[1]!==e?(l=function(a){return[k.closeButton,e||a.focused?k.visible:!1]},b[1]=e,b[2]=l):l=b[2];var m;b[3]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("MWXIcon_DEPRECATED.react"),{icon:c("FDSCrossFilled12Icon")}),b[3]=m):m=b[3];b[4]!==f||b[5]!==g||b[6]!==a||b[7]!==l?(i=j.jsx(c("MWXPressable.react"),{"aria-label":i,onFocusChange:f,onHoverChange:g,onPress:a,xstyle:l,children:m}),b[4]=f,b[5]=g,b[6]=a,b[7]=l,b[8]=i):i=b[8];return i}g["default"]=a}),226);
__d("MWV2ChatHeadFlyout.react",["fbt","CometHeroHoldTrigger.react","CometPlaceholder.react","FDSBadge.react","LSThreadTitle.react","Locale","MAWUIMessageComposerDraftsPersistedDataService","MWPIsThreadUnread","MWThreadSnippetForDisplay.react","MWXGlimmer.react","MWXText.react","react","react-compiler-runtime","react-strict-dom","stylex","useMWThreadSnippetForDisplay"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={container:{backgroundColor:"xcrg951",borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",bottom:"x1ey2m1c",boxShadow:"x1ot33o7",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",height:"xnnlda6",insetInlineEnd:"xdg88n9",maxWidth:"x256u9z",minWidth:"xktpd3l",paddingInlineEnd:"x2vl965",paddingInlineStart:"xe2zdcy",position:"x10l6tqk",$$css:!0},containerWithSubtitle:{height:"xwzfr38",$$css:!0},threadBodyGlimmer:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",justifyContent:"xl56j7k",$$css:!0},threadSnippetGlimmer:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",height:"xlup9mm",width:"xktia5q",$$css:!0}},m=d("Locale").isRTL(),n=m?-45:45;function a(a){var b=d("react-compiler-runtime").c(26),e=a.id,f=a.subtitle;a=a.thread;var g=f!=null,j=d("MWPIsThreadUnread").useIsThreadUnread(a.threadKey),p;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(p=k.jsx("div",{className:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od x1ot33o7",style:{transform:"rotate("+n+"deg)"}}),b[0]=p):p=b[0];var q;b[1]!==g?(q=(i||(i=c("stylex"))).props(l.container,g?l.containerWithSubtitle:!1),b[1]=g,b[2]=q):q=b[2];b[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:"x1iyjqo2"}),b[3]=g):g=b[3];var r;b[4]!==a?(r=k.jsx("div",{"aria-hidden":!0,children:k.jsx(c("MWXText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:k.jsx(c("LSThreadTitle.react"),{thread:a})})}),b[4]=a,b[5]=r):r=b[5];var s;b[6]!==f?(s=f!=null?k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"x1iyjqo2"}),k.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"headline4",children:f})]}):null,b[6]=f,b[7]=s):s=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx("div",{className:"x1iyjqo2"}),b[8]=f):f=b[8];var t;b[9]!==j?(t=j?k.jsx(c("FDSBadge.react"),{accessibilityText:h._(/*BTDS*/"Unread"),color:"blue"}):null,b[9]=j,b[10]=t):t=b[10];b[11]!==a?(j=k.jsx(o,{thread:a}),b[11]=a,b[12]=j):j=b[12];b[13]!==t||b[14]!==j?(a=k.jsxs(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:[t,j]}),b[13]=t,b[14]=j,b[15]=a):a=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(t=k.jsx("div",{className:"x1iyjqo2"}),b[16]=t):t=b[16];b[17]!==q||b[18]!==r||b[19]!==s||b[20]!==a?(j=k.jsxs("div",babelHelpers["extends"]({},q,{children:[g,r,s,f,a,t]})),b[17]=q,b[18]=r,b[19]=s,b[20]=a,b[21]=j):j=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx("div",{className:{0:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od x1ov1ned",1:"x1502et5 x1doy451 xlup9mm x11dcrhx x10l6tqk x1kky2od xwntvv8"}[!!m<<0],style:{transform:"rotate("+n+"deg)"}}),b[22]=g):g=b[22];b[23]!==e||b[24]!==j?(f=k.jsxs("div",{"data-testid":void 0,id:e,children:[p,j,g]}),b[23]=e,b[24]=j,b[25]=f):f=b[25];return f}function o(a){var b=d("react-compiler-runtime").c(5);a=a.thread;var e=d("MAWUIMessageComposerDraftsPersistedDataService").getMAWUIMessageComposerDraftsPersistedDataService().isThreadLoading(a.threadKey,a.threadType),f=c("useMWThreadSnippetForDisplay")(a,!1),g=f.isDraft;f=f.snippet;if(e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=k.jsxs(d("react-strict-dom").html.div,{style:l.threadBodyGlimmer,children:[k.jsx(c("MWXGlimmer.react"),{index:2,xstyle:l.threadSnippetGlimmer}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MWV2ChatHeadFlyout.MWV2ChatHeadFlyoutSnippet",hold:!0})]}),b[0]=e):e=b[0];return e}b[1]!==g||b[2]!==f||b[3]!==a?(e=k.jsx(c("CometPlaceholder.react"),{fallback:null,children:k.jsx(c("MWThreadSnippetForDisplay.react"),{isDraftMessage:g,snippetRaw:f,thread:a})}),b[1]=g,b[2]=f,b[3]=a,b[4]=e):e=b[4];return e}g["default"]=a}),226);
__d("MWV2ChatHeadTypingIndicator.react",["I64","MWChatTypingIndicator.react","ReQL","ReQLSuspense","ServerTime","clearTimeout","react","react-compiler-runtime","setTimeout","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useState;function a(a){var b=d("react-compiler-runtime").c(12),e=a.threadKey;a=a.threadType;var g=m(!1),i=g[0],j=g[1],p=(h||(h=c("useReStore")))();b[0]!==p.tables.typing_indicator||b[1]!==e?(g=function(){return d("ReQL").fromTableAscending(p.tables.typing_indicator).getKeyRange(e).filter(o)},b[0]=p.tables.typing_indicator,b[1]=e,b[2]=g):g=b[2];var q;b[3]!==p||b[4]!==e?(q=[p,e],b[3]=p,b[4]=e,b[5]=q):q=b[5];var r=d("ReQLSuspense").useArray(g,q,f.id+":48");b[6]!==r?(g=function(){j(r.length>0);var a=r.map(n);a=Math.max.apply(Math,a);a=a-d("ServerTime").getMillis();var b=c("setTimeout")(function(){return j(!1)},a);return function(){c("clearTimeout")(b)}},q=[j,r],b[6]=r,b[7]=g,b[8]=q):(g=b[7],q=b[8]);l(g,q);if(!i)return null;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"x6s0dn4 xcrg951 x16qb05n xi7iut8 x1dm3dyd x1pv694p x1ey2m1c x78zum5 x1qx5ct2 xtijo5x xl56j7k x10l6tqk x1td3qas"},b[9]=g):g=b[9];b[10]!==a?(q=k.jsx("div",babelHelpers["extends"]({},g,{children:k.jsx(c("MWChatTypingIndicator.react"),{threadType:a})})),b[10]=a,b[11]=q):q=b[11];return q}function n(a){return(i||(i=d("I64"))).to_float(a.expirationTimestampMs)}function o(a){a=a.expirationTimestampMs;return d("ServerTime").getMillis()<(i||(i=d("I64"))).to_float(a)}e=d("withCometPlaceholder").withCometPlaceholder(a,null,"MWV2ChatHeadTypingIndicator");g["default"]=e}),98);
__d("MWV2ChatHeadUnreadMessageCountBadge.react",["fbt","CometPlaceholder.react","FDSNumberedBadge.react","I64","MWPActor.react","ReQL","ReQLSuspense","react","react-compiler-runtime","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react"),n={badgeHidden:{opacity:"xg01cxk",$$css:!0},unreadBadge:{insetInlineEnd:"xqwxbl3",position:"x10l6tqk",top:"x1fo6t33",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",$$css:!0},unreadBadgeIndeterminate:{marginInlineEnd:"x1w5wx5t",$$css:!0}};function o(a,b){var e,g=(i||(i=c("useReStore")))(),h=d("MWPActor.react").useActor();return(e=(e=d("ReQLSuspense").useArray(function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(a).bounds({gt:[b]}).filter(function(a){return!(k||(k=d("I64"))).equal(a.senderId,h)}).take(10)},[h,g,b,a],f.id+":57"))==null?void 0:e.length)!=null?e:0}function p(a){var b=d("react-compiler-runtime").c(12),e=a.isUnread,f=a.isVisible;a=a.unreadMessageCount;if(a===0&&!e){b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=m.jsx("div",{"aria-hidden":!0,className:"xg01cxk x1f85oc2"}),b[0]=e):e=b[0];return e}b[1]!==a?(e=a===0?h._(/*BTDS*/"_j[\"Unread messages\",\"2b2898b200686215c54616553499fddf\",1]"):h._(/*BTDS*/"_j{\"*\":\"{number} unread messages\",\"_1\":\"1 unread message\"}",[h._plural(a,"number")]),b[1]=a,b[2]=e):e=b[2];e=e;var g;b[3]!==a?(g=a===0?null:m.jsx(c("FDSNumberedBadge.react"),{accessibilityText:h._(/*BTDS*/"_j{\"*\":\"{number} unread messages\",\"_1\":\"1 unread message\"}",[h._plural(a,"number")]),overflow:9,value:a}),b[3]=a,b[4]=g):g=b[4];g=g;var i;b[5]!==f||b[6]!==a?(i=(j||(j=c("stylex"))).props(n.unreadBadge,f?!1:n.badgeHidden,a===0?n.unreadBadgeIndeterminate:!1),b[5]=f,b[6]=a,b[7]=i):i=b[7];b[8]!==e||b[9]!==g||b[10]!==i?(f=m.jsx("div",babelHelpers["extends"]({"aria-label":e},i,{children:g})),b[8]=e,b[9]=g,b[10]=i,b[11]=f):f=b[11];return f}function q(a){var b=d("react-compiler-runtime").c(4),c=a.isUnread,e=a.isVisible,f=a.lastReadWatermarkTimestampMs;a=a.threadKey;a=o(a,f);b[0]!==c||b[1]!==e||b[2]!==a?(f=m.jsx(p,{isUnread:c,isVisible:e,unreadMessageCount:a}),b[0]=c,b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}a=function(a){return m.jsx(c("CometPlaceholder.react"),{fallback:m.jsx(p,{isUnread:a.isUnread,isVisible:a.isVisible,unreadMessageCount:0}),name:"MWV2ChatHeadUnreadMessageCountBadge",children:m.jsx(q,babelHelpers["extends"]({},a))})};g.MWV2ChatHeadUnreadMessageCountBadge=a}),226);
__d("MWV2ChatHead.react",["fbt","CometContextualLayer.react","CometPlaceholder.react","GroupsCometChatsEngagementLogger","I64","LSContactBitOffset","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSReportThreadViewOpenStoredProcedure","LSSLogger","LSThreadAttributionStore","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeadPicture.react","MWChatInteraction","MWChatStateActions","MWChatStateV2.react","MWChatStateV2IsFlyoutOpen","MWFacepileBadge.react","MWPActor.react","MWPGetThreadTitle","MWPIsThreadUnread","MWV2ChatHeadButton.react","MWV2ChatHeadCloseButton.react","MWV2ChatHeadFlyout.react","MWV2ChatHeadTypingIndicator.react","MWV2ChatHeadUnreadMessageCountBadge.react","MWV2EnsureThatChatTabExists","ReQL","ReQLSuspense","getBadgePosition","getLSMediaContactProfilePictureUrl","getLSMediaThreadPictureUrl","justknobx","profilePhotoUtils","promiseDone","react","react-compiler-runtime","useCommunityFolder","useGetContactsToShow","useMWChatOpenTabTraceProvider","useMWPreloadThread","useMWReportThreadOpenOnMountAndFocusWithLogger","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));b=l;var n=b.useId,o=b.useRef,p=b.useState,q=c("justknobx")._("2202");function r(a,b){var c=d("react-compiler-runtime").c(6),e=d("MWPActor.react").useActor(),f=a.threadName;if(f!=null){var g;c[0]!==f?(g=h._(/*BTDS*/"Open chat titled {name of conversation}",[h._param("name of conversation",f)]),c[0]=f,c[1]=g):g=c[1];return g}if(c[2]!==e||c[3]!==b||c[4]!==a.threadType){g=(f=d("MWPGetThreadTitle").computeThreadTitle(void 0,a.threadType,b,e))!=null?f:"";f=h._(/*BTDS*/"Open chat with {chat participants}",[h._param("chat participants",g)]);c[2]=e;c[3]=b;c[4]=a.threadType;c[5]=f}else f=c[5];return f}function s(a,b){var e=d("react-compiler-runtime").c(6),f=d("MWPActor.react").useActor(),g;e[0]!==a?(g=c("getLSMediaThreadPictureUrl")(a),e[0]=a,e[1]=g):g=e[1];g=g;a=c("useGetContactsToShow")(a,b,f);if(g!=null){e[2]!==g?(b=[g],e[2]=g,e[3]=b):b=e[3];return b}e[4]!==a?(f=a.map(c("getLSMediaContactProfilePictureUrl")),e[4]=a,e[5]=f):f=e[5];return f}function t(a){var b=d("react-compiler-runtime").c(84),e=a.onFocusChange,g=a.onHoverChange,h=a.style,l=a.tab,t=a.thread,v=(i||(i=c("useReStore")))(),w=c("useCommunityFolder")(t),x=d("MWChatStateV2.react").useDispatch(),y=c("useMWChatOpenTabTraceProvider")();b[0]!==t.threadType?(a=d("MWCMThreadTypes.react").isJoinedCMThread(t.threadType),b[0]=t.threadType,b[1]=a):a=b[1];var z=a;a=d("LSMessagingThreadTypeUtil").isChannelPreview(t.threadType);var A;b[2]!==t.threadType?(A=d("LSMessagingThreadTypeUtil").isArmadilloSecure(t.threadType),b[2]=t.threadType,b[3]=A):A=b[3];A=A;A=c("useMWPreloadThread")(t,A);var B=A.onHoverInPreloader,C=A.onHoverOutPreloader;A=A.onPressInPreloader;var D;b[4]!==x||b[5]!==z||b[6]!==w||b[7]!==v||b[8]!==l.tabId||b[9]!==t.parentThreadKey||b[10]!==t.threadKey||b[11]!==t.threadType||b[12]!==y?(D=function(){z&&(d("GroupsCometChatsEngagementLogger").log({action:"tap",community_id:w?(j||(j=d("I64"))).to_string(w.folderId):(j||(j=d("I64"))).to_string(t.parentThreadKey),event:"thread_open",group_id:w?(j||(j=d("I64"))).to_string(w.fbGroupId):null,source:"chat_bubble",surface:"chat_bubbles_container",thread_id:(j||(j=d("I64"))).to_string(t.threadKey)}),c("promiseDone")(v.runInTransaction(function(a){return c("LSReportThreadViewOpenStoredProcedure")(c("LSFactory")(a),{threadKey:t.threadKey})},"readwrite",void 0,void 0,f.id+":185"))),y({entrypoint:"chatheads",threadKey:t.threadKey,threadType:(k||(k=d("LSIntEnum"))).unwrapIntEnum(t.threadType)},function(a){d("MWChatInteraction").set((j||(j=d("I64"))).to_string(t.threadKey),a),x(d("MWChatStateActions").maximizeTab(Date.now(),l.tabId))}),d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(t.threadKey),"chatheads")},b[4]=x,b[5]=z,b[6]=w,b[7]=v,b[8]=l.tabId,b[9]=t.parentThreadKey,b[10]=t.threadKey,b[11]=t.threadType,b[12]=y,b[13]=D):D=b[13];D=D;d("LSSLogger").useCancelLSSForChatHead(v,t);var E=t.threadKey,F=p(!1),G=F[0],H=F[1];F=p(!1);var I=F[0],J=F[1];b[14]!==x||b[15]!==l.tabId?(F=function(){return x(d("MWChatStateActions").closeTab(Date.now(),l.tabId))},b[14]=x,b[15]=l.tabId,b[16]=F):F=b[16];F=F;var K;b[17]!==v.tables.contacts||b[18]!==v.tables.participants||b[19]!==E?(K=function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(v.tables.participants,["contactId","nickname","authorityLevel"]).getKeyRange(E),d("ReQL").fromTableAscending(v.tables.contacts,["name","rank","contactType","firstName"].concat(d("LSContactBitOffset").contactCapabilityFields,["id","profilePictureFallbackUrl","profilePictureUrl","profilePictureUrlExpirationTimestampMs","id"]))).take(8)},b[17]=v.tables.contacts,b[18]=v.tables.participants,b[19]=E,b[20]=K):K=b[20];var L;b[21]!==v||b[22]!==E?(L=[v,E],b[21]=v,b[22]=E,b[23]=L):L=b[23];K=d("ReQLSuspense").useArray(K,L,f.id+":221");L=o(null);var M;b[24]!==l?(M=d("MWChatStateV2IsFlyoutOpen").isFlyoutOpen(l),b[24]=l,b[25]=M):M=b[25];M=M;var N=n(),O=r(t,K),P;b[26]!==K?(P=K.map(u),b[26]=K,b[27]=P):P=b[27];K=P;P=s(t,K);b[28]===Symbol["for"]("react.memo_cache_sentinel")?(K=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),b[28]=K):K=b[28];K=K;K=K[0];var Q;b[29]===Symbol["for"]("react.memo_cache_sentinel")?(Q=d("getBadgePosition").getBadgePosition(24),b[29]=Q):Q=b[29];Q=Q;var R;b[30]!==z||b[31]!==t?(R=z?m.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:t}):null,b[30]=z,b[31]=t,b[32]=R):R=b[32];R=R;var S=d("MWPIsThreadUnread").useIsThreadUnread(t.threadKey),T=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(t,q),U;b[33]!==O?(U=O.toString(),b[33]=O,b[34]=U):U=b[34];b[35]!==e?(O=function(a){J(a),e(a)},b[35]=e,b[36]=O):O=b[36];var V;b[37]!==g?(V=function(a){H(a),g(a)},b[37]=g,b[38]=V):V=b[38];a=!a&&!G&&!I;var W;b[39]!==S||b[40]!==a||b[41]!==t.lastReadWatermarkTimestampMs||b[42]!==E?(W=m.jsx(d("MWV2ChatHeadUnreadMessageCountBadge.react").MWV2ChatHeadUnreadMessageCountBadge,{isUnread:S,isVisible:a,lastReadWatermarkTimestampMs:t.lastReadWatermarkTimestampMs,threadKey:E}),b[39]=S,b[40]=a,b[41]=t.lastReadWatermarkTimestampMs,b[42]=E,b[43]=W):W=b[43];b[44]===Symbol["for"]("react.memo_cache_sentinel")?(S="x10l6tqk",a={bottom:Q.bottom,left:Q.left,right:Q.right,transform:Q.transform},b[44]=S,b[45]=a):(S=b[44],a=b[45]);b[46]!==t.threadKey?(Q=m.jsx("div",{className:S,style:a,children:m.jsx(c("MWFacepileBadge.react"),{size:K,threadKey:t.threadKey})}),b[46]=t.threadKey,b[47]=Q):Q=b[47];b[48]!==P||b[49]!==W||b[50]!==Q?(S=m.jsx("div",{ref:L,children:m.jsxs(c("MWChatHeadPicture.react"),{images:P,children:[W,Q]})}),b[48]=P,b[49]=W,b[50]=Q,b[51]=S):S=b[51];b[52]!==N||b[53]!==M||b[54]!==I||b[55]!==G||b[56]!==R||b[57]!==t?(a=G||I||M?m.jsx(c("CometContextualLayer.react"),{contextRef:L,children:m.jsx(c("CometPlaceholder.react"),{fallback:null,children:m.jsx(c("MWV2ChatHeadFlyout.react"),{id:N,subtitle:R,thread:t})})}):null,b[52]=N,b[53]=M,b[54]=I,b[55]=G,b[56]=R,b[57]=t,b[58]=a):a=b[58];b[59]!==t.threadType||b[60]!==E?(K=m.jsx(c("MWV2ChatHeadTypingIndicator.react"),{threadKey:E,threadType:t.threadType}),b[59]=t.threadType,b[60]=E,b[61]=K):K=b[61];b[62]!==N||b[63]!==B||b[64]!==C||b[65]!==D||b[66]!==A||b[67]!==U||b[68]!==O||b[69]!==V||b[70]!==S||b[71]!==a||b[72]!==K?(P=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaDescribedBy:N,ariaLabel:U,onFocusChange:O,onHoverChange:V,onHoverIn:B,onHoverOut:C,onPress:D,onPressIn:A,children:[S,a,K]}),b[62]=N,b[63]=B,b[64]=C,b[65]=D,b[66]=A,b[67]=U,b[68]=O,b[69]=V,b[70]=S,b[71]=a,b[72]=K,b[73]=P):P=b[73];W=G||I;b[74]!==F||b[75]!==W?(Q=m.jsx(c("MWV2ChatHeadCloseButton.react"),{isVisible:W,onFocusChange:J,onHoverChange:H,onPress:F}),b[74]=F,b[75]=W,b[76]=Q):Q=b[76];b[77]!==h||b[78]!==P||b[79]!==Q?(L=m.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:h,children:[P,Q]}),b[77]=h,b[78]=P,b[79]=Q,b[80]=L):L=b[80];b[81]!==T||b[82]!==L?(M=m.jsxs(m.Fragment,{children:[T,L]}),b[81]=T,b[82]=L,b[83]=M):M=b[83];return M}function u(a){a=a[1];return a}function a(a){var b=d("react-compiler-runtime").c(18),e=a.onFocusChange,g=a.onHoverChange,h=a.style,j=a.tab;a=a.threadKeyDescriptor;var k=(i||(i=c("useReStore")))(),l=a.clientThreadKey,n=a.threadKey;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(n,a.threadType,a.clientThreadKey,"MWV2ChatHead");b[0]!==k.tables.threads||b[1]!==n?(a=function(){return d("ReQL").fromTableAscending(k.tables.threads).getKeyRange(n)},b[0]=k.tables.threads,b[1]=n,b[2]=a):a=b[2];var o;b[3]!==k||b[4]!==n?(o=[k,n],b[3]=k,b[4]=n,b[5]=o):o=b[5];a=d("ReQLSuspense").useFirst(a,o,f.id+":349");b[6]!==l||b[7]!==k.tables.threads?(o=function(){return l!=null?d("ReQL").fromTableAscending(k.tables.threads.index("clientThreadKey")).getKeyRange(l):d("ReQL").empty()},b[6]=l,b[7]=k.tables.threads,b[8]=o):o=b[8];var p;b[9]!==l||b[10]!==k?(p=[k,l],b[9]=l,b[10]=k,b[11]=p):p=b[11];o=d("ReQLSuspense").useFirst(o,p,f.id+":353");a=(p=a!=null?a:o)!=null?p:null;b[12]!==e||b[13]!==g||b[14]!==h||b[15]!==j||b[16]!==a?(o=a&&m.jsx(t,{onFocusChange:e,onHoverChange:g,style:h,tab:j,thread:a}),b[12]=e,b[13]=g,b[14]=h,b[15]=j,b[16]=a,b[17]=o):o=b[17];return o}g["default"]=a}),226);