;/*FB_PKG_DELIM*/

__d("getSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function b(b){var c=a.getSelection();if(c==null||c.rangeCount===0)return null;var d=c.anchorNode,e=c.anchorOffset,f=c.focusNode;c=c.focusOffset;if(d==null||f==null)return null;var g=0,h=-1,i=-1,j=0,k=0,l=b,m=null;outer:while(!0){var n=null;while(!0){var o;l!=null&&l===d&&(e===0||l.nodeType===Node.TEXT_NODE)&&(h=g+e);l!=null&&l===f&&(c===0||l.nodeType===Node.TEXT_NODE)&&(i=g+c);l!=null&&l.nodeType===Node.TEXT_NODE&&(g+=l.nodeValue.length);if((n=(o=l)==null?void 0:o.firstChild)===null)break;m=l;l=n}while(!0){if(l===b)break outer;m===d&&++j===e&&(h=g);m===f&&++k===c&&(i=g);if((n=(o=l)==null?void 0:o.nextSibling)!==null)break;l=m;m=(o=l)==null?void 0:o.parentNode}l=n}return h===-1||i===-1?null:{end:i,isCollapsed:d===f&&c===e,start:h}}f["default"]=b}),66);
__d("setSelectionOffsets",[],(function(a,b,c,d,e,f){"use strict";function g(a){a=a;while(a!=null&&a.firstChild!=null)a=a.firstChild;return a}function h(a){a=a;while(a!=null){if(a.nextSibling!=null)return a.nextSibling;a=a.parentNode}return null}function i(a,b){var c=g(a),d=0,e;while(c!=null){if(c.nodeType===Node.TEXT_NODE){e=d+c.textContent.length;if(d<=b&&e>=b)return{node:c,offset:b-d};d=e}e=h(c);c=e!=null?g(e):null;if(c!=null&&c.contains(a))return null}return null}function b(b,c){var d=a.getSelection(),e=b.textContent.length,f=Math.min(c.start,e);c=Math.min(c.end,e);if(!d.extend==null&&f>c){e=c;c=f;f=e}e=i(b,f);b=i(b,c);if(e!=null&&b!=null){var g=document.createRange();g.setStart(e.node,e.offset);d.removeAllRanges();f>c?(d.addRange(g),d.extend(b.node,b.offset)):(g.setEnd(b.node,b.offset),d.addRange(g))}}f["default"]=b}),66);
__d("CometPlaintextEditor.react",["FBLogger","ReactDOM","clearTimeout","getSelectionOffsets","react","setSelectionOffsets","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=["editorState","onClick","onStateChange","placeholder","placeholderXStyle","readOnly","testid"],i=["onInputRefUpdate","onReturn"],j,k,l=k||d("react"),m={placeholder:{bottom:"x1ey2m1c",color:"x12scifz",insetInlineEnd:"xtijo5x",insetInlineStart:"x1o0tod",overflowX:"x6ikm8r",overflowY:"x10wlt62",pointerEvents:"x47corl",position:"x10l6tqk",textOverflow:"xlyipyv",top:"x13vifvy",userSelect:"x87ps6o",zIndex:"x1ja2u2z",$$css:!0}},n=8,o=46,p=13;b=function(b){function e(){var d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(d=b.call.apply(b,[this].concat(f))||this,d.$1=l.createRef(),d.$4=function(a){d.$1.current=a,d.props.onInputRefUpdate&&d.props.onInputRefUpdate(a)},d.$8=function(a){d.props.onBeforeInput&&d.props.onBeforeInput(a),d.$9()},d.$11=function(a){d.props.onBlur&&d.props.onBlur(a),d.props.editorState.hasFocus&&d.notify(babelHelpers["extends"]({},d.props.editorState,{hasFocus:!1,isPendingSelection:!1}))},d.$12=function(a){d.props.onCompositionEnd&&d.props.onCompositionEnd(a),d.props.editorState.isComposing&&d.notify(babelHelpers["extends"]({},d.props.editorState,{isComposing:!1}))},d.$13=function(a){d.props.onCompositionStart&&d.props.onCompositionStart(a),d.props.editorState.isComposing||d.notify(babelHelpers["extends"]({},d.props.editorState,{isComposing:!0}))},d.$14=function(a){d.props.onCut&&d.props.onCut(a),a.isDefaultPrevented()||d.$9()},d.$15=function(a){d.$10();d.props.onInput&&d.props.onInput(a);if(!a.isDefaultPrevented()){a=d.$6();a!==null&&d.props.editorState.text!==a&&d.notify(babelHelpers["extends"]({},d.props.editorState,{text:a}))}},d.$16=function(a){var b=d.props.onReturn;if(b!=null&&a.keyCode===p&&!(a.getModifierState("Shift")||a.getModifierState("Alt")||a.getModifierState("Control"))){b(a);return}d.props.onKeyDown&&d.props.onKeyDown(a);!a.isDefaultPrevented()&&(a.keyCode===n||a.keyCode===o)&&d.$9()},d.$17=function(a){d.props.onFocus&&d.props.onFocus(a),!a.isDefaultPrevented()&&!d.props.editorState.hasFocus&&d.notify(babelHelpers["extends"]({},d.props.editorState,{hasFocus:!0}))},d.$18=function(){d.notify(babelHelpers["extends"]({},d.props.editorState,{isPendingSelection:!0})),d.$2=c("setTimeout")(function(){c("FBLogger")("CometPlaintextEditor").warn("_onMouseDown had no corresonding mouseup event for 30s."),d.notify(babelHelpers["extends"]({},d.props.editorState,{isPendingSelection:!1}))},3e4),document.addEventListener("mouseup",function(){var a=d.$1.current;a===document.activeElement&&d.notify(babelHelpers["extends"]({},d.props.editorState,{isPendingSelection:!1}))},{once:!0})},d.$19=function(b){d.props.onPaste&&d.props.onPaste(b);if(!b.isDefaultPrevented()){b.preventDefault();var c;try{c=b.clipboardData.getData("text/plain")}catch(d){typeof ((b=a.clipboardData)==null?void 0:b.getData)==="function"&&(c=a.clipboardData.getData("Text"))}if(c!=null&&!document.execCommand("insertText",!1,c)&&!document.execCommand("insertHTML",!1,c)){b=a.getSelection();if(b!=null){var e=b.getRangeAt(0);if(e!=null){e.deleteContents();var f=document.createTextNode(c);e.insertNode(f);e=e.cloneRange();e.setStartAfter(f);e.collapse(!0);b.removeAllRanges();b.addRange(e);d.$9();return}}}f=d.$6();f!==null&&d.props.editorState.text!==f&&d.notify(babelHelpers["extends"]({},d.props.editorState,{text:f}))}},d.$20=function(a){d.props.onSelect&&d.props.onSelect(a);var b=d.$1.current;if(!a.isDefaultPrevented()&&b!=null){a=c("getSelectionOffsets")(b);d.notify(babelHelpers["extends"]({},d.props.editorState,{isPendingSelection:!1,selectionOffsets:a}))}},babelHelpers.assertThisInitialized(d))||babelHelpers.assertThisInitialized(d)}babelHelpers.inheritsLoose(e,b);var f=e.prototype;f.componentDidMount=function(){this.$5()};f.componentDidUpdate=function(a){(a.editorState.text!==this.props.editorState.text||a.editorState.selectionOffsets!==this.props.editorState.selectionOffsets)&&this.$5()};f.componentWillUnmount=function(){c("clearTimeout")(this.$2),delete this.$2,c("clearTimeout")(this.$3),delete this.$3};f.notify=function(a){var b=this;d("ReactDOM").flushSync(function(){!a.isPendingSelection&&b.$2!=null&&(c("clearTimeout")(b.$2),delete b.$2),b.props.onStateChange(a)})};f.$6=function(){var a=this.$1.current;if(a==null)return null;var b=a.innerText||"";return a.textContent!==""?b:""};f.$5=function(){var a=this.$1.current;if(a===null||this.$7())return;var b=this.props.editorState.text,d=this.props.editorState.selectionOffsets;document.activeElement===a&&d==null&&(d=c("getSelectionOffsets")(a));var e=this.$6();e!==null&&b!==e&&(a.innerText=b,d!=null&&(b===""?(a.innerText="\xa0",c("setSelectionOffsets")(a,{end:0,start:0}),document.execCommand("delete",!1,null)):c("setSelectionOffsets")(a,{end:d.end,start:d.start})))};f.$7=function(){return this.$3!=null};f.$10=function(){c("clearTimeout")(this.$3),delete this.$3};f.$9=function(){var a=this;this.$7()&&this.$10();this.$3=c("setTimeout")(function(){var b=a.$1.current;if(b==null||!a.$7())return;a.$10();var d=a.$6();if(d!==null&&a.props.editorState.text!==d){b=c("getSelectionOffsets")(b);a.notify(babelHelpers["extends"]({},a.props.editorState,{selectionOffsets:b,text:d}))}},0)};f.focus=function(){this.$1.current&&this.$1.current.focus()};f.focusEnd=function(){var a=this.$1.current;if(a&&window.getSelection&&document.createRange){var b=document.createRange();b.selectNodeContents(a);b.collapse(!1);a=window.getSelection();a.removeAllRanges();a.addRange(b)}};f.render=function(){var a=this.props,b=a.editorState,d=a.onClick;a.onStateChange;var e=a.placeholder,f=a.placeholderXStyle,g=a.readOnly;g=g===void 0?!1:g;var k=a.testid;k=babelHelpers.objectWithoutPropertiesLoose(a,h);k.onInputRefUpdate;k.onReturn;a=babelHelpers.objectWithoutPropertiesLoose(k,i);k=b.text.trim().length>0;b=l.jsxs("div",{className:"x5yr21d x1n2onr6 xh8yej3","data-testid":void 0,children:[l.jsx("div",babelHelpers["extends"]({},a,{"aria-labelledby":this.props["aria-labelledby"],className:"xjbqb8w x972fbf x10w94by x1qhh985 x14e42zd x5yr21d x1a2a7pz x1n2onr6 xtt52l0 x13faqbe x1vjfegm",contentEditable:!g,onBeforeInput:this.$8,onBlur:this.$11,onCompositionEnd:this.$12,onCompositionStart:this.$13,onCut:this.$14,onFocus:this.$17,onInput:this.$15,onKeyDown:this.$16,onMouseDown:this.$18,onPaste:this.$19,onSelect:this.$20,ref:this.$4})),k||e==null?null:l.jsx("div",babelHelpers["extends"]({},(j||(j=c("stylex"))).props(m.placeholder,f),{children:e}))]});return d!=null?l.jsx("div",{onClick:d,role:"none",children:b}):b};return e}(l.PureComponent);g["default"]=b}),98);
__d("FDSFollowingFilled20Icon",["cr:14219"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:14219")}),98);
__d("FDSFollowingFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("602177"),20);b=a;g["default"]=b}),98);
__d("FDSFriendsFilled12Icon",["cr:15020"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15020")}),98);
__d("FDSFriendsFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("487556"),12);b=a;g["default"]=b}),98);
__d("FDSGenAiStarFilled12Icon",["cr:15047"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15047")}),98);
__d("FDSGenAiStarFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("377217"),12);b=a;g["default"]=b}),98);
__d("FDSGenAiStarFilled20Icon",["cr:15049"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15049")}),98);
__d("FDSGenAiStarFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("377219"),20);b=a;g["default"]=b}),98);
__d("FDSMusicFilled12Icon",["cr:15310"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15310")}),98);
__d("FDSMusicFilled12PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("886192"),12);b=a;g["default"]=b}),98);
__d("FDSMusicFilled20Icon",["cr:15312"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15312")}),98);
__d("FDSMusicFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("886194"),20);b=a;g["default"]=b}),98);
__d("FDSStoriesArchiveFilled20Icon",["cr:15726"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:15726")}),98);
__d("FDSStoriesArchiveFilled20PNGIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("824131"),20);b=a;g["default"]=b}),98);
__d("StoriesCardTimerSourceAutoProgression",["cometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=0,this.$2=c("cometUniqueID")(),this.$3=6e3,a!=null&&(this.$3=a)}var b=a.prototype;b.isFrozen=function(){return null};b.getDuration=function(){return this.$3};b.getNewTimeElapsed=function(a){var b=Date.now(),c=b-this.$1;this.$1=b;return a+c};b.getID=function(){return this.$2};b.play=function(){this.$1===0&&(this.$1=Date.now())};b.pause=function(){this.$1=0};b.resetSourceOnStop=function(){return!1};return a}();g["default"]=a}),98);
__d("StoriesCreateConstants",["fbt","gkx"],(function(a,b,c,d,e,f,g,h){"use strict";a={DEFAULT:{BODY:h._(/*BTDS*/"Are you sure you want to discard this story? Your story won't be saved."),CANCEL:h._(/*BTDS*/"Continue editing"),CONFIRM:h._(/*BTDS*/"Discard"),TITLE:h._(/*BTDS*/"Discard story?")}};b={SELECTION_TILE_HEIGHT:330,SELECTION_TILE_WIDTH:220,SPACE_BETWEEN_SELECTOR:20};d={FOOTER_HEIGHT:52,HEADER_HEIGHT:16};e={COMET_PUSH_VIEW_HEIGHT:28,CONTAINER_HORIZONTAL_PADDING:24*2,CONTAINER_MAX_WIDTH:940,CONTAINER_VERTICAL_PADDING:32*2,CONTENT_HEADER_HEIGHT:36,CONTENT_HORIZONTAL_PADDING:16*2,CONTENT_VERTICAL_PADDING:16*2,MAX_OVERLAY_WIDTH:472.5,SIDE_PANE_WIDTH:360};f=h._(/*BTDS*/"Start typing");h={FOOTER_HEIGHT:c("gkx")("6872")?52:12,HEADER_HEIGHT:12};c=450;var i=10,j={EDITING:"editing",NONE:"none"},k={EMOJI:"emoji",LOCATION:"location",POLL:"poll",TAG:"tag"},l={EDITING:"editing",NONE:"none"},m=10,n=200,o=4,p=1.45,q={HORIZONTAL:"horizontal",NONE:"none"},r=60,s=3,t=4,u={FOOTER_HEIGHT:92},v=Object.freeze({BLACK:"rgb(0, 0, 0)",BLUE:"rgb(41, 134, 174)",BROWN:"rgb(112, 41, 41)",CORAL:"rgb(247, 114, 74)",CYAN:"rgb(94, 213, 255)",GOLD:"rgb(241, 196, 58)",GRAY:"rgb(142, 147, 156)",GREEN:"rgb(136, 191, 75)",LIGHT_BLUE:"rgb(202, 237, 248)",LIGHT_GRAY:"rgb(206, 208, 212)",LIGHT_PURPLE:"rgb(220, 211, 239)",MAGENTA:"rgb(251, 62, 160)",MINT:"rgb(185, 252, 203)",NAVY:"rgb(43, 69, 124)",ORANGE:"rgb(244, 146, 58)",PINK:"rgb(249, 203, 209)",PURPLE:"rgb(148, 31, 177)",RED:"rgb(248, 61, 61)",VIOLET:"rgb(88, 59, 154)",WHITE:"rgb(255, 255, 255)",YELLOW:"rgb(248, 226, 76)"}),w={x:.5,y:.5};g.LEAVE_TEXT=a;g.NULL_STATE_DIMENSIONS=b;g.PHOTO_PREVIEW_DIMENSIONS=d;g.PREVIEW_DIMENSIONS=e;g.SATP_PLACEHOLDER=f;g.SATP_PREVIEW_DIMENSIONS=h;g.SATP_MAX_TEXT_LENGTH=c;g.SATP_MAX_NUM_LINES=i;g.STICKER_EDITING_MODE=j;g.STICKER_TYPE=k;g.TEXT_OVERLAY_MODE=l;g.TEXT_OVERLAY_MAX_NUM_LINES=m;g.TEXT_OVERLAY_MAX_TEXT_LENGTH=n;g.TEXT_OVERLAY_MAX_HANDLED_RESIZE_FACTOR=o;g.TEXT_OVERLAY_RESIZE_FACTOR_POWER=p;g.OVERLAY_ALIGNMENT_TYPE=q;g.VIDEO_MAX_DURATION=r;g.VIDEO_MIN_DURATION=s;g.VIDEO_MIN_DURATION_FOR_TRIM=t;g.VIDEO_PREVIEW_DIMENSIONS=u;g.COLOR_NAME_TO_RGB=v;g.ORIGIN=w}),226);
__d("StoriesCreateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=!1;c=a.createContext(b);g["default"]=c}),98);
__d("StoriesFeedbackFlowTypes",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({STICKER:0,GIF:1,EMOJI:2,NONE:3});f.StickerReplyTypes=a}),66);
__d("StoriesGradientBackground.react",["StoriesEnums","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(8),c=a.direction,e=a.from,f=a.onLoad;a=a.to;var g,h;b[0]!==f?(g=function(){f&&f()},h=[f],b[0]=f,b[1]=g,b[2]=h):(g=b[1],h=b[2]);j(g,h);g=a;h=e;if(!(g!=null&&h!=null))return null;g=g!=null?g:h;h=h!=null?h:g;var k;bb0:switch(c){case d("StoriesEnums").GRADIENT_DIRECTION.BL_TR:case d("StoriesEnums").GRADIENT_DIRECTION.TR_BL:k="45deg";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.LEFT_RIGHT:case d("StoriesEnums").GRADIENT_DIRECTION.RIGHT_LEFT:k="to right";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.TL_BR:case d("StoriesEnums").GRADIENT_DIRECTION.BR_TL:k="135deg";break bb0;case d("StoriesEnums").GRADIENT_DIRECTION.TOP_BOTTOM:case d("StoriesEnums").GRADIENT_DIRECTION.BOTTOM_TOP:k="to bottom";break bb0;default:k="0deg"}a="linear-gradient("+k+","+h+" 0%,"+g+" 100%)";b[3]!==a?(e={backgroundImage:a},b[3]=a,b[4]=e):e=b[4];c=e;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(h="x5yr21d xh8yej3",b[5]=h):h=b[5];b[6]!==c?(g=i.jsx("div",{className:h,style:c}),b[6]=c,b[7]=g):g=b[7];return g}g["default"]=a}),98);