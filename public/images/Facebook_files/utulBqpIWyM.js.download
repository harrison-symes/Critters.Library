;/*FB_PKG_DELIM*/

__d("AppMessengerFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx("path",{d:"m459.603 1077.948-1.762 2.851a.89.89 0 0 1-1.302.245l-1.402-1.072a.354.354 0 0 0-.433.001l-1.893 1.465c-.253.196-.583-.112-.414-.386l1.763-2.851a.89.89 0 0 1 1.301-.245l1.402 1.072a.354.354 0 0 0 .434-.001l1.893-1.465c.253-.196.582.112.413.386M456 1073.5c-3.38 0-6 2.476-6 5.82 0 1.75.717 3.26 1.884 4.305.099.087.158.21.162.342l.032 1.067a.48.48 0 0 0 .674.425l1.191-.526a.473.473 0 0 1 .32-.024c.548.151 1.13.231 1.737.231 3.38 0 6-2.476 6-5.82 0-3.344-2.62-5.82-6-5.82"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometMessengerReshareContextProvider",["CometMessengerReshareContext","CometRelay","LoadContactWithCapabilities","MAWFetchXMADataUtils","MAWImageUtils","MAWShareOptimisticGetDevices","MAWShareOptimisticUpload","UnifiedShareSheetConstants","gkx","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(19),e=a.LSResults,f=a.children,g=a.setSendButtonStatus,h=d("CometRelay").useRelayEnvironment(),m=j(null),n=j(null),o=c("useAsyncReStore")();b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=new Map(),b[0]=a):a=b[0];var p=a;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a=new Map(),b[1]=a):a=b[1];var q=a;b[2]!==o||b[3]!==h||b[4]!==g?(a=function(a){p.has(a.id)||p.set(a.id,{target:a});p.size>1&&p.size===2?g(d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.SEND_SEPARATELY):p.size===1&&g(d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.SEND);if(!q.has(a.id)){q.set(a.id,d("LoadContactWithCapabilities").tryLoadContactAggressively(a.id,h));c("gkx")("14072")&&c("promiseDone")(d("MAWShareOptimisticUpload").MAWShareOptimisticUpload(m.current,o,a.id));a=p.keys().toArray();d("MAWShareOptimisticGetDevices").MAWShareOptimisticGetDevices(o,a)}},b[2]=o,b[3]=h,b[4]=g,b[5]=a):a=b[5];a=a;var r;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(r=function(a){var b=p.get(a.rawData.id);b&&p.set(a.rawData.id,babelHelpers["extends"]({},b,{searchEntry:a}))},b[6]=r):r=b[6];r=r;var s;b[7]!==g?(s=function(a){p.has(a)&&p["delete"](a),p.size<=1&&p.size===1?g(d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.SEND):p.size===0&&g(d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.DISABLED)},b[7]=g,b[8]=s):s=b[8];s=s;var t;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(t=function(a){a!=null&&(n.current=a.then(l)),a!=null&&c("gkx")("14072")&&(m.current=a.then(function(a){if(n.current!=null)return n.current;else return d("MAWFetchXMADataUtils").makeXMAFileArgs(a)}).then(k))},b[9]=t):t=b[9];t=t;var u;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(u=function(){return m.current},b[10]=u):u=b[10];u=u;var v;b[11]===Symbol["for"]("react.memo_cache_sentinel")?(v=function(){return n.current},b[11]=v):v=b[11];v=v;b[12]!==e||b[13]!==a||b[14]!==s?(r={LSResults:e,addSelectedTarget:a,addSelectedThreadData:r,getXMAFileArgsPromise:v,getXMAPreviewPromise:u,removeSelectedTargetID:s,selectedContacts:q,selectedTargets:p,setXMADataPromise:t},b[12]=e,b[13]=a,b[14]=s,b[15]=r):r=b[15];v=r;u=v;b[16]!==f||b[17]!==u?(t=i.jsx(c("CometMessengerReshareContext").Provider,{value:u,children:f}),b[16]=f,b[17]=u,b[18]=t):t=b[18];return t}function k(a){a=a.previewFileArgs;return d("MAWImageUtils").generatePreviewBlobForShare(a)}function l(a){return d("MAWFetchXMADataUtils").makeXMAFileArgs(a)}g["default"]=a}),98);
__d("CometMessengerReshareDialogErrorState.react",["fbt","CometContentArea.react","CometMessengerResharesDialogWrapper.react","FDSButton.react","FDSNullState.react","NullStateGeneral","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=d("react-compiler-runtime").c(11),e=a.handleRefresh,f=a.header,g=a.isPushPageView;a=a.onClose;var i;b[0]!==e?(i=e&&j.jsx(c("FDSButton.react"),{label:h._(/*BTDS*/"Reload"),onPress:e}),b[0]=e,b[1]=i):i=b[1];var k;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"This may be because of a technical error that we're working to get fixed. Try reloading this page."),k=h._(/*BTDS*/"Something went wrong"),b[2]=e,b[3]=k):(e=b[2],k=b[3]);b[4]!==i?(e=j.jsx(c("CometContentArea.react"),{applyFullHeight:!0,verticalAlign:"middle",children:j.jsx(c("FDSNullState.react"),{action:i,body:e,headline:k,icon:c("NullStateGeneral")})}),b[4]=i,b[5]=e):e=b[5];b[6]!==f||b[7]!==g||b[8]!==a||b[9]!==e?(k=j.jsx(c("CometMessengerResharesDialogWrapper.react"),{footer:null,header:f,isPushPageView:g,onClose:a,children:e}),b[6]=f,b[7]=g,b[8]=a,b[9]=e,b[10]=k):k=b[10];return k}g["default"]=a}),226);
__d("ShareFilled12.svg.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("g",{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsxs("g",{children:[i.jsx("path",{d:"M102 936.5c-1.903 0-3.847.017-5.811 3.326-.053.09-.192.048-.189-.057.213-8.03 6-7.769 6-7.769v-2.75c0-.112.17-.112.25-.034l4.712 4.978c.05.05.05.132 0 .182l-4.712 4.879c-.08.078-.25.022-.25-.091V936.5z",transform:"translate(354.5 145)"}),i.jsx("path",{fillRule:"nonzero",d:"m101.352 937.011-.293.015c-1.954.125-3 .734-4.258 2.755l-.182.299c-.318.539-1.136.291-1.119-.324.096-3.613 1.284-5.962 3.22-7.246a6.126 6.126 0 0 1 2.136-.888c.235-.05.452-.082.644-.1v-2.272c0-.673.751-.733 1.113-.377l4.7 4.966a.625.625 0 0 1 .009.884l-4.722 4.888c-.385.378-1.1.127-1.1-.447v-2.157l-.148.004zm-4.637 1.151c1.39-1.738 2.83-2.162 5.285-2.162h.5v2.276l3.857-3.993-3.857-4.075v2.315l-.521-.023-.08-.001a5.134 5.134 0 0 0-2.627.845c-1.345.891-2.28 2.412-2.628 4.728l-.03.22.1-.13z",transform:"translate(354.5 145)"})]})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("CometMessengerReshareDialogMoreShareOptionsButton.react",["fbt","CometTrackingCodeContext","CometUnifiedShareSheetDialog.entrypoint","DisclosureAddOn.react","FDSListCellPressable.react","FDSListCellText.react","FDSSkittleIcon.react","ShareFilled12.svg.react","UnifiedShareSheetDialogPlaceholder.react","gkx","react","react-compiler-runtime","usePushPage"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(32),e=a.feedLocation,f=a.onCloseUSS,g=a.openUSSPushPage,i=a.shareableID;a=a.url;var l;b[0]!==e||b[1]!==i||b[2]!==a?(l={feedLocation:e,storyID:i,url:a},b[0]=e,b[1]=i,b[2]=a,b[3]=l):l=b[3];l=l;var m=k(c("CometTrackingCodeContext")),n=c("gkx")("517")?"button_aggressive":"button";l=c("usePushPage")(c("CometUnifiedShareSheetDialog.entrypoint"),l,n);var o=l[0];n=l[1];l=n.onHoverIn;var p=n.onHoverOut;n=n.onPressIn;var q;b[4]!==i?(q={storyPostID:i},b[4]=i,b[5]=q):q=b[5];var r;b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==i||b[10]!==q||b[11]!==m||b[12]!==a?(r={cometUFIShareToPageOptionalSwitchingShareableProviderProps:q,feedLocation:e,onClose:f,openUSSPushPage:g,shareableID:i,shareableUrl:a,trackingCodes:m},b[6]=e,b[7]=f,b[8]=g,b[9]=i,b[10]=q,b[11]=m,b[12]=a,b[13]=r):r=b[13];var s=r;b[14]!==f||b[15]!==g?(e=j.jsx(c("UnifiedShareSheetDialogPlaceholder.react"),{onClose:f,openUSSPushPage:g}),b[14]=f,b[15]=g,b[16]=e):e=b[16];var t=e;b[17]!==t||b[18]!==s||b[19]!==o?(i=function(){o&&o(s,{fallback:t})},b[17]=t,b[18]=s,b[19]=o,b[20]=i):i=b[20];var u=i;b[21]===Symbol["for"]("react.memo_cache_sentinel")?(q={className:"xmzvs34 xf159sx"},b[21]=q):q=b[21];b[22]===Symbol["for"]("react.memo_cache_sentinel")?(m=j.jsx(c("DisclosureAddOn.react"),{}),a=j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:c("ShareFilled12.svg.react"),size:36}),b[22]=m,b[23]=a):(m=b[22],a=b[23]);b[24]===Symbol["for"]("react.memo_cache_sentinel")?(r=j.jsx(c("FDSListCellText.react"),{headline:h._(/*BTDS*/"More share options")}),b[24]=r):r=b[24];b[25]!==u?(f=function(){u()},b[25]=u,b[26]=f):f=b[26];b[27]!==l||b[28]!==p||b[29]!==n||b[30]!==f?(g=j.jsx("div",babelHelpers["extends"]({},q,{children:j.jsx(c("FDSListCellPressable.react"),{addOnEnd:m,addOnStart:a,content:r,onHoverIn:l,onHoverOut:p,onPress:f,onPressIn:n})})),b[27]=l,b[28]=p,b[29]=n,b[30]=f,b[31]=g):g=b[31];return g}g["default"]=a}),226);
__d("CometMessengerReshareFooter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareFooter_group",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareSendMessageButton_group"}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("CometMessengerReshareFooter_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareFooter_viewer",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareSendMessageButton_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessengerReshareSendMessageButton_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareSendMessageButton_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("CometMessengerReshareSendMessageButton_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareSendMessageButton_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("useCustomGroupHandler",["fbt","cometPushToast","react","react-compiler-runtime","useGroupAddMembersWithUserIdParamMutation"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=i||d("react");b.useCallback;b.useMemo;function a(a){var b=d("react-compiler-runtime").c(1),e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=new Set(),b[0]=e):e=b[0];b=e;e=b;b=j;a=c("useGroupAddMembersWithUserIdParamMutation")(a!=null?a:"",e,"share_messenger",b);return a}function j(a){var b,c,e;a=[].concat((b=a==null||(c=a.group_add_member)==null?void 0:c.added_users)!=null?b:[],(b=a==null||(e=a.group_add_member)==null?void 0:e.requested_users)!=null?b:[]);b=(b=a==null?void 0:a.length)!=null?b:0;var f;b===1&&a[0].name!=null?f=h._(/*BTDS*/"You invited {first invitee name} to the group.",[h._param("first invitee name",a[0].name)]):b>1&&a[0].name!=null&&(f=h._(/*BTDS*/"You invited {first invitee name} and {invitee count} others to the group",[h._param("first invitee name",a[0].name),h._param("invitee count",a.length-1)]));f!=null&&d("cometPushToast").cometPushToast({message:f})}g["default"]=a}),226);
__d("CometMessengerReshareSendMessageButton.react",["fbt","AppMessengerFilled12.svg.react","CometLinkSharingContext","CometLinkSharingUtil","CometMessengerReshareContext","CometMessengerReshareSendMessageButton_group.graphql","CometMessengerReshareSendMessageButton_viewer.graphql","CometMessengerReshareUtil","CometRelay","CometUnifiedShareSheetGating","FBLogger","FDSAppMessengerFilled16Icon","FDSButton.react","FDSIcon.react","I64","LSMessagingThreadAttributionType","LSSLogger","MAWExternalId","MAWSecureComposerText","MAWThreadId","MWMsgMediaTypeLogUtils","MWSharedMsgLogUtils","MWSharedS2SBaseAnnotations","SharingConstants","SilenceableErrorMessageUtils","UnifiedShareSheetConstants","WAGetSafeQPLError","WAResultOrError","WAStanzaUtils","cometPushToast","cr:5405","getErrorSafe","getShouldSendPrivateGroupShareAutoInvite","promiseDone","react","requireDeferred","sendToSentQPLLogger","useCustomGroupHandler","useMWSendAttachment","useReStore","useUnifiedShareSheetLogger","useUnifiedShareSheetPopChat"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=m||(m=d("react"));e=m;var o=e.useCallback,p=e.useContext,q=e.useMemo,r=c("requireDeferred")("ShareMetricsLoggingController").__setRef("CometMessengerReshareSendMessageButton.react"),s=h._(/*BTDS*/"Send"),t=h._(/*BTDS*/"Send separately");function a(a){var e=a.editor,f=a.feedLocation,g=a.groupKey,m=a.onClose,u=a.sendButtonStatus,v=a.shareableID,w=a.source,x=a.storyData,y=a.url,z=a.viewerRef,A=a.xmaDataPromise,B=d("CometMessengerReshareUtil").isXMAFeedPostShareEnabled()||!1;a=p(c("CometLinkSharingContext"));var C=a.getWrappedShareUrlID;a=p(c("CometMessengerReshareContext"));var D=a.selectedContacts,E=a.selectedTargets;a=a.setXMADataPromise;a(A);var F=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerReshareSendMessageButton_group.graphql"),g);a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerReshareSendMessageButton_viewer.graphql"),z);g=a==null?void 0:a.actor;var G=g==null?void 0:g.id;if(G==null||g==null||v==null)throw c("FBLogger")("fb_social_experience_web_sharing").mustfixThrow("Need a viewer ID, actor, and post ID in order to share a story");var H=c("useUnifiedShareSheetPopChat")(),I=(a==null?void 0:a.chat_tabs_turned_off)===!0,J=d("useMWSendAttachment").useMWSendAttachment(),K=d("useMWSendAttachment").useMWPreloadSendAttachmentComponents(),L=(k||(k=c("useReStore")))();z=d("LSSLogger").useLSSLogger();var M=z.traceLocalSendMessageAsync;g=c("useUnifiedShareSheetLogger")();var N=g.onSendMessageButtonInMessengerBCFAttempted,O=g.onSendMessageInMessengerBCFFailed,P=g.onSendMessageInMessengerBCFSuccessful,Q=q(function(){return{entry_point:f,sharing_component_name:d("CometUnifiedShareSheetGating").shouldEnablePSLoggingIntentFixes()?"broadcast_flow_multiselect_message_composer":"facebook_broadcast_flow"}},[f]),R=b("cr:5405")();a=d("CometLinkSharingUtil").getProductTypeAndSurfaceByFeedLocation(f);var S=a.shareSheetSurface,T=o(async function(a,b,e,g,h,i){var j={isTargetE2E:a.isTargetE2E,targetID:a.targetID,targetType:a.targetType,typeName:a.typeName};a="user";var k="one_to_one";switch(j.targetType){case"USER":a="user";break;case"GROUP":a="group";k="group";break;case"PAGE":a="page";break;default:a="user"}var m=C(x==null?void 0:x.id),n={actorID:G,entryPoint:d("SharingConstants").MESSENGER_POPUP_ENTRYPOINT,message:b,messagingInformTreatmentInfo:x==null?void 0:x.messagingInformTreatmentInfo,shareID:m!=null?m:v,targetID:j.targetID,targetType:a,url:y},o=h!=null?h:await M(),p=d("MAWExternalId").generateExternalId(),q=d("WAStanzaUtils").toStanzaId(p),s=await d("MAWThreadId").getThread(L.tables,(l||(l=d("I64"))).of_string(j.targetID));m=async function(a){try{if(s!=null){var h=d("MWSharedS2SBaseAnnotations").getMessageTypeParams({messageText:b,sentFromShareSheet:!0,threadType:s.threadType});c("promiseDone")(d("MWSharedMsgLogUtils").getSendToSentAnnotations({attachmentTypeParams:h,messageOfflineThreadingId:q,source:w!=null?w:c("LSMessagingThreadAttributionType").UNKNOWN,thread:s}),function(b){b.string=babelHelpers.extends({},b.string,{attachment_type:"share",message_type:"share",root_component:"CometMessengerReshareSendMessageButton",surface:S}),b.int={number_targets:e},d("sendToSentQPLLogger").addSendToSentAnnotations(a,b)});d("MWSharedMsgLogUtils").addSendMessageMetadataForInteractionTrace(o,h,s,"CometMessengerResharesDialog")}d("sendToSentQPLLogger").markSendToSentPoint(a,"start_post_sharing");h=await J({attachment:n,contactWithCapabilityPromises:D.has(j.targetID)?D.get(j.targetID):void 0,lssTraceApi:o,offlineMsgId:p,reshareTarget:j,s2sInstanceKey:a,sharingComponent:d("useMWSendAttachment").SharingComponentType.BCF,source:w,thread:s,xmaDataPromise:A,xmaDataProps:g,xmaMsgExternalId:q});if(h.success===!1)return[d("WAResultOrError").makeError(h.error)];r.onReady(function(a){a.logShareFunnelEvent({fb_entry_point:"send_in_message",fb_feed_location:f,fb_share_type:"share_created",shareable_id:null})});P(babelHelpers.extends({},Q,{receiver_type:k}));d("sendToSentQPLLogger").markSendToSentSuccess(a);if(!I){var i;H({isSecureShare:(i=h.value.target.isTargetE2E)!=null?i:B,target:h.value.target})}return[d("WAResultOrError").makeResult(h.value.report)]}catch(b){i=c("getErrorSafe")(b);d("sendToSentQPLLogger").addSendToSentAnnotations(a,{string:{share_error:d("WAGetSafeQPLError").getSafeQPLErrorMessage(i),share_error_entrypoint:"ReshareSendMessageButton"}});d("sendToSentQPLLogger").markSendToSentFail(a,"unknown_xma_error",i);o.failTrace(i.toString(),!0);throw i}};a=i!=null?i:d("sendToSentQPLLogger").markSendToSentStart(void 0,d("MWMsgMediaTypeLogUtils").AttachmentType.Share);await m(a)},[C,x==null?void 0:x.id,x==null?void 0:x.messagingInformTreatmentInfo,G,v,y,M,L,J,D,w,A,P,Q,I,S,f,H,B]),U=o(function(a){r.onReady(function(a){a.logShareFunnelEvent({fb_entry_point:"send_in_message",fb_feed_location:f,fb_share_type:"share_failure",shareable_id:null})});O(babelHelpers.extends({},Q));a=d("SilenceableErrorMessageUtils").getMetadataFromError(a.error);if(d("SilenceableErrorMessageUtils").shouldHideErrorMessage(a))return;d("cometPushToast").cometPushErrorToast({message:h._(/*BTDS*/"There was a problem sharing this post. Please try again later.")})},[f,Q,O]),V=c("useCustomGroupHandler")(F==null?void 0:F.id);z=o(function(){try{R&&y.includes("/share/")&&R({loggingMetrics:{},shareSheetSurface:S,wrappedUrl:y});var a=e.getEditorState();a=d("MAWSecureComposerText").getTextFromEditorState(a);m();var b=new Set();for(var f of E.values()){N(babelHelpers.extends({},Q,{is_link_sharing_url_used:d("CometLinkSharingUtil").isLinkSharingUrlUsed(y)}));var g=F==null?void 0:F.visibility;c("getShouldSendPrivateGroupShareAutoInvite")()&&(g==="CLOSED"||g==="SECRET")&&f.target.targetType==="USER"&&f.target.isTargetE2E===!1&&(F==null?void 0:F.id)!=null&&b.add(f.target.targetID);f.target!=null&&c("promiseDone")(T(f.target,a,E.size,void 0,void 0,void 0))}b.size>0&&V(b);if(I){g=E.size===1?h._(/*BTDS*/"Message sent"):h._(/*BTDS*/"Messages sent separately");d("cometPushToast").cometPushToast({icon:n.jsx(c("FDSIcon.react"),{color:"primary",icon:c("AppMessengerFilled12.svg.react"),size:24}),message:g})}}catch(a){U(a);c("FBLogger")("fb_social_experience_web_sharing").mustfix("Error sending message in Messenger BCF. %s",a.message);return}},[R,S,y,e,m,V,I,E,N,Q,F==null?void 0:F.visibility,F==null?void 0:F.id,T,U]);g=u===d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.SEND_SEPARATELY?t:s;return n.jsx(c("FDSButton.react"),{disabled:u===d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.DISABLED,icon:c("FDSAppMessengerFilled16Icon"),label:g,onHoverIn:function(){return K()},onPress:z})}a.displayName=a.name+" [from "+f.id+"]";g.default=a}),226);
__d("CometMessengerReshareFooter.react",["CometColumn.react","CometColumnItem.react","CometMessengerReshareFooter_group.graphql","CometMessengerReshareFooter_viewer.graphql","CometMessengerReshareSendMessageButton.react","CometRelay","MAWFetchXMAData","RelayHooks","UnifiedShareSheetMessengerComposer.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useEffect,m=e.useState,n={height:{maxHeight:"xuyzatt",overflowY:"x1odjw0f",$$css:!0}};function a(a){var e=d("react-compiler-runtime").c(24),f=a.editor,g=a.feedLocation,j=a.groupKey,o=a.onClose,p=a.sendButtonStatus,q=a.shareableID,r=a.source,s=a.storyData,t=a.url;a=a.viewer;a=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessengerReshareFooter_viewer.graphql"),a);j=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerReshareFooter_group.graphql"),j);var u=d("RelayHooks").useRelayEnvironment(),v=m(null),w=v[0],x=v[1],y;e[0]!==u||e[1]!==t?(v=function(){var a=d("MAWFetchXMAData").fetchXMAData(u,t,[]);x(a)},y=[u,t],e[0]=u,e[1]=t,e[2]=v,e[3]=y):(v=e[2],y=e[3]);l(v,y);e[4]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1jx94hy x1vjfegm"},e[4]=v):v=e[4];e[5]!==f||e[6]!==g||e[7]!==q?(y=k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("UnifiedShareSheetMessengerComposer.react"),{editor:f,feedLocation:g,shareSheetComponentVariant:"multiselect_broadcast_flow",shareableID:q,sharingComponentName:"broadcast_flow_multiselect_message_composer",xstyle:n.height})}),e[5]=f,e[6]=g,e[7]=q,e[8]=y):y=e[8];var z=t||"",A;e[9]!==f||e[10]!==g||e[11]!==j||e[12]!==o||e[13]!==p||e[14]!==a||e[15]!==q||e[16]!==r||e[17]!==s||e[18]!==z||e[19]!==w?(A=k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("CometMessengerReshareSendMessageButton.react"),{editor:f,feedLocation:g,groupKey:j,onClose:o,sendButtonStatus:p,shareableID:q,source:r,storyData:s,url:z,viewerRef:a,xmaDataPromise:w})}),e[9]=f,e[10]=g,e[11]=j,e[12]=o,e[13]=p,e[14]=a,e[15]=q,e[16]=r,e[17]=s,e[18]=z,e[19]=w,e[20]=A):A=e[20];e[21]!==y||e[22]!==A?(f=k.jsx("div",babelHelpers["extends"]({},v,{children:k.jsxs(c("CometColumn.react"),{paddingHorizontal:16,paddingVertical:12,spacing:16,children:[y,A]})})),e[21]=y,e[22]=A,e[23]=f):f=e[23];return f}g["default"]=a}),98);
__d("CometMessengerTargetRowPlaceholder",["CometColumnItem.react","CometRow.react","CometRowItem.react","FDSGlimmer.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={profilePictureGlimmer:{borderStartStartRadius:"x12ol6y4",borderStartEndRadius:"x180vkcf",borderEndEndRadius:"x1khw62d",borderEndStartRadius:"x709u02",height:"x1vqgdyp",width:"x100vrsf",$$css:!0},userNameGlimmer:{borderStartStartRadius:"x16qb05n",borderStartEndRadius:"xi7iut8",borderEndEndRadius:"x1dm3dyd",borderEndStartRadius:"x1pv694p",height:"x1qx5ct2",width:"xbstwhj",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(2);c("vulture")("LvgDuzY2AqDATlTnFwbeNlsbDzg=");var b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometRowItem.react"),{children:i.jsx(c("FDSGlimmer.react"),{index:1,xstyle:j.profilePictureGlimmer})}),a[0]=b):b=a[0];a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("CometColumnItem.react"),{paddingHorizontal:16,paddingVertical:8,children:i.jsxs(c("CometRow.react"),{paddingHorizontal:0,paddingVertical:0,spacing:12,verticalAlign:"center",children:[b,i.jsx(c("CometRowItem.react"),{expanding:!0,children:i.jsx(c("FDSGlimmer.react"),{index:1,xstyle:j.userNameGlimmer})})]})}),a[1]=b):b=a[1];return b}g["default"]=a}),98);
__d("CometMessengerReshareLightspeedTargetCheckboxRow.react",["fbt","AddOnStartOverride.react","CometListCellCheckboxAddOn.react","CometListCellStrictAddOnStart.react","CometMessengerReshareContext","CometMessengerReshareMaybeNotAddressableWaToggletip.react","CometMessengerReshareUtil","CometMessengerTargetRowPlaceholder","CometPlaceholder.react","CometUnifiedShareSheetGating","FDSListCellPressable.react","FDSListCellText.react","FDSText.react","LSMessagingThreadTypeUtil","MAWThreadCutover","react","react-compiler-runtime","useUnifiedShareSheetLogger","useUnifiedShareSheetUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useContext;b.useMemo;var l=b.useState;function a(a){var b=d("react-compiler-runtime").c(39),e=a.feedLocation,f=a.feedTracking;a=a.thread;var g=c("useUnifiedShareSheetLogger")(),i=g.onMessengerReshareOptionSelected;g=c("useUnifiedShareSheetUtils")();g=g.convertMWChatSearchResultType2FbSharingReceiverType;var m=a.id,n=a.threadType,o;b[0]!==n?(o=n!=null?d("LSMessagingThreadTypeUtil").isOneToOne(n):!1,b[0]=n,b[1]=o):o=b[1];n=o;var p=a.waAddressable===!1;o=a.otherUserName;var q;b[2]!==n||b[3]!==a.displayName||b[4]!==a.imageUrl||b[5]!==a.secondaryImageUrl?(q=a.secondaryImageUrl==null||n?{alt:a.displayName,shape:"circle",size:40,source:{uri:a.secondaryImageUrl!=null&&a.secondaryImageUrl!==""?a.secondaryImageUrl:a.imageUrl},type:"profile-photo"}:{primaryPhoto:{alt:"primary",source:{uri:a.imageUrl}},secondaryPhoto:{alt:"secondary",source:{uri:a.secondaryImageUrl}},size:40,type:"messenger-facepile"},b[2]=n,b[3]=a.displayName,b[4]=a.imageUrl,b[5]=a.secondaryImageUrl,b[6]=q):q=b[6];n=q;var r=n,s=a.displayName;q=l(!1);var t=q[0],u=q[1];n=k(c("CometMessengerReshareContext"));var v=n.addSelectedTarget,w=n.removeSelectedTargetID;q=n.selectedTargets;var x=d("MAWThreadCutover").useShouldHideE2eeAttribution(a==null?void 0:a.threadKey,a==null?void 0:a.threadType),y=(n=a.isE2EE)!=null?n:!1;b[7]!==a.resultType?(n=d("CometMessengerReshareUtil").getTargetTypeFromTypenameForLightSpeed(a.resultType),b[7]=a.resultType,b[8]=n):n=b[8];n=n;var z;b[9]!==g||b[10]!==a.resultType?(z=g({chat_search_result_type:a.resultType}),b[9]=g,b[10]=a.resultType,b[11]=z):z=b[11];var A=z.receiver_type;b[12]!==y||b[13]!==n||b[14]!==m?(g={id:m,isTargetE2E:y,targetID:m,targetType:n},b[12]=y,b[13]=n,b[14]=m,b[15]=g):g=b[15];a=g;var B=a;!t&&q.has(m)&&u(!0);b[16]!==v||b[17]!==A||b[18]!==e||b[19]!==f||b[20]!==t||b[21]!==i||b[22]!==w||b[23]!==B||b[24]!==m?(z=function(){var a=t;t?(u(!1),w(m)):(u(!0),v(B));d("CometUnifiedShareSheetGating").shouldEnablePSLoggingIntentFixes()&&i({entry_point:e!=null?e:"",feed_tracking:f,is_deselect:a,receiver_types:[A],sharing_action_audience:"private",sharing_action_destination:"facebook_messaging",sharing_component_name:"broadcast_flow_multiselect_suggested_recipient",sharing_component_variant:"multiselect_broadcast_flow"})},b[16]=v,b[17]=A,b[18]=e,b[19]=f,b[20]=t,b[21]=i,b[22]=w,b[23]=B,b[24]=m,b[25]=z):z=b[25];var C=z;b[26]!==y||b[27]!==t||b[28]!==p||b[29]!==C||b[30]!==x||b[31]!==r||b[32]!==s?(n=function(a){return j.jsx(c("FDSListCellPressable.react"),{addOnEnd:j.jsx(c("CometListCellCheckboxAddOn.react"),{"aria-label":p?h._(/*BTDS*/"Not available chat"):s!=null?h._(/*BTDS*/"Select {receiver} as a recipient",[h._param("receiver",s)]):h._(/*BTDS*/"Select recipient"),checked:t,color:p?"disabled":void 0}),addOnEndVerticalAlign:"center",addOnStart:j.jsx(c("AddOnStartOverride.react"),{children:j.jsx(c("CometListCellStrictAddOnStart.react"),{addOnStart:r,disabled:!1})}),addOnStartMarginTop:0,addOnStartVerticalAlign:"center",content:j.jsx(c("FDSListCellText.react"),{headline:j.jsx(c("FDSText.react"),{color:p?"disabled":void 0,type:"headlineEmphasized3",children:s}),meta:y&&!x?j.jsx(c("FDSText.react"),{color:p?"disabled":void 0,numberOfLines:1,type:"meta4",children:h._(/*BTDS*/"Secret conversation")}):null}),level:3,onPress:a!=null?a:C,paddingVertical:8})},b[26]=y,b[27]=t,b[28]=p,b[29]=C,b[30]=x,b[31]=r,b[32]=s,b[33]=n):n=b[33];g=n;b[34]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("CometMessengerTargetRowPlaceholder"),{}),b[34]=a):a=b[34];q=o!=null?o:s;b[35]!==g||b[36]!==p||b[37]!==q?(z=j.jsx(c("CometPlaceholder.react"),{fallback:a,name:"CometMessengerReshareLightspeedTargetCheckboxRow",children:j.jsx(c("CometMessengerReshareMaybeNotAddressableWaToggletip.react"),{listCellRenderer:g,notWaAddressable:p,otherUserName:q})}),b[35]=g,b[36]=p,b[37]=q,b[38]=z):z=b[38];n=z;return n}g["default"]=a}),226);
__d("CometMessengerReshareTargetCheckboxRow_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerReshareTargetCheckboxRow_thread",selections:[{args:null,kind:"FragmentSpread",name:"useCometMessengerReshareActorImage_thread"},{args:null,kind:"FragmentSpread",name:"useCometMessengerReshareName_thread"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null}],storageKey:null},a],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[a],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}],type:"MessengerSearchable",abstractKey:"__isMessengerSearchable"}}();e.exports=a}),null);
__d("CometMessengerReshareTargetCheckboxRow.react",["fbt","AddOnStartOverride.react","CometListCellCheckboxAddOn.react","CometListCellStrictAddOnStart.react","CometMessengerReshareContext","CometMessengerReshareTargetCheckboxRow_thread.graphql","CometMessengerTargetRowPlaceholder","CometPlaceholder.react","CometRelay","CometUnifiedShareSheetGating","FDSListCellPressable.react","FDSListCellText.react","FDSText.react","I64","LSIntEnum","MAWThreadCutover","isTlcSearchEnabled","react","react-compiler-runtime","recoverableViolation","useCometMessengerReshareActorImage","useCometMessengerReshareName","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react"));e=j;var n=e.useContext;e.useMemo;var o=e.useState,p=c("isTlcSearchEnabled")();function q(a){var b,c;switch(a.__typename){case"MessengerViewer1To1Thread":return a==null||(b=a.thread_key)==null?void 0:b.other_user_id;case"MessengerViewerGroupThread":return a==null||(c=a.thread_key)==null?void 0:c.thread_fbid;case"User":return a==null?void 0:a.id}}function a(a){var e,f=d("react-compiler-runtime").c(44),g=a.feedLocation,j=a.feedTracking;a=a.threadFragment;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerReshareTargetCheckboxRow_thread.graphql"),a);var r=c("useUnifiedShareSheetLogger")(),s=r.onMessengerReshareOptionSelected;r=c("useCometMessengerReshareActorImage")(a);var t=c("useCometMessengerReshareName")(a),u;f[0]!==a?(u=q(a),f[0]=a,f[1]=u):u=f[1];var v=u;u=d("MAWThreadCutover").useGetCutoverSecureThreadKey(v);var w;f[2]!==u?(w=(k||(k=d("I64"))).of_string_opt(u!=null?u:""),f[2]=u,f[3]=w):w=f[3];var x;f[4]!==a.__typename?(x=a.__typename==="MessengerViewerGroupThread"?(l||(l=d("LSIntEnum"))).ofNumber(2):(l||(l=d("LSIntEnum"))).ofNumber(1),f[4]=a.__typename,f[5]=x):x=f[5];w=d("MAWThreadCutover").useShouldHideE2eeAttribution(w,x);x=o(!1);var y=x[0],z=x[1];x=n(c("CometMessengerReshareContext"));var A=x.addSelectedTarget,B=x.removeSelectedTargetID;x=x.selectedTargets;a.__typename==="User"||a.__typename==="MessengerViewer1to1Thread"||c("recoverableViolation")("Thread has unexpected typename: "+a.__typename,"fb_social_experience_web_sharing");var C=v!=null?v:"",D=u!=null;e=(e=u!=null?u:v)!=null?e:"";var E=u==null?"User":void 0,F;f[6]!==C||f[7]!==D||f[8]!==e||f[9]!==E?(F={id:C,isTargetE2E:D,targetID:e,targetType:"USER",typeName:E},f[6]=C,f[7]=D,f[8]=e,f[9]=E,f[10]=F):F=f[10];C=F;var G=C;if(v==null){f[11]===Symbol["for"]("react.memo_cache_sentinel")?(D=c("recoverableViolation")("Could not derive thread ID for this reshare target","fb_social_experience_web_sharing"),f[11]=D):D=f[11];return D}!y&&x.has(v)&&z(!0);f[12]!==A||f[13]!==g||f[14]!==j||f[15]!==y||f[16]!==s||f[17]!==B||f[18]!==G||f[19]!==v?(e=function(){var a=!0;y?(z(!1),B(v)):(z(!0),A(G),a=!1);d("CometUnifiedShareSheetGating").shouldEnablePSLoggingIntentFixes()&&s({entry_point:g!=null?g:"",feed_tracking:j,is_deselect:a,sharing_action_audience:"private",sharing_action_destination:"facebook_messaging",sharing_component_name:"broadcast_flow_multiselect_suggested_recipient",sharing_component_variant:"multiselect_broadcast_flow"})},f[12]=A,f[13]=g,f[14]=j,f[15]=y,f[16]=s,f[17]=B,f[18]=G,f[19]=v,f[20]=e):e=f[20];E=e;f[21]===Symbol["for"]("react.memo_cache_sentinel")?(F=m.jsx(c("CometMessengerTargetRowPlaceholder"),{}),f[21]=F):F=f[21];f[22]!==t?(C=t!=null?h._(/*BTDS*/"Select {receiver} as a recipient",[h._param("receiver",t)]):h._(/*BTDS*/"Select recipient"),f[22]=t,f[23]=C):C=f[23];f[24]!==y||f[25]!==C?(D=m.jsx(c("CometListCellCheckboxAddOn.react"),{"aria-label":C,checked:y}),f[24]=y,f[25]=C,f[26]=D):D=f[26];f[27]!==r?(x=r!=null?m.jsx(c("AddOnStartOverride.react"),{children:m.jsx(c("CometListCellStrictAddOnStart.react"),{addOnStart:r,disabled:!1})}):void 0,f[27]=r,f[28]=x):x=f[28];f[29]!==t?(e=m.jsx(c("FDSText.react"),{type:"headlineEmphasized3",children:t}),f[29]=t,f[30]=e):e=f[30];if(f[31]!==u||f[32]!==w||f[33]!==((C=a.associated_group)==null?void 0:C.name)||f[34]!==a.is_cm_thread){C=p&&u!==void 0&&!w?m.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:h._(/*BTDS*/"Secret conversation")}):a.is_cm_thread===!0&&((r=a.associated_group)==null?void 0:r.name)!=null?m.jsx(c("FDSText.react"),{numberOfLines:1,type:"meta3",children:(t=a.associated_group)==null?void 0:t.name}):null;f[31]=u;f[32]=w;f[33]=(r=a.associated_group)==null?void 0:r.name;f[34]=a.is_cm_thread;f[35]=C}else C=f[35];f[36]!==e||f[37]!==C?(t=m.jsx(c("FDSListCellText.react"),{headline:e,meta:C}),f[36]=e,f[37]=C,f[38]=t):t=f[38];f[39]!==E||f[40]!==D||f[41]!==x||f[42]!==t?(u=m.jsx(c("CometPlaceholder.react"),{fallback:F,name:"CometMessengerReshareTargetCheckboxRow",children:m.jsx(c("FDSListCellPressable.react"),{addOnEnd:D,addOnEndVerticalAlign:"center",addOnStart:x,addOnStartMarginTop:0,addOnStartVerticalAlign:"center",content:t,level:3,onPress:E})}),f[39]=E,f[40]=D,f[41]=x,f[42]=t,f[43]=u):u=f[43];return u}g["default"]=a}),226);
__d("CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow.react",["fbt","AddOnStartOverride.react","BaseMiddot.react","CometListCellCheckboxAddOn.react","CometListCellStrictAddOnStart.react","CometMessengerReshareContext","CometMessengerReshareMaybeNotAddressableWaToggletip.react","CometMessengerReshareUtil","CometMessengerTargetRowPlaceholder","CometPlaceholder.react","CometUnifiedShareSheetGating","FDSListCellPressable.react","FDSListCellText.react","FDSText.react","I64","LSMessagingThreadTypeUtil","MAWThreadCutover","react","react-compiler-runtime","useUnifiedShareSheetLogger","useUnifiedShareSheetUtils"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||(i=d("react"));b=i;b.useCallback;var l=b.useContext;b.useMemo;var m=b.useState;function a(a){var b=d("react-compiler-runtime").c(54),e=a.entry,f=a.feedLocation,g=a.feedTracking,i=a.onClearQueryString;a=e.rawData;var n=a.displayName,o=a.id,p=a.imageUrl,q=a.isE2EE,r=a.isInstagramAccount,s=a.isInteropEligible,t=a.resultType,u=a.secondaryImageUrl,v=a.section,w=a.serverSearchResult,x=a.subtext;a=a.threadType;var y=c("useUnifiedShareSheetLogger")(),z=y.onMessengerReshareOptionSelected;y=c("useUnifiedShareSheetUtils")();y=y.convertMWChatSearchResultType2FbSharingReceiverType;var A;b[0]!==a?(A=!1,a!=null&&(A=d("LSMessagingThreadTypeUtil").isOneToOne(a)),b[0]=a,b[1]=A):A=b[1];A;w==null||w.communityId;var B;b[2]!==n||b[3]!==p||b[4]!==A||b[5]!==u||b[6]!==(w==null?void 0:w.communityId)?(B=u===""||A?{alt:n,shape:(w==null?void 0:w.communityId)!=null?"roundedRect":"circle",size:40,source:{uri:u!==""?u:p},type:"profile-photo"}:{primaryPhoto:{alt:n,source:{uri:p}},secondaryPhoto:{alt:n,source:{uri:u}},size:40,type:"messenger-facepile"},b[2]=n,b[3]=p,b[4]=A,b[5]=u,b[6]=w==null?void 0:w.communityId,b[7]=B):B=b[7];p=B;var C=p;A=q!=null?q:!1;b[8]!==o?(u=(j||(j=d("I64"))).of_string_opt(o),b[8]=o,b[9]=u):u=b[9];w=d("MAWThreadCutover").useShouldHideE2eeAttribution(u,a);var D=e.rawData.waAddressable===!1;B=e.rawData.displayName;if(A&&!w){p=D?"disabled":void 0;b[10]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Secret conversation"),b[10]=q):q=b[10];b[11]!==p?(u=k.jsx(c("FDSText.react"),{color:p,numberOfLines:1,type:"meta4",children:q}),b[11]=p,b[12]=u):u=b[12];a=u}else{b[13]!==r||b[14]!==v||b[15]!==x?(w=x&&x!==""?k.jsxs(c("FDSText.react"),{numberOfLines:1,type:"meta4",children:[x,(v==null||v==="")&&Boolean(r)?k.jsxs(k.Fragment,{children:[k.jsx(c("BaseMiddot.react"),{}),"Instagram"]}):null]}):null,b[13]=r,b[14]=v,b[15]=x,b[16]=w):w=b[16];a=w}var E=a;q=m(!1);var F=q[0],G=q[1];p=l(c("CometMessengerReshareContext"));var H=p.addSelectedTarget,I=p.addSelectedThreadData,J=p.removeSelectedTargetID;u=p.selectedTargets;b[17]!==t?(v=d("CometMessengerReshareUtil").getTargetTypeFromTypenameForLightSpeed(t),b[17]=t,b[18]=v):v=b[18];x=v;b[19]!==o||b[20]!==A||b[21]!==x?(w={id:o,isTargetE2E:A,targetID:o,targetType:x},b[19]=o,b[20]=A,b[21]=x,b[22]=w):w=b[22];a=w;var K=a;!F&&u.has(o)&&G(!0);b[23]!==y||b[24]!==t?(q=y({chat_search_result_type:t}),b[23]=y,b[24]=t,b[25]=q):q=b[25];var L=q.receiver_type;b[26]!==H||b[27]!==I||b[28]!==e||b[29]!==L||b[30]!==f||b[31]!==g||b[32]!==o||b[33]!==F||b[34]!==i||b[35]!==z||b[36]!==J||b[37]!==K?(p=function(){var a=!0;F?(G(!1),J(o)):(G(!0),H(K),I(e),a=!1,i!=null&&i());d("CometUnifiedShareSheetGating").shouldEnablePSLoggingIntentFixes()&&z({entry_point:f!=null?f:"",feed_tracking:g,is_deselect:a,receiver_types:[L],sharing_action_audience:"private",sharing_action_destination:"facebook_messaging",sharing_component_name:"broadcast_flow_multiselect_suggested_recipient",sharing_component_variant:"multiselect_broadcast_flow"})},b[26]=H,b[27]=I,b[28]=e,b[29]=L,b[30]=f,b[31]=g,b[32]=o,b[33]=F,b[34]=i,b[35]=z,b[36]=J,b[37]=K,b[38]=p):p=b[38];var M=p;b[39]!==n||b[40]!==o||b[41]!==r||b[42]!==s||b[43]!==F||b[44]!==E||b[45]!==D||b[46]!==M||b[47]!==C?(v=function(a){return k.jsx(c("FDSListCellPressable.react"),{addOnEnd:k.jsx(c("CometListCellCheckboxAddOn.react"),{"aria-label":n!=null?h._(/*BTDS*/"Select {receiver} as a recipient",[h._param("receiver",n)]):h._(/*BTDS*/"Select recipient"),checked:F,color:D?"disabled":void 0,disabled:D}),addOnEndVerticalAlign:"center",addOnStart:k.jsx(c("AddOnStartOverride.react"),{children:k.jsx(c("CometListCellStrictAddOnStart.react"),{addOnStart:C,disabled:!1})}),addOnStartMarginTop:0,addOnStartVerticalAlign:"center",content:k.jsx(c("FDSListCellText.react"),{headline:k.jsx(c("FDSText.react"),{color:D?"disabled":void 0,type:"headlineEmphasized3",children:n}),meta:E}),disabled:r===!0&&s===!1,level:3,onPress:a!=null?a:M,paddingVertical:8},o)},b[39]=n,b[40]=o,b[41]=r,b[42]=s,b[43]=F,b[44]=E,b[45]=D,b[46]=M,b[47]=C,b[48]=v):v=b[48];A=v;b[49]===Symbol["for"]("react.memo_cache_sentinel")?(x=k.jsx(c("CometMessengerTargetRowPlaceholder"),{}),b[49]=x):x=b[49];w=B!=null?B:n;b[50]!==A||b[51]!==D||b[52]!==w?(a=k.jsx(c("CometPlaceholder.react"),{fallback:x,name:"CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow",children:k.jsx(c("CometMessengerReshareMaybeNotAddressableWaToggletip.react"),{listCellRenderer:A,notWaAddressable:D,otherUserName:w})}),b[50]=A,b[51]=D,b[52]=w,b[53]=a):a=b[53];return a}g["default"]=a}),226);
__d("CometMessengerResharesTypeaheadViewUpdatedLightspeedListStrategy.react",["CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow.react","CometReshareDialogTargetSection.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.entries,f=a.feedLocation,g=a.feedTracking,h=a.onClearQueryString;if(b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==h){a=new Map();var j=null;for(var k of e){var l,m=k.rawData;l=(l=m.section)!=null?l:"";j==null&&l!==""&&Boolean(m.isInstagramAccount)&&(j=l);a.set(l,((m=a.get(l))!=null?m:[]).concat([k]))}l=i.jsx(i.Fragment,{children:Array.from(a.entries()).map(function(a,b){var d=a[0];a=a[1];if(a.length===0)return null;a=a.map(function(a){return i.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow.react"),{entry:a,feedLocation:f,feedTracking:g,onClearQueryString:h},a.key)});return i.jsx(c("CometReshareDialogTargetSection.react"),{sectionTitle:d,children:a},b)})});b[0]=e;b[1]=f;b[2]=g;b[3]=h;b[4]=l}else l=b[4];return l}g["default"]=a}),98);
__d("CometMessengerResharesUpdatedDialogQuery.graphql",["CometMessengerResharesUpdatedDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:null,kind:"LocalArgument",name:"isLinkSharingEnabled"},c={defaultValue:null,kind:"LocalArgument",name:"scale"},d={defaultValue:null,kind:"LocalArgument",name:"shouldDisableMessengerListRanking"},e={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},g={alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[e,f],storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},i=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],j={alias:null,args:[{kind:"Literal",name:"height",value:60},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:i,storageKey:null},k=[{alias:null,args:null,kind:"ScalarField",name:"count",storageKey:null},{alias:null,args:null,concreteType:"MessagingParticipant",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"messaging_actor",plural:!1,selections:[e,h,f,j],storageKey:null},f],storageKey:null}],l={alias:null,args:null,concreteType:"MessageThreadKey",kind:"LinkedField",name:"thread_key",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"other_user_id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_fbid",storageKey:null}],storageKey:null},m=[f];return{fragment:{argumentDefinitions:[a,c,d],kind:"Fragment",metadata:null,name:"CometMessengerResharesUpdatedDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerResharesUpdatedTargets_viewer"},{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareFooter_viewer"}]}],storageKey:null},{condition:"isLinkSharingEnabled",kind:"Condition",passingValue:!0,selections:[{args:null,kind:"FragmentSpread",name:"CometLinkSharingInlineDisclosure_count"}]}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[c,a,d],kind:"Operation",name:"CometMessengerResharesUpdatedDialogQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[g,{condition:"shouldDisableMessengerListRanking",kind:"Condition",passingValue:!1,selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"}],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[e,{kind:"InlineFragment",selections:[{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:3}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:3)"},{alias:null,args:null,kind:"ScalarField",name:"is_cm_thread",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thread_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"image",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"associated_group",plural:!1,selections:[h,f],storageKey:null},l],type:"MessengerViewerGroupThread",abstractKey:null},{kind:"InlineFragment",selections:[{alias:null,args:[{kind:"Literal",name:"first",value:1}],concreteType:"MessagingParticipantsOfThreadConnection",kind:"LinkedField",name:"other_participants",plural:!1,selections:k,storageKey:"other_participants(first:1)"},l],type:"MessengerViewer1To1Thread",abstractKey:null},{kind:"InlineFragment",selections:[f,h,j],type:"User",abstractKey:null}],type:"MessengerSearchable",abstractKey:"__isMessengerSearchable"},{kind:"InlineFragment",selections:m,type:"User",abstractKey:null},{kind:"InlineFragment",selections:m,type:"Node",abstractKey:"__isNode"}],storageKey:null},f],storageKey:null}],storageKey:'messenger_suggested_recipients(broadcast_list_type:"WEB")'}]},{"if":null,kind:"Defer",label:"CometMessengerResharesUpdatedDialogQuery$defer$CometMessengerReshareFooter_viewer",selections:[{alias:null,args:null,kind:"ScalarField",name:"chat_tabs_turned_off",storageKey:null},g]}],storageKey:null},{condition:"isLinkSharingEnabled",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"LinkSharingDisclosureImpressionCount",kind:"LinkedField",name:"xfb_query_ls_disclosure_impression_count",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inline",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"bottom_sheet",storageKey:null}],storageKey:null}]}]},params:{id:b("CometMessengerResharesUpdatedDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMessengerResharesUpdatedDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("CometMessengerResharesUpdatedDialog_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerResharesUpdatedDialog_group",selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerReshareFooter_group"},{alias:null,args:null,kind:"ScalarField",name:"visibility",storageKey:null},{alias:null,args:null,concreteType:"GroupPrivacyInfo",kind:"LinkedField",name:"privacy_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"icon_name",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"description",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null}],storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("CometMessengerResharesUpdatedSuggestions_thread.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerResharesUpdatedSuggestions_thread",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"attachments",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMessengerReshareTargetCheckboxRow_thread"},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],type:"User",abstractKey:null}],storageKey:null}],type:"MessengerBroadcastSection",abstractKey:null};e.exports=a}),null);
__d("CometMessengerResharesUpdatedSuggestions_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometMessengerResharesUpdatedSuggestions_viewer",selections:[{alias:null,args:[{kind:"Literal",name:"broadcast_list_type",value:"WEB"}],concreteType:"SuggestedRecipientsConnection",kind:"LinkedField",name:"messenger_suggested_recipients",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerBroadcastSection",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"section_type",storageKey:null},{args:null,kind:"FragmentSpread",name:"CometMessengerResharesUpdatedSuggestions_thread"}],storageKey:null}],storageKey:'messenger_suggested_recipients(broadcast_list_type:"WEB")'}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometMessengerResharesUpdatedSuggestions.react",["BaseScrollableArea.react","CometList_DEPRECATED.react","CometMessengerReshareContext","CometMessengerReshareDialogMoreShareOptionsButton.react","CometMessengerReshareLightspeedTargetCheckboxRow.react","CometMessengerReshareTargetCheckboxRow.react","CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow.react","CometMessengerResharesUpdatedSuggestions_thread.graphql","CometMessengerResharesUpdatedSuggestions_viewer.graphql","CometRelay","CometUnifiedShareSheetGating","FBLogger","MAWThreadCutover","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));e=j;var l=e.useContext,m=e.useMemo,n={scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0}},o=d("CometUnifiedShareSheetGating").shouldDisableMessengerListRanking()?0:70;function p(a){a=a.threadID;return d("MAWThreadCutover").useGetCutoverSecureThreadKey(a)}function a(a){var e,f=a.feedTracking,g=a.isMessengerRankingDisabled,j=a.isOpenedFromUSS,q=a.moreShareOptionsProps;a=a.viewer;var r=d("CometRelay").useFragment(h!==void 0?h:h=b("CometMessengerResharesUpdatedSuggestions_viewer.graphql"),g?null:a);g=l(c("CometMessengerReshareContext"));a=g.LSResults;var s=g.selectedTargets,t=[],u=new Set(s.keys());g=m(function(){var a,b;a=(a=r==null||(b=r.messenger_suggested_recipients)==null?void 0:b.nodes)!=null?a:[];return a.filter(function(a){return a.section_type==="CONTACTS"})[0]},[r==null||(e=r.messenger_suggested_recipients)==null?void 0:e.nodes]);var v=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerResharesUpdatedSuggestions_thread.graphql"),g);g=m(function(){return v==null?void 0:v.attachments.slice(0,o)},[v==null?void 0:v.attachments]);if(a.length===0&&(v==null?void 0:v.attachments.length)===0)return null;var w=new Set(),x=[];a.length>0&&a.map(function(a){if(a.imageUrl==null||a.displayName==null||a.imageUrl===""||a.displayName===""){c("FBLogger")("unified_share_sheet").warn("LS result has empty imageUrl or displayName");return null}w.add(a.id);var b=k.jsx(c("CometMessengerReshareLightspeedTargetCheckboxRow.react"),{feedLocation:q.feedLocation,feedTracking:f,thread:a},"ls-"+a.id+"}");s.has(a.id)?(u["delete"](a.id),t.push(b)):x.push(b)});g!=null&&g.map(function(a){if(a==null||a.id==null){c("FBLogger")("fb_social_experience_web_sharing").mustfix("Can't render a Messenger reshare target without an id");return null}var b=p({threadID:a.id});if(w.has(a.id)||w.has(b))return null;w.add(a.id);b=k.jsx(c("CometMessengerReshareTargetCheckboxRow.react"),{feedLocation:q.feedLocation,feedTracking:f,threadFragment:a},a.id);a.id!=null&&s.has(a.id)?(u["delete"](a.id),t.push(b)):x.push(b)});u.size!==0&&u.forEach(function(a){if(a!=null){a=(a=s.get(a))==null?void 0:a.searchEntry;if(a!=null){a=k.jsx(c("CometMessengerResharesTypeaheadViewLightspeedListStrategyCheckboxRow.react"),{entry:a,feedLocation:q.feedLocation,feedTracking:f},"searchres-"+a.key+"}");t.push(a)}}});return k.jsx(c("BaseScrollableArea.react"),{horizontal:!1,vertical:!0,withBottomShadow:!0,withTopShadow:!0,xstyle:n.scrollableArea,children:k.jsx("div",{className:"xmzvs34 xf159sx",children:k.jsxs(c("CometList_DEPRECATED.react"),{children:[j?null:k.jsx(c("CometMessengerReshareDialogMoreShareOptionsButton.react"),babelHelpers["extends"]({},q)),t.length>0?t:null,x]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometMessengerResharesUpdatedTargets_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"shouldDisableMessengerListRanking"}],kind:"Fragment",metadata:null,name:"CometMessengerResharesUpdatedTargets_viewer",selections:[{condition:"shouldDisableMessengerListRanking",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometMessengerResharesUpdatedSuggestions_viewer"}]},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"actor",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("CometResharesUpdatedSearchTargetsArea.react",["BaseScrollableArea.react","BaseTypeahead.react","CometResharesSearchInputStrategy.react","CometTypeaheadLayoutInlineStrategy.react","CometTypeaheadProgressGlimmer.react","CometTypeaheadViewEmptyState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useMemo;var j=b.useState,k={input:{paddingBottom:"xsag5q8",paddingInlineEnd:"xv54qhq",paddingInlineStart:"xf7dkkf",paddingTop:"xz9dl7a",$$css:!0},scrollableArea:{flexGrow:"x1iyjqo2",overscrollBehaviorY:"xy5w88m",$$css:!0},viewResponsive:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",maxHeight:"x1isssho",$$css:!0},viewResponsivePushPage:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",maxHeight:"x1isssho",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.dataSource,f=a.initialQueryString,g=a.isPushPageView,h=a.noSearchResultsText,l=a.placeholder,m=a.renderResults,n=a.suggestedTargets;a=a.withTopDivider;f=f===void 0?"":f;a=a===void 0?!1:a;f=j(f!=null?f:"");var o=f[0],p=f[1];b[0]!==h||b[1]!==m||b[2]!==n?(f=function(a){var b=a.entries,d=a.isLoading;a=a.queryString;a=((a=a==null?void 0:a.length)!=null?a:0)>0;if(!a)return n;return b.length===0?i.jsx(c("CometTypeaheadViewEmptyState.react"),{children:h}):i.jsx(c("BaseScrollableArea.react"),{horizontal:!1,vertical:!0,withBottomShadow:!0,withTopShadow:!0,xstyle:k.scrollableArea,children:i.jsxs("div",{className:"xmzvs34 xf159sx",children:[d&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),m({entries:b,onClearQueryString:function(){return p("")}})]})})},b[0]=h,b[1]=m,b[2]=n,b[3]=f):f=b[3];f=f;f=f;var q;b[4]!==a?(q={0:{},1:{className:"x8cjs6t x13fuv20 x178xt8z xw7yly9"}}[!!a<<0],b[4]=a,b[5]=q):q=b[5];a=g?k.viewResponsivePushPage:k.viewResponsive;b[6]!==a?(g={inputXStyle:k.input,viewXStyle_DO_NOT_USE:a},b[6]=a,b[7]=g):g=b[7];b[8]!==f||b[9]!==e||b[10]!==l||b[11]!==o||b[12]!==g?(a=i.jsx(c("BaseTypeahead.react"),{dataSource:e,inputStrategyRenderer:c("CometResharesSearchInputStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutInlineStrategy.react"),onChange:p,placeholder:l,queryString:o,shouldQueryStringFollowHighlightedEntry:!1,shouldQueryStringUpdateFromSelectedEntryOnClick:!1,viewStrategyRenderer:f,xstyles:g}),b[8]=f,b[9]=e,b[10]=l,b[11]=o,b[12]=g,b[13]=a):a=b[13];b[14]!==q||b[15]!==a?(f=i.jsx("div",babelHelpers["extends"]({},q,{"data-testid":void 0,children:a})),b[14]=q,b[15]=a,b[16]=f):f=b[16];return f}g["default"]=a}),98);
__d("CometMessengerResharesUpdatedTargets.react",["fbt","CometMessengerResharesSearchLightspeedDataSource","CometMessengerResharesTypeaheadViewUpdatedLightspeedListStrategy.react","CometMessengerResharesUpdatedSuggestions.react","CometMessengerResharesUpdatedTargets_viewer.graphql","CometRelay","CometResharesUpdatedSearchTargetsArea.react","CometUnifiedShareSheetGating","isTlcSearchEnabled","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useMemo;function a(a){var e,f=a.disableSecureSearch,g=a.feedTracking,j=a.isPushPageView,m=a.moreShareOptionsProps;a=a.viewer;a=d("CometRelay").useFragment(i!==void 0?i:i=b("CometMessengerResharesUpdatedTargets_viewer.graphql"),a);var n=a==null||(e=a.actor)==null?void 0:e.id;if(a==null||n==null)throw c("unrecoverableViolation")("Need a viewer id and post id in order to share a story","fb_social_experience_web_sharing");n=d("CometMessengerResharesSearchLightspeedDataSource").useCometMessengerResharesSearchDataSource(30,10,f==null?c("isTlcSearchEnabled")():!f,!0);f=l(function(){return function(a){var b=a.entries;a=a.onClearQueryString;return k.jsx(c("CometMessengerResharesTypeaheadViewUpdatedLightspeedListStrategy.react"),{entries:b,feedLocation:m.feedLocation,feedTracking:g,onClearQueryString:a})}},[]);var o=d("CometUnifiedShareSheetGating").shouldDisableMessengerListRanking();return k.jsx(c("CometResharesUpdatedSearchTargetsArea.react"),{dataSource:n,isPushPageView:j,noSearchResultsText:h._(/*BTDS*/"No contacts match your search."),placeholder:h._(/*BTDS*/"Search for people and groups"),renderResults:f,suggestedTargets:k.jsx(c("CometMessengerResharesUpdatedSuggestions.react"),{feedTracking:g,isMessengerRankingDisabled:o,isOpenedFromUSS:j,moreShareOptionsProps:m,viewer:a})})}a.displayName=a.name+" [from "+f.id+"]";e=k.memo(a);g["default"]=e}),226);
__d("CometMessengerResharesUpdatedDialog.react",["fbt","CometErrorBoundary.react","CometLinkSharingUtil","CometMessengerReshareContextProvider","CometMessengerReshareDialogErrorState.react","CometMessengerReshareFooterPlaceholder.react","CometMessengerResharesDialogWrapper.react","CometMessengerResharesUpdatedDialogQuery$Parameters","CometMessengerResharesUpdatedDialogQuery.graphql","CometMessengerResharesUpdatedDialog_group.graphql","CometMessengerResharesUpdatedTargets.react","CometPlaceholder.react","CometRelay","CometResharesSearchTargetsAreaPlaceholder.react","CometRow.react","CometRowItem.react","CometUnifiedShareSheetGating","FDSDialogHeader.react","FDSIcon.react","FDSText.react","MWChatSearchIssueLightspeedQuery","UnifiedShareSheetConstants","UnifiedShareSheetMessengerLexicalCreateEditor","cr:2018","cr:3260","deferredLoadComponent","getShouldSendPrivateGroupShareAutoInvite","react","requireDeferredForDisplay","useGroupsCometPrivacyIcon","usePartialViewImpression","usePopPage","useRefetchablePreloadedQuery","useUnifiedShareSheetLogger"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react"));e=k;var m=e.useCallback,n=e.useEffect,o=e.useMemo,p=e.useRef,q=e.useState,r=c("deferredLoadComponent")(c("requireDeferredForDisplay")("CometMessengerReshareFooter.react").__setRef("CometMessengerResharesUpdatedDialog.react")),s=i!==void 0?i:i=b("CometMessengerResharesUpdatedDialogQuery.graphql"),t=d("CometUnifiedShareSheetGating").shouldDisableMessengerListRanking()?60:30;function a(a){var e,f,g=a.props;a=a.queries;var i=p([]),k=q(!0),u=k[0],v=k[1],w=c("usePopPage")();n(function(){d("MWChatSearchIssueLightspeedQuery").fetchThreadRecommendations().then(function(a){a=a.slice(0,t);i.current=a;v(!1)})["catch"](function(){})},[]);k=c("useRefetchablePreloadedQuery")(c("CometMessengerResharesUpdatedDialogQuery$Parameters"),a.queryReference);var x=k[0];k=k[1];k=d("CometRelay").usePreloadedQuery(s,k);var y=a.queryReference.variables,z=k==null?void 0:k.viewer;a=d("CometRelay").useFragment(j!==void 0?j:j=b("CometMessengerResharesUpdatedDialog_group.graphql"),g.groupKey);var A=m(function(){x(y)},[x,y]),B=g.feedLocation,C=g.feedTracking,D=g.onClose,E=g.shareableID,F=g.source,G=g.storyData,H=g.url,I=c("useUnifiedShareSheetLogger")(),J=I.onCloseBCFDialogLog,K=I.onMessengerBCFImpression,L=o(function(){return{entry_point:B,sharing_component_name:d("CometUnifiedShareSheetGating").shouldEnablePSLoggingIntentFixes()?"broadcast_flow_multiselect_message_composer":"facebook_broadcast_flow"}},[B]);I=m(function(){J(babelHelpers["extends"]({},L,{shareable_entity_fbid:E})),D()},[L,D,J,E]);var M=c("usePartialViewImpression")({onImpressionStart:function(){K(babelHelpers["extends"]({},L,{shareable_entity_fbid:E}))}}),N=p(H);function O(a){N.current=a}var P=d("CometLinkSharingUtil").getProductTypeAndSurfaceByFeedLocation(B);P=P.productType;H=b("cr:3260")({originalContentUrl:H,productType:P,setWrappedShareUrl:O,storyID:E});var Q=H.generateWrappedShareUrl,R=H.getWrappedShareUrl;n(function(){if(!d("CometLinkSharingUtil").ENABLE_LINK_SHARING_ON_BCF)return;var a=R(E);a!=null?O(a):Q()},[Q,R,E]);P=h._(/*BTDS*/"Send to");H=o(function(){return{editor:c("UnifiedShareSheetMessengerLexicalCreateEditor")(),inputState:{__type:"lexical-editor-state-based"}}},[]);H=H.editor;var S=q(d("UnifiedShareSheetConstants").SEND_BUTTON_STATUS.DISABLED),T=S[0];S=S[1];var U=l.jsx(c("FDSDialogHeader.react"),{onBack:function(){w&&w()},onClose:I,text:P,withBackButton:g.isPushPageView,withCloseButton:!0});I=l.jsx(c("CometPlaceholder.react"),{fallback:l.jsx(c("CometMessengerReshareFooterPlaceholder.react"),{}),name:"CometMessengerResharesUpdatedDialog.Footer",children:l.jsx(r,{editor:H,feedLocation:B,groupKey:a,onClose:D,sendButtonStatus:T,shareableID:E,source:F,storyData:G,url:N.current,viewer:z})});P=o(function(){return l.jsx(c("CometMessengerResharesUpdatedTargets.react"),{feedTracking:C,isPushPageView:g.isPushPageView,moreShareOptionsProps:{feedLocation:B,onCloseUSS:D,openUSSPushPage:!0,shareableID:E,url:N.current},viewer:z})},[g.isPushPageView,D,E,N,z,B]);H=d("useGroupsCometPrivacyIcon").getGroupPrivacyIconName(a==null||(e=a.privacy_info)==null?void 0:e.icon_name);T=a==null||(f=a.privacy_info)==null||(f=f.description)==null?void 0:f.text;F="";G=a==null?void 0:a.visibility;a=c("getShouldSendPrivateGroupShareAutoInvite")();G=G!=null&&(G==="CLOSED"||G==="SECRET");return l.jsx(c("CometMessengerReshareContextProvider"),{LSResults:i.current,setSendButtonStatus:S,children:l.jsx(c("CometErrorBoundary.react"),{fallback:function(a){return l.jsx(c("CometMessengerReshareDialogErrorState.react"),{handleRefresh:A,header:U,isPushPageView:g.isPushPageView,onClose:D})},children:l.jsx(c("CometMessengerResharesDialogWrapper.react"),{footer:I,header:U,isPushPageView:g.isPushPageView,onClose:D,children:l.jsxs("div",{ref:M,children:[H!=null&&T!=null&&a&&G?l.jsx("div",{className:"x1e56ztr xlo4toe x9pbi5e xw7yly9 x2b8uid",children:l.jsxs(c("CometRow.react"),{align:"center",expanding:!0,paddingHorizontal:0,paddingTop:0,spacing:12,children:[l.jsx(c("CometRowItem.react"),{children:l.jsx(c("FDSIcon.react"),{color:"primary",icon:H})}),l.jsx(c("CometRowItem.react"),{children:l.jsxs(c("FDSText.react"),{align:"start",type:"meta3",children:[h._(/*BTDS*/"{Description of group privacy type}",[h._param("Description of group privacy type",T!=null?T:F)])," ",h._(/*BTDS*/"Non-members will get an invite to join.")]})})]})}):null,b("cr:2018")!=null&&!g.isPushPageView&&l.jsx(b("cr:2018"),{entryPoint:d("CometLinkSharingUtil").LinkSharingDisclosureEntryPointEnum.BCF_UFI_INLINE_DISCLOSURE,linkSharingRef:k,shareableID:g.shareableID}),u?l.jsx(c("CometResharesSearchTargetsAreaPlaceholder.react"),{headline:null,numberOfListCells:10,paddingHorizontal:16,paddingTop:16,paddingVertical:12,shouldShowSearchBar:!0}):P]})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);