;/*FB_PKG_DELIM*/

/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<ae5c73bc820fbaccd56063ea996c6913>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("Lexical.prod",[],(function $module_Lexical_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _M,_w;function t(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t2 of e)r.append("v",_t2);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var e="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,n=e&&"documentMode"in document?document.documentMode:null,r=e&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),i=e&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),o=!(!e||!("InputEvent"in window)||n)&&"getTargetRanges"in new window.InputEvent("input"),s=e&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),l=e&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,c=e&&/Android/.test(navigator.userAgent),a=e&&/^(?=.*Chrome).*/i.test(navigator.userAgent),u=e&&c&&a,f=e&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!a;function d(){var e=[];for(var _len2=arguments.length,t=new Array(_len2),_key2=0;_key2<_len2;_key2++){t[_key2]=arguments[_key2];}for(var _n2 of t)if(_n2&&"string"==typeof _n2)for(var _ref2 of _n2.matchAll(/\S+/g)){var _t3=_ref2[0];e.push(_t3);}return e;}var h=0,g=1,p=2,_=128,y=1,m=2,x=3,C=4,S=5,N=6,T=s||l||f?" ":"​",v="\n\n",k=i?" ":T,b={bold:1,capitalize:1024,code:16,highlight:_,italic:2,lowercase:256,strikethrough:4,subscript:32,superscript:64,underline:8,uppercase:512},E={directionless:1,unmergeable:2},O={center:2,end:6,justify:4,left:1,right:3,start:5},M=(_M={},_M[m]="center",_M[N]="end",_M[C]="justify",_M[y]="left",_M[x]="right",_M[S]="start",_M),A={normal:0,segmented:2,token:1},w=(_w={},_w[h]="normal",_w[p]="segmented",_w[g]="token",_w),D="$config";function P(t,e,n,r,i,o){var s=t.getFirstChild();for(;null!==s;){var _t4=s.__key;s.__parent===e&&($r(s)&&P(s,_t4,n,r,i,o),n.has(_t4)||o["delete"](_t4),i.push(_t4)),s=s.getNextSibling();}}var I=!1,L=0;function F(t){L=t.timeStamp;}function R(t,e,n){var r="BR"===t.nodeName,i=e.__lexicalLineBreak;return i&&(t===i||r&&t.previousSibling===i)||r&&void 0!==Di(t,n);}function K(t,e,n){var r=vo(po(n));var i=null,o=null;null!==r&&r.anchorNode===t&&(i=r.anchorOffset,o=r.focusOffset);var s=t.nodeValue;null!==s&&Yi(e,s,i,o,!1);}function B(t,e,n){if(zn(t)){var _e2=t.anchor.getNode();if(_e2.is(n)&&t.format!==_e2.getFormat())return!1;}return Si(e)&&n.isAttached();}function $(t,e,n,r){for(var _i2=t;_i2&&!Bo(_i2);_i2=co(_i2)){var _t5=Di(_i2,e);if(void 0!==_t5){var _e3=Ai(_t5,n);if(_e3)return Ur(_e3)||!bo(_i2)?void 0:[_i2,_e3];}else if(_i2===r)return[r,Ri(n)];}}function z(t,e,n){I=!0;var r=performance.now()-L>100;try{Fr(t,function(){var o=rr()||function(t){return t.getEditorState().read(function(){var t=rr();return null!==t?t.clone():null;});}(t),s=new Map(),l=t.getRootElement(),c=t._editorState,a=t._blockCursorElement;var u=!1,f="";for(var _n3=0;_n3<e.length;_n3++){var _d=e[_n3],_h=_d.type,_g=_d.target,_p=$(_g,t,c,l);if(!_p)continue;var _2=_p[0],_y=_p[1];if("characterData"===_h)r&&wn(_y)&&Si(_g)&&B(o,_g,_y)&&K(_g,_y,t);else if("childList"===_h){u=!0;var _e4=_d.addedNodes;for(var _n4=0;_n4<_e4.length;_n4++){var _r2=_e4[_n4],_o2=wi(_r2),_s2=_r2.parentNode;if(null!=_s2&&_r2!==a&&null===_o2&&!R(_r2,_s2,t)){if(i){var _t6=(bo(_r2)?_r2.innerText:null)||_r2.nodeValue;_t6&&(f+=_t6);}_s2.removeChild(_r2);}}var _n5=_d.removedNodes,_r3=_n5.length;if(_r3>0){var _e5=0;for(var _i3=0;_i3<_r3;_i3++){var _r4=_n5[_i3];(R(_r4,_g,t)||a===_r4)&&(_g.appendChild(_r4),_e5++);}_r3!==_e5&&s.set(_2,_y);}}}if(s.size>0)for(var _ref4 of s){var _e6=_ref4[0];var _n6=_ref4[1];_n6.reconcileObservedMutation(_e6,t);}var d=n.takeRecords();if(d.length>0){for(var _e7=0;_e7<d.length;_e7++){var _n7=d[_e7],_r5=_n7.addedNodes,_i4=_n7.target;for(var _e8=0;_e8<_r5.length;_e8++){var _n8=_r5[_e8],_o3=_n8.parentNode;null==_o3||"BR"!==_n8.nodeName||R(_n8,_i4,t)||_o3.removeChild(_n8);}}n.takeRecords();}null!==o&&(u&&Ki(o),i&&io(t)&&o.insertRawText(f));});}finally{I=!1;}}function W(t){var e=t._observer;if(null!==e){z(t,e.takeRecords(),e);}}function U(t){!function(t){0===L&&po(t).addEventListener("textInput",F,!0);}(t),t._observer=new MutationObserver(function(e,n){z(t,e,n);});}var J=function J(t,e){this.key=t,this.parse=e.parse.bind(e),this.unparse=(e.unparse||X).bind(e),this.isEqual=(e.isEqual||Object.is).bind(e),this.defaultValue=this.parse(void 0);};function Y(t,e,n){if(n===void 0){n="latest";}var r=("latest"===n?t.getLatest():t).__state;return r?r.getValue(e):e.defaultValue;}function j(t){var e=new Map(),n=new Set();for(var _r6="function"==typeof t?t:t.replace;_r6.prototype&&void 0!==_r6.prototype.getType;_r6=Object.getPrototypeOf(_r6)){var _Wo=Wo(_r6),_t7=_Wo.ownNodeConfig;if(_t7&&_t7.stateConfigs)for(var _r7 of _t7.stateConfigs){var _t8=void 0;"stateConfig"in _r7?(_t8=_r7.stateConfig,_r7.flat&&n.add(_t8.key)):_t8=_r7,e.set(_t8.key,_t8);}}return{flatKeys:n,sharedConfigMap:e};}var _H=function(){function H(t,e,n,r,i){if(n===void 0){n=void 0;}if(r===void 0){r=new Map();}if(i===void 0){i=void 0;}this.node=t,this.sharedNodeState=e,this.unknownState=n,this.knownState=r;var o=this.sharedNodeState.sharedConfigMap,s=void 0!==i?i:function(t,e,n){var r=n.size;if(e)for(var _i5 in e){var _e9=t.get(_i5);_e9&&n.has(_e9)||r++;}return r;}(o,n,r);this.size=s;}var _proto=H.prototype;_proto.getValue=function getValue(t){var e=this.knownState.get(t);if(void 0!==e)return e;this.sharedNodeState.sharedConfigMap.set(t.key,t);var n=t.defaultValue;if(this.unknownState&&t.key in this.unknownState){var _e0=this.unknownState[t.key];void 0!==_e0&&(n=t.parse(_e0)),this.updateFromKnown(t,n);}return n;};_proto.getInternalState=function getInternalState(){return[this.unknownState,this.knownState];};_proto.toJSON=function toJSON(){var t=babelHelpers["extends"]({},this.unknownState),e={};for(var _ref6 of this.knownState){var _e1=_ref6[0];var _n9=_ref6[1];_e1.isEqual(_n9,_e1.defaultValue)?delete t[_e1.key]:t[_e1.key]=_e1.unparse(_n9);}for(var _n0 of this.sharedNodeState.flatKeys)_n0 in t&&(e[_n0]=t[_n0],delete t[_n0]);return q(t)&&(e.$=t),e;};_proto.getWritable=function getWritable(t){if(this.node===t)return this;var e=this.sharedNodeState,n=this.unknownState,r=new Map(this.knownState);return new H(t,e,function(t,e,n){var r;if(n)for(var _ref8 of Object.entries(n)){var _i6=_ref8[0];var _o4=_ref8[1];{var _n1=t.get(_i6);_n1?e.has(_n1)||e.set(_n1,_n1.parse(_o4)):(r=r||{},r[_i6]=_o4);}}return r;}(e.sharedConfigMap,r,n),r,this.size);};_proto.updateFromKnown=function updateFromKnown(t,e){var n=t.key;this.sharedNodeState.sharedConfigMap.set(n,t);var r=this.knownState,i=this.unknownState;r.has(t)||i&&n in i||(i&&(delete i[n],this.unknownState=q(i)),this.size++),r.set(t,e);};_proto.updateFromUnknown=function updateFromUnknown(t,e){var n=this.sharedNodeState.sharedConfigMap.get(t);n?this.updateFromKnown(n,n.parse(e)):(this.unknownState=this.unknownState||{},t in this.unknownState||this.size++,this.unknownState[t]=e);};_proto.updateFromJSON=function updateFromJSON(t){var e=this.knownState;for(var _t9 of e.keys())e.set(_t9,_t9.defaultValue);if(this.size=e.size,this.unknownState=void 0,t)for(var _ref0 of Object.entries(t)){var _e10=_ref0[0];var _n10=_ref0[1];this.updateFromUnknown(_e10,_n10);}};return H;}();function V(t){var e=t.getWritable(),n=e.__state?e.__state.getWritable(e):new _H(e,G(e));return e.__state=n,n;}function G(t){return t.__state?t.__state.sharedNodeState:ui(Po(),t.getType()).sharedNodeState;}function q(t){if(t)for(var _e11 in t)return t;}function X(t){return t;}function Q(t,e,n){for(var _ref10 of e.knownState){var _r8=_ref10[0];var _i7=_ref10[1];{if(t.has(_r8.key))continue;t.add(_r8.key);var _e12=n?n.getValue(_r8):_r8.defaultValue;if(_e12!==_i7&&!_r8.isEqual(_e12,_i7))return!0;}}return!1;}function Z(t,e,n){var r=e.unknownState,i=n?n.unknownState:void 0;if(r)for(var _ref12 of Object.entries(r)){var _e13=_ref12[0];var _n11=_ref12[1];if(t.has(_e13))continue;t.add(_e13);if(_n11!==(i?i[_e13]:void 0))return!0;}return!1;}function tt(t,e){var n=t.__state;return n&&n.node===t?n.getWritable(e):n;}function et(t,e){var n=t.__mode,r=t.__format,i=t.__style,o=e.__mode,s=e.__format,l=e.__style,c=t.__state,a=e.__state;return(null===n||n===o)&&(null===r||r===s)&&(null===i||i===l)&&(null===t.__state||c===a||function(t,e){if(t===e)return!0;if(t&&e&&t.size!==e.size)return!1;var n=new Set();return!(t&&Q(n,t,e)||e&&Q(n,e,t)||t&&Z(n,t,e)||e&&Z(n,e,t));}(c,a));}function nt(t,e){var n=t.mergeWithSibling(e),r=vr()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n;}function rt(t){var e,n,r=t;if(""!==r.__text||!r.isSimpleText()||r.isUnmergeable()){for(;null!==(e=r.getPreviousSibling())&&wn(e)&&e.isSimpleText()&&!e.isUnmergeable();){if(""!==e.__text){if(et(e,r)){r=nt(e,r);break;}break;}e.remove();}for(;null!==(n=r.getNextSibling())&&wn(n)&&n.isSimpleText()&&!n.isUnmergeable();){if(""!==n.__text){if(et(r,n)){r=nt(r,n);break;}break;}n.remove();}}else r.remove();}function it(t){return ot(t.anchor),ot(t.focus),t;}function ot(t){for(;"element"===t.type;){var _e14=t.getNode(),_n12=t.offset;var _r9=void 0,_i8=void 0;if(_n12===_e14.getChildrenSize()?(_r9=_e14.getChildAtIndex(_n12-1),_i8=!0):(_r9=_e14.getChildAtIndex(_n12),_i8=!1),wn(_r9)){t.set(_r9.__key,_i8?_r9.getTextContentSize():0,"text",!0);break;}if(!$r(_r9))break;t.set(_r9.__key,_i8?_r9.getChildrenSize():0,"element",!0);}}var st,lt,ct,at,ut,ft,dt,ht,gt,pt,_t="",yt=null,mt="",xt="",Ct=!1,St=!1;function Nt(t,e){var n=dt.get(t);if(null!==e){var _n13=Bt(t);_n13.parentNode===e&&e.removeChild(_n13);}if(ht.has(t)||lt._keyToDOMMap["delete"](t),$r(n)){var _t0=It(n,dt);Tt(_t0,0,_t0.length-1,null);}void 0!==n&&eo(pt,ct,at,n,"destroyed");}function Tt(t,e,n,r){var i=e;for(;i<=n;++i){var _e15=t[i];void 0!==_e15&&Nt(_e15,r);}}function vt(t,e){t.setProperty("text-align",e);}var kt="40px";function bt(t,e){var n=st.theme.indent;if("string"==typeof n){var _r0=t.classList.contains(n);e>0&&!_r0?t.classList.add(n):e<1&&_r0&&t.classList.remove(n);}var r=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||kt;t.style.setProperty("padding-inline-start",0===e?"":"calc("+e+" * "+r+")");}function Et(t,e){var n=t.style;0===e?vt(n,""):1===e?vt(n,"left"):2===e?vt(n,"center"):3===e?vt(n,"right"):4===e?vt(n,"justify"):5===e?vt(n,"start"):6===e&&vt(n,"end");}function Ot(t,e){var n=function(t){var e=t.__dir;if(null!==e)return e;if(Yr(t))return null;var n=t.getParentOrThrow();return Yr(n)&&null===n.__dir?"auto":null;}(e);null!==n?t.dir=n:t.removeAttribute("dir");}function Mt(e,n){var r=ht.get(e);void 0===r&&t(60);var i=r.createDOM(st,lt);if(function(t,e,n){var r=n._keyToDOMMap;(function(t,e,n){var r="__lexicalKey_"+e._key;t[r]=n;})(e,n,t),r.set(t,e);}(e,i,lt),wn(r)?i.setAttribute("data-lexical-text","true"):Ur(r)&&i.setAttribute("data-lexical-decorator","true"),$r(r)){var _t1=r.__indent,_e16=r.__size;if(Ot(i,r),0!==_t1&&bt(i,_t1),0!==_e16){var _t10=_e16-1;At(It(r,ht),r,0,_t10,r.getDOMSlot(i));}var _n14=r.__format;0!==_n14&&Et(i,_n14),r.isInline()||Dt(null,r,i),so(r)&&(_t+=v,xt+=v);}else{var _t11=r.getTextContent();if(Ur(r)){var _t12=r.decorate(lt,st);null!==_t12&&Ft(e,_t12),i.contentEditable="false";}_t+=_t11,xt+=_t11;}return null!==n&&n.insertChild(i),eo(pt,ct,at,r,"created"),i;}function At(t,e,n,r,i){var o=_t;_t="";var s=n;for(;s<=r;++s){Mt(t[s],i);var _e17=ht.get(t[s]);null!==_e17&&wn(_e17)&&(null===yt&&(yt=_e17.getFormat()),""===mt&&(mt=_e17.getStyle()));}so(e)&&(_t+=v);i.element.__lexicalTextContent=_t,_t=o+_t;}function wt(t,e){if(t){var _n15=t.__last;if(_n15){var _t13=e.get(_n15);if(_t13)return hn(_t13)?"line-break":Ur(_t13)&&_t13.isInline()?"decorator":null;}return"empty";}return null;}function Dt(t,e,n){var r=wt(t,dt),i=wt(e,ht);r!==i&&e.getDOMSlot(n).setManagedLineBreak(i);}function Pt(e,n,r){var i;yt=null,mt="",function(e,n,r){var i=_t,o=e.__size,s=n.__size;_t="";var l=r.element;if(1===o&&1===s){var _t14=e.__first,_r1=n.__first;if(_t14===_r1)Lt(_t14,l);else{var _e18=Bt(_t14),_n16=Mt(_r1,null);try{l.replaceChild(_n16,_e18);}catch(i){if("object"==typeof i&&null!=i){var _o5=i.toString()+" Parent: "+l.tagName+", new child: {tag: "+_n16.tagName+" key: "+_r1+"}, old child: {tag: "+_e18.tagName+", key: "+_t14+"}.";throw new Error(_o5);}throw i;}Nt(_t14,null);}var _i9=ht.get(_r1);wn(_i9)&&(null===yt&&(yt=_i9.getFormat()),""===mt&&(mt=_i9.getStyle()));}else{var _i0=It(e,dt),_c=It(n,ht);if(_i0.length!==o&&t(227),_c.length!==s&&t(228),0===o)0!==s&&At(_c,n,0,s-1,r);else if(0===s){if(0!==o){var _t15=null==r.after&&null==r.before&&null==r.element.__lexicalLineBreak;Tt(_i0,0,o-1,_t15?null:l),_t15&&(l.textContent="");}}else!function(t,e,n,r,i,o){var s=r-1,l=i-1;var c,a,u=o.getFirstChild(),f=0,d=0;for(;f<=s&&d<=l;){var _t16=e[f],_r10=n[d];if(_t16===_r10)u=Rt(Lt(_r10,o.element)),f++,d++;else{void 0===c&&(c=new Set(e)),void 0===a&&(a=new Set(n));var _i1=a.has(_t16),_s3=c.has(_r10);if(_i1){if(_s3){var _t17=lo(lt,_r10);_t17===u?u=Rt(Lt(_r10,o.element)):(o.withBefore(u).insertChild(_t17),Lt(_r10,o.element)),f++,d++;}else Mt(_r10,o.withBefore(u)),d++;}else u=Rt(Bt(_t16)),Nt(_t16,o.element),f++;}var _i10=ht.get(_r10);null!==_i10&&wn(_i10)&&(null===yt&&(yt=_i10.getFormat()),""===mt&&(mt=_i10.getStyle()));}var h=f>s,g=d>l;if(h&&!g){var _e19=n[l+1],_r11=void 0===_e19?null:lt.getElementByKey(_e19);At(n,t,d,l,o.withBefore(_r11));}else g&&!h&&Tt(e,f,s,o.element);}(n,_i0,_c,o,s,r);}so(n)&&(_t+=v);l.__lexicalTextContent=_t,_t=i+_t;}(e,n,n.getDOMSlot(r)),i=n,null==yt||yt===i.__textFormat||St||i.setTextFormat(yt),function(t){""===mt||mt===t.__textStyle||St||t.setTextStyle(mt);}(n);}function It(e,n){var r=[];var i=e.__first;for(;null!==i;){var _e20=n.get(i);void 0===_e20&&t(101),r.push(i),i=_e20.__next;}return r;}function Lt(e,n){var r=dt.get(e);var i=ht.get(e);void 0!==r&&void 0!==i||t(61);var o=Ct||ft.has(e)||ut.has(e),s=lo(lt,e);if(r===i&&!o){if($r(r)){var _t18=s.__lexicalTextContent;void 0!==_t18&&(_t+=_t18,xt+=_t18);}else{var _t19=r.getTextContent();xt+=_t19,_t+=_t19;}return s;}if(r!==i&&o&&eo(pt,ct,at,i,"updated"),i.updateDOM(r,s,st)){var _r12=Mt(e,null);return null===n&&t(62),n.replaceChild(_r12,s),Nt(e,null),_r12;}if($r(r)&&$r(i)){var _t20=i.__indent;(Ct||_t20!==r.__indent)&&bt(s,_t20);var _e21=i.__format;if((Ct||_e21!==r.__format)&&Et(s,_e21),o&&(Pt(r,i,s),Yr(i)||i.isInline()||Dt(r,i,s)),so(i)&&(_t+=v,xt+=v),(Ct||i.__dir!==r.__dir)&&(Ot(s,i),Yr(i)&&!Ct))for(var _t21 of i.getChildren())if($r(_t21)){Ot(lo(lt,_t21.getKey()),_t21);}}else{var _t22=i.getTextContent();if(Ur(i)){var _t23=i.decorate(lt,st);null!==_t23&&Ft(e,_t23);}_t+=_t22,xt+=_t22;}if(!St&&Yr(i)&&i.__cachedText!==xt){var _t24=i.getWritable();_t24.__cachedText=xt,i=_t24;}return s;}function Ft(t,e){var n=lt._pendingDecorators;var r=lt._decorators;if(null===n){if(r[t]===e)return;n=Ii(lt);}n[t]=e;}function Rt(t){var e=t.nextSibling;return null!==e&&e===lt._blockCursorElement&&(e=e.nextSibling),e;}function Kt(t,e,n,r,i,o){_t="",xt="",Ct=2===r,lt=n,st=n._config,ct=n._nodes,at=lt._listeners.mutation,ut=i,ft=o,dt=t._nodeMap,ht=e._nodeMap,St=e._readOnly,gt=new Map(n._keyToDOMMap);var s=new Map();return pt=s,Lt("root",null),lt=void 0,ct=void 0,ut=void 0,ft=void 0,dt=void 0,ht=void 0,st=void 0,gt=void 0,pt=void 0,s;}function Bt(e){var n=gt.get(e);return void 0===n&&t(75,e),n;}function $t(t){return{type:t};}var zt=$t("SELECTION_CHANGE_COMMAND"),Wt=$t("SELECTION_INSERT_CLIPBOARD_NODES_COMMAND"),Ut=$t("CLICK_COMMAND"),Jt=$t("DELETE_CHARACTER_COMMAND"),Yt=$t("INSERT_LINE_BREAK_COMMAND"),jt=$t("INSERT_PARAGRAPH_COMMAND"),Ht=$t("CONTROLLED_TEXT_INSERTION_COMMAND"),Vt=$t("PASTE_COMMAND"),Gt=$t("REMOVE_TEXT_COMMAND"),qt=$t("DELETE_WORD_COMMAND"),Xt=$t("DELETE_LINE_COMMAND"),Qt=$t("FORMAT_TEXT_COMMAND"),Zt=$t("UNDO_COMMAND"),te=$t("REDO_COMMAND"),ee=$t("KEYDOWN_COMMAND"),ne=$t("KEY_ARROW_RIGHT_COMMAND"),re=$t("MOVE_TO_END"),ie=$t("KEY_ARROW_LEFT_COMMAND"),oe=$t("MOVE_TO_START"),se=$t("KEY_ARROW_UP_COMMAND"),le=$t("KEY_ARROW_DOWN_COMMAND"),ce=$t("KEY_ENTER_COMMAND"),ae=$t("KEY_SPACE_COMMAND"),ue=$t("KEY_BACKSPACE_COMMAND"),fe=$t("KEY_ESCAPE_COMMAND"),de=$t("KEY_DELETE_COMMAND"),he=$t("KEY_TAB_COMMAND"),ge=$t("INSERT_TAB_COMMAND"),pe=$t("INDENT_CONTENT_COMMAND"),_e=$t("OUTDENT_CONTENT_COMMAND"),ye=$t("DROP_COMMAND"),me=$t("FORMAT_ELEMENT_COMMAND"),xe=$t("DRAGSTART_COMMAND"),Ce=$t("DRAGOVER_COMMAND"),Se=$t("DRAGEND_COMMAND"),Ne=$t("COPY_COMMAND"),Te=$t("CUT_COMMAND"),ve=$t("SELECT_ALL_COMMAND"),ke=$t("CLEAR_EDITOR_COMMAND"),be=$t("CLEAR_HISTORY_COMMAND"),Ee=$t("CAN_REDO_COMMAND"),Oe=$t("CAN_UNDO_COMMAND"),Me=$t("FOCUS_COMMAND"),Ae=$t("BLUR_COMMAND"),we=$t("KEY_MODIFIER_COMMAND"),De=Object.freeze({}),Pe=[["keydown",function(t,e){if(Ie=t.timeStamp,Le=t.key,e.isComposing())return;if(oo(e,ee,t))return;if(null==t.key)return;if(Ue&&Qi(t))return Fr(e,function(){Ze(e,Je);}),Ue=!1,void(Je="");if(function(t){return Gi(t,"ArrowRight",{shiftKey:"any"});}(t))oo(e,ne,t);else if(function(t){return Gi(t,"ArrowRight",qi);}(t))oo(e,re,t);else if(function(t){return Gi(t,"ArrowLeft",{shiftKey:"any"});}(t))oo(e,ie,t);else if(function(t){return Gi(t,"ArrowLeft",qi);}(t))oo(e,oe,t);else if(function(t){return Gi(t,"ArrowUp",{altKey:"any",shiftKey:"any"});}(t))oo(e,se,t);else if(function(t){return Gi(t,"ArrowDown",{altKey:"any",shiftKey:"any"});}(t))oo(e,le,t);else if(function(t){return Gi(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any",shiftKey:!0});}(t))ze=!0,oo(e,ce,t);else if(function(t){return" "===t.key;}(t))oo(e,ae,t);else if(function(t){return r&&Gi(t,"o",{ctrlKey:!0});}(t))t.preventDefault(),ze=!0,oo(e,Yt,!0);else if(function(t){return Gi(t,"Enter",{altKey:"any",ctrlKey:"any",metaKey:"any"});}(t))ze=!1,oo(e,ce,t);else if(function(t){return Gi(t,"Backspace",{shiftKey:"any"})||r&&Gi(t,"h",{ctrlKey:!0});}(t))Qi(t)?oo(e,ue,t):(t.preventDefault(),oo(e,Jt,!0));else if(function(t){return"Escape"===t.key;}(t))oo(e,fe,t);else if(function(t){return Gi(t,"Delete",{})||r&&Gi(t,"d",{ctrlKey:!0});}(t))!function(t){return"Delete"===t.key;}(t)?(t.preventDefault(),oo(e,Jt,!1)):oo(e,de,t);else if(function(t){return Gi(t,"Backspace",Xi);}(t))t.preventDefault(),oo(e,qt,!0);else if(function(t){return Gi(t,"Delete",Xi);}(t))t.preventDefault(),oo(e,qt,!1);else if(function(t){return r&&Gi(t,"Backspace",{metaKey:!0});}(t))t.preventDefault(),oo(e,Xt,!0);else if(function(t){return r&&(Gi(t,"Delete",{metaKey:!0})||Gi(t,"k",{ctrlKey:!0}));}(t))t.preventDefault(),oo(e,Xt,!1);else if(function(t){return Gi(t,"b",qi);}(t))t.preventDefault(),oo(e,Qt,"bold");else if(function(t){return Gi(t,"u",qi);}(t))t.preventDefault(),oo(e,Qt,"underline");else if(function(t){return Gi(t,"i",qi);}(t))t.preventDefault(),oo(e,Qt,"italic");else if(function(t){return Gi(t,"Tab",{shiftKey:"any"});}(t))oo(e,he,t);else if(function(t){return Gi(t,"z",qi);}(t))t.preventDefault(),oo(e,Zt,void 0);else if(function(t){if(r)return Gi(t,"z",{metaKey:!0,shiftKey:!0});return Gi(t,"y",{ctrlKey:!0})||Gi(t,"z",{ctrlKey:!0,shiftKey:!0});}(t))t.preventDefault(),oo(e,te,void 0);else{var _n17=e._editorState._selection;null===_n17||zn(_n17)?Zi(t)&&(t.preventDefault(),oo(e,ve,t)):!function(t){return Gi(t,"c",qi);}(t)?!function(t){return Gi(t,"x",qi);}(t)?Zi(t)&&(t.preventDefault(),oo(e,ve,t)):(t.preventDefault(),oo(e,Te,t)):(t.preventDefault(),oo(e,Ne,t));}(function(t){return t.ctrlKey||t.shiftKey||t.altKey||t.metaKey;})(t)&&oo(e,we,t);}],["pointerdown",function(t,e){var n=t.target,r=t.pointerType;Eo(n)&&"touch"!==r&&"pen"!==r&&0===t.button&&Fr(e,function(){hi(n)||($e=!0);});}],["compositionstart",function(t,e){Fr(e,function(){var n=rr();if(zn(n)&&!e.isComposing()){var _r13=n.anchor,_i11=n.anchor.getNode();Oi(_r13.key),(t.timeStamp<Ie+30||"element"===_r13.type||!n.isCollapsed()||_i11.getFormat()!==n.format||wn(_i11)&&_i11.getStyle()!==n.style)&&oo(e,Ht,k);}});}],["compositionend",function(t,e){i?We=!0:l||!s&&!f?Fr(e,function(){Ze(e,t.data);}):(Ue=!0,Je=t.data);}],["input",function(t,e){t.stopPropagation(),Fr(e,function(){if(bo(t.target)&&hi(t.target))return;var n=rr(),r=t.data,c=Qe(t);if(null!=r&&zn(n)&&He(n,c,r,t.timeStamp,!1)){We&&(Ze(e,r),We=!1);var _c2=n.anchor.getNode(),_a=vo(po(e));if(null===_a)return;var _u=n.isBackward(),_d2=_u?n.anchor.offset:n.focus.offset,_h2=_u?n.focus.offset:n.anchor.offset;o&&!n.isCollapsed()&&wn(_c2)&&null!==_a.anchorNode&&_c2.getTextContent().slice(0,_d2)+r+_c2.getTextContent().slice(_d2+_h2)===Ui(_a.anchorNode)||oo(e,Ht,r);var _g2=r.length;i&&_g2>1&&"insertCompositionText"===t.inputType&&!e.isComposing()&&(n.anchor.offset-=_g2),s||l||f||!e.isComposing()||(Ie=0,Oi(null));}else{Ji(!1,e,null!==r?r:void 0),We&&(Ze(e,r||void 0),We=!1);}!function(){Sr();var t=vr();W(t);}();},{event:t}),Re=null;}],["click",function(t,e){Fr(e,function(){var n=rr(),r=vo(po(e)),i=ir();if(r)if(zn(n)){var _e22=n.anchor,_o6=_e22.getNode();if("element"===_e22.type&&0===_e22.offset&&n.isCollapsed()&&!Yr(_o6)&&1===Fi().getChildrenSize()&&_o6.getTopLevelElementOrThrow().isEmpty()&&null!==i&&n.is(i))r.removeAllRanges(),n.dirty=!0;else if(3===t.detail&&!n.isCollapsed()){if(_o6!==n.focus.getNode()){var _t25=Uo(_o6,function(t){return $r(t)&&!t.isInline();});$r(_t25)&&_t25.select(0);}}}else if("touch"===t.pointerType||"pen"===t.pointerType){var _n18=r.anchorNode;if(bo(_n18)||Si(_n18)){Ki(nr(i,r,e,t));}}oo(e,Ut,t);});}],["cut",De],["copy",De],["dragstart",De],["dragover",De],["dragend",De],["paste",De],["focus",De],["blur",De],["drop",De]];o&&Pe.push(["beforeinput",function(e,n){return function(e,n){var r=e.inputType,o=Qe(e);if("deleteCompositionText"===r||i&&io(n))return;if("insertCompositionText"===r)return;Fr(n,function(){var i=rr();if("deleteContentBackward"===r){if(null===i){var _t26=ir();if(!zn(_t26))return;Ki(_t26.clone());}if(zn(i)){var _r14=i.anchor.key===i.focus.key;if(s=e.timeStamp,"MediaLast"===Le&&s<Ie+30&&n.isComposing()&&_r14){if(Oi(null),Ie=0,setTimeout(function(){Fr(n,function(){Oi(null);});},30),zn(i)){var _e23=i.anchor.getNode();_e23.markDirty(),wn(_e23)||t(142),Xe(i,_e23);}}else{Oi(null),e.preventDefault();var _t27=i.anchor.getNode(),_o7=_t27.getTextContent(),_s4=_t27.canInsertTextAfter(),_l=0===i.anchor.offset&&i.focus.offset===_o7.length;var _c3=u&&_r14&&!_l&&_s4;if(_c3&&i.isCollapsed()&&(_c3=!Ur(ro(i.anchor,!0))),!_c3){oo(n,Jt,!0);var _t28=rr();u&&zn(_t28)&&_t28.isCollapsed()&&(Ye=_t28,setTimeout(function(){return Ye=null;}));}}return;}}var s;if(!zn(i))return;var c=e.data;null!==Re&&Ji(!1,n,Re),i.dirty&&null===Re||!i.isCollapsed()||Yr(i.anchor.getNode())||null===o||i.applyDOMRange(o),Re=null;var a=i.anchor,f=i.focus,d=a.getNode(),h=f.getNode();if("insertText"!==r&&"insertTranspose"!==r)switch(e.preventDefault(),r){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":oo(n,Ht,e);break;case"insertFromComposition":Oi(null),oo(n,Ht,e);break;case"insertLineBreak":Oi(null),oo(n,Yt,!1);break;case"insertParagraph":Oi(null),ze&&!l?(ze=!1,oo(n,Yt,!1)):oo(n,jt,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":oo(n,Vt,e);break;case"deleteByComposition":(function(t,e){return t!==e||$r(t)||$r(e)||!xi(t)||!xi(e);})(d,h)&&oo(n,Gt,e);break;case"deleteByDrag":case"deleteByCut":oo(n,Gt,e);break;case"deleteContent":oo(n,Jt,!1);break;case"deleteWordBackward":oo(n,qt,!0);break;case"deleteWordForward":oo(n,qt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":oo(n,Xt,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":oo(n,Xt,!1);break;case"formatStrikeThrough":oo(n,Qt,"strikethrough");break;case"formatBold":oo(n,Qt,"bold");break;case"formatItalic":oo(n,Qt,"italic");break;case"formatUnderline":oo(n,Qt,"underline");break;case"historyUndo":oo(n,Zt,void 0);break;case"historyRedo":oo(n,te,void 0);}else{if("\n"===c)e.preventDefault(),oo(n,Yt,!1);else if(c===v)e.preventDefault(),oo(n,jt,void 0);else if(null==c&&e.dataTransfer){var _t29=e.dataTransfer.getData("text/plain");e.preventDefault(),i.insertRawText(_t29);}else null!=c&&He(i,o,c,e.timeStamp,!0)?(e.preventDefault(),oo(n,Ht,c)):Re=c;Fe=e.timeStamp;}});}(e,n);}]);var Ie=0,Le=null,Fe=0,Re=null;var Ke=new WeakMap();var Be=!1,$e=!1,ze=!1,We=!1,Ue=!1,Je="",Ye=null,je=[0,"",0,"root",0];function He(t,e,n,r,i){var s=t.anchor,l=t.focus,c=s.getNode(),a=vr(),u=vo(po(a)),f=null!==u?u.anchorNode:null,d=s.key,h=a.getElementByKey(d),g=n.length;return d!==l.key||!wn(c)||(!i&&(!o||Fe<r+50)||c.isDirty()&&g<2||$i(n))&&s.offset!==l.offset&&!c.isComposing()||Ci(c)||c.isDirty()&&g>1||(i||!o)&&null!==h&&!c.isComposing()&&f!==Ti(h)||null!==u&&null!==e&&(!e.collapsed||e.startContainer!==u.anchorNode||e.startOffset!==u.anchorOffset)||c.getFormat()!==t.format||c.getStyle()!==t.style||function(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;var n=t.anchor.offset,r=e.getParentOrThrow(),i=xi(e);return 0===n?!e.canInsertTextBefore()||!r.canInsertTextBefore()&&!e.isComposing()||i||function(t){var e=t.getPreviousSibling();return(wn(e)||$r(e)&&e.isInline())&&!e.canInsertTextAfter();}(e):n===e.getTextContentSize()&&(!e.canInsertTextAfter()||!r.canInsertTextAfter()&&!e.isComposing()||i);}(t,c);}function Ve(t,e){return Si(t)&&null!==t.nodeValue&&0!==e&&e!==t.nodeValue.length;}function Ge(e,n,r){var i=e.anchorNode,o=e.anchorOffset,s=e.focusNode,l=e.focusOffset;Be&&(Be=!1,Ve(i,o)&&Ve(s,l)&&!Ye)||Fr(n,function(){if(!r)return void Ki(null);if(!pi(n,i,s))return;var c=rr();if(Ye&&zn(c)&&c.isCollapsed()){var _t30=c.anchor,_e24=Ye.anchor;(_t30.key===_e24.key&&_t30.offset===_e24.offset+1||1===_t30.offset&&_e24.getNode().is(_t30.getNode().getPreviousSibling()))&&(c=Ye.clone(),Ki(c));}if(Ye=null,zn(c)){var _r15=c.anchor,_i12=_r15.getNode();if(c.isCollapsed()){"Range"===e.type&&e.anchorNode===e.focusNode&&(c.dirty=!0);var _o8=po(n).event,_s5=_o8?_o8.timeStamp:performance.now(),_je=je,_l2=_je[0],_a2=_je[1],_u2=_je[2],_f=_je[3],_d3=_je[4],_h3=Fi(),_g3=!1===n.isComposing()&&""===_h3.getTextContent();if(_s5<_d3+200&&_r15.offset===_u2&&_r15.key===_f)qe(c,_l2,_a2);else if("text"===_r15.type)wn(_i12)||t(141),Xe(c,_i12);else if("element"===_r15.type&&!_g3){$r(_i12)||t(259);var _e25=_r15.getNode();_e25.isEmpty()?function(t,e){var n=e.getTextFormat(),r=e.getTextStyle();qe(t,n,r);}(c,_e25):qe(c,0,"");}}else{var _t31=_r15.key,_e26=c.focus.key,_n19=c.getNodes(),_i13=_n19.length,_s6=c.isBackward(),_a3=_s6?l:o,_u3=_s6?o:l,_f2=_s6?_e26:_t31,_d4=_s6?_t31:_e26;var _h4=2047,_g4=!1;for(var _t32=0;_t32<_i13;_t32++){var _e27=_n19[_t32],_r16=_e27.getTextContentSize();if(wn(_e27)&&0!==_r16&&!(0===_t32&&_e27.__key===_f2&&_a3===_r16||_t32===_i13-1&&_e27.__key===_d4&&0===_u3)&&(_g4=!0,_h4&=_e27.getFormat(),0===_h4))break;}c.format=_g4?_h4:0;}}oo(n,zt,void 0);});}function qe(t,e,n){t.format===e&&t.style===n||(t.format=e,t.style=n,t.dirty=!0);}function Xe(t,e){qe(t,e.getFormat(),e.getStyle());}function Qe(t){if(!t.getTargetRanges)return null;var e=t.getTargetRanges();return 0===e.length?null:e[0];}function Ze(t,e){var n=t._compositionKey;if(Oi(null),null!==n&&null!=e){if(""===e){var _e28=Ai(n),_r17=Ti(t.getElementByKey(n));return void(null!==_r17&&null!==_r17.nodeValue&&wn(_e28)&&Yi(_e28,_r17.nodeValue,null,null,!0));}if("\n"===e[e.length-1]){var _e29=rr();if(zn(_e29)){var _n20=_e29.focus;return _e29.anchor.set(_n20.key,_n20.offset,_n20.type),void oo(t,ce,null);}}}Ji(!0,t,e);}function tn(t){var e=t.__lexicalEventHandles;return void 0===e&&(e=[],t.__lexicalEventHandles=e),e;}var en=new Map();function nn(t){var e=ko(t.target);if(null===e)return;var n=yi(e.anchorNode);if(null===n)return;$e&&($e=!1,Fr(n,function(){var r=ir(),i=e.anchorNode;if(bo(i)||Si(i)){Ki(nr(r,e,n,t));}}));var r=zi(n),i=r[r.length-1],o=i._key,s=en.get(o),l=s||i;l!==n&&Ge(e,l,!1),Ge(e,n,!0),n!==i?en.set(o,n):s&&en["delete"](o);}function rn(t){t._lexicalHandled=!0;}function on(t){return!0===t._lexicalHandled;}var sn=function sn(){};function ln(e){var n=e.ownerDocument,r=Ke.get(n);if(void 0===r)return void sn();var i=r-1;i>=0||t(164),Ke.set(n,i),0===i&&n.removeEventListener("selectionchange",nn);var o=mi(e);_i(o)?(!function(t){if(null!==t._parentEditor){var _e30=zi(t),_n21=_e30[_e30.length-1]._key;en.get(_n21)===t&&en["delete"](_n21);}else en["delete"](t._key);}(o),e.__lexicalEditor=null):o&&t(198);var s=tn(e);for(var _t33=0;_t33<s.length;_t33++)s[_t33]();e.__lexicalEventHandles=[];}function cn(t,e,n){Sr();var r=t.__key,i=t.getParent();if(null===i)return;var o=function(t){var e=rr();if(!zn(e)||!$r(t))return e;var n=e.anchor,r=e.focus,i=n.getNode(),o=r.getNode();ho(i,t)&&n.set(t.__key,0,"element");ho(o,t)&&r.set(t.__key,0,"element");return e;}(t);var s=!1;if(zn(o)&&e){var _e31=o.anchor,_n22=o.focus;_e31.key===r&&(lr(_e31,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0),_n22.key===r&&(lr(_n22,t,i,t.getPreviousSibling(),t.getNextSibling()),s=!0);}else Un(o)&&e&&t.isSelected()&&t.selectPrevious();if(zn(o)&&e&&!s){var _e32=t.getIndexWithinParent();bi(t),or(o,i,_e32,-1);}else bi(t);n||yo(i)||i.canBeEmpty()||!i.isEmpty()||cn(i,e),e&&o&&Yr(i)&&i.isEmpty()&&i.selectEnd();}var _an5=function(){function an(t){this.__type=this.constructor.getType(),this.__parent=null,this.__prev=null,this.__next=null,Object.defineProperty(this,"__state",{configurable:!0,enumerable:!1,value:void 0,writable:!0}),ki(this,t);}an.getType=function getType(){var _Wo2=Wo(this),e=_Wo2.ownNodeType;return void 0===e&&t(64,this.name),e;};an.clone=function clone(e){t(65,this.name);};var _proto2=an.prototype;_proto2.$config=function $config(){return{};};_proto2.config=function config(t,e){var _ref13;var n=e["extends"]||Object.getPrototypeOf(this.constructor);return Object.assign(e,{"extends":n,type:t}),_ref13={},_ref13[t]=e,_ref13;};_proto2.afterCloneFrom=function afterCloneFrom(t){this.__key===t.__key?(this.__parent=t.__parent,this.__next=t.__next,this.__prev=t.__prev,this.__state=t.__state):t.__state&&(this.__state=t.__state.getWritable(this));};_proto2.getType=function getType(){return this.__type;};_proto2.isInline=function isInline(){t(137,this.constructor.name);};_proto2.isAttached=function isAttached(){var t=this.__key;for(;null!==t;){if("root"===t)return!0;var _e33=Ai(t);if(null===_e33)break;t=_e33.__parent;}return!1;};_proto2.isSelected=function isSelected(t){var _this12=this;var e=t||rr();if(null==e)return!1;var n=e.getNodes().some(function(t){return t.__key===_this12.__key;});if(wn(this))return n;if(zn(e)&&"element"===e.anchor.type&&"element"===e.focus.type){if(e.isCollapsed())return!1;var _t34=this.getParent();if(Ur(this)&&this.isInline()&&_t34){var _n23=e.isBackward()?e.focus:e.anchor;if(_t34.is(_n23.getNode())&&_n23.offset===_t34.getChildrenSize()&&this.is(_t34.getLastChild()))return!1;}}return n;};_proto2.getKey=function getKey(){return this.__key;};_proto2.getIndexWithinParent=function getIndexWithinParent(){var t=this.getParent();if(null===t)return-1;var e=t.getFirstChild(),n=0;for(;null!==e;){if(this.is(e))return n;n++,e=e.getNextSibling();}return-1;};_proto2.getParent=function getParent(){var t=this.getLatest().__parent;return null===t?null:Ai(t);};_proto2.getParentOrThrow=function getParentOrThrow(){var e=this.getParent();return null===e&&t(66,this.__key),e;};_proto2.getTopLevelElement=function getTopLevelElement(){var e=this;for(;null!==e;){var _n24=e.getParent();if(yo(_n24))return $r(e)||e===this&&Ur(e)||t(194),e;e=_n24;}return null;};_proto2.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){var e=this.getTopLevelElement();return null===e&&t(67,this.__key),e;};_proto2.getParents=function getParents(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e),e=e.getParent();return t;};_proto2.getParentKeys=function getParentKeys(){var t=[];var e=this.getParent();for(;null!==e;)t.push(e.__key),e=e.getParent();return t;};_proto2.getPreviousSibling=function getPreviousSibling(){var t=this.getLatest().__prev;return null===t?null:Ai(t);};_proto2.getPreviousSiblings=function getPreviousSiblings(){var t=[],e=this.getParent();if(null===e)return t;var n=e.getFirstChild();for(;null!==n&&!n.is(this);)t.push(n),n=n.getNextSibling();return t;};_proto2.getNextSibling=function getNextSibling(){var t=this.getLatest().__next;return null===t?null:Ai(t);};_proto2.getNextSiblings=function getNextSiblings(){var t=[];var e=this.getNextSibling();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto2.getCommonAncestor=function getCommonAncestor(t){var e=$r(this)?this:this.getParent(),n=$r(t)?t:t.getParent(),r=e&&n?Ss(e,n):null;return r?r.commonAncestor:null;};_proto2.is=function is(t){return null!=t&&this.__key===t.__key;};_proto2.isBefore=function isBefore(e){var n=Ss(this,e);return null!==n&&("descendant"===n.type||("branch"===n.type?-1===ms(n):("same"!==n.type&&"ancestor"!==n.type&&t(279),!1)));};_proto2.isParentOf=function isParentOf(t){var e=Ss(this,t);return null!==e&&"ancestor"===e.type;};_proto2.getNodesBetween=function getNodesBetween(e){var n=this.isBefore(e),r=[],i=new Set();var o=this;for(;null!==o;){var _s7=o.__key;if(i.has(_s7)||(i.add(_s7),r.push(o)),o===e)break;var _l3=$r(o)?n?o.getFirstChild():o.getLastChild():null;if(null!==_l3){o=_l3;continue;}var _c4=n?o.getNextSibling():o.getPreviousSibling();if(null!==_c4){o=_c4;continue;}var _a4=o.getParentOrThrow();if(i.has(_a4.__key)||r.push(_a4),_a4===e)break;var _u4=null,_f3=_a4;do{if(null===_f3&&t(68),_u4=n?_f3.getNextSibling():_f3.getPreviousSibling(),_f3=_f3.getParent(),null===_f3)break;null!==_u4||i.has(_f3.__key)||r.push(_f3);}while(null===_u4);o=_u4;}return n||r.reverse(),r;};_proto2.isDirty=function isDirty(){var t=vr()._dirtyLeaves;return null!==t&&t.has(this.__key);};_proto2.getLatest=function getLatest(){var e=Ai(this.__key);return null===e&&t(113),e;};_proto2.getWritable=function getWritable(){Sr();var t=Tr(),e=vr(),n=t._nodeMap,r=this.__key,i=this.getLatest(),o=e._cloneNotNeeded,s=rr();if(null!==s&&s.setCachedNodes(null),o.has(r))return Ei(i),i;var l=Ro(i);return o.add(r),Ei(l),n.set(r,l),l;};_proto2.getTextContent=function getTextContent(){return"";};_proto2.getTextContentSize=function getTextContentSize(){return this.getTextContent().length;};_proto2.createDOM=function createDOM(e,n){t(70);};_proto2.updateDOM=function updateDOM(e,n,r){t(71);};_proto2.exportDOM=function exportDOM(t){return{element:this.createDOM(t._config,t)};};_proto2.exportJSON=function exportJSON(){var t=this.__state?this.__state.toJSON():void 0;return babelHelpers["extends"]({type:this.__type,version:1},t);};an.importJSON=function importJSON(e){t(18,this.name);};_proto2.updateFromJSON=function updateFromJSON(t){return function(t,e){var n=t.getWritable(),r=e.$;var i=r;for(var _t35 of G(n).flatKeys)_t35 in e&&(void 0!==i&&i!==r||(i=babelHelpers["extends"]({},r)),i[_t35]=e[_t35]);return(n.__state||i)&&V(t).updateFromJSON(i),n;}(this,t);};an.transform=function transform(){return null;};_proto2.remove=function remove(t){cn(this,!0,t);};_proto2.replace=function replace(e,n){Sr();var r=rr();null!==r&&(r=r.clone()),Co(this,e);var i=this.getLatest(),o=this.__key,s=e.__key,l=e.getWritable(),c=this.getParentOrThrow().getWritable(),a=c.__size;bi(l);var u=i.getPreviousSibling(),f=i.getNextSibling(),d=i.__prev,h=i.__next,g=i.__parent;if(cn(i,!1,!0),null===u)c.__first=s;else{u.getWritable().__next=s;}if(l.__prev=d,null===f)c.__last=s;else{f.getWritable().__prev=s;}if(l.__next=h,l.__parent=g,c.__size=a,n&&($r(this)&&$r(l)||t(139),this.getChildren().forEach(function(t){l.append(t);})),zn(r)){Ki(r);var _t36=r.anchor,_e34=r.focus;_t36.key===o&&Bn(_t36,l),_e34.key===o&&Bn(_e34,l);}return Mi()===o&&Oi(s),l;};_proto2.insertAfter=function insertAfter(t,e){if(e===void 0){e=!0;}Sr(),Co(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.getParent(),o=rr();var s=!1,l=!1;if(null!==i){var _e35=t.getIndexWithinParent();if(bi(r),zn(o)){var _t37=i.__key,_n25=o.anchor,_r18=o.focus;s="element"===_n25.type&&_n25.key===_t37&&_n25.offset===_e35+1,l="element"===_r18.type&&_r18.key===_t37&&_r18.offset===_e35+1;}}var c=this.getNextSibling(),a=this.getParentOrThrow().getWritable(),u=r.__key,f=n.__next;if(null===c)a.__last=u;else{c.getWritable().__prev=u;}if(a.__size++,n.__next=u,r.__next=f,r.__prev=n.__key,r.__parent=n.__parent,e&&zn(o)){var _t38=this.getIndexWithinParent();or(o,a,_t38+1);var _e36=a.__key;s&&o.anchor.set(_e36,_t38+2,"element"),l&&o.focus.set(_e36,_t38+2,"element");}return t;};_proto2.insertBefore=function insertBefore(t,e){if(e===void 0){e=!0;}Sr(),Co(this,t);var n=this.getWritable(),r=t.getWritable(),i=r.__key;bi(r);var o=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),l=n.__prev,c=this.getIndexWithinParent();if(null===o)s.__first=i;else{o.getWritable().__next=i;}s.__size++,n.__prev=i,r.__prev=l,r.__next=n.__key,r.__parent=n.__parent;var a=rr();if(e&&zn(a)){or(a,this.getParentOrThrow(),c);}return t;};_proto2.isParentRequired=function isParentRequired(){return!1;};_proto2.createParentElementNode=function createParentElementNode(){return ri();};_proto2.selectStart=function selectStart(){return this.selectPrevious();};_proto2.selectEnd=function selectEnd(){return this.selectNext(0,0);};_proto2.selectPrevious=function selectPrevious(t,e){Sr();var n=this.getPreviousSibling(),r=this.getParentOrThrow();if(null===n)return r.select(0,0);if($r(n))return n.select();if(!wn(n)){var _t39=n.getIndexWithinParent()+1;return r.select(_t39,_t39);}return n.select(t,e);};_proto2.selectNext=function selectNext(t,e){Sr();var n=this.getNextSibling(),r=this.getParentOrThrow();if(null===n)return r.select();if($r(n))return n.select(0,0);if(!wn(n)){var _t40=n.getIndexWithinParent();return r.select(_t40,_t40);}return n.select(t,e);};_proto2.markDirty=function markDirty(){this.getWritable();};_proto2.reconcileObservedMutation=function reconcileObservedMutation(t,e){this.markDirty();};return an;}();var _un=function(_an){function un(t){return _an.call(this,t)||this;}babelHelpers.inheritsLoose(un,_an);un.getType=function getType(){return"linebreak";};un.clone=function clone(t){return new un(t.__key);};var _proto3=un.prototype;_proto3.getTextContent=function getTextContent(){return"\n";};_proto3.createDOM=function createDOM(){return document.createElement("br");};_proto3.updateDOM=function updateDOM(){return!1;};_proto3.isInline=function isInline(){return!0;};un.importDOM=function importDOM(){return{br:function br(t){return function(t){var e=t.parentElement;if(null!==e&&Ao(e)){var _n26=e.firstChild;if(_n26===t||_n26.nextSibling===t&&gn(_n26)){var _n27=e.lastChild;if(_n27===t||_n27.previousSibling===t&&gn(_n27))return!0;}}return!1;}(t)||function(t){var e=t.parentElement;if(null!==e&&Ao(e)){var _n28=e.firstChild;if(_n28===t||_n28.nextSibling===t&&gn(_n28))return!1;var _r19=e.lastChild;if(_r19===t||_r19.previousSibling===t&&gn(_r19))return!0;}return!1;}(t)?null:{conversion:fn,priority:0};}};};un.importJSON=function importJSON(t){return dn().updateFromJSON(t);};return un;}(_an5);function fn(t){return{node:dn()};}function dn(){return xo(new _un());}function hn(t){return t instanceof _un;}function gn(t){return Si(t)&&/^( |\t|\r?\n)+$/.test(t.textContent||"");}function pn(t,e){return 16&e?"code":e&_?"mark":32&e?"sub":64&e?"sup":null;}function _n(t,e){return 1&e?"strong":2&e?"em":"span";}function yn(t,e,n,r,i){var o=r.classList;var s=to(i,"base");void 0!==s&&o.add.apply(o,s),s=to(i,"underlineStrikethrough");var l=!1;var c=8&e&&4&e;void 0!==s&&(8&n&&4&n?(l=!0,c||o.add.apply(o,s)):c&&o.remove.apply(o,s));for(var _t41 in b){var _r20=b[_t41];if(s=to(i,_t41),void 0!==s)if(n&_r20){if(l&&("underline"===_t41||"strikethrough"===_t41)){e&_r20&&o.remove.apply(o,s);continue;}(0===(e&_r20)||c&&"underline"===_t41||"strikethrough"===_t41)&&o.add.apply(o,s);}else e&_r20&&o.remove.apply(o,s);}}function mn(t,e,n){var r=e.firstChild,o=n.isComposing(),s=t+(o?T:"");if(null==r)e.textContent=s;else{var _t42=r.nodeValue;if(_t42!==s)if(o||i){var _ref14=function(t,e){var n=t.length,r=e.length;var i=0,o=0;for(;i<n&&i<r&&t[i]===e[i];)i++;for(;o+i<n&&o+i<r&&t[n-o-1]===e[r-o-1];)o++;return[i,n-i-o,e.slice(i,r-o)];}(_t42,s),_e37=_ref14[0],_n29=_ref14[1],_i14=_ref14[2];0!==_n29&&r.deleteData(_e37,_n29),r.insertData(_e37,_i14);}else r.nodeValue=s;}}function xn(t,e,n,r,i,o){mn(i,t,e);var s=o.theme.text;void 0!==s&&yn(0,0,r,t,s);}function Cn(t,e){var n=document.createElement(e);return n.appendChild(t),n;}var _Sn2=function(_an2){function Sn(t,e){var _this;if(t===void 0){t="";}_this=_an2.call(this,e)||this,_this.__text=t,_this.__format=0,_this.__style="",_this.__mode=0,_this.__detail=0;return _this;}babelHelpers.inheritsLoose(Sn,_an2);Sn.getType=function getType(){return"text";};Sn.clone=function clone(t){return new Sn(t.__text,t.__key);};var _proto4=Sn.prototype;_proto4.afterCloneFrom=function afterCloneFrom(t){_an2.prototype.afterCloneFrom.call(this,t),this.__text=t.__text,this.__format=t.__format,this.__style=t.__style,this.__mode=t.__mode,this.__detail=t.__detail;};_proto4.getFormat=function getFormat(){return this.getLatest().__format;};_proto4.getDetail=function getDetail(){return this.getLatest().__detail;};_proto4.getMode=function getMode(){var t=this.getLatest();return w[t.__mode];};_proto4.getStyle=function getStyle(){return this.getLatest().__style;};_proto4.isToken=function isToken(){return 1===this.getLatest().__mode;};_proto4.isComposing=function isComposing(){return this.__key===Mi();};_proto4.isSegmented=function isSegmented(){return 2===this.getLatest().__mode;};_proto4.isDirectionless=function isDirectionless(){return!!(1&this.getLatest().__detail);};_proto4.isUnmergeable=function isUnmergeable(){return!!(2&this.getLatest().__detail);};_proto4.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.getFormat()&e);};_proto4.isSimpleText=function isSimpleText(){return"text"===this.__type&&0===this.__mode;};_proto4.getTextContent=function getTextContent(){return this.getLatest().__text;};_proto4.getFormatFlags=function getFormatFlags(t,e){return vi(this.getLatest().__format,t,e);};_proto4.canHaveFormat=function canHaveFormat(){return!0;};_proto4.isInline=function isInline(){return!0;};_proto4.createDOM=function createDOM(t,e){var n=this.__format,r=pn(0,n),i=_n(0,n),o=null===r?i:r,s=document.createElement(o);var l=s;this.hasFormat("code")&&s.setAttribute("spellcheck","false"),null!==r&&(l=document.createElement(i),s.appendChild(l));xn(l,this,0,n,this.__text,t);var c=this.__style;return""!==c&&(s.style.cssText=c),s;};_proto4.updateDOM=function updateDOM(e,n,r){var i=this.__text,o=e.__format,s=this.__format,l=pn(0,o),c=pn(0,s),a=_n(0,o),u=_n(0,s);if((null===l?a:l)!==(null===c?u:c))return!0;if(l===c&&a!==u){var _e38=n.firstChild;null==_e38&&t(48);var _o9=document.createElement(u);return xn(_o9,this,0,s,i,r),n.replaceChild(_o9,_e38),!1;}var f=n;null!==c&&null!==l&&(f=n.firstChild,null==f&&t(49)),mn(i,f,this);var d=r.theme.text;void 0!==d&&o!==s&&yn(0,o,s,f,d);var h=e.__style,g=this.__style;return h!==g&&(n.style.cssText=g),!1;};Sn.importDOM=function importDOM(){return{"#text":function text(){return{conversion:bn,priority:0};},b:function b(){return{conversion:Tn,priority:0};},code:function code(){return{conversion:Mn,priority:0};},em:function em(){return{conversion:Mn,priority:0};},i:function i(){return{conversion:Mn,priority:0};},mark:function mark(){return{conversion:Mn,priority:0};},s:function s(){return{conversion:Mn,priority:0};},span:function span(){return{conversion:Nn,priority:0};},strong:function strong(){return{conversion:Mn,priority:0};},sub:function sub(){return{conversion:Mn,priority:0};},sup:function sup(){return{conversion:Mn,priority:0};},u:function u(){return{conversion:Mn,priority:0};}};};Sn.importJSON=function importJSON(t){return An().updateFromJSON(t);};_proto4.updateFromJSON=function updateFromJSON(t){return _an2.prototype.updateFromJSON.call(this,t).setTextContent(t.text).setFormat(t.format).setDetail(t.detail).setMode(t.mode).setStyle(t.style);};_proto4.exportDOM=function exportDOM(e){var _an2$prototype$export=_an2.prototype.exportDOM.call(this,e),n=_an2$prototype$export.element;return bo(n)||t(132),n.style.whiteSpace="pre-wrap",this.hasFormat("lowercase")?n.style.textTransform="lowercase":this.hasFormat("uppercase")?n.style.textTransform="uppercase":this.hasFormat("capitalize")&&(n.style.textTransform="capitalize"),this.hasFormat("bold")&&(n=Cn(n,"b")),this.hasFormat("italic")&&(n=Cn(n,"i")),this.hasFormat("strikethrough")&&(n=Cn(n,"s")),this.hasFormat("underline")&&(n=Cn(n,"u")),{element:n};};_proto4.exportJSON=function exportJSON(){return babelHelpers["extends"]({detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent()},_an2.prototype.exportJSON.call(this));};_proto4.selectionTransform=function selectionTransform(t,e){};_proto4.setFormat=function setFormat(t){var e=this.getWritable();return e.__format="string"==typeof t?b[t]:t,e;};_proto4.setDetail=function setDetail(t){var e=this.getWritable();return e.__detail="string"==typeof t?E[t]:t,e;};_proto4.setStyle=function setStyle(t){var e=this.getWritable();return e.__style=t,e;};_proto4.toggleFormat=function toggleFormat(t){var e=vi(this.getFormat(),t,null);return this.setFormat(e);};_proto4.toggleDirectionless=function toggleDirectionless(){var t=this.getWritable();return t.__detail^=1,t;};_proto4.toggleUnmergeable=function toggleUnmergeable(){var t=this.getWritable();return t.__detail^=2,t;};_proto4.setMode=function setMode(t){var e=A[t];if(this.__mode===e)return this;var n=this.getWritable();return n.__mode=e,n;};_proto4.setTextContent=function setTextContent(t){if(this.__text===t)return this;var e=this.getWritable();return e.__text=t,e;};_proto4.select=function select(t,e){Sr();var n=t,r=e;var i=rr(),o=this.getTextContent(),s=this.__key;if("string"==typeof o){var _t43=o.length;void 0===n&&(n=_t43),void 0===r&&(r=_t43);}else n=0,r=0;if(!zn(i))return Zn(s,n,s,r,"text","text");{var _t44=Mi();_t44!==i.anchor.key&&_t44!==i.focus.key||Oi(s),i.setTextNodeRange(this,n,this,r);}return i;};_proto4.selectStart=function selectStart(){return this.select(0,0);};_proto4.selectEnd=function selectEnd(){var t=this.getTextContentSize();return this.select(t,t);};_proto4.spliceText=function spliceText(t,e,n,r){var i=this.getWritable(),o=i.__text,s=n.length;var l=t;l<0&&(l=s+l,l<0&&(l=0));var c=rr();if(r&&zn(c)){var _e39=t+s;c.setTextNodeRange(i,_e39,i,_e39);}var a=o.slice(0,l)+n+o.slice(l+e);return i.__text=a,i;};_proto4.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto4.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto4.splitText=function splitText(){Sr();var e=this.getLatest(),n=e.getTextContent();if(""===n)return[];var r=e.__key,i=Mi(),o=n.length;for(var _len3=arguments.length,t=new Array(_len3),_key3=0;_key3<_len3;_key3++){t[_key3]=arguments[_key3];}t.sort(function(t,e){return t-e;}),t.push(o);var s=[],l=t.length;for(var _e40=0,_r21=0;_e40<o&&_r21<=l;_r21++){var _i15=t[_r21];_i15>_e40&&(s.push(n.slice(_e40,_i15)),_e40=_i15);}var c=s.length;if(1===c)return[e];var a=s[0],u=e.getParent();var f;var d=e.getFormat(),h=e.getStyle(),g=e.__detail;var p=!1,_=null,y=null;var m=rr();if(zn(m)){var _ref15=m.isBackward()?[m.focus,m.anchor]:[m.anchor,m.focus],_t45=_ref15[0],_e41=_ref15[1];"text"===_t45.type&&_t45.key===r&&(_=_t45),"text"===_e41.type&&_e41.key===r&&(y=_e41);}e.isSegmented()?(f=An(a),f.__format=d,f.__style=h,f.__detail=g,f.__state=tt(e,f),p=!0):f=e.setTextContent(a);var x=[f];for(var _t46=1;_t46<c;_t46++){var _n30=An(s[_t46]);_n30.__format=d,_n30.__style=h,_n30.__detail=g,_n30.__state=tt(e,_n30);var _o0=_n30.__key;i===r&&Oi(_o0),x.push(_n30);}var C=_?_.offset:null,S=y?y.offset:null;var N=0;for(var _t47 of x){if(!_&&!y)break;var _e42=N+_t47.getTextContentSize();if(null!==_&&null!==C&&C<=_e42&&C>=N&&(_.set(_t47.getKey(),C-N,"text"),C<_e42&&(_=null)),null!==y&&null!==S&&S<=_e42&&S>=N){y.set(_t47.getKey(),S-N,"text");break;}N=_e42;}if(null!==u){!function(t){var e=t.getPreviousSibling(),n=t.getNextSibling();null!==e&&Ei(e);null!==n&&Ei(n);}(this);var _t48=u.getWritable(),_e43=this.getIndexWithinParent();p?(_t48.splice(_e43,0,x),this.remove()):_t48.splice(_e43,1,x),zn(m)&&or(m,u,_e43,c-1);}return x;};_proto4.mergeWithSibling=function mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||t(50);var r=this.__key,i=e.__key,o=this.__text,s=o.length;Mi()===i&&Oi(r);var l=rr();if(zn(l)){var _t49=l.anchor,_o1=l.focus;null!==_t49&&_t49.key===i&&cr(_t49,n,r,e,s),null!==_o1&&_o1.key===i&&cr(_o1,n,r,e,s);}var c=e.__text,a=n?c+o:o+c;this.setTextContent(a);var u=this.getWritable();return e.remove(),u;};_proto4.isTextEntity=function isTextEntity(){return!1;};return Sn;}(_an5);function Nn(t){return{forChild:Dn(t.style),node:null};}function Tn(t){var e=t,n="normal"===e.style.fontWeight;return{forChild:Dn(e.style,n?void 0:"bold"),node:null};}var vn=new WeakMap();function kn(t){if(!bo(t))return!1;if("PRE"===t.nodeName)return!0;var e=t.style.whiteSpace;return"string"==typeof e&&e.startsWith("pre");}function bn(e){var n=e;null===e.parentElement&&t(129);var r=n.textContent||"";if(null!==function(t){var e,n=t.parentNode;var r=[t];for(;null!==n&&void 0===(e=vn.get(n))&&!kn(n);)r.push(n),n=n.parentNode;var i=void 0===e?n:e;for(var _t50=0;_t50<r.length;_t50++)vn.set(r[_t50],i);return i;}(n)){var _t51=r.split(/(\r?\n|\t)/),_e44=[],_n31=_t51.length;for(var _r22=0;_r22<_n31;_r22++){var _n32=_t51[_r22];"\n"===_n32||"\r\n"===_n32?_e44.push(dn()):"\t"===_n32?_e44.push(In()):""!==_n32&&_e44.push(An(_n32));}return{node:_e44};}if(r=r.replace(/\r/g,"").replace(/[ \t\n]+/g," "),""===r)return{node:null};if(" "===r[0]){var _t52=n,_e45=!0;for(;null!==_t52&&null!==(_t52=En(_t52,!1));){var _n33=_t52.textContent||"";if(_n33.length>0){/[ \t\n]$/.test(_n33)&&(r=r.slice(1)),_e45=!1;break;}}_e45&&(r=r.slice(1));}if(" "===r[r.length-1]){var _t53=n,_e46=!0;for(;null!==_t53&&null!==(_t53=En(_t53,!0));){if((_t53.textContent||"").replace(/^( |\t|\r?\n)+/,"").length>0){_e46=!1;break;}}_e46&&(r=r.slice(0,r.length-1));}return""===r?{node:null}:{node:An(r)};}function En(t,e){var n=t;for(;;){var _t54=void 0;for(;null===(_t54=e?n.nextSibling:n.previousSibling);){var _t55=n.parentElement;if(null===_t55)return null;n=_t55;}if(n=_t54,bo(n)){var _t56=n.style.display;if(""===_t56&&!Mo(n)||""!==_t56&&!_t56.startsWith("inline"))return null;}var _r23=n;for(;null!==(_r23=e?n.firstChild:n.lastChild);)n=_r23;if(Si(n))return n;if("BR"===n.nodeName)return null;}}var On={code:"code",em:"italic",i:"italic",mark:"highlight",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Mn(t){var e=On[t.nodeName.toLowerCase()];return void 0===e?{node:null}:{forChild:Dn(t.style,e),node:null};}function An(t){if(t===void 0){t="";}return xo(new _Sn2(t));}function wn(t){return t instanceof _Sn2;}function Dn(t,e){var n=t.fontWeight,r=t.textDecoration.split(" "),i="700"===n||"bold"===n,o=r.includes("line-through"),s="italic"===t.fontStyle,l=r.includes("underline"),c=t.verticalAlign;return function(t){return wn(t)?(i&&!t.hasFormat("bold")&&t.toggleFormat("bold"),o&&!t.hasFormat("strikethrough")&&t.toggleFormat("strikethrough"),s&&!t.hasFormat("italic")&&t.toggleFormat("italic"),l&&!t.hasFormat("underline")&&t.toggleFormat("underline"),"sub"!==c||t.hasFormat("subscript")||t.toggleFormat("subscript"),"super"!==c||t.hasFormat("superscript")||t.toggleFormat("superscript"),e&&!t.hasFormat(e)&&t.toggleFormat(e),t):t;};}var _Pn=function(_Sn){function Pn(t){var _this2;_this2=_Sn.call(this,"\t",t)||this,_this2.__detail=2;return _this2;}babelHelpers.inheritsLoose(Pn,_Sn);Pn.getType=function getType(){return"tab";};Pn.clone=function clone(t){return new Pn(t.__key);};Pn.importDOM=function importDOM(){return null;};var _proto5=Pn.prototype;_proto5.createDOM=function createDOM(t){var e=_Sn.prototype.createDOM.call(this,t),n=to(t.theme,"tab");if(void 0!==n){var _e$classList;(_e$classList=e.classList).add.apply(_e$classList,n);}return e;};Pn.importJSON=function importJSON(t){return In().updateFromJSON(t);};_proto5.setTextContent=function setTextContent(e){return"\t"!==e&&""!==e&&t(126),_Sn.prototype.setTextContent.call(this,"\t");};_proto5.spliceText=function spliceText(e,n,r,i){return""===r&&0===n||"\t"===r&&1===n||t(286),this;};_proto5.setDetail=function setDetail(e){return 2!==e&&t(127),this;};_proto5.setMode=function setMode(e){return"normal"!==e&&t(128),this;};_proto5.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto5.canInsertTextAfter=function canInsertTextAfter(){return!1;};return Pn;}(_Sn2);function In(){return xo(new _Pn());}function Ln(t){return t instanceof _Pn;}var _Fn=function(){function Fn(t,e,n){this._selection=null,this.key=t,this.offset=e,this.type=n;}var _proto6=Fn.prototype;_proto6.is=function is(t){return this.key===t.key&&this.offset===t.offset&&this.type===t.type;};_proto6.isBefore=function isBefore(t){if(this.key===t.key)return this.offset<t.offset;return ys(ws(Ns(this,"next")),ws(Ns(t,"next")))<0;};_proto6.getNode=function getNode(){var e=Ai(this.key);return null===e&&t(20),e;};_proto6.set=function set(t,e,n,r){var i=this._selection,o=this.key;r&&this.key===t&&this.offset===e&&this.type===n||(this.key=t,this.offset=e,this.type=n,Cr()||(Mi()===o&&Oi(t),null!==i&&(i.setCachedNodes(null),i.dirty=!0)));};return Fn;}();function Rn(t,e,n){return new _Fn(t,e,n);}function Kn(t,e){var n=e.__key,r=t.offset,i="element";if(wn(e)){i="text";var _t57=e.getTextContentSize();r>_t57&&(r=_t57);}else if(!$r(e)){var _t58=e.getNextSibling();if(wn(_t58))n=_t58.__key,r=0,i="text";else{var _t59=e.getParent();_t59&&(n=_t59.__key,r=e.getIndexWithinParent()+1);}}t.set(n,r,i);}function Bn(t,e){if($r(e)){var _n34=e.getLastDescendant();$r(_n34)||wn(_n34)?Kn(t,_n34):Kn(t,e);}else Kn(t,e);}var _$n=function(){function $n(t){this._cachedNodes=null,this._nodes=t,this.dirty=!1;}var _proto7=$n.prototype;_proto7.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto7.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto7.is=function is(t){if(!Un(t))return!1;var e=this._nodes,n=t._nodes;return e.size===n.size&&Array.from(e).every(function(t){return n.has(t);});};_proto7.isCollapsed=function isCollapsed(){return!1;};_proto7.isBackward=function isBackward(){return!1;};_proto7.getStartEndPoints=function getStartEndPoints(){return null;};_proto7.add=function add(t){this.dirty=!0,this._nodes.add(t),this._cachedNodes=null;};_proto7["delete"]=function _delete(t){this.dirty=!0,this._nodes["delete"](t),this._cachedNodes=null;};_proto7.clear=function clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null;};_proto7.has=function has(t){return this._nodes.has(t);};_proto7.clone=function clone(){return new $n(new Set(this._nodes));};_proto7.extract=function extract(){return this.getNodes();};_proto7.insertRawText=function insertRawText(t){};_proto7.insertText=function insertText(){};_proto7.insertNodes=function insertNodes(t){var e=this.getNodes(),n=e.length,r=e[n-1];var i;if(wn(r))i=r.select();else{var _t60=r.getIndexWithinParent()+1;i=r.getParentOrThrow().select(_t60,_t60);}i.insertNodes(t);for(var _t61=0;_t61<n;_t61++)e[_t61].remove();};_proto7.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=this._nodes,n=[];for(var _t62 of e){var _e47=Ai(_t62);null!==_e47&&n.push(_e47);}return Cr()||(this._cachedNodes=n),n;};_proto7.getTextContent=function getTextContent(){var t=this.getNodes();var e="";for(var _n35=0;_n35<t.length;_n35++)e+=t[_n35].getTextContent();return e;};_proto7.deleteNodes=function deleteNodes(){var t=this.getNodes();if((rr()||ir())===this&&t[0]){var _e48=is(t[0],"next");vs(ps(_e48,_e48));}for(var _e49 of t)_e49.remove();};return $n;}();function zn(t){return t instanceof _Wn;}var _Wn=function(){function Wn(t,e,n,r){this.anchor=t,this.focus=e,t._selection=this,e._selection=this,this._cachedNodes=null,this.format=n,this.style=r,this.dirty=!1;}var _proto8=Wn.prototype;_proto8.getCachedNodes=function getCachedNodes(){return this._cachedNodes;};_proto8.setCachedNodes=function setCachedNodes(t){this._cachedNodes=t;};_proto8.is=function is(t){return!!zn(t)&&this.anchor.is(t.anchor)&&this.focus.is(t.focus)&&this.format===t.format&&this.style===t.style;};_proto8.isCollapsed=function isCollapsed(){return this.anchor.is(this.focus);};_proto8.getNodes=function getNodes(){var t=this._cachedNodes;if(null!==t)return t;var e=function(t){var e=[],_t$getTextSlices=t.getTextSlices(),n=_t$getTextSlices[0],r=_t$getTextSlices[1];n&&e.push(n.caret.origin);var i=new Set(),o=new Set();for(var _n36 of t)if(ts(_n36)){var _t63=_n36.origin;0===e.length?i.add(_t63):(o.add(_t63),e.push(_t63));}else{var _t64=_n36.origin;$r(_t64)&&o.has(_t64)||e.push(_t64);}r&&e.push(r.caret.origin);if(Zo(t.focus)&&$r(t.focus.origin)&&null===t.focus.getNodeAtCaret())for(var _n37=cs(t.focus.origin,"previous");ts(_n37)&&i.has(_n37.origin)&&!_n37.origin.isEmpty()&&_n37.origin.is(e[e.length-1]);_n37=us(_n37))i["delete"](_n37.origin),e.pop();for(;e.length>1;){var _t65=e[e.length-1];if(!$r(_t65)||o.has(_t65)||_t65.isEmpty()||i.has(_t65))break;e.pop();}if(0===e.length&&t.isCollapsed()){var _n38=ws(t.anchor),_r24=ws(t.anchor.getFlipped()),_i16=function _i16(t){return Qo(t)?t.origin:t.getNodeAtCaret();},_o10=_i16(_n38)||_i16(_r24)||(t.anchor.getNodeAtCaret()?_n38.origin:_r24.origin);e.push(_o10);}return e;}(Is(bs(this),"next"));return Cr()||(this._cachedNodes=e),e;};_proto8.setTextNodeRange=function setTextNodeRange(t,e,n,r){this.anchor.set(t.__key,e,"text"),this.focus.set(n.__key,r,"text");};_proto8.getTextContent=function getTextContent(){var t=this.getNodes();if(0===t.length)return"";var e=t[0],n=t[t.length-1],r=this.anchor,i=this.focus,o=r.isBefore(i),_Yn=Yn(this),s=_Yn[0],l=_Yn[1];var c="",a=!0;for(var _u5=0;_u5<t.length;_u5++){var _f4=t[_u5];if($r(_f4)&&!_f4.isInline())a||(c+="\n"),a=!_f4.isEmpty();else if(a=!1,wn(_f4)){var _t66=_f4.getTextContent();_f4===e?_f4===n?"element"===r.type&&"element"===i.type&&i.offset!==r.offset||(_t66=s<l?_t66.slice(s,l):_t66.slice(l,s)):_t66=o?_t66.slice(s):_t66.slice(l):_f4===n&&(_t66=o?_t66.slice(0,l):_t66.slice(0,s)),c+=_t66;}else!Ur(_f4)&&!hn(_f4)||_f4===n&&this.isCollapsed()||(c+=_f4.getTextContent());}return c;};_proto8.applyDOMRange=function applyDOMRange(t){var e=vr(),n=e.getEditorState()._selection,r=Qn(t.startContainer,t.startOffset,t.endContainer,t.endOffset,e,n);if(null===r)return;var i=r[0],o=r[1];this.anchor.set(i.key,i.offset,i.type,!0),this.focus.set(o.key,o.offset,o.type,!0),it(this);};_proto8.clone=function clone(){var t=this.anchor,e=this.focus;return new Wn(Rn(t.key,t.offset,t.type),Rn(e.key,e.offset,e.type),this.format,this.style);};_proto8.toggleFormat=function toggleFormat(t){this.format=vi(this.format,t,null),this.dirty=!0;};_proto8.setFormat=function setFormat(t){this.format=t,this.dirty=!0;};_proto8.setStyle=function setStyle(t){this.style=t,this.dirty=!0;};_proto8.hasFormat=function hasFormat(t){var e=b[t];return 0!==(this.format&e);};_proto8.insertRawText=function insertRawText(t){var e=t.split(/(\r?\n|\t)/),n=[],r=e.length;for(var _t67=0;_t67<r;_t67++){var _r25=e[_t67];"\n"===_r25||"\r\n"===_r25?n.push(dn()):"\t"===_r25?n.push(In()):n.push(An(_r25));}this.insertNodes(n);};_proto8.insertText=function insertText(e){var n=this.anchor,r=this.focus,i=this.format,o=this.style;var s=n,l=r;!this.isCollapsed()&&r.isBefore(n)&&(s=r,l=n),"element"===s.type&&function(t,e,n,r){var i=t.getNode(),o=i.getChildAtIndex(t.offset),s=An();if(s.setFormat(n),s.setStyle(r),ii(o))o.splice(0,0,[s]);else{var _t68=Yr(i)?ri().append(s):s;null===o?i.append(_t68):o.insertBefore(_t68);}t.is(e)&&e.set(s.__key,0,"text"),t.set(s.__key,0,"text");}(s,l,i,o),"element"===l.type&&Ts(l,ws(Ns(l,"next")));var c=s.offset;var a=l.offset;var u=this.getNodes(),f=u.length;var d=u[0];wn(d)||t(26);var h=d.getTextContent().length,g=d.getParentOrThrow();var p=u[f-1];if(1===f&&"element"===l.type&&(a=h,l.set(s.key,a,"text")),this.isCollapsed()&&c===h&&(Ci(d)||!d.canInsertTextAfter()||!g.canInsertTextAfter()&&null===d.getNextSibling())){var _t69=d.getNextSibling();if(wn(_t69)&&_t69.canInsertTextBefore()&&!Ci(_t69)||(_t69=An(),_t69.setFormat(i),_t69.setStyle(o),g.canInsertTextAfter()?d.insertAfter(_t69):g.insertAfter(_t69)),_t69.select(0,0),d=_t69,""!==e)return void this.insertText(e);}else if(this.isCollapsed()&&0===c&&(Ci(d)||!d.canInsertTextBefore()||!g.canInsertTextBefore()&&null===d.getPreviousSibling())){var _t70=d.getPreviousSibling();if(wn(_t70)&&!Ci(_t70)||(_t70=An(),_t70.setFormat(i),g.canInsertTextBefore()?d.insertBefore(_t70):g.insertBefore(_t70)),_t70.select(),d=_t70,""!==e)return void this.insertText(e);}else if(d.isSegmented()&&c!==h){var _t71=An(d.getTextContent());_t71.setFormat(i),d.replace(_t71),d=_t71;}else if(!this.isCollapsed()&&""!==e){var _t72=p.getParent();if(!g.canInsertTextBefore()||!g.canInsertTextAfter()||$r(_t72)&&(!_t72.canInsertTextBefore()||!_t72.canInsertTextAfter()))return this.insertText(""),Xn(this.anchor,this.focus,null),void this.insertText(e);}if(1===f){if(xi(d)){var _t73=An(e);return _t73.select(),void d.replace(_t73);}var _t74=d.getFormat(),_n39=d.getStyle();if(c!==a||_t74===i&&_n39===o){if(Ln(d)){var _t75=An(e);return _t75.setFormat(i),_t75.setStyle(o),_t75.select(),void d.replace(_t75);}}else{if(""!==d.getTextContent()){var _t76=An(e);if(_t76.setFormat(i),_t76.setStyle(o),_t76.select(),0===c)d.insertBefore(_t76,!1);else{var _d$splitText=d.splitText(c),_e50=_d$splitText[0];_e50.insertAfter(_t76,!1);}return void(_t76.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length));}d.setFormat(i),d.setStyle(o);}var _r26=a-c;d=d.spliceText(c,_r26,e,!0),""===d.getTextContent()?d.remove():"text"===this.anchor.type&&(d.isComposing()?this.anchor.offset-=e.length:(this.format=_t74,this.style=_n39));}else{var _t77=new Set([].concat(d.getParentKeys(),p.getParentKeys())),_n40=$r(d)?d:d.getParentOrThrow();var _r27=$r(p)?p:p.getParentOrThrow(),_i17=p;if(!_n40.is(_r27)&&_r27.isInline())do{_i17=_r27,_r27=_r27.getParentOrThrow();}while(_r27.isInline());if("text"===l.type&&(0!==a||""===p.getTextContent())||"element"===l.type&&p.getIndexWithinParent()<a){if(wn(p)&&!xi(p)&&a!==p.getTextContentSize()){if(p.isSegmented()){var _t78=An(p.getTextContent());p.replace(_t78),p=_t78;}Yr(l.getNode())||"text"!==l.type||(p=p.spliceText(0,a,"")),_t77.add(p.__key);}else{var _t79=p.getParentOrThrow();_t79.canBeEmpty()||1!==_t79.getChildrenSize()?p.remove():_t79.remove();}}else _t77.add(p.__key);var _o11=_r27.getChildren(),_s8=new Set(u),_g5=_n40.is(_r27),_3=_n40.isInline()&&null===d.getNextSibling()?_n40:d;for(var _t80=_o11.length-1;_t80>=0;_t80--){var _e51=_o11[_t80];if(_e51.is(d)||$r(_e51)&&_e51.isParentOf(d))break;_e51.isAttached()&&(!_s8.has(_e51)||_e51.is(_i17)?_g5||_3.insertAfter(_e51,!1):_e51.remove());}if(!_g5){var _e52=_r27,_n41=null;for(;null!==_e52;){var _r28=_e52.getChildren(),_i18=_r28.length;(0===_i18||_r28[_i18-1].is(_n41))&&(_t77["delete"](_e52.__key),_n41=_e52),_e52=_e52.getParent();}}if(xi(d)){if(c===h)d.select();else{var _t81=An(e);_t81.select(),d.replace(_t81);}}else d=d.spliceText(c,h-c,e,!0),""===d.getTextContent()?d.remove():d.isComposing()&&"text"===this.anchor.type&&(this.anchor.offset-=e.length);for(var _e53=1;_e53<f;_e53++){var _n42=u[_e53],_r29=_n42.__key;_t77.has(_r29)||_n42.remove();}}};_proto8.removeText=function removeText(){var t=rr()===this;ks(this,As(bs(this))),t&&rr()!==this&&Ki(this);};_proto8.formatText=function formatText(t,e){var _d$splitText2,_$splitText;if(e===void 0){e=null;}if(this.isCollapsed())return this.toggleFormat(t),void Oi(null);var n=this.getNodes(),r=[];for(var _t82 of n)wn(_t82)&&r.push(_t82);var i=function i(e){n.forEach(function(n){if($r(n)){var _r30=n.getFormatFlags(t,e);n.setTextFormat(_r30);}});},o=r.length;if(0===o)return this.toggleFormat(t),Oi(null),void i(e);var s=this.anchor,l=this.focus,c=this.isBackward(),a=c?l:s,u=c?s:l;var f=0,d=r[0],h="element"===a.type?0:a.offset;if("text"===a.type&&h===d.getTextContentSize()&&(f=1,d=r[1],h=0),null==d)return;var g=d.getFormatFlags(t,e);i(g);var p=o-1;var _=r[p];var y="text"===u.type?u.offset:_.getTextContentSize();if(d.is(_)){if(h===y)return;if(Ci(d)||0===h&&y===d.getTextContentSize())d.setFormat(g);else{var _t83=d.splitText(h,y),_e54=0===h?_t83[0]:_t83[1];_e54.setFormat(g),"text"===a.type&&a.set(_e54.__key,0,"text"),"text"===u.type&&u.set(_e54.__key,y-h,"text");}return void(this.format=g);}0===h||Ci(d)||(_d$splitText2=d.splitText(h),d=_d$splitText2[1],h=0),d.setFormat(g);var m=_.getFormatFlags(t,g);y>0&&(y===_.getTextContentSize()||Ci(_)||(_$splitText=_.splitText(y),_=_$splitText[0],_$splitText),_.setFormat(m));for(var _e55=f+1;_e55<p;_e55++){var _n43=r[_e55],_i19=_n43.getFormatFlags(t,m);_n43.setFormat(_i19);}"text"===a.type&&a.set(d.__key,h,"text"),"text"===u.type&&u.set(_.__key,y,"text"),this.format=g|m;};_proto8.insertNodes=function insertNodes(e){if(0===e.length)return;if(this.isCollapsed()||this.removeText(),"root"===this.anchor.key){this.insertParagraph();var _n44=rr();return zn(_n44)||t(134),_n44.insertNodes(e);}var n=(this.isBackward()?this.focus:this.anchor).getNode(),r=Do(n,wo),i=e[e.length-1];if($r(r)&&"__language"in r){if("__language"in e[0])this.insertText(e[0].getTextContent());else{var _t84=fr(this);r.splice(_t84,0,e),i.selectEnd();}return;}if(!e.some(function(t){return($r(t)||Ur(t))&&!t.isInline();})){$r(r)||t(211,n.constructor.name,n.getType());var _o12=fr(this);return r.splice(_o12,0,e),void i.selectEnd();}var o=function(t){var e=ri();var n=null;for(var _r31=0;_r31<t.length;_r31++){var _i20=t[_r31],_o13=hn(_i20);if(_o13||Ur(_i20)&&_i20.isInline()||$r(_i20)&&_i20.isInline()||wn(_i20)||_i20.isParentRequired()){if(null===n&&(n=_i20.createParentElementNode(),e.append(n),_o13))continue;null!==n&&n.append(_i20);}else e.append(_i20),n=null;}return e;}(e),s=o.getLastDescendant(),l=o.getChildren(),c=!$r(r)||!r.isEmpty()?this.insertParagraph():null,a=l[l.length-1];var u=l[0];var f;$r(f=u)&&wo(f)&&!f.isEmpty()&&$r(r)&&(!r.isEmpty()||r.canMergeWhenEmpty())&&($r(r)||t(211,n.constructor.name,n.getType()),r.append.apply(r,u.getChildren()),u=l[1]),u&&(null===r&&t(212,n.constructor.name,n.getType()),function(e,n){var r=n.getParentOrThrow().getLastChild();var i=n;var o=[n];for(;i!==r;)i.getNextSibling()||t(140),i=i.getNextSibling(),o.push(i);var s=e;for(var _t85 of o)s=s.insertAfter(_t85);}(r,u));var d=Do(s,wo);c&&$r(d)&&(c.canMergeWhenEmpty()||wo(a))&&(d.append.apply(d,c.getChildren()),c.remove()),$r(r)&&r.isEmpty()&&r.remove(),s.selectEnd();var h=$r(r)?r.getLastChild():null;hn(h)&&d!==r&&h.remove();};_proto8.insertParagraph=function insertParagraph(){if("root"===this.anchor.key){var _t86=ri();return Fi().splice(this.anchor.offset,0,[_t86]),_t86.select(),_t86;}var e=fr(this),n=Do(this.anchor.getNode(),wo);$r(n)||t(213);var r=n.getChildAtIndex(e),i=r?[r].concat(r.getNextSiblings()):[],o=n.insertNewAfter(this,!1);return o?(o.append.apply(o,i),o.selectStart(),o):null;};_proto8.insertLineBreak=function insertLineBreak(t){var e=dn();if(this.insertNodes([e]),t){var _t87=e.getParentOrThrow(),_n45=e.getIndexWithinParent();_t87.select(_n45,_n45);}};_proto8.extract=function extract(){var t=this.getNodes(),e=t.length,n=e-1,r=this.anchor,i=this.focus;var o=t[0],s=t[n];var _Yn2=Yn(this),l=_Yn2[0],c=_Yn2[1];if(0===e)return[];if(1===e){if(wn(o)&&!this.isCollapsed()){var _t88=l>c?c:l,_e56=l>c?l:c,_n46=o.splitText(_t88,_e56),_r32=0===_t88?_n46[0]:_n46[1];return null!=_r32?[_r32]:[];}return[o];}var a=r.isBefore(i);if(wn(o)){var _o$splitText;var _e57=a?l:c;_e57===o.getTextContentSize()?t.shift():0!==_e57&&(_o$splitText=o.splitText(_e57),o=_o$splitText[1],t[0]=o);}if(wn(s)){var _s$splitText;var _e58=s.getTextContent().length,_r33=a?c:l;0===_r33?t.pop():_r33!==_e58&&(_s$splitText=s.splitText(_r33),s=_s$splitText[0],t[n]=s);}return t;};_proto8.modify=function modify(t,e,n){if(hr(this,t,e,n))return;var r="move"===t,i=vr(),o=vo(po(i));if(!o)return;var s=i._blockCursorElement,l=i._rootElement,c=this.focus.getNode();if(null===l||null===s||!$r(c)||c.isInline()||c.canBeEmpty()||To(s,i,l),this.dirty){var _t89=lo(i,this.anchor.key),_e59=lo(i,this.focus.key);"text"===this.anchor.type&&(_t89=Ti(_t89)),"text"===this.focus.type&&(_e59=Ti(_e59)),_t89&&_e59&&ar(o,_t89,this.anchor.offset,_e59,this.focus.offset);}if(function(t,e,n,r){t.modify(e,n,r);}(o,t,e?"backward":"forward",n),o.rangeCount>0){var _t90=o.getRangeAt(0),_n47=this.anchor.getNode(),_i21=Yr(_n47)?_n47:_o(_n47);if(this.applyDOMRange(_t90),this.dirty=!0,!r){var _n48=this.getNodes(),_r34=[];var _s9=!1;for(var _t91=0;_t91<_n48.length;_t91++){var _e60=_n48[_t91];ho(_e60,_i21)?_r34.push(_e60):_s9=!0;}if(_s9&&_r34.length>0)if(e){var _t92=_r34[0];$r(_t92)?_t92.selectStart():_t92.getParentOrThrow().selectStart();}else{var _t93=_r34[_r34.length-1];$r(_t93)?_t93.selectEnd():_t93.getParentOrThrow().selectEnd();}o.anchorNode===_t90.startContainer&&o.anchorOffset===_t90.startOffset||function(t){var e=t.focus,n=t.anchor,r=n.key,i=n.offset,o=n.type;n.set(e.key,e.offset,e.type,!0),e.set(r,i,o,!0);}(this);}}"lineboundary"===n&&hr(this,t,e,n,"decorators");};_proto8.forwardDeletion=function forwardDeletion(t,e,n){if(!n&&("element"===t.type&&$r(e)&&t.offset===e.getChildrenSize()||"text"===t.type&&t.offset===e.getTextContentSize())){var _t94=e.getParent(),_n49=e.getNextSibling()||(null===_t94?null:_t94.getNextSibling());if($r(_n49)&&_n49.isShadowRoot())return!0;}return!1;};_proto8.deleteCharacter=function deleteCharacter(t){var e=this.isCollapsed();if(this.isCollapsed()){var _e61=this.anchor;var _n50=_e61.getNode();if(this.forwardDeletion(_e61,_n50,t))return;var _r35=hs(Ns(_e61,t?"previous":"next"));if(_r35.getTextSlices().every(function(t){return null===t||0===t.distance;})){var _t95={type:"initial"};for(var _e62 of _r35.iterNodeCarets("shadowRoot"))if(ts(_e62)){if(_e62.origin.isInline());else{if(_e62.origin.isShadowRoot()){if("merge-block"===_t95.type)break;if($r(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){var _t96=ws(_e62);ks(this,ps(_t96,_t96)),_r35.anchor.origin.remove();}return;}"merge-next-block"!==_t95.type&&"merge-block"!==_t95.type||(_t95={block:_t95.block,caret:_e62,type:"merge-block"});}}else{if("merge-block"===_t95.type)break;if(Zo(_e62)){if($r(_e62.origin)){if(_e62.origin.isInline()){if(!_e62.origin.isParentOf(_r35.anchor.origin))break;}else _t95={block:_e62.origin,type:"merge-next-block"};continue;}if(Ur(_e62.origin)){if(_e62.origin.isIsolated());else if("merge-next-block"===_t95.type&&(_e62.origin.isKeyboardSelectable()||!_e62.origin.isInline())&&$r(_r35.anchor.origin)&&_r35.anchor.origin.isEmpty()){_r35.anchor.origin.remove();var _t97=er();_t97.add(_e62.origin.getKey()),Ki(_t97);}else _e62.origin.remove();return;}break;}}if("merge-block"===_t95.type){var _t98=_t95,_e63=_t98.caret,_n51=_t98.block;return ks(this,ps(!_e63.origin.isEmpty()&&_n51.isEmpty()?Es(is(_n51,_e63.direction)):_r35.anchor,_e63)),this.removeText();}}var _i22=this.focus;if(this.modify("extend",t,"character"),this.isCollapsed()){if(t&&0===_e61.offset&&jn(this,_e61.getNode()))return;}else{var _r36="text"===_i22.type?_i22.getNode():null;if(_n50="text"===_e61.type?_e61.getNode():null,null!==_r36&&_r36.isSegmented()){var _e64=_i22.offset,_o14=_r36.getTextContentSize();if(_r36.is(_n50)||t&&_e64!==_o14||!t&&0!==_e64)return void Vn(_r36,t,_e64);}else if(null!==_n50&&_n50.isSegmented()){var _i23=_e61.offset,_o15=_n50.getTextContentSize();if(_n50.is(_r36)||t&&0!==_i23||!t&&_i23!==_o15)return void Vn(_n50,t,_i23);}!function(t,e){var n=t.anchor,r=t.focus,i=n.getNode(),o=r.getNode();if(i===o&&"text"===n.type&&"text"===r.type){var _t99=n.offset,_o16=r.offset,_s0=_t99<_o16,_l4=_s0?_t99:_o16,_c5=_s0?_o16:_t99,_a5=_c5-1;if(_l4!==_a5){(function(t){return!($i(t)||Hn(t));})(i.getTextContent().slice(_l4,_c5))&&(e?r.set(r.key,_a5,r.type):n.set(n.key,_a5,n.type));}}}(this,t);}}if(this.removeText(),t&&!e&&this.isCollapsed()&&"element"===this.anchor.type&&0===this.anchor.offset){var _t100=this.anchor.getNode();_t100.isEmpty()&&Yr(_t100.getParent())&&null===_t100.getPreviousSibling()&&jn(this,_t100);}};_proto8.deleteLine=function deleteLine(t){this.isCollapsed()&&this.modify("extend",t,"lineboundary"),this.isCollapsed()?this.deleteCharacter(t):this.removeText();};_proto8.deleteWord=function deleteWord(t){if(this.isCollapsed()){var _e65=this.anchor,_n52=_e65.getNode();if(this.forwardDeletion(_e65,_n52,t))return;this.modify("extend",t,"word");}this.removeText();};_proto8.isBackward=function isBackward(){return this.focus.isBefore(this.anchor);};_proto8.getStartEndPoints=function getStartEndPoints(){return[this.anchor,this.focus];};return Wn;}();function Un(t){return t instanceof _$n;}function Jn(t){var e=t.offset;if("text"===t.type)return e;var n=t.getNode();return e===n.getChildrenSize()?n.getTextContent().length:0;}function Yn(t){var e=t.getStartEndPoints();if(null===e)return[0,0];var n=e[0],r=e[1];return"element"===n.type&&"element"===r.type&&n.key===r.key&&n.offset===r.offset?[0,0]:[Jn(n),Jn(r)];}function jn(t,e){for(var _n53=e;_n53;_n53=_n53.getParent()){if($r(_n53)){if(_n53.collapseAtStart(t))return!0;if(yo(_n53))break;}if(_n53.getPreviousSibling())break;}return!1;}var Hn=function(){try{var _t101=new RegExp("\\p{Emoji}","u"),_e66=_t101.test.bind(_t101);if(_e66("❤️")&&_e66("#️⃣")&&_e66("👍"))return _e66;}catch(t){}return function(){return!1;};}();function Vn(t,e,n){var r=t,i=r.getTextContent().split(/(?=\s)/g),o=i.length;var s=0,l=0;for(var _t102=0;_t102<o;_t102++){var _r37=_t102===o-1;if(l=s,s+=i[_t102].length,e&&s===n||s>n||_r37){i.splice(_t102,1),_r37&&(l=void 0);break;}}var c=i.join("").trim();""===c?r.remove():(r.setTextContent(c),r.select(l,l));}function Gn(e,n,r,i){var o,s=n;if(bo(e)){var _l5=!1;var _c6=e.childNodes,_a6=_c6.length,_u6=i._blockCursorElement;s===_a6&&(_l5=!0,s=_a6-1);var _f5=_c6[s],_d5=!1;if(_f5===_u6)_f5=_c6[s+1],_d5=!0;else if(null!==_u6){var _t103=_u6.parentNode;if(e===_t103){n>Array.prototype.indexOf.call(_t103.children,_u6)&&s--;}}if(o=Bi(_f5),wn(o))s=ss(o,_l5?"next":"previous");else{var _c7=Bi(e);if(null===_c7)return null;if($r(_c7)){var _u7$resolveChildIndex;var _a7=i.getElementByKey(_c7.getKey());null===_a7&&t(214);var _u7=_c7.getDOMSlot(_a7);_u7$resolveChildIndex=_u7.resolveChildIndex(_c7,_a7,e,n),_c7=_u7$resolveChildIndex[0],s=_u7$resolveChildIndex[1],$r(_c7)||t(215),_l5&&s>=_c7.getChildrenSize()&&(s=Math.max(0,_c7.getChildrenSize()-1));var _f6=_c7.getChildAtIndex(s);if($r(_f6)&&function(t,e,n){var r=t.getParent();return null===n||null===r||!r.canBeEmpty()||r!==n.getNode();}(_f6,0,r)){var _t104=_l5?_f6.getLastDescendant():_f6.getFirstDescendant();null===_t104?_c7=_f6:(_f6=_t104,_c7=$r(_f6)?_f6:_f6.getParentOrThrow()),s=0;}wn(_f6)?(o=_f6,_c7=null,s=ss(_f6,_l5?"next":"previous")):_f6!==_c7&&_l5&&!_d5&&($r(_c7)||t(216),s=Math.min(_c7.getChildrenSize(),s+1));}else{var _t105=_c7.getIndexWithinParent();s=0===n&&Ur(_c7)&&Bi(e)===_c7?_t105:_t105+1,_c7=_c7.getParentOrThrow();}if($r(_c7))return Rn(_c7.__key,s,"element");}}else o=Bi(e);return wn(o)?Rn(o.__key,ss(o,s,"clamp"),"text"):null;}function qn(t,e,n){var r=t.offset,i=t.getNode();if(0===r){var _r38=i.getPreviousSibling(),_o17=i.getParent();if(e){if((n||!e)&&null===_r38&&$r(_o17)&&_o17.isInline()){var _e67=_o17.getPreviousSibling();wn(_e67)&&t.set(_e67.__key,_e67.getTextContent().length,"text");}}else $r(_r38)&&!n&&_r38.isInline()?t.set(_r38.__key,_r38.getChildrenSize(),"element"):wn(_r38)&&t.set(_r38.__key,_r38.getTextContent().length,"text");}else if(r===i.getTextContent().length){var _r39=i.getNextSibling(),_o18=i.getParent();if(e&&$r(_r39)&&_r39.isInline())t.set(_r39.__key,0,"element");else if((n||e)&&null===_r39&&$r(_o18)&&_o18.isInline()&&!_o18.canInsertTextAfter()){var _e68=_o18.getNextSibling();wn(_e68)&&t.set(_e68.__key,0,"text");}}}function Xn(t,e,n){if("text"===t.type&&"text"===e.type){var _r40=t.isBefore(e),_i24=t.is(e);qn(t,_r40,_i24),qn(e,!_r40,_i24),_i24&&e.set(t.key,t.offset,t.type);var _o19=vr();if(_o19.isComposing()&&_o19._compositionKey!==t.key&&zn(n)){var _r41=n.anchor,_i25=n.focus;t.set(_r41.key,_r41.offset,_r41.type,!0),e.set(_i25.key,_i25.offset,_i25.type,!0);}}}function Qn(t,e,n,r,i,o){if(null===t||null===n||!pi(i,t,n))return null;var s=Gn(t,e,zn(o)?o.anchor:null,i);if(null===s)return null;var l=Gn(n,r,zn(o)?o.focus:null,i);if(null===l)return null;if("element"===s.type&&"element"===l.type){var _e69=Bi(t),_r42=Bi(n);if(Ur(_e69)&&Ur(_r42))return null;}return Xn(s,l,o),[s,l];}function Zn(t,e,n,r,i,o){var s=Tr(),l=new _Wn(Rn(t,e,i),Rn(n,r,o),0,"");return l.dirty=!0,s._selection=l,l;}function tr(){var t=Rn("root",0,"element"),e=Rn("root",0,"element");return new _Wn(t,e,0,"");}function er(){return new _$n(new Set());}function nr(t,e,n,r){var i=n._window;if(null===i)return null;var o=r||i.event,s=o?o.type:void 0,l="selectionchange"===s,c=!I&&(l||"beforeinput"===s||"compositionstart"===s||"compositionend"===s||"click"===s&&o&&3===o.detail||"drop"===s||void 0===s);var a,u,f,d;if(zn(t)&&!c)return t.clone();if(null===e)return null;if(a=e.anchorNode,u=e.focusNode,f=e.anchorOffset,d=e.focusOffset,l&&zn(t)&&!pi(n,a,u))return t.clone();var h=Qn(a,f,u,d,n,t);if(null===h)return null;var g=h[0],p=h[1];return new _Wn(g,p,zn(t)?t.format:0,zn(t)?t.style:"");}function rr(){return Tr()._selection;}function ir(){return vr()._editorState._selection;}function or(t,e,n,r){if(r===void 0){r=1;}var i=t.anchor,o=t.focus,s=i.getNode(),l=o.getNode();if(!e.is(s)&&!e.is(l))return;var c=e.__key;if(t.isCollapsed()){var _e70=i.offset;if(n<=_e70&&r>0||n<_e70&&r<0){var _n54=Math.max(0,_e70+r);i.set(c,_n54,"element"),o.set(c,_n54,"element"),sr(t);}}else{var _s1=t.isBackward(),_l6=_s1?o:i,_a8=_l6.getNode(),_u8=_s1?i:o,_f7=_u8.getNode();if(e.is(_a8)){var _t106=_l6.offset;(n<=_t106&&r>0||n<_t106&&r<0)&&_l6.set(c,Math.max(0,_t106+r),"element");}if(e.is(_f7)){var _t107=_u8.offset;(n<=_t107&&r>0||n<_t107&&r<0)&&_u8.set(c,Math.max(0,_t107+r),"element");}}sr(t);}function sr(t){var e=t.anchor,n=e.offset,r=t.focus,i=r.offset,o=e.getNode(),s=r.getNode();if(t.isCollapsed()){if(!$r(o))return;var _t108=o.getChildrenSize(),_i26=n>=_t108,_s10=_i26?o.getChildAtIndex(_t108-1):o.getChildAtIndex(n);if(wn(_s10)){var _t109=0;_i26&&(_t109=_s10.getTextContentSize()),e.set(_s10.__key,_t109,"text"),r.set(_s10.__key,_t109,"text");}return;}if($r(o)){var _t110=o.getChildrenSize(),_r43=n>=_t110,_i27=_r43?o.getChildAtIndex(_t110-1):o.getChildAtIndex(n);if(wn(_i27)){var _t111=0;_r43&&(_t111=_i27.getTextContentSize()),e.set(_i27.__key,_t111,"text");}}if($r(s)){var _t112=s.getChildrenSize(),_e71=i>=_t112,_n55=_e71?s.getChildAtIndex(_t112-1):s.getChildAtIndex(i);if(wn(_n55)){var _t113=0;_e71&&(_t113=_n55.getTextContentSize()),r.set(_n55.__key,_t113,"text");}}}function lr(t,e,n,r,i){var o=null,s=0,l=null;null!==r?(o=r.__key,wn(r)?(s=r.getTextContentSize(),l="text"):$r(r)&&(s=r.getChildrenSize(),l="element")):null!==i&&(o=i.__key,wn(i)?l="text":$r(i)&&(l="element")),null!==o&&null!==l?t.set(o,s,l):(s=e.getIndexWithinParent(),-1===s&&(s=n.getChildrenSize()),t.set(n.__key,s,"element"));}function cr(t,e,n,r,i){"text"===t.type?t.set(n,t.offset+(e?0:i),"text"):t.offset>r.getIndexWithinParent()&&t.set(t.key,t.offset-1,"element");}function ar(t,e,n,r,i){try{t.setBaseAndExtent(e,n,r,i);}catch(t){}}function ur(t,e,n,r,i,o,s){var l=r.anchorNode,c=r.focusNode,a=r.anchorOffset,u=r.focusOffset,f=document.activeElement;if(i.has(Xr)&&f!==o||null!==f&&gi(f))return;if(!zn(e))return void(null!==t&&pi(n,l,c)&&r.removeAllRanges());var d=e.anchor,h=e.focus,g=d.key,p=h.key,_=lo(n,g),y=lo(n,p),m=d.offset,x=h.offset,C=e.format,S=e.style,N=e.isCollapsed();var T=_,v=y,k=!1;if("text"===d.type){T=Ti(_);var _t114=d.getNode();k=_t114.getFormat()!==C||_t114.getStyle()!==S;}else zn(t)&&"text"===t.anchor.type&&(k=!0);var b,E,O,M,A;if(("text"===h.type&&(v=Ti(y)),null!==T&&null!==v)&&(N&&(null===t||k||zn(t)&&(t.format!==C||t.style!==S))&&(b=C,E=S,O=m,M=g,A=performance.now(),je=[b,E,O,M,A]),a!==m||u!==x||l!==T||c!==v||"Range"===r.type&&N||(null!==f&&o.contains(f)||o.focus({preventScroll:!0}),"element"===d.type))){if(ar(r,T,m,v,x),!i.has(Qr)&&e.isCollapsed()&&null!==o&&o===document.activeElement){var _t115=zn(e)&&"element"===e.anchor.type?T.childNodes[m]||null:r.rangeCount>0?r.getRangeAt(0):null;if(null!==_t115){var _e72;if(_t115 instanceof Text){var _n56=document.createRange();_n56.selectNode(_t115),_e72=_n56.getBoundingClientRect();}else _e72=_t115.getBoundingClientRect();!function(t,e,n){var r=ao(n),i=go(r);if(null===r||null===i)return;var o=e.top,s=e.bottom,l=0,c=0,a=n;for(;null!==a;){var _e73=a===r.body;if(_e73)l=0,c=po(t).innerHeight;else{var _t116=a.getBoundingClientRect();l=_t116.top,c=_t116.bottom;}var _n57=0;if(o<l?_n57=-(l-o):s>c&&(_n57=s-c),0!==_n57)if(_e73)i.scrollBy(0,_n57);else{var _t117=a.scrollTop;a.scrollTop+=_n57;var _e74=a.scrollTop-_t117;o-=_e74,s-=_e74;}if(_e73)break;a=co(a);}}(n,_e72,o);}}Be=!0;}}function fr(e){var n=e;e.isCollapsed()||n.removeText();var r=rr();zn(r)&&(n=r),zn(n)||t(161);var i=n.anchor;var o=i.getNode(),s=i.offset;for(;!wo(o);){var _dr;var _t118=o;if(_dr=dr(o,s),o=_dr[0],s=_dr[1],_t118.is(o))break;}return s;}function dr(t,e){var n=t.getParent();if(!n){var _t119=ri();return Fi().append(_t119),_t119.select(),[Fi(),0];}if(wn(t)){var _r44=t.splitText(e);if(0===_r44.length)return[n,t.getIndexWithinParent()];var _i28=0===e?0:1;return[n,_r44[0].getIndexWithinParent()+_i28];}if(!$r(t)||0===e)return[n,t.getIndexWithinParent()];var r=t.getChildAtIndex(e);if(r){var _n58=new _Wn(Rn(t.__key,e,"element"),Rn(t.__key,e,"element"),0,""),_i29=t.insertNewAfter(_n58);_i29&&_i29.append.apply(_i29,[r].concat(r.getNextSiblings()));}return[n,t.getIndexWithinParent()+1];}function hr(t,e,n,r,i){if(i===void 0){i="decorators-and-blocks";}if("move"===e&&"character"===r&&!t.isCollapsed()){var _ref16=n===t.isBackward()?[t.focus,t.anchor]:[t.anchor,t.focus],_e75=_ref16[0],_r45=_ref16[1];return _r45.set(_e75.key,_e75.offset,_e75.type),!0;}var o=Ns(t.focus,n?"previous":"next"),s="lineboundary"===r,l="move"===e;var c=o,a="decorators-and-blocks"===i;if(!Ds(c)){for(var _t120 of c){a=!1;var _e76=_t120.origin;if(!Ur(_e76)||_e76.isIsolated()||(c=_t120,!s||!_e76.isInline()))break;}if(a)for(var _t121 of hs(o).iterNodeCarets("extend"===e?"shadowRoot":"root")){if(ts(_t121))_t121.origin.isInline()||(c=_t121);else{if($r(_t121.origin))continue;Ur(_t121.origin)&&!_t121.origin.isInline()&&(c=_t121);}break;}}if(c===o)return!1;if(l&&!s&&Ur(c.origin)&&c.origin.isKeyboardSelectable()){var _t122=er();return _t122.add(c.origin.getKey()),Ki(_t122),!0;}return c=ws(c),l&&Ts(t.anchor,c),Ts(t.focus,c),a||!s;}var gr=null,pr=null,_r=!1,yr=!1,mr=0;var xr={characterData:!0,childList:!0,subtree:!0};function Cr(){return _r||null!==gr&&gr._readOnly;}function Sr(){_r&&t(13);}function Nr(){mr>99&&t(14);}function Tr(){return null===gr&&t(195,kr()),gr;}function vr(){return null===pr&&t(196,kr()),pr;}function kr(){var t=0;var e=new Set(),n=_si.version;if("undefined"!=typeof window)for(var _r46 of document.querySelectorAll("[contenteditable]")){var _i30=mi(_r46);if(_i(_i30))t++;else if(_i30){var _t123=String(_i30.constructor.version||"<0.17.1");_t123===n&&(_t123+=" (separately built, likely a bundler configuration issue)"),e.add(_t123);}}var r=" Detected on the page: "+t+" compatible editor(s) with version "+n;return e.size&&(r+=" and incompatible editors with versions "+Array.from(e).join(", ")),r;}function br(){return pr;}function Er(t,e,n){var r=e.__type,i=ui(t,r);var o=n.get(r);void 0===o&&(o=Array.from(i.transforms),n.set(r,o));var s=o.length;for(var _t124=0;_t124<s&&(o[_t124](e),e.isAttached());_t124++);}function Or(t,e){return void 0!==t&&t.__key!==e&&t.isAttached();}function Mr(t,e){if(!e)return;var n=t._updateTags;var r=e;Array.isArray(e)||(r=[e]);for(var _t125 of r)n.add(_t125);}function Ar(e,n){var r=e.type,i=n.get(r);void 0===i&&t(17,r);var o=i.klass;e.type!==o.getType()&&t(18,o.name);var s=o.importJSON(e),l=e.children;if($r(s)&&Array.isArray(l))for(var _t126=0;_t126<l.length;_t126++){var _e77=Ar(l[_t126],n);s.append(_e77);}return s;}function wr(t,e,n){var r=gr,i=_r,o=pr;gr=e,_r=!0,pr=t;try{return n();}finally{gr=r,_r=i,pr=o;}}function Dr(t,e){var n=t._pendingEditorState,r=t._rootElement,i=t._headless||null===r;if(null===n)return;var o=t._editorState,s=o._selection,l=n._selection,c=0!==t._dirtyType,a=gr,u=_r,f=pr,h=t._updating,g=t._observer;var p=null;if(t._pendingEditorState=null,t._editorState=n,!i&&c&&null!==g){pr=t,gr=n,_r=!1,t._updating=!0;try{var _e78=t._dirtyType,_r47=t._dirtyElements,_i31=t._dirtyLeaves;g.disconnect(),p=Kt(o,n,t,_e78,_r47,_i31);}catch(e){if(e instanceof Error&&t._onError(e),yr)throw e;return oi(t,null,r,n),U(t),t._dirtyType=2,yr=!0,Dr(t,o),void(yr=!1);}finally{g.observe(r,xr),t._updating=h,gr=a,_r=u,pr=f;}}n._readOnly||(n._readOnly=!0);var _=t._dirtyLeaves,y=t._dirtyElements,m=t._normalizedNodes,x=t._updateTags,C=t._deferred;c&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements=new Map(),t._normalizedNodes=new Set(),t._updateTags=new Set()),function(t,e){var n=t._decorators;var r=t._pendingDecorators||n;var i=e._nodeMap;var o;for(o in r)i.has(o)||(r===n&&(r=Ii(t)),delete r[o]);}(t,n);var S=i?null:vo(po(t));if(t._editable&&null!==S&&(c||null===l||l.dirty)&&null!==r&&!x.has(Zr)){pr=t,gr=n;try{if(null!==g&&g.disconnect(),c||null===l||l.dirty){var _e79=t._blockCursorElement;null!==_e79&&To(_e79,t,r),ur(s,l,t,S,x,r);}!function(t,e,n){var r=t._blockCursorElement;if(zn(n)&&n.isCollapsed()&&"element"===n.anchor.type&&e.contains(document.activeElement)){var _i32=n.anchor,_o20=_i32.getNode(),_s11=_i32.offset;var _l7=!1,_c8=null;if(_s11===_o20.getChildrenSize()){No(_o20.getChildAtIndex(_s11-1))&&(_l7=!0);}else{var _e80=_o20.getChildAtIndex(_s11);if(null!==_e80&&No(_e80)){var _n59=_e80.getPreviousSibling();(null===_n59||No(_n59))&&(_l7=!0,_c8=t.getElementByKey(_e80.__key));}}if(_l7){var _n60=t.getElementByKey(_o20.__key);return null===r&&(t._blockCursorElement=r=function(t){var e=t.theme,n=document.createElement("div");n.contentEditable="false",n.setAttribute("data-lexical-cursor","true");var r=e.blockCursor;if(void 0!==r){var _n$classList;if("string"==typeof r){var _t127=d(r);r=e.blockCursor=_t127;}void 0!==r&&(_n$classList=n.classList).add.apply(_n$classList,r);}return n;}(t._config)),e.style.caretColor="transparent",void(null===_c8?_n60.appendChild(r):_n60.insertBefore(r,_c8));}}null!==r&&To(r,t,e);}(t,r,l);}finally{null!==g&&g.observe(r,xr),pr=f,gr=a;}}null!==p&&function(t,e,n,r,i){var o=Array.from(t._listeners.mutation),s=o.length;for(var _t128=0;_t128<s;_t128++){var _o$_t=o[_t128],_s12=_o$_t[0],_l8=_o$_t[1];for(var _t129 of _l8){var _o21=e.get(_t129);void 0!==_o21&&_s12(_o21,{dirtyLeaves:r,prevEditorState:i,updateTags:n});}}}(t,p,x,_,o),zn(l)||null===l||null!==s&&s.is(l)||t.dispatchCommand(zt,void 0);var N=t._pendingDecorators;null!==N&&(t._decorators=N,t._pendingDecorators=null,Pr("decorator",t,!0,N)),function(t,e,n){var r=Li(e),i=Li(n);r!==i&&Pr("textcontent",t,!0,i);}(t,e||o,n),Pr("update",t,!0,{dirtyElements:y,dirtyLeaves:_,editorState:n,mutatedNodes:p,normalizedNodes:m,prevEditorState:e||o,tags:x}),function(t,e){if(t._deferred=[],0!==e.length){var _n61=t._updating;t._updating=!0;try{for(var _t130=0;_t130<e.length;_t130++)e[_t130]();}finally{t._updating=_n61;}}}(t,C),function(t){var e=t._updates;if(0!==e.length){var _n62=e.shift();if(_n62){var _e81=_n62[0],_r48=_n62[1];Lr(t,_e81,_r48);}}}(t);}function Pr(t,e,n){var i=e._updating;e._updating=n;try{var _n63=Array.from(e._listeners[t]);for(var _len4=arguments.length,r=new Array(_len4>3?_len4-3:0),_key4=3;_key4<_len4;_key4++){r[_key4-3]=arguments[_key4];}for(var _t131=0;_t131<_n63.length;_t131++)_n63[_t131].apply(null,r);}finally{e._updating=i;}}function Ir(e,n){var r=e._updates;var i=n||!1;for(;0!==r.length;){var _n64=r.shift();if(_n64){var _r49=_n64[0],_o22=_n64[1],_s13=e._pendingEditorState;var _l9=void 0;void 0!==_o22&&(_l9=_o22.onUpdate,_o22.skipTransforms&&(i=!0),_o22.discrete&&(null===_s13&&t(191),_s13._flushSync=!0),_l9&&e._deferred.push(_l9),Mr(e,_o22.tag)),null==_s13?Lr(e,_r49,_o22):_r49();}}return i;}function Lr(e,n,r){var i=e._updateTags;var o,s=!1,l=!1;void 0!==r&&(o=r.onUpdate,Mr(e,r.tag),s=r.skipTransforms||!1,l=r.discrete||!1),o&&e._deferred.push(o);var c=e._editorState;var a=e._pendingEditorState,u=!1;(null===a||a._readOnly)&&(a=e._pendingEditorState=jr(a||c),u=!0),a._flushSync=l;var f=gr,d=_r,h=pr,g=e._updating;gr=a,_r=!1,e._updating=!0,pr=e;var p=e._headless||null===e.getRootElement();ci(null);try{u&&(p?null!==c._selection&&(a._selection=c._selection.clone()):a._selection=function(t,e){var n=t.getEditorState()._selection,r=vo(po(t));return zn(n)||null==n?nr(n,r,t,e):n.clone();}(e,r&&r.event||null));var _i33=e._compositionKey;n(),s=Ir(e,s),function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(zn(r)){var _t132=r.anchor,_e82=r.focus;var _i34;if("text"===_t132.type&&(_i34=_t132.getNode(),_i34.selectionTransform(n,r)),"text"===_e82.type){var _t133=_e82.getNode();_i34!==_t133&&_t133.selectionTransform(n,r);}}}(a,e),0!==e._dirtyType&&(s?function(t,e){var n=e._dirtyLeaves,r=t._nodeMap;for(var _t134 of n){var _e83=r.get(_t134);wn(_e83)&&_e83.isAttached()&&_e83.isSimpleText()&&!_e83.isUnmergeable()&&rt(_e83);}}(a,e):function(t,e){var n=e._dirtyLeaves,r=e._dirtyElements,i=t._nodeMap,o=Mi(),s=new Map();var l=n,c=l.size,a=r,u=a.size;for(;c>0||u>0;){if(c>0){e._dirtyLeaves=new Set();for(var _t135 of l){var _r50=i.get(_t135);wn(_r50)&&_r50.isAttached()&&_r50.isSimpleText()&&!_r50.isUnmergeable()&&rt(_r50),void 0!==_r50&&Or(_r50,o)&&Er(e,_r50,s),n.add(_t135);}if(l=e._dirtyLeaves,c=l.size,c>0){mr++;continue;}}e._dirtyLeaves=new Set(),e._dirtyElements=new Map(),a["delete"]("root")&&a.set("root",!0);for(var _t136 of a){var _n65=_t136[0],_l0=_t136[1];if(r.set(_n65,_l0),!_l0)continue;var _c9=i.get(_n65);void 0!==_c9&&Or(_c9,o)&&Er(e,_c9,s);}l=e._dirtyLeaves,c=l.size,a=e._dirtyElements,u=a.size,mr++;}e._dirtyLeaves=n,e._dirtyElements=r;}(a,e),Ir(e),function(t,e,n,r){var i=t._nodeMap,o=e._nodeMap,s=[];for(var _ref18 of r){var _t137=_ref18[0];{var _e84=o.get(_t137);void 0!==_e84&&(_e84.isAttached()||($r(_e84)&&P(_e84,_t137,i,o,s,r),i.has(_t137)||r["delete"](_t137),s.push(_t137)));}}for(var _t138 of s)o["delete"](_t138);for(var _t139 of n){var _e85=o.get(_t139);void 0===_e85||_e85.isAttached()||(i.has(_t139)||n["delete"](_t139),o["delete"](_t139));}}(c,a,e._dirtyLeaves,e._dirtyElements));_i33!==e._compositionKey&&(a._flushSync=!0);var _o23=a._selection;if(zn(_o23)){var _e86=a._nodeMap,_n66=_o23.anchor.key,_r51=_o23.focus.key;void 0!==_e86.get(_n66)&&void 0!==_e86.get(_r51)||t(19);}else Un(_o23)&&0===_o23._nodes.size&&(a._selection=null);}catch(t){return t instanceof Error&&e._onError(t),e._pendingEditorState=c,e._dirtyType=2,e._cloneNotNeeded.clear(),e._dirtyLeaves=new Set(),e._dirtyElements.clear(),void Dr(e);}finally{gr=f,_r=d,pr=h,e._updating=g,mr=0;}var _=0!==e._dirtyType||e._deferred.length>0||function(t,e){var n=e.getEditorState()._selection,r=t._selection;if(null!==r){if(r.dirty||!r.is(n))return!0;}else if(null!==n)return!0;return!1;}(a,e);_?a._flushSync?(a._flushSync=!1,Dr(e)):u&&di(function(){Dr(e);}):(a._flushSync=!1,u&&(i.clear(),e._deferred=[],e._pendingEditorState=null));}function Fr(t,e,n){pr===t&&void 0===n?e():Lr(t,e,n);}var _Rr=function(){function Rr(t,e,n){this.element=t,this.before=e||null,this.after=n||null;}var _proto9=Rr.prototype;_proto9.withBefore=function withBefore(t){return new Rr(this.element,t,this.after);};_proto9.withAfter=function withAfter(t){return new Rr(this.element,this.before,t);};_proto9.withElement=function withElement(t){return this.element===t?this:new Rr(t,this.before,this.after);};_proto9.insertChild=function insertChild(e){var n=this.before||this.getManagedLineBreak();return null!==n&&n.parentElement!==this.element&&t(222),this.element.insertBefore(e,n),this;};_proto9.removeChild=function removeChild(e){return e.parentElement!==this.element&&t(223),this.element.removeChild(e),this;};_proto9.replaceChild=function replaceChild(e,n){return n.parentElement!==this.element&&t(224),this.element.replaceChild(e,n),this;};_proto9.getFirstChild=function getFirstChild(){var t=this.after?this.after.nextSibling:this.element.firstChild;return t===this.before||t===this.getManagedLineBreak()?null:t;};_proto9.getManagedLineBreak=function getManagedLineBreak(){return this.element.__lexicalLineBreak||null;};_proto9.setManagedLineBreak=function setManagedLineBreak(t){if(null===t)this.removeManagedLineBreak();else{var _e87="decorator"===t&&(l||s);this.insertManagedLineBreak(_e87);}};_proto9.removeManagedLineBreak=function removeManagedLineBreak(){var t=this.getManagedLineBreak();if(t){var _e88=this.element,_n67="IMG"===t.nodeName?t.nextSibling:null;_n67&&_e88.removeChild(_n67),_e88.removeChild(t),_e88.__lexicalLineBreak=void 0;}};_proto9.insertManagedLineBreak=function insertManagedLineBreak(t){var e=this.getManagedLineBreak();if(e){if(t===("IMG"===e.nodeName))return;this.removeManagedLineBreak();}var n=this.element,r=this.before,i=document.createElement("br");if(n.insertBefore(i,r),t){var _t140=document.createElement("img");_t140.setAttribute("data-lexical-linebreak","true"),_t140.style.cssText="display: inline !important; border: 0px !important; margin: 0px !important;",_t140.alt="",n.insertBefore(_t140,i),n.__lexicalLineBreak=_t140;}else n.__lexicalLineBreak=i;};_proto9.getFirstChildOffset=function getFirstChildOffset(){var t=0;for(var _e89=this.after;null!==_e89;_e89=_e89.previousSibling)t++;return t;};_proto9.resolveChildIndex=function resolveChildIndex(t,e,n,r){if(n===this.element){var _e90=this.getFirstChildOffset();return[t,Math.min(_e90+t.getChildrenSize(),Math.max(_e90,r))];}var i=Kr(e,n);i.push(r);var o=Kr(e,this.element);var s=t.getIndexWithinParent();for(var _t141=0;_t141<o.length;_t141++){var _e91=i[_t141],_n68=o[_t141];if(void 0===_e91||_e91<_n68)break;if(_e91>_n68){s+=1;break;}}return[t.getParentOrThrow(),s];};return Rr;}();function Kr(e,n){var r=[];var i=n;for(;i!==e&&null!==i;i=i.parentNode){var _t142=0;for(var _e92=i.previousSibling;null!==_e92;_e92=_e92.previousSibling)_t142++;r.push(_t142);}return i!==e&&t(225),r.reverse();}var _Br4=function(_an3){function Br(t){var _this3;_this3=_an3.call(this,t)||this,_this3.__first=null,_this3.__last=null,_this3.__size=0,_this3.__format=0,_this3.__style="",_this3.__indent=0,_this3.__dir=null,_this3.__textFormat=0,_this3.__textStyle="";return _this3;}babelHelpers.inheritsLoose(Br,_an3);var _proto0=Br.prototype;_proto0.afterCloneFrom=function afterCloneFrom(t){_an3.prototype.afterCloneFrom.call(this,t),this.__key===t.__key&&(this.__first=t.__first,this.__last=t.__last,this.__size=t.__size),this.__indent=t.__indent,this.__format=t.__format,this.__style=t.__style,this.__dir=t.__dir,this.__textFormat=t.__textFormat,this.__textStyle=t.__textStyle;};_proto0.getFormat=function getFormat(){return this.getLatest().__format;};_proto0.getFormatType=function getFormatType(){var t=this.getFormat();return M[t]||"";};_proto0.getStyle=function getStyle(){return this.getLatest().__style;};_proto0.getIndent=function getIndent(){return this.getLatest().__indent;};_proto0.getChildren=function getChildren(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e),e=e.getNextSibling();return t;};_proto0.getChildrenKeys=function getChildrenKeys(){var t=[];var e=this.getFirstChild();for(;null!==e;)t.push(e.__key),e=e.getNextSibling();return t;};_proto0.getChildrenSize=function getChildrenSize(){return this.getLatest().__size;};_proto0.isEmpty=function isEmpty(){return 0===this.getChildrenSize();};_proto0.isDirty=function isDirty(){var t=vr()._dirtyElements;return null!==t&&t.has(this.__key);};_proto0.isLastChild=function isLastChild(){var t=this.getLatest(),e=this.getParentOrThrow().getLastChild();return null!==e&&e.is(t);};_proto0.getAllTextNodes=function getAllTextNodes(){var t=[];var e=this.getFirstChild();for(;null!==e;){if(wn(e)&&t.push(e),$r(e)){var _n69=e.getAllTextNodes();t.push.apply(t,_n69);}e=e.getNextSibling();}return t;};_proto0.getFirstDescendant=function getFirstDescendant(){var t=this.getFirstChild();for(;$r(t);){var _e93=t.getFirstChild();if(null===_e93)break;t=_e93;}return t;};_proto0.getLastDescendant=function getLastDescendant(){var t=this.getLastChild();for(;$r(t);){var _e94=t.getLastChild();if(null===_e94)break;t=_e94;}return t;};_proto0.getDescendantByIndex=function getDescendantByIndex(t){var e=this.getChildren(),n=e.length;if(t>=n){var _t143=e[n-1];return $r(_t143)&&_t143.getLastDescendant()||_t143||null;}var r=e[t];return $r(r)&&r.getFirstDescendant()||r||null;};_proto0.getFirstChild=function getFirstChild(){var t=this.getLatest().__first;return null===t?null:Ai(t);};_proto0.getFirstChildOrThrow=function getFirstChildOrThrow(){var e=this.getFirstChild();return null===e&&t(45,this.__key),e;};_proto0.getLastChild=function getLastChild(){var t=this.getLatest().__last;return null===t?null:Ai(t);};_proto0.getLastChildOrThrow=function getLastChildOrThrow(){var e=this.getLastChild();return null===e&&t(96,this.__key),e;};_proto0.getChildAtIndex=function getChildAtIndex(t){var e=this.getChildrenSize();var n,r;if(t<e/2){for(n=this.getFirstChild(),r=0;null!==n&&r<=t;){if(r===t)return n;n=n.getNextSibling(),r++;}return null;}for(n=this.getLastChild(),r=e-1;null!==n&&r>=t;){if(r===t)return n;n=n.getPreviousSibling(),r--;}return null;};_proto0.getTextContent=function getTextContent(){var t="";var e=this.getChildren(),n=e.length;for(var _r52=0;_r52<n;_r52++){var _i35=e[_r52];t+=_i35.getTextContent(),$r(_i35)&&_r52!==n-1&&!_i35.isInline()&&(t+=v);}return t;};_proto0.getTextContentSize=function getTextContentSize(){var t=0;var e=this.getChildren(),n=e.length;for(var _r53=0;_r53<n;_r53++){var _i36=e[_r53];t+=_i36.getTextContentSize(),$r(_i36)&&_r53!==n-1&&!_i36.isInline()&&(t+=2);}return t;};_proto0.getDirection=function getDirection(){return this.getLatest().__dir;};_proto0.getTextFormat=function getTextFormat(){return this.getLatest().__textFormat;};_proto0.hasFormat=function hasFormat(t){if(""!==t){var _e95=O[t];return 0!==(this.getFormat()&_e95);}return!1;};_proto0.hasTextFormat=function hasTextFormat(t){var e=b[t];return 0!==(this.getTextFormat()&e);};_proto0.getFormatFlags=function getFormatFlags(t,e){return vi(this.getLatest().__textFormat,t,e);};_proto0.getTextStyle=function getTextStyle(){return this.getLatest().__textStyle;};_proto0.select=function select(t,e){Sr();var n=rr();var r=t,i=e;var o=this.getChildrenSize();if(!this.canBeEmpty())if(0===t&&0===e){var _t144=this.getFirstChild();if(wn(_t144)||$r(_t144))return _t144.select(0,0);}else if(!(void 0!==t&&t!==o||void 0!==e&&e!==o)){var _t145=this.getLastChild();if(wn(_t145)||$r(_t145))return _t145.select();}void 0===r&&(r=o),void 0===i&&(i=o);var s=this.__key;return zn(n)?(n.anchor.set(s,r,"element"),n.focus.set(s,i,"element"),n.dirty=!0,n):Zn(s,r,s,i,"element","element");};_proto0.selectStart=function selectStart(){var t=this.getFirstDescendant();return t?t.selectStart():this.select();};_proto0.selectEnd=function selectEnd(){var t=this.getLastDescendant();return t?t.selectEnd():this.select();};_proto0.clear=function clear(){var t=this.getWritable();return this.getChildren().forEach(function(t){return t.remove();}),t;};_proto0.append=function append(){for(var _len5=arguments.length,t=new Array(_len5),_key5=0;_key5<_len5;_key5++){t[_key5]=arguments[_key5];}return this.splice(this.getChildrenSize(),0,t);};_proto0.setDirection=function setDirection(t){var e=this.getWritable();return e.__dir=t,e;};_proto0.setFormat=function setFormat(t){return this.getWritable().__format=""!==t?O[t]:0,this;};_proto0.setStyle=function setStyle(t){return this.getWritable().__style=t||"",this;};_proto0.setTextFormat=function setTextFormat(t){var e=this.getWritable();return e.__textFormat=t,e;};_proto0.setTextStyle=function setTextStyle(t){var e=this.getWritable();return e.__textStyle=t,e;};_proto0.setIndent=function setIndent(t){return this.getWritable().__indent=t,this;};_proto0.splice=function splice(e,n,r){var i=r.length,o=this.getChildrenSize(),s=this.getWritable();e+n<=o||t(226,String(e),String(n),String(o));var l=s.__key,c=[],a=[],u=this.getChildAtIndex(e+n);var f=null,d=o-n+i;if(0!==e)if(e===o)f=this.getLastChild();else{var _t146=this.getChildAtIndex(e);null!==_t146&&(f=_t146.getPreviousSibling());}if(n>0){var _e96=null===f?this.getFirstChild():f.getNextSibling();for(var _r54=0;_r54<n;_r54++){null===_e96&&t(100);var _n70=_e96.getNextSibling(),_r55=_e96.__key;bi(_e96.getWritable()),a.push(_r55),_e96=_n70;}}var h=f;for(var _e97=0;_e97<i;_e97++){var _n71=r[_e97];null!==h&&_n71.is(h)&&(f=h=h.getPreviousSibling());var _i37=_n71.getWritable();_i37.__parent===l&&d--,bi(_i37);var _o24=_n71.__key;if(null===h)s.__first=_o24,_i37.__prev=null;else{var _t147=h.getWritable();_t147.__next=_o24,_i37.__prev=_t147.__key;}_n71.__key===l&&t(76),_i37.__parent=l,c.push(_o24),h=_n71;}if(e+n===o){if(null!==h){h.getWritable().__next=null,s.__last=h.__key;}}else if(null!==u){var _t148=u.getWritable();if(null!==h){var _e98=h.getWritable();_t148.__prev=h.__key,_e98.__next=u.__key;}else _t148.__prev=null;}if(s.__size=d,a.length){var _t149=rr();if(zn(_t149)){var _e99=new Set(a),_n72=new Set(c),_r56=_t149.anchor,_i38=_t149.focus;zr(_r56,_e99,_n72)&&lr(_r56,_r56.getNode(),this,f,u),zr(_i38,_e99,_n72)&&lr(_i38,_i38.getNode(),this,f,u),0!==d||this.canBeEmpty()||yo(this)||this.remove();}}return s;};_proto0.getDOMSlot=function getDOMSlot(t){return new _Rr(t);};_proto0.exportDOM=function exportDOM(t){var _an3$prototype$export=_an3.prototype.exportDOM.call(this,t),e=_an3$prototype$export.element;if(bo(e)){var _t150=this.getIndent();_t150>0&&(e.style.paddingInlineStart=40*_t150+"px");var _n73=this.getDirection();_n73&&(e.dir=_n73);}return{element:e};};_proto0.exportJSON=function exportJSON(){var t=babelHelpers["extends"]({children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent()},_an3.prototype.exportJSON.call(this)),e=this.getTextFormat(),n=this.getTextStyle();return 0!==e&&(t.textFormat=e),""!==n&&(t.textStyle=n),t;};_proto0.updateFromJSON=function updateFromJSON(t){return _an3.prototype.updateFromJSON.call(this,t).setFormat(t.format).setIndent(t.indent).setDirection(t.direction).setTextFormat(t.textFormat||0).setTextStyle(t.textStyle||"");};_proto0.insertNewAfter=function insertNewAfter(t,e){return null;};_proto0.canIndent=function canIndent(){return!0;};_proto0.collapseAtStart=function collapseAtStart(t){return!1;};_proto0.excludeFromCopy=function excludeFromCopy(t){return!1;};_proto0.canReplaceWith=function canReplaceWith(t){return!0;};_proto0.canInsertAfter=function canInsertAfter(t){return!0;};_proto0.canBeEmpty=function canBeEmpty(){return!0;};_proto0.canInsertTextBefore=function canInsertTextBefore(){return!0;};_proto0.canInsertTextAfter=function canInsertTextAfter(){return!0;};_proto0.isInline=function isInline(){return!1;};_proto0.isShadowRoot=function isShadowRoot(){return!1;};_proto0.canMergeWith=function canMergeWith(t){return!1;};_proto0.extractWithChild=function extractWithChild(t,e,n){return!1;};_proto0.canMergeWhenEmpty=function canMergeWhenEmpty(){return!1;};_proto0.reconcileObservedMutation=function reconcileObservedMutation(t,e){var n=this.getDOMSlot(t);var r=n.getFirstChild();for(var _t151=this.getFirstChild();_t151;_t151=_t151.getNextSibling()){var _i39=e.getElementByKey(_t151.getKey());null!==_i39&&(null==r?(n.insertChild(_i39),r=_i39):r!==_i39&&n.replaceChild(_i39,r),r=r.nextSibling);}};return Br;}(_an5);function $r(t){return t instanceof _Br4;}function zr(t,e,n){var r=t.getNode();for(;r;){var _t152=r.__key;if(e.has(_t152)&&!n.has(_t152))return!0;r=r.getParent();}return!1;}var _Wr=function(_an4){function Wr(){return _an4.apply(this,arguments)||this;}babelHelpers.inheritsLoose(Wr,_an4);var _proto1=Wr.prototype;_proto1.decorate=function decorate(e,n){t(47);};_proto1.isIsolated=function isIsolated(){return!1;};_proto1.isInline=function isInline(){return!0;};_proto1.isKeyboardSelectable=function isKeyboardSelectable(){return!0;};return Wr;}(_an5);function Ur(t){return t instanceof _Wr;}var _Jr=function(_Br){function Jr(){var _this4;_this4=_Br.call(this,"root")||this,_this4.__cachedText=null;return _this4;}babelHelpers.inheritsLoose(Jr,_Br);Jr.getType=function getType(){return"root";};Jr.clone=function clone(){return new Jr();};var _proto10=Jr.prototype;_proto10.getTopLevelElementOrThrow=function getTopLevelElementOrThrow(){t(51);};_proto10.getTextContent=function getTextContent(){var t=this.__cachedText;return!Cr()&&0!==vr()._dirtyType||null===t?_Br.prototype.getTextContent.call(this):t;};_proto10.remove=function remove(){t(52);};_proto10.replace=function replace(e){t(53);};_proto10.insertBefore=function insertBefore(e){t(54);};_proto10.insertAfter=function insertAfter(e){t(55);};_proto10.updateDOM=function updateDOM(t,e){return!1;};_proto10.splice=function splice(e,n,r){for(var _e100 of r)$r(_e100)||Ur(_e100)||t(282);return _Br.prototype.splice.call(this,e,n,r);};Jr.importJSON=function importJSON(t){return Fi().updateFromJSON(t);};_proto10.collapseAtStart=function collapseAtStart(){return!0;};return Jr;}(_Br4);function Yr(t){return t instanceof _Jr;}function jr(t){return new _Gr(new Map(t._nodeMap));}function Hr(){return new _Gr(new Map([["root",new _Jr()]]));}function Vr(e){var n=e.exportJSON(),r=e.constructor;if(n.type!==r.getType()&&t(130,r.name),$r(e)){var _i40=n.children;Array.isArray(_i40)||t(59,r.name);var _o25=e.getChildren();for(var _t153=0;_t153<_o25.length;_t153++){var _e101=Vr(_o25[_t153]);_i40.push(_e101);}}return n;}var _Gr=function(){function Gr(t,e){this._nodeMap=t,this._selection=e||null,this._flushSync=!1,this._readOnly=!1;}var _proto11=Gr.prototype;_proto11.isEmpty=function isEmpty(){return 1===this._nodeMap.size&&null===this._selection;};_proto11.read=function read(t,e){return wr(e&&e.editor||null,this,t);};_proto11.clone=function clone(t){var e=new Gr(this._nodeMap,void 0===t?this._selection:t);return e._readOnly=!0,e;};_proto11.toJSON=function toJSON(){return wr(null,this,function(){return{root:Vr(Fi())};});};return Gr;}();var qr="history-merge",Xr="collaboration",Qr="skip-scroll-into-view",Zr="skip-dom-selection";var _ti=function(_Br2){function ti(){return _Br2.apply(this,arguments)||this;}babelHelpers.inheritsLoose(ti,_Br2);ti.getType=function getType(){return"artificial";};var _proto12=ti.prototype;_proto12.createDOM=function createDOM(t){return document.createElement("div");};return ti;}(_Br4);var _ei=function(_Br3){function ei(){return _Br3.apply(this,arguments)||this;}babelHelpers.inheritsLoose(ei,_Br3);ei.getType=function getType(){return"paragraph";};ei.clone=function clone(t){return new ei(t.__key);};var _proto13=ei.prototype;_proto13.createDOM=function createDOM(t){var e=document.createElement("p"),n=to(t.theme,"paragraph");if(void 0!==n){var _e$classList2;(_e$classList2=e.classList).add.apply(_e$classList2,n);}return e;};_proto13.updateDOM=function updateDOM(t,e,n){return!1;};ei.importDOM=function importDOM(){return{p:function p(t){return{conversion:ni,priority:0};}};};_proto13.exportDOM=function exportDOM(t){var _Br3$prototype$export=_Br3.prototype.exportDOM.call(this,t),e=_Br3$prototype$export.element;if(bo(e)){this.isEmpty()&&e.append(document.createElement("br"));var _t154=this.getFormatType();_t154&&(e.style.textAlign=_t154);}return{element:e};};ei.importJSON=function importJSON(t){return ri().updateFromJSON(t);};_proto13.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_Br3.prototype.exportJSON.call(this),{textFormat:this.getTextFormat(),textStyle:this.getTextStyle()});};_proto13.insertNewAfter=function insertNewAfter(t,e){var n=ri();n.setTextFormat(t.format),n.setTextStyle(t.style);var r=this.getDirection();return n.setDirection(r),n.setFormat(this.getFormatType()),n.setStyle(this.getStyle()),this.insertAfter(n,e),n;};_proto13.collapseAtStart=function collapseAtStart(){var t=this.getChildren();if(0===t.length||wn(t[0])&&""===t[0].getTextContent().trim()){if(null!==this.getNextSibling())return this.selectNext(),this.remove(),!0;if(null!==this.getPreviousSibling())return this.selectPrevious(),this.remove(),!0;}return!1;};return ei;}(_Br4);function ni(t){var e=ri();return t.style&&(e.setFormat(t.style.textAlign),Ko(t,e)),{node:e};}function ri(){return xo(new _ei());}function ii(t){return t instanceof _ei;}function oi(t,e,n,r){var i=t._keyToDOMMap;i.clear(),t._editorState=Hr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set(),t._dirtyElements.clear(),t._normalizedNodes=new Set(),t._updateTags=new Set(),t._updates=[],t._blockCursorElement=null;var o=t._observer;null!==o&&(o.disconnect(),t._observer=null),null!==e&&(e.textContent=""),null!==n&&(n.textContent="",i.set("root",n));}var _si=function(){function si(t,e,n,r,i,o,s,l){this._createEditorArgs=l,this._parentEditor=e,this._rootElement=null,this._editorState=t,this._pendingEditorState=null,this._compositionKey=null,this._deferred=[],this._keyToDOMMap=new Map(),this._updates=[],this._updating=!1,this._listeners={decorator:new Set(),editable:new Set(),mutation:new Map(),root:new Set(),textcontent:new Set(),update:new Set()},this._commands=new Map(),this._config=r,this._nodes=n,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set(),this._dirtyLeaves=new Set(),this._dirtyElements=new Map(),this._normalizedNodes=new Set(),this._updateTags=new Set(),this._observer=null,this._key=Wi(),this._onError=i,this._htmlConversions=o,this._editable=s,this._headless=null!==e&&e._headless,this._window=null,this._blockCursorElement=null;}var _proto14=si.prototype;_proto14.isComposing=function isComposing(){return null!=this._compositionKey;};_proto14.registerUpdateListener=function registerUpdateListener(t){var e=this._listeners.update;return e.add(t),function(){e["delete"](t);};};_proto14.registerEditableListener=function registerEditableListener(t){var e=this._listeners.editable;return e.add(t),function(){e["delete"](t);};};_proto14.registerDecoratorListener=function registerDecoratorListener(t){var e=this._listeners.decorator;return e.add(t),function(){e["delete"](t);};};_proto14.registerTextContentListener=function registerTextContentListener(t){var e=this._listeners.textcontent;return e.add(t),function(){e["delete"](t);};};_proto14.registerRootListener=function registerRootListener(t){var _this13=this;var e=this._listeners.root;return t(this._rootElement,null),e.add(t),function(){t(null,_this13._rootElement),e["delete"](t);};};_proto14.registerCommand=function registerCommand(e,n,r){void 0===r&&t(35);var i=this._commands;i.has(e)||i.set(e,[new Set(),new Set(),new Set(),new Set(),new Set()]);var o=i.get(e);void 0===o&&t(36,String(e));var s=o[r];return s.add(n),function(){s["delete"](n),o.every(function(t){return 0===t.size;})&&i["delete"](e);};};_proto14.registerMutationListener=function registerMutationListener(t,e,n){var r=this.resolveRegisteredNodeAfterReplacements(this.getRegisteredNode(t)).klass,i=this._listeners.mutation;var o=i.get(e);void 0===o&&(o=new Set(),i.set(e,o)),o.add(r);var s=n&&n.skipInitialization;return void 0!==s&&s||this.initializeMutationListener(e,r),function(){o["delete"](r),0===o.size&&i["delete"](e);};};_proto14.getRegisteredNode=function getRegisteredNode(e){var n=this._nodes.get(e.getType());return void 0===n&&t(37,e.name),n;};_proto14.resolveRegisteredNodeAfterReplacements=function resolveRegisteredNodeAfterReplacements(t){for(;t.replaceWithKlass;)t=this.getRegisteredNode(t.replaceWithKlass);return t;};_proto14.initializeMutationListener=function initializeMutationListener(t,e){var n=this._editorState,r=Fo(n).get(e.getType());if(!r)return;var i=new Map();for(var _t155 of r.keys())i.set(_t155,"created");i.size>0&&t(i,{dirtyLeaves:new Set(),prevEditorState:n,updateTags:new Set(["registerMutationListener"])});};_proto14.registerNodeTransformToKlass=function registerNodeTransformToKlass(t,e){var n=this.getRegisteredNode(t);return n.transforms.add(e),n;};_proto14.registerNodeTransform=function registerNodeTransform(t,e){var n=this.registerNodeTransformToKlass(t,e),r=[n],i=n.replaceWithKlass;if(null!=i){var _t156=this.registerNodeTransformToKlass(i,e);r.push(_t156);}return function(t,e){var n=Fo(t.getEditorState()),r=[];for(var _t157 of e){var _e102=n.get(_t157);_e102&&r.push(_e102);}if(0===r.length)return;t.update(function(){for(var _t158 of r)for(var _e103 of _t158.keys()){var _t159=Ai(_e103);_t159&&_t159.markDirty();}},null===t._pendingEditorState?{tag:qr}:void 0);}(this,r.map(function(t){return t.klass.getType();})),function(){r.forEach(function(t){return t.transforms["delete"](e);});};};_proto14.hasNode=function hasNode(t){return this._nodes.has(t.getType());};_proto14.hasNodes=function hasNodes(t){return t.every(this.hasNode.bind(this));};_proto14.dispatchCommand=function dispatchCommand(t,e){return oo(this,t,e);};_proto14.getDecorators=function getDecorators(){return this._decorators;};_proto14.getRootElement=function getRootElement(){return this._rootElement;};_proto14.getKey=function getKey(){return this._key;};_proto14.setRootElement=function setRootElement(t){var e=this._rootElement;if(t!==e){var _e$classList3;var _n74=to(this._config.theme,"root"),_r57=this._pendingEditorState||this._editorState;if(this._rootElement=t,oi(this,e,t,_r57),null!==e&&(this._config.disableEvents||ln(e),null!=_n74&&(_e$classList3=e.classList).remove.apply(_e$classList3,_n74)),null!==t){var _t$classList;var _e104=go(t),_r58=t.style;_r58.userSelect="text",_r58.whiteSpace="pre-wrap",_r58.wordBreak="break-word",t.setAttribute("data-lexical-editor","true"),this._window=_e104,this._dirtyType=2,U(this),this._updateTags.add(qr),Dr(this),this._config.disableEvents||function(t,e){var n=t.ownerDocument,r=Ke.get(n);(void 0===r||r<1)&&n.addEventListener("selectionchange",nn),Ke.set(n,(r||0)+1),t.__lexicalEditor=e;var i=tn(t);var _loop=function _loop(){var _Pe$_n=Pe[_n75],r=_Pe$_n[0],o=_Pe$_n[1],s="function"==typeof o?function(t){on(t)||(rn(t),(e.isEditable()||"click"===r)&&o(t,e));}:function(t){if(on(t))return;rn(t);var n=e.isEditable();switch(r){case"cut":return n&&oo(e,Te,t);case"copy":return oo(e,Ne,t);case"paste":return n&&oo(e,Vt,t);case"dragstart":return n&&oo(e,xe,t);case"dragover":return n&&oo(e,Ce,t);case"dragend":return n&&oo(e,Se,t);case"focus":return n&&oo(e,Me,t);case"blur":return n&&oo(e,Ae,t);case"drop":return n&&oo(e,ye,t);}};t.addEventListener(r,s),i.push(function(){t.removeEventListener(r,s);});};for(var _n75=0;_n75<Pe.length;_n75++){_loop();}}(t,this),null!=_n74&&(_t$classList=t.classList).add.apply(_t$classList,_n74);}else this._window=null,this._updateTags.add(qr),Dr(this);Pr("root",this,!1,t,e);}};_proto14.getElementByKey=function getElementByKey(t){return this._keyToDOMMap.get(t)||null;};_proto14.getEditorState=function getEditorState(){return this._editorState;};_proto14.setEditorState=function setEditorState(e,n){e.isEmpty()&&t(38);var r=e;r._readOnly&&(r=jr(e),r._selection=e._selection?e._selection.clone():null),W(this);var i=this._pendingEditorState,o=this._updateTags,s=void 0!==n?n.tag:null;null===i||i.isEmpty()||(null!=s&&o.add(s),Dr(this)),this._pendingEditorState=r,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,null!=s&&o.add(s),this._updating||Dr(this);};_proto14.parseEditorState=function parseEditorState(t,e){return function(t,e,n){var r=Hr(),i=gr,o=_r,s=pr,l=e._dirtyElements,c=e._dirtyLeaves,a=e._cloneNotNeeded,u=e._dirtyType;e._dirtyElements=new Map(),e._dirtyLeaves=new Set(),e._cloneNotNeeded=new Set(),e._dirtyType=0,gr=r,_r=!1,pr=e,ci(null);try{var _i41=e._nodes;Ar(t.root,_i41),n&&n(),r._readOnly=!0;}catch(t){t instanceof Error&&e._onError(t);}finally{e._dirtyElements=l,e._dirtyLeaves=c,e._cloneNotNeeded=a,e._dirtyType=u,gr=i,_r=o,pr=s;}return r;}("string"==typeof t?JSON.parse(t):t,this,e);};_proto14.read=function read(t){return Dr(this),this.getEditorState().read(t,{editor:this});};_proto14.update=function update(t,e){!function(t,e,n){t._updating?t._updates.push([e,n]):Lr(t,e,n);}(this,t,e);};_proto14.focus=function focus(t,e){if(e===void 0){e={};}var n=this._rootElement;null!==n&&(n.setAttribute("autocapitalize","off"),Fr(this,function(){var r=rr(),i=Fi();null!==r?r.dirty||Ki(r.clone()):0!==i.getChildrenSize()&&("rootStart"===e.defaultSelection?i.selectStart():i.selectEnd()),uo("focus"),fo(function(){n.removeAttribute("autocapitalize"),t&&t();});}),null===this._pendingEditorState&&n.removeAttribute("autocapitalize"));};_proto14.blur=function blur(){var t=this._rootElement;null!==t&&t.blur();var e=vo(this._window);null!==e&&e.removeAllRanges();};_proto14.isEditable=function isEditable(){return this._editable;};_proto14.setEditable=function setEditable(t){this._editable!==t&&(this._editable=t,Pr("editable",this,!0,t));};_proto14.toJSON=function toJSON(){return{editorState:this._editorState.toJSON()};};return si;}();_si.version="0.35.0+prod.cjs";var li=null;function ci(t){li=t;}var ai=1;function ui(e,n){var r=fi(e,n);return void 0===r&&t(30,n),r;}function fi(t,e){return t._nodes.get(e);}var di="function"==typeof queueMicrotask?queueMicrotask:function(t){Promise.resolve().then(t);};function hi(t){return Ur(Pi(t));}function gi(t){var e=document.activeElement;if(!bo(e))return!1;var n=e.nodeName;return Ur(Pi(t))&&("INPUT"===n||"TEXTAREA"===n||"true"===e.contentEditable&&null==mi(e));}function pi(t,e,n){var r=t.getRootElement();try{return null!==r&&r.contains(e)&&r.contains(n)&&null!==e&&!gi(e)&&yi(e)===t;}catch(t){return!1;}}function _i(t){return t instanceof _si;}function yi(t){var e=t;for(;null!=e;){var _t160=mi(e);if(_i(_t160))return _t160;e=co(e);}return null;}function mi(t){return t?t.__lexicalEditor:null;}function xi(t){return Ln(t)||t.isToken();}function Ci(t){return xi(t)||t.isSegmented();}function Si(t){return Eo(t)&&3===t.nodeType;}function Ni(t){return Eo(t)&&9===t.nodeType;}function Ti(t){var e=t;for(;null!=e;){if(Si(e))return e;e=e.firstChild;}return null;}function vi(t,e,n){var r=b[e];if(null!==n&&(t&r)===(n&r))return t;var i=t^r;return"subscript"===e?i&=~b.superscript:"superscript"===e?i&=~b.subscript:"lowercase"===e?(i&=~b.uppercase,i&=~b.capitalize):"uppercase"===e?(i&=~b.lowercase,i&=~b.capitalize):"capitalize"===e&&(i&=~b.lowercase,i&=~b.uppercase),i;}function ki(t,e){var n=function(){var t=li;return li=null,t;}();if(null!=(e=e||n&&n.__key))return void(t.__key=e);Sr(),Nr();var r=vr(),i=Tr(),o=""+ai++;i._nodeMap.set(o,t),$r(t)?r._dirtyElements.set(o,!0):r._dirtyLeaves.add(o),r._cloneNotNeeded.add(o),r._dirtyType=1,t.__key=o;}function bi(t){var e=t.getParent();if(null!==e){var _n76=t.getWritable(),_r59=e.getWritable(),_i42=t.getPreviousSibling(),_o26=t.getNextSibling(),_s14=null!==_o26?_o26.__key:null,_l1=null!==_i42?_i42.__key:null,_c0=null!==_i42?_i42.getWritable():null,_a9=null!==_o26?_o26.getWritable():null;null===_i42&&(_r59.__first=_s14),null===_o26&&(_r59.__last=_l1),null!==_c0&&(_c0.__next=_s14),null!==_a9&&(_a9.__prev=_l1),_n76.__prev=null,_n76.__next=null,_n76.__parent=null,_r59.__size--;}}function Ei(t){Nr();var e=t.getLatest(),n=e.__parent,r=Tr(),i=vr(),o=r._nodeMap,s=i._dirtyElements;null!==n&&function(t,e,n){var r=t;for(;null!==r;){if(n.has(r))return;var _t161=e.get(r);if(void 0===_t161)break;n.set(r,!1),r=_t161.__parent;}}(n,o,s);var l=e.__key;i._dirtyType=1,$r(t)?s.set(l,!0):i._dirtyLeaves.add(l);}function Oi(t){Sr();var e=vr(),n=e._compositionKey;if(t!==n){if(e._compositionKey=t,null!==n){var _t162=Ai(n);null!==_t162&&_t162.getWritable();}if(null!==t){var _e105=Ai(t);null!==_e105&&_e105.getWritable();}}}function Mi(){if(Cr())return null;return vr()._compositionKey;}function Ai(t,e){var n=(e||Tr())._nodeMap.get(t);return void 0===n?null:n;}function wi(t,e){var n=Di(t,vr());return void 0!==n?Ai(n,e):null;}function Di(t,e){return t["__lexicalKey_"+e._key];}function Pi(t,e){var n=t;for(;null!=n;){var _t163=wi(n,e);if(null!==_t163)return _t163;n=co(n);}return null;}function Ii(t){var e=t._decorators,n=Object.assign({},e);return t._pendingDecorators=n,n;}function Li(t){return t.read(function(){return Fi().getTextContent();});}function Fi(){return Ri(Tr());}function Ri(t){return t._nodeMap.get("root");}function Ki(t){Sr();var e=Tr();null!==t&&(t.dirty=!0,t.setCachedNodes(null)),e._selection=t;}function Bi(t){var e=vr(),n=function(t,e){var n=t;for(;null!=n;){var _t164=Di(n,e);if(void 0!==_t164)return _t164;n=co(n);}return null;}(t,e);if(null===n){return t===e.getRootElement()?Ai("root"):null;}return Ai(n);}function $i(t){return /[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t);}function zi(t){var e=[];var n=t;for(;null!==n;)e.push(n),n=n._parentEditor;return e;}function Wi(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substring(0,5);}function Ui(t){return Si(t)?t.nodeValue:null;}function Ji(t,e,n){var r=vo(po(e));if(null===r)return;var i=r.anchorNode;var o=r.anchorOffset,s=r.focusOffset;if(null!==i){var _e106=Ui(i);var _r60=Pi(i);if(null!==_e106&&wn(_r60)){if(_e106===T&&n){var _t165=n.length;_e106=n,o=_t165,s=_t165;}null!==_e106&&Yi(_r60,_e106,o,s,t);}}}function Yi(t,e,n,r,i){var o=t;if(o.isAttached()&&(i||!o.isDirty())){var _c1=o.isComposing();var _a0=e;(_c1||i)&&e[e.length-1]===T&&(_a0=e.slice(0,-1));var _u9=o.getTextContent();if(i||_a0!==_u9){if(""===_a0){if(Oi(null),s||l||f)o.remove();else{var _t166=vr();setTimeout(function(){_t166.update(function(){o.isAttached()&&o.remove();});},20);}return;}var _e107=o.getParent(),_i43=ir(),_u0=o.getTextContentSize(),_d6=Mi(),_h5=o.getKey();if(o.isToken()||null!==_d6&&_h5===_d6&&!_c1||zn(_i43)&&(null!==_e107&&!_e107.canInsertTextBefore()&&0===_i43.anchor.offset||_i43.anchor.key===t.__key&&0===_i43.anchor.offset&&!o.canInsertTextBefore()&&!_c1||_i43.focus.key===t.__key&&_i43.focus.offset===_u0&&!o.canInsertTextAfter()&&!_c1))return void o.markDirty();var _g6=rr();if(!zn(_g6)||null===n||null===r)return void ji(o,_a0,_g6);if(_g6.setTextNodeRange(o,n,o,r),o.isSegmented()){var _t167=An(o.getTextContent());o.replace(_t167),o=_t167;}ji(o,_a0,_g6);}}}function ji(t,e,n){if(t.setTextContent(e),zn(n)){var _e108=t.getKey();for(var _r61 of["anchor","focus"]){var _i44=n[_r61];"text"===_i44.type&&_i44.key===_e108&&(_i44.offset=ss(t,_i44.offset,"clamp"));}}}function Hi(t,e,n){var r=e[n]||!1;return"any"===r||r===t[n];}function Vi(t,e){return Hi(t,e,"altKey")&&Hi(t,e,"ctrlKey")&&Hi(t,e,"shiftKey")&&Hi(t,e,"metaKey");}function Gi(t,e,n){return Vi(t,n)&&t.key.toLowerCase()===e.toLowerCase();}var qi={ctrlKey:!r,metaKey:r},Xi={altKey:r,ctrlKey:!r};function Qi(t){return"Backspace"===t.key;}function Zi(t){return Gi(t,"a",qi);}function to(t,e){void 0===t.__lexicalClassNameCache&&(t.__lexicalClassNameCache={});var n=t.__lexicalClassNameCache,r=n[e];if(void 0!==r)return r;var i=t[e];if("string"==typeof i){var _t168=d(i);return n[e]=_t168,_t168;}return i;}function eo(e,n,r,i,o){if(0===r.size)return;var s=i.__type,l=i.__key,c=n.get(s);void 0===c&&t(33,s);var a=c.klass;var u=e.get(a);void 0===u&&(u=new Map(),e.set(a,u));var f=u.get(l),d="destroyed"===f&&"created"===o;(void 0===f||d)&&u.set(l,d?"updated":o);}function no(t,e,n){var r=t.getParent();var i=n,o=t;return null!==r&&(e&&0===n?(i=o.getIndexWithinParent(),o=r):e||n!==o.getChildrenSize()||(i=o.getIndexWithinParent()+1,o=r)),o.getChildAtIndex(e?i-1:i);}function ro(t,e){var n=t.offset;if("element"===t.type){return no(t.getNode(),e,n);}{var _r62=t.getNode();if(e&&0===n||!e&&n===_r62.getTextContentSize()){var _t169=e?_r62.getPreviousSibling():_r62.getNextSibling();return null===_t169?no(_r62.getParentOrThrow(),e,_r62.getIndexWithinParent()+(e?0:1)):_t169;}}return null;}function io(t){var e=po(t).event,n=e&&e.inputType;return"insertFromPaste"===n||"insertFromPasteAsQuotation"===n;}function oo(t,e,n){return function(t,e,n){var r=zi(t);for(var _i45=4;_i45>=0;_i45--){var _loop2=function _loop2(){var s=r[_o27],l=s._commands.get(e);if(void 0!==l){var _e109=l[_i45];if(void 0!==_e109){var _r63=Array.from(_e109),_i46=_r63.length;var _o28=!1;if(Fr(s,function(){for(var _e110=0;_e110<_i46;_e110++)if(_r63[_e110](n,t))return void(_o28=!0);}),_o28)return{v:_o28};}}},_ret;for(var _o27=0;_o27<r.length;_o27++){_ret=_loop2();if(_ret)return _ret.v;}}return!1;}(t,e,n);}function so(t){return!Yr(t)&&!t.isLastChild()&&!t.isInline();}function lo(e,n){var r=e._keyToDOMMap.get(n);return void 0===r&&t(75,n),r;}function co(t){var e=t.assignedSlot||t.parentElement;return Oo(e)?e.host:e;}function ao(t){return Ni(t)?t:bo(t)?t.ownerDocument:null;}function uo(t){Sr();vr()._updateTags.add(t);}function fo(t){Sr();vr()._deferred.push(t);}function ho(t,e){var n=t.getParent();for(;null!==n;){if(n.is(e))return!0;n=n.getParent();}return!1;}function go(t){var e=ao(t);return e?e.defaultView:null;}function po(e){var n=e._window;return null===n&&t(78),n;}function _o(t){var e=t.getParentOrThrow();for(;null!==e;){if(yo(e))return e;e=e.getParentOrThrow();}return e;}function yo(t){return Yr(t)||$r(t)&&t.isShadowRoot();}function mo(t){var e=t.constructor.clone(t);return ki(e,null),e.afterCloneFrom(t),e;}function xo(e){var n=vr(),r=e.getType(),i=fi(n,r);void 0===i&&t(200,e.constructor.name,r);var o=i.replace,s=i.replaceWithKlass;if(null!==o){var _n77=o(e),_i47=_n77.constructor;return null!==s?_n77 instanceof s||t(201,s.name,s.getType(),_i47.name,_i47.getType(),e.constructor.name,r):_n77 instanceof e.constructor&&_i47!==e.constructor||t(202,_i47.name,_i47.getType(),e.constructor.name,r),_n77.__key===e.__key&&t(203,e.constructor.name,r,_i47.name,_i47.getType()),_n77;}return e;}function Co(e,n){!Yr(e.getParent())||$r(n)||Ur(n)||t(99);}function So(e){var n=Ai(e);return null===n&&t(63,e),n;}function No(t){return(Ur(t)||$r(t)&&!t.canBeEmpty())&&!t.isInline();}function To(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null;var r=t.parentElement;null!==r&&r.removeChild(t);}function vo(t){return e?(t||window).getSelection():null;}function ko(t){var e=go(t);return e?e.getSelection():null;}function bo(t){return Eo(t)&&1===t.nodeType;}function Eo(t){return"object"==typeof t&&null!==t&&"nodeType"in t&&"number"==typeof t.nodeType;}function Oo(t){return Eo(t)&&11===t.nodeType;}function Mo(t){var e=new RegExp(/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|mark|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var|#text)$/,"i");return null!==t.nodeName.match(e);}function Ao(t){var e=new RegExp(/^(address|article|aside|blockquote|canvas|dd|div|dl|dt|fieldset|figcaption|figure|footer|form|h1|h2|h3|h4|h5|h6|header|hr|li|main|nav|noscript|ol|p|pre|section|table|td|tfoot|ul|video)$/,"i");return null!==t.nodeName.match(e);}function wo(t){if(Ur(t)&&!t.isInline())return!0;if(!$r(t)||yo(t))return!1;var e=t.getFirstChild(),n=null===e||hn(e)||wn(e)||e.isInline();return!t.isInline()&&!1!==t.canBeEmpty()&&n;}function Do(t,e){var n=t;for(;null!==n&&null!==n.getParent()&&!e(n);)n=n.getParentOrThrow();return e(n)?n:null;}function Po(){return vr();}var Io=new WeakMap(),Lo=new Map();function Fo(e){if(!e._readOnly&&e.isEmpty())return Lo;e._readOnly||t(192);var n=Io.get(e);return n||(n=function(t){var e=new Map();for(var _ref20 of t._nodeMap){var _n78=_ref20[0];var _r64=_ref20[1];{var _t170=_r64.__type;var _i48=e.get(_t170);_i48||(_i48=new Map(),e.set(_t170,_i48)),_i48.set(_n78,_r64);}}return e;}(e),Io.set(e,n)),n;}function Ro(t){var e=t.constructor.clone(t);return e.afterCloneFrom(t),e;}function Ko(t,e){var n=parseInt(t.style.paddingInlineStart,10)||0,r=Math.round(n/40);e.setIndent(r);}function Bo(t){return!0===t.__lexicalUnmanaged;}function $o(t,e){return function(t,e){return Object.prototype.hasOwnProperty.call(t,e);}(t,e)&&t[e]!==_an5[e];}function zo(t){if(!(t===_an5||t.prototype instanceof _an5)){var _e111="<unknown>",_n79="<unknown>";try{_e111=t.getType();}catch(t){}try{_si.version&&(_n79=JSON.parse(_si.version));}catch(t){}!function(t){throw new Error(t);}(t.name+" (type "+_e111+") does not subclass LexicalNode from the lexical package used by this editor (version "+_n79+"). All lexical and @lexical/* packages used by an editor must have identical versions. If you suspect the version does match, then the problem may be caused by multiple copies of the same lexical module (e.g. both esm and cjs, or included directly in multiple entrypoints).");}return t===_Wr||t===_Br4||t===_an5;}function Wo(t){var e=D in t.prototype?t.prototype[D]():void 0,n=zo(t),r=!n&&$o(t,"getType")?t.getType():void 0;var i,o=r;if(e)if(r)i=e[r];else for(var _ref22 of Object.entries(e)){var _t171=_ref22[0];var _n80=_ref22[1];o=_t171,i=_n80;}if(!n&&o&&($o(t,"getType")||(t.getType=function(){return o;}),$o(t,"clone")||(t.clone=function(e){return ci(e),new t();}),$o(t,"importJSON")||(t.importJSON=i&&i.$importJSON||function(e){return new t().updateFromJSON(e);}),!$o(t,"importDOM")&&i)){var _i49=i,_e112=_i49.importDOM;_e112&&(t.importDOM=function(){return _e112;});}return{ownNodeConfig:i,ownNodeType:o};}var Uo=function Uo(t,e){var n=t;for(;null!=n&&!Yr(n);){if(e(n))return n;n=n.getParent();}return null;},Jo={next:"previous",previous:"next"};var _Yo4=function(){function Yo(t){this.origin=t;}var _proto15=Yo.prototype;_proto15[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return _s({hasNext:Zo,initial:this.getAdjacentCaret(),map:function map(t){return t;},step:function step(t){return t.getAdjacentCaret();}});};_proto15.getAdjacentCaret=function getAdjacentCaret(){return is(this.getNodeAtCaret(),this.direction);};_proto15.getSiblingCaret=function getSiblingCaret(){return is(this.origin,this.direction);};_proto15.remove=function remove(){var t=this.getNodeAtCaret();return t&&t.remove(),this;};_proto15.replaceOrInsert=function replaceOrInsert(t,e){var n=this.getNodeAtCaret();return t.is(this.origin)||t.is(n)||(null===n?this.insert(t):n.replace(t,e)),this;};_proto15.splice=function splice(e,n,r){if(r===void 0){r="next";}var i=r===this.direction?n:Array.from(n).reverse();var o=this;var s=this.getParentAtCaret(),l=new Map();for(var _t172=o.getAdjacentCaret();null!==_t172&&l.size<e;_t172=_t172.getAdjacentCaret()){var _e113=_t172.origin.getWritable();l.set(_e113.getKey(),_e113);}for(var _e114 of i){if(l.size>0){var _n81=o.getNodeAtCaret();if(_n81){if(l["delete"](_n81.getKey()),l["delete"](_e114.getKey()),_n81.is(_e114)||o.origin.is(_e114));else{var _t173=_e114.getParent();_t173&&_t173.is(s)&&_e114.remove(),_n81.replace(_e114);}}else null===_n81&&t(263,Array.from(l).join(" "));}else o.insert(_e114);o=is(_e114,this.direction);}for(var _t174 of l.values())_t174.remove();return this;};return Yo;}();var _jo3=function(_Yo){function jo(){var _this5;for(var _len6=arguments.length,args=new Array(_len6),_key6=0;_key6<_len6;_key6++){args[_key6]=arguments[_key6];}return(_this5=_Yo.call.apply(_Yo,[this].concat(args))||this,_this5.type="child",babelHelpers.assertThisInitialized(_this5))||babelHelpers.assertThisInitialized(_this5);}babelHelpers.inheritsLoose(jo,_Yo);var _proto16=jo.prototype;_proto16.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:cs(t,this.direction);};_proto16.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return is(Go(this.getParentAtCaret(),t),this.direction);};_proto16.getFlipped=function getFlipped(){var t=Vo(this.direction);return is(this.getNodeAtCaret(),t)||cs(this.origin,t);};_proto16.getParentAtCaret=function getParentAtCaret(){return this.origin;};_proto16.getChildCaret=function getChildCaret(){return this;};_proto16.isSameNodeCaret=function isSameNodeCaret(t){return t instanceof jo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto16.isSamePointCaret=function isSamePointCaret(t){return this.isSameNodeCaret(t);};return jo;}(_Yo4);var Ho={root:Yr,shadowRoot:yo};function Vo(t){return Jo[t];}function Go(t,e){if(e===void 0){e="root";}return Ho[e](t)?null:t;}var _qo3=function(_Yo2){function qo(){var _this6;for(var _len7=arguments.length,args=new Array(_len7),_key7=0;_key7<_len7;_key7++){args[_key7]=arguments[_key7];}return(_this6=_Yo2.call.apply(_Yo2,[this].concat(args))||this,_this6.type="sibling",babelHelpers.assertThisInitialized(_this6))||babelHelpers.assertThisInitialized(_this6);}babelHelpers.inheritsLoose(qo,_Yo2);var _proto17=qo.prototype;_proto17.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:is(t,this.direction);};_proto17.getSiblingCaret=function getSiblingCaret(){return this;};_proto17.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto17.getChildCaret=function getChildCaret(){return $r(this.origin)?cs(this.origin,this.direction):null;};_proto17.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return is(Go(this.getParentAtCaret(),t),this.direction);};_proto17.getFlipped=function getFlipped(){var t=Vo(this.direction);return is(this.getNodeAtCaret(),t)||cs(this.origin.getParentOrThrow(),t);};_proto17.isSamePointCaret=function isSamePointCaret(t){return t instanceof qo&&this.direction===t.direction&&this.origin.is(t.origin);};_proto17.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof qo||t instanceof _Xo3)&&this.direction===t.direction&&this.origin.is(t.origin);};return qo;}(_Yo4);var _Xo3=function(_Yo3){function Xo(t,e){var _this7;_this7=_Yo3.call(this,t)||this,_this7.type="text",_this7.offset=e;return _this7;}babelHelpers.inheritsLoose(Xo,_Yo3);var _proto18=Xo.prototype;_proto18.getLatest=function getLatest(){var t=this.origin.getLatest();return t===this.origin?this:os(t,this.direction,this.offset);};_proto18.getParentAtCaret=function getParentAtCaret(){return this.origin.getParent();};_proto18.getChildCaret=function getChildCaret(){return null;};_proto18.getParentCaret=function getParentCaret(t){if(t===void 0){t="root";}return is(Go(this.getParentAtCaret(),t),this.direction);};_proto18.getFlipped=function getFlipped(){return os(this.origin,Vo(this.direction),this.offset);};_proto18.isSamePointCaret=function isSamePointCaret(t){return t instanceof Xo&&this.direction===t.direction&&this.origin.is(t.origin)&&this.offset===t.offset;};_proto18.isSameNodeCaret=function isSameNodeCaret(t){return(t instanceof _qo3||t instanceof Xo)&&this.direction===t.direction&&this.origin.is(t.origin);};_proto18.getSiblingCaret=function getSiblingCaret(){return is(this.origin,this.direction);};return Xo;}(_Yo4);function Qo(t){return t instanceof _Xo3;}function Zo(t){return t instanceof _qo3;}function ts(t){return t instanceof _jo3;}var es={next:function(_Xo){function _class(){var _this8;for(var _len8=arguments.length,args=new Array(_len8),_key8=0;_key8<_len8;_key8++){args[_key8]=arguments[_key8];}return(_this8=_Xo.call.apply(_Xo,[this].concat(args))||this,_this8.direction="next",babelHelpers.assertThisInitialized(_this8))||babelHelpers.assertThisInitialized(_this8);}babelHelpers.inheritsLoose(_class,_Xo);var _proto19=_class.prototype;_proto19.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto19.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class;}(_Xo3),previous:function(_Xo2){function _class3(){var _this9;for(var _len9=arguments.length,args=new Array(_len9),_key9=0;_key9<_len9;_key9++){args[_key9]=arguments[_key9];}return(_this9=_Xo2.call.apply(_Xo2,[this].concat(args))||this,_this9.direction="previous",babelHelpers.assertThisInitialized(_this9))||babelHelpers.assertThisInitialized(_this9);}babelHelpers.inheritsLoose(_class3,_Xo2);var _proto20=_class3.prototype;_proto20.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto20.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class3;}(_Xo3)},ns={next:function(_qo){function _class5(){var _this0;for(var _len0=arguments.length,args=new Array(_len0),_key0=0;_key0<_len0;_key0++){args[_key0]=arguments[_key0];}return(_this0=_qo.call.apply(_qo,[this].concat(args))||this,_this0.direction="next",babelHelpers.assertThisInitialized(_this0))||babelHelpers.assertThisInitialized(_this0);}babelHelpers.inheritsLoose(_class5,_qo);var _proto21=_class5.prototype;_proto21.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getNextSibling();};_proto21.insert=function insert(t){return this.origin.insertAfter(t),this;};return _class5;}(_qo3),previous:function(_qo2){function _class7(){var _this1;for(var _len1=arguments.length,args=new Array(_len1),_key1=0;_key1<_len1;_key1++){args[_key1]=arguments[_key1];}return(_this1=_qo2.call.apply(_qo2,[this].concat(args))||this,_this1.direction="previous",babelHelpers.assertThisInitialized(_this1))||babelHelpers.assertThisInitialized(_this1);}babelHelpers.inheritsLoose(_class7,_qo2);var _proto22=_class7.prototype;_proto22.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getPreviousSibling();};_proto22.insert=function insert(t){return this.origin.insertBefore(t),this;};return _class7;}(_qo3)},rs={next:function(_jo){function _class9(){var _this10;for(var _len10=arguments.length,args=new Array(_len10),_key10=0;_key10<_len10;_key10++){args[_key10]=arguments[_key10];}return(_this10=_jo.call.apply(_jo,[this].concat(args))||this,_this10.direction="next",babelHelpers.assertThisInitialized(_this10))||babelHelpers.assertThisInitialized(_this10);}babelHelpers.inheritsLoose(_class9,_jo);var _proto23=_class9.prototype;_proto23.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getFirstChild();};_proto23.insert=function insert(t){return this.origin.splice(0,0,[t]),this;};return _class9;}(_jo3),previous:function(_jo2){function _class1(){var _this11;for(var _len11=arguments.length,args=new Array(_len11),_key11=0;_key11<_len11;_key11++){args[_key11]=arguments[_key11];}return(_this11=_jo2.call.apply(_jo2,[this].concat(args))||this,_this11.direction="previous",babelHelpers.assertThisInitialized(_this11))||babelHelpers.assertThisInitialized(_this11);}babelHelpers.inheritsLoose(_class1,_jo2);var _proto24=_class1.prototype;_proto24.getNodeAtCaret=function getNodeAtCaret(){return this.origin.getLastChild();};_proto24.insert=function insert(t){return this.origin.splice(this.origin.getChildrenSize(),0,[t]),this;};return _class1;}(_jo3)};function is(t,e){return t?new ns[e](t):null;}function os(t,e,n){return t?new es[e](t,ss(t,n)):null;}function ss(t,e,n){if(n===void 0){n="error";}var r=t.getTextContentSize();var i="next"===e?r:"previous"===e?0:e;return(i<0||i>r)&&("clamp"!==n&&function(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len12=arguments.length,e=new Array(_len12>1?_len12-1:0),_key12=1;_key12<_len12;_key12++){e[_key12-1]=arguments[_key12];}for(var _t175 of e)r.append("v",_t175);n.search=r.toString(),console.warn("Minified Lexical warning #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(284,String(e),String(r),t.getKey()),i=i<0?0:r),i;}function ls(t,e){return new _ds(t,e);}function cs(t,e){return $r(t)?new rs[e](t):null;}function as(t){return t&&t.getChildCaret()||t;}function us(t){return t&&as(t.getAdjacentCaret());}var _fs=function(){function fs(t,e,n){this.type="node-caret-range";this.anchor=t,this.focus=e,this.direction=n;}var _proto25=fs.prototype;_proto25.getLatest=function getLatest(){var t=this.anchor.getLatest(),e=this.focus.getLatest();return t===this.anchor&&e===this.focus?this:new fs(t,e,this.direction);};_proto25.isCollapsed=function isCollapsed(){return this.anchor.isSamePointCaret(this.focus);};_proto25.getTextSlices=function getTextSlices(){var _this14=this;var t=function t(_t176){var e=_this14[_t176].getLatest();return Qo(e)?function(t,e){var n=t.direction,r=t.origin,i=ss(r,"focus"===e?Vo(n):n);return ls(t,i-t.offset);}(e,_t176):null;},e=t("anchor"),n=t("focus");if(e&&n){var _t177=e.caret,_r65=n.caret;if(_t177.isSameNodeCaret(_r65))return[ls(_t177,_r65.offset-_t177.offset),null];}return[e,n];};_proto25.iterNodeCarets=function iterNodeCarets(t){if(t===void 0){t="root";}var e=Qo(this.anchor)?this.anchor.getSiblingCaret():this.anchor.getLatest(),n=this.focus.getLatest(),r=Qo(n),i=function i(e){return e.isSameNodeCaret(n)?null:us(e)||e.getParentCaret(t);};return _s({hasNext:function hasNext(t){return null!==t&&!(r&&n.isSameNodeCaret(t));},initial:e.isSameNodeCaret(n)?null:i(e),map:function map(t){return t;},step:i});};_proto25[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this.iterNodeCarets("root");};return fs;}();var _ds=function(){function ds(t,e){this.type="slice";this.caret=t,this.distance=e;}var _proto26=ds.prototype;_proto26.getSliceIndices=function getSliceIndices(){var t=this.distance,e=this.caret.offset,n=e+t;return n<e?[n,e]:[e,n];};_proto26.getTextContent=function getTextContent(){var _this$getSliceIndices=this.getSliceIndices(),t=_this$getSliceIndices[0],e=_this$getSliceIndices[1];return this.caret.origin.getTextContent().slice(t,e);};_proto26.getTextContentSize=function getTextContentSize(){return Math.abs(this.distance);};_proto26.removeTextSlice=function removeTextSlice(){var _this$caret=this.caret,t=_this$caret.origin,e=_this$caret.direction,_this$getSliceIndices2=this.getSliceIndices(),n=_this$getSliceIndices2[0],r=_this$getSliceIndices2[1],i=t.getTextContent();return os(t.setTextContent(i.slice(0,n)+i.slice(r)),e,n);};return ds;}();function hs(t){return ps(t,is(Fi(),t.direction));}function gs(t){return ps(t,t);}function ps(e,n){return e.direction!==n.direction&&t(265),new _fs(e,n,e.direction);}function _s(t){var _ref23;var e=t.initial,n=t.hasNext,r=t.step,i=t.map;var o=e;return _ref23={},_ref23[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]=function(){return this;},_ref23.next=function next(){if(!n(o))return{done:!0,value:void 0};var t={done:!1,value:i(o)};return o=r(o),t;},_ref23;}function ys(e,n){var r=Ss(e.origin,n.origin);switch(null===r&&t(275,e.origin.getKey(),n.origin.getKey()),r.type){case"same":{var _t178="text"===e.type,_r66="text"===n.type;return _t178&&_r66?function(t,e){return Math.sign(t-e);}(e.offset,n.offset):e.type===n.type?0:_t178?-1:_r66?1:"child"===e.type?-1:1;}case"ancestor":return"child"===e.type?-1:1;case"descendant":return"child"===n.type?1:-1;case"branch":return ms(r);}}function ms(t){var e=t.a,n=t.b,r=e.__key,i=n.__key;var o=e,s=n;for(;o&&s;o=o.getNextSibling(),s=s.getNextSibling()){if(o.__key===i)return-1;if(s.__key===r)return 1;}return null===o?1:-1;}function xs(t,e){return e.is(t);}function Cs(t){return $r(t)?[t.getLatest(),null]:[t.getParent(),t.getLatest()];}function Ss(e,n){if(e.is(n))return{commonAncestor:e,type:"same"};var r=new Map();for(var _Cs=Cs(e),_t179=_Cs[0],_n82=_Cs[1];_t179;_n82=_t179,_t179=_t179.getParent())r.set(_t179,_n82);for(var _Cs2=Cs(n),_i50=_Cs2[0],_o29=_Cs2[1];_i50;_o29=_i50,_i50=_i50.getParent()){var _s15=r.get(_i50);if(void 0!==_s15)return null===_s15?(xs(e,_i50)||t(276),{commonAncestor:_i50,type:"ancestor"}):null===_o29?(xs(n,_i50)||t(277),{commonAncestor:_i50,type:"descendant"}):(($r(_s15)||xs(e,_s15))&&($r(_o29)||xs(n,_o29))&&_i50.is(_s15.getParent())&&_i50.is(_o29.getParent())||t(278),{a:_s15,b:_o29,commonAncestor:_i50,type:"branch"});}return null;}function Ns(e,n){var r=e.type,i=e.key,o=e.offset,s=So(e.key);return"text"===r?(wn(s)||t(266,s.getType(),i),os(s,n,o)):($r(s)||t(267,s.getType(),i),Ls(s,e.offset,n));}function Ts(e,n){var r=n.origin,i=n.direction,o="next"===i;Qo(n)?e.set(r.getKey(),n.offset,"text"):Zo(n)?wn(r)?e.set(r.getKey(),ss(r,i),"text"):e.set(r.getParentOrThrow().getKey(),r.getIndexWithinParent()+(o?1:0),"element"):(ts(n)&&$r(r)||t(268),e.set(r.getKey(),o?0:r.getChildrenSize(),"element"));}function vs(t){var e=rr(),n=zn(e)?e:tr();return ks(n,t),Ki(n),n;}function ks(t,e){Ts(t.anchor,e.anchor),Ts(t.focus,e.focus);}function bs(t){var e=t.anchor,n=t.focus,r=Ns(e,"next"),i=Ns(n,"next"),o=ys(r,i)<=0?"next":"previous";return ps(Ps(r,o),Ps(i,o));}function Es(t){var e=t.direction,n=t.origin,r=is(n,Vo(e)).getNodeAtCaret();return r?is(r,e):cs(n.getParentOrThrow(),e);}function Os(t,e){if(e===void 0){e="root";}var n=[t];for(var _r67=ts(t)?t.getParentCaret(e):t.getSiblingCaret();null!==_r67;_r67=_r67.getParentCaret(e))n.push(Es(_r67));return n;}function Ms(t){return!!t&&t.origin.isAttached();}function As(e,n){if(n===void 0){n="removeEmptySlices";}if(e.isCollapsed())return e;var r="root",i="next";var o=n;var s=Is(e,i),l=Os(s.anchor,r),c=Os(s.focus.getFlipped(),r),a=new Set(),u=[];for(var _t180 of s.iterNodeCarets(r))if(ts(_t180))a.add(_t180.origin.getKey());else if(Zo(_t180)){var _e115=_t180.origin;$r(_e115)&&!a.has(_e115.getKey())||u.push(_e115);}for(var _t181 of u)_t181.remove();for(var _t182 of s.getTextSlices()){if(!_t182)continue;var _e116=_t182.caret.origin,_n83=_e116.getTextContentSize(),_r68=Es(is(_e116,i)),_s16=_e116.getMode();if(Math.abs(_t182.distance)===_n83&&"removeEmptySlices"===o||"token"===_s16&&0!==_t182.distance)_r68.remove();else if(0!==_t182.distance){o="removeEmptySlices";var _e117=_t182.removeTextSlice();var _n84=_t182.caret.origin;if("segmented"===_s16){var _t183=_e117.origin,_n85=An(_t183.getTextContent()).setStyle(_t183.getStyle()).setFormat(_t183.getFormat());_r68.replaceOrInsert(_n85),_e117=os(_n85,i,_e117.offset);}_n84.is(l[0].origin)&&(l[0]=_e117),_n84.is(c[0].origin)&&(c[0]=_e117.getFlipped());}}var f,d;for(var _t184 of l)if(Ms(_t184)){f=ws(_t184);break;}for(var _t185 of c)if(Ms(_t185)){d=ws(_t185);break;}var h=function(t,e,n){if(!t||!e)return null;var r=t.getParentAtCaret(),i=e.getParentAtCaret();if(!r||!i)return null;var o=r.getParents().reverse();o.push(r);var s=i.getParents().reverse();s.push(i);var l=Math.min(o.length,s.length);var c;for(c=0;c<l&&o[c]===s[c];c++);var a=function a(t,e){var n;for(var _r69=c;_r69<t.length;_r69++){var _i51=t[_r69];if(yo(_i51))return;!n&&e(_i51)&&(n=_i51);}return n;},u=a(o,wo),f=u&&a(s,function(t){return n.has(t.getKey())&&wo(t);});return u&&f?[u,f]:null;}(f,d,a);if(h){var _t186=h[0],_e118=h[1];cs(_t186,"previous").splice(0,_e118.getChildren()),_e118.remove();}var g=[f,d].concat(l,c).find(Ms);if(g){return gs(Ps(ws(g),e.direction));}t(269,JSON.stringify(l.map(function(t){return t.origin.__key;})));}function ws(t){var e=function(t){var e=t;for(;ts(e);){var _t187=us(e);if(!ts(_t187))break;e=_t187;}return e;}(t.getLatest()),n=e.direction;if(wn(e.origin))return Qo(e)?e:os(e.origin,n,n);var r=e.getAdjacentCaret();return Zo(r)&&wn(r.origin)?os(r.origin,n,Vo(n)):e;}function Ds(t){return Qo(t)&&t.offset!==ss(t.origin,t.direction);}function Ps(t,e){return t.direction===e?t:t.getFlipped();}function Is(t,e){return t.direction===e?t:ps(Ps(t.focus,e),Ps(t.anchor,e));}function Ls(t,e,n){var r=cs(t,"next");for(var _t188=0;_t188<e;_t188++){var _t189=r.getAdjacentCaret();if(null===_t189)break;r=_t189;}return Ps(r,n);}function Fs(e){var n=e.origin,r=e.offset,i=e.direction;if(r===ss(n,i))return e.getSiblingCaret();if(r===ss(n,Vo(i)))return Es(e.getSiblingCaret());var _n$splitText=n.splitText(r),o=_n$splitText[0];return wn(o)||t(281),Ps(is(o,"next"),i);}function Rs(t,e){return!0;}exports.$addUpdateTag=uo,exports.$applyNodeReplacement=xo,exports.$caretFromPoint=Ns,exports.$caretRangeFromSelection=bs,exports.$cloneWithProperties=Ro,exports.$comparePointCaretNext=ys,exports.$copyNode=mo,exports.$create=function(t){var e=Po();return Sr(),new(e.resolveRegisteredNodeAfterReplacements(e.getRegisteredNode(t)).klass)();},exports.$createLineBreakNode=dn,exports.$createNodeSelection=er,exports.$createParagraphNode=ri,exports.$createPoint=Rn,exports.$createRangeSelection=tr,exports.$createRangeSelectionFromDom=function(t,e){return nr(null,t,e,null);},exports.$createTabNode=In,exports.$createTextNode=An,exports.$extendCaretToRange=hs,exports.$findMatchingParent=Uo,exports.$getAdjacentChildCaret=us,exports.$getAdjacentNode=ro,exports.$getAdjacentSiblingOrParentSiblingCaret=function(t,e){if(e===void 0){e="root";}var n=0,r=t,i=us(r);for(;null===i;){if(n--,i=r.getParentCaret(e),!i)return null;r=i,i=us(r);}return i&&[i,n];},exports.$getCaretInDirection=Ps,exports.$getCaretRange=ps,exports.$getCaretRangeInDirection=Is,exports.$getCharacterOffsets=Yn,exports.$getChildCaret=cs,exports.$getChildCaretAtIndex=Ls,exports.$getChildCaretOrSelf=as,exports.$getCollapsedCaretRange=gs,exports.$getCommonAncestor=Ss,exports.$getCommonAncestorResultBranchOrder=ms,exports.$getEditor=Po,exports.$getNearestNodeFromDOMNode=Pi,exports.$getNearestRootOrShadowRoot=_o,exports.$getNodeByKey=Ai,exports.$getNodeByKeyOrThrow=So,exports.$getPreviousSelection=ir,exports.$getRoot=Fi,exports.$getSelection=rr,exports.$getSiblingCaret=is,exports.$getState=Y,exports.$getStateChange=function(t,e,n){var r=Y(t,n,"direct"),i=Y(e,n,"direct");return n.isEqual(r,i)?null:[r,i];},exports.$getTextContent=function(){var t=rr();return null===t?"":t.getTextContent();},exports.$getTextNodeOffset=ss,exports.$getTextPointCaret=os,exports.$getTextPointCaretSlice=ls,exports.$getWritableNodeState=V,exports.$hasAncestor=ho,exports.$hasUpdateTag=function(t){return vr()._updateTags.has(t);},exports.$insertNodes=function(t){var e=rr()||ir();null===e&&(e=Fi().selectEnd()),e.insertNodes(t);},exports.$isBlockElementNode=function(t){return $r(t)&&!t.isInline();},exports.$isChildCaret=ts,exports.$isDecoratorNode=Ur,exports.$isElementNode=$r,exports.$isExtendableTextPointCaret=Ds,exports.$isInlineElementOrDecoratorNode=function(t){return $r(t)&&t.isInline()||Ur(t)&&t.isInline();},exports.$isLeafNode=function(t){return wn(t)||hn(t)||Ur(t);},exports.$isLineBreakNode=hn,exports.$isNodeCaret=function(t){return t instanceof _Yo4;},exports.$isNodeSelection=Un,exports.$isParagraphNode=ii,exports.$isRangeSelection=zn,exports.$isRootNode=Yr,exports.$isRootOrShadowRoot=yo,exports.$isSiblingCaret=Zo,exports.$isTabNode=Ln,exports.$isTextNode=wn,exports.$isTextPointCaret=Qo,exports.$isTextPointCaretSlice=function(t){return t instanceof _ds;},exports.$isTokenOrSegmented=Ci,exports.$isTokenOrTab=xi,exports.$nodesOfType=function(t){var e=t.getType(),n=Tr();if(n._readOnly){var _t190=Fo(n).get(e);return _t190?Array.from(_t190.values()):[];}var r=n._nodeMap,i=[];for(var _ref25 of r){var _n86=_ref25[1];_n86 instanceof t&&_n86.__type===e&&_n86.isAttached()&&i.push(_n86);}return i;},exports.$normalizeCaret=ws,exports.$normalizeSelection__EXPERIMENTAL=it,exports.$onUpdate=fo,exports.$parseSerializedNode=function(t){return Ar(t,vr()._nodes);},exports.$removeTextFromCaretRange=As,exports.$rewindSiblingCaret=Es,exports.$selectAll=function(t){var e=Fi();if(zn(t)){var _e119=t.anchor,_n87=t.focus,_r70=_e119.getNode().getTopLevelElementOrThrow().getParentOrThrow();return _e119.set(_r70.getKey(),0,"element"),_n87.set(_r70.getKey(),_r70.getChildrenSize(),"element"),it(t),t;}{var _t191=e.select(0,e.getChildrenSize());return Ki(it(_t191)),_t191;}},exports.$setCompositionKey=Oi,exports.$setPointFromCaret=Ts,exports.$setSelection=Ki,exports.$setSelectionFromCaretRange=vs,exports.$setState=function(t,e,n){var r;if(Sr(),"function"==typeof n){var _i52=t.getLatest(),_o30=Y(_i52,e);if(r=n(_o30),e.isEqual(_o30,r))return _i52;}else r=n;var i=t.getWritable();return V(i).updateFromKnown(e,r),i;},exports.$splitAtPointCaretNext=function(t,_temp){var _ref26=_temp===void 0?{}:_temp,_ref26$$copyElementNo=_ref26.$copyElementNode,e=_ref26$$copyElementNo===void 0?mo:_ref26$$copyElementNo,_ref26$$splitTextPoin=_ref26.$splitTextPointCaretNext,n=_ref26$$splitTextPoin===void 0?Fs:_ref26$$splitTextPoin,_ref26$rootMode=_ref26.rootMode,r=_ref26$rootMode===void 0?"shadowRoot":_ref26$rootMode,_ref26$$shouldSplit=_ref26.$shouldSplit,i=_ref26$$shouldSplit===void 0?Rs:_ref26$$shouldSplit;if(Qo(t))return n(t);var o=t.getParentCaret(r);if(o){var _n88=o.origin;if(ts(t)&&(!_n88.canBeEmpty()||!i(_n88,"first")))return Es(o);var _r71=function(t){var e=[];for(var _n89=t.getAdjacentCaret();_n89;_n89=_n89.getAdjacentCaret())e.push(_n89.origin);return e;}(t);(_r71.length>0||_n88.canBeEmpty()&&i(_n88,"last"))&&o.insert(e(_n88).splice(0,0,_r71));}return o;},exports.$splitNode=function(e,n){var r=e.getChildAtIndex(n);null==r&&(r=e),yo(e)&&t(102);var _i55=function i(e){var n=e.getParentOrThrow(),o=yo(n),s=e!==r||o?mo(e):e;if(o)return $r(e)&&$r(s)||t(133),e.insertAfter(s),[e,s,s];{var _i54=_i55(n),_t192=_i54[0],_r72=_i54[1],_o31=_i54[2],_l10=e.getNextSiblings();return _o31.append.apply(_o31,[s].concat(_l10)),[_t192,_r72,s];}},_i53=_i55(r),o=_i53[0],s=_i53[1];return[o,s];},exports.$updateRangeSelectionFromCaretRange=ks,exports.ArtificialNode__DO_NOT_USE=_ti,exports.BLUR_COMMAND=Ae,exports.CAN_REDO_COMMAND=Ee,exports.CAN_UNDO_COMMAND=Oe,exports.CLEAR_EDITOR_COMMAND=ke,exports.CLEAR_HISTORY_COMMAND=be,exports.CLICK_COMMAND=Ut,exports.COLLABORATION_TAG=Xr,exports.COMMAND_PRIORITY_CRITICAL=4,exports.COMMAND_PRIORITY_EDITOR=0,exports.COMMAND_PRIORITY_HIGH=3,exports.COMMAND_PRIORITY_LOW=1,exports.COMMAND_PRIORITY_NORMAL=2,exports.CONTROLLED_TEXT_INSERTION_COMMAND=Ht,exports.COPY_COMMAND=Ne,exports.CUT_COMMAND=Te,exports.DELETE_CHARACTER_COMMAND=Jt,exports.DELETE_LINE_COMMAND=Xt,exports.DELETE_WORD_COMMAND=qt,exports.DRAGEND_COMMAND=Se,exports.DRAGOVER_COMMAND=Ce,exports.DRAGSTART_COMMAND=xe,exports.DROP_COMMAND=ye,exports.DecoratorNode=_Wr,exports.ElementNode=_Br4,exports.FOCUS_COMMAND=Me,exports.FORMAT_ELEMENT_COMMAND=me,exports.FORMAT_TEXT_COMMAND=Qt,exports.HISTORIC_TAG="historic",exports.HISTORY_MERGE_TAG=qr,exports.HISTORY_PUSH_TAG="history-push",exports.INDENT_CONTENT_COMMAND=pe,exports.INSERT_LINE_BREAK_COMMAND=Yt,exports.INSERT_PARAGRAPH_COMMAND=jt,exports.INSERT_TAB_COMMAND=ge,exports.INTERNAL_$isBlock=wo,exports.IS_ALL_FORMATTING=2047,exports.IS_BOLD=1,exports.IS_CODE=16,exports.IS_HIGHLIGHT=_,exports.IS_ITALIC=2,exports.IS_STRIKETHROUGH=4,exports.IS_SUBSCRIPT=32,exports.IS_SUPERSCRIPT=64,exports.IS_UNDERLINE=8,exports.KEY_ARROW_DOWN_COMMAND=le,exports.KEY_ARROW_LEFT_COMMAND=ie,exports.KEY_ARROW_RIGHT_COMMAND=ne,exports.KEY_ARROW_UP_COMMAND=se,exports.KEY_BACKSPACE_COMMAND=ue,exports.KEY_DELETE_COMMAND=de,exports.KEY_DOWN_COMMAND=ee,exports.KEY_ENTER_COMMAND=ce,exports.KEY_ESCAPE_COMMAND=fe,exports.KEY_MODIFIER_COMMAND=we,exports.KEY_SPACE_COMMAND=ae,exports.KEY_TAB_COMMAND=he,exports.LineBreakNode=_un,exports.MOVE_TO_END=re,exports.MOVE_TO_START=oe,exports.NODE_STATE_KEY="$",exports.OUTDENT_CONTENT_COMMAND=_e,exports.PASTE_COMMAND=Vt,exports.PASTE_TAG="paste",exports.ParagraphNode=_ei,exports.REDO_COMMAND=te,exports.REMOVE_TEXT_COMMAND=Gt,exports.RootNode=_Jr,exports.SELECTION_CHANGE_COMMAND=zt,exports.SELECTION_INSERT_CLIPBOARD_NODES_COMMAND=Wt,exports.SELECT_ALL_COMMAND=ve,exports.SKIP_COLLAB_TAG="skip-collab",exports.SKIP_DOM_SELECTION_TAG=Zr,exports.SKIP_SCROLL_INTO_VIEW_TAG=Qr,exports.TEXT_TYPE_TO_FORMAT=b,exports.TabNode=_Pn,exports.TextNode=_Sn2,exports.UNDO_COMMAND=Zt,exports.buildImportMap=function(t){return t;},exports.createCommand=$t,exports.createEditor=function(t){var e=t||{},n=br(),r=e.theme||{},i=void 0===t?n:e.parentEditor||null,o=e.disableEvents||!1,s=Hr(),l=e.namespace||(null!==i?i._config.namespace:Wi()),c=e.editorState,a=[_Jr,_Sn2,_un,_Pn,_ei,_ti].concat(e.nodes||[]),u=e.onError,f=e.html,d=void 0===e.editable||e.editable;var h;if(void 0===t&&null!==n)h=n._nodes;else{h=new Map();for(var _t193=0;_t193<a.length;_t193++){var _e120=a[_t193],_n90=null,_r73=null;if("function"!=typeof _e120){var _t194=_e120;_e120=_t194.replace,_n90=_t194["with"],_r73=_t194.withKlass||null;}var _Wo3=Wo(_e120),_i56=_Wo3.ownNodeConfig,_o32=_e120.getType(),_s17=_e120.transform(),_l11=new Set();_i56&&_i56.$transform&&_l11.add(_i56.$transform),null!==_s17&&_l11.add(_s17),h.set(_o32,{exportDOM:f&&f["export"]?f["export"].get(_e120):void 0,klass:_e120,replace:_n90,replaceWithKlass:_r73,sharedNodeState:j(a[_t193]),transforms:_l11});}}var g=new _si(s,i,h,{disableEvents:o,namespace:l,theme:r},u||console.error,function(t,e){var n=new Map(),r=new Set(),i=function i(t){Object.keys(t).forEach(function(e){var r=n.get(e);void 0===r&&(r=[],n.set(e,r)),r.push(t[e]);});};return t.forEach(function(t){var e=t.klass.importDOM;if(null==e||r.has(e))return;r.add(e);var n=e.call(t.klass);null!==n&&i(n);}),e&&i(e),n;}(h,f?f["import"]:void 0),d,t);return void 0!==c&&(g._pendingEditorState=c,g._dirtyType=2),g;},exports.createSharedNodeState=j,exports.createState=function(t,e){return new J(t,e);},exports.flipDirection=Vo,exports.getDOMOwnerDocument=ao,exports.getDOMSelection=vo,exports.getDOMSelectionFromTarget=ko,exports.getDOMTextNode=Ti,exports.getEditorPropertyFromDOMNode=mi,exports.getNearestEditorFromDOMNode=yi,exports.getRegisteredNode=fi,exports.getRegisteredNodeOrThrow=ui,exports.getStaticNodeConfig=Wo,exports.isBlockDomNode=Ao,exports.isCurrentlyReadOnlyMode=Cr,exports.isDOMDocumentNode=Ni,exports.isDOMNode=Eo,exports.isDOMTextNode=Si,exports.isDOMUnmanaged=Bo,exports.isDocumentFragment=Oo,exports.isExactShortcutMatch=Gi,exports.isHTMLAnchorElement=function(t){return bo(t)&&"A"===t.tagName;},exports.isHTMLElement=bo,exports.isInlineDomNode=Mo,exports.isLexicalEditor=_i,exports.isModifierMatch=Vi,exports.isSelectionCapturedInDecoratorInput=gi,exports.isSelectionWithinEditor=pi,exports.makeStepwiseIterator=_s,exports.removeFromParent=bi,exports.resetRandomKey=function(){ai=1;},exports.setDOMUnmanaged=function(t){t.__lexicalUnmanaged=!0;},exports.setNodeIndentFromDOM=Ko;}),null);
__d("LexicalClipboard",["cr:862"],(function(a,b,c,d,e,f){e.exports=b("cr:862")}),null);
__d("LexicalHtml",["cr:1497"],(function(a,b,c,d,e,f){e.exports=b("cr:1497")}),null);
__d("LexicalSelection",["cr:2180"],(function(a,b,c,d,e,f){e.exports=b("cr:2180")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<72ccea9adf628bcebd7faae4d56781d1>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalClipboard.prod",["Lexical","LexicalHtml","LexicalSelection","LexicalUtils"],(function $module_LexicalClipboard_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function i(e){var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}function r(t,n){if(n===void 0){n=require("Lexical").$getSelection();}return null==n&&i(166),require("Lexical").$isRangeSelection(n)&&n.isCollapsed()||0===n.getNodes().length?"":require("LexicalHtml").$generateHtmlFromNodes(t,n);}function l(e,t){if(t===void 0){t=require("Lexical").$getSelection();}return null==t&&i(166),require("Lexical").$isRangeSelection(t)&&t.isCollapsed()||0===t.getNodes().length?null:JSON.stringify(c(e,t));}function s(e,t,n){e.dispatchCommand(require("Lexical").SELECTION_INSERT_CLIPBOARD_NODES_COMMAND,{nodes:t,selection:n})||(n.insertNodes(t),function(e){if(require("Lexical").$isRangeSelection(e)&&e.isCollapsed()){var _t=e.anchor;var _n=null;var _i=require("Lexical").$caretFromPoint(_t,"previous");if(_i)if(require("Lexical").$isTextPointCaret(_i))_n=_i.origin;else{var _e2=require("Lexical").$getCaretRange(_i,require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"next").getFlipped());for(var _t2 of _e2){if(require("Lexical").$isTextNode(_t2.origin)){_n=_t2.origin;break;}if(require("Lexical").$isElementNode(_t2.origin)&&!_t2.origin.isInline())break;}}if(_n&&require("Lexical").$isTextNode(_n)){var _t3=_n.getFormat(),_o=_n.getStyle();e.format===_t3&&e.style===_o||(e.format=_t3,e.style=_o,e.dirty=!0);}}}(n));}function a(e,n,r,l){if(l===void 0){l=[];}var s=null===n||r.isSelected(n);var c=require("Lexical").$isElementNode(r)&&r.excludeFromCopy("html");var d=r;if(null!==n){var _e3=require("Lexical").$cloneWithProperties(r);_e3=require("Lexical").$isTextNode(_e3)&&null!==n?require("LexicalSelection").$sliceSelectedTextNodeContent(n,_e3):_e3,d=_e3;}var u=require("Lexical").$isElementNode(d)?d.getChildren():[],f=function(e){var t=e.exportJSON(),n=e.constructor;if(t.type!==n.getType()&&i(58,n.name),require("Lexical").$isElementNode(e)){var _e4=t.children;Array.isArray(_e4)||i(59,n.name);}return t;}(d);if(require("Lexical").$isTextNode(d)){var _e5=d.__text;_e5.length>0?f.text=_e5:s=!1;}for(var _t4=0;_t4<u.length;_t4++){var _i2=u[_t4],_l=a(e,n,_i2,f.children);!s&&require("Lexical").$isElementNode(r)&&_l&&r.extractWithChild(_i2,n,"clone")&&(s=!0);}if(s&&!c)l.push(f);else if(Array.isArray(f.children))for(var _e6=0;_e6<f.children.length;_e6++){var _t5=f.children[_e6];l.push(_t5);}return s;}function c(e,t){var n=[],i=require("Lexical").$getRoot().getChildren();for(var _o2=0;_o2<i.length;_o2++){a(e,t,i[_o2],n);}return{namespace:e._config.namespace,nodes:n};}function d(e){var n=[];for(var _i3=0;_i3<e.length;_i3++){var _r=e[_i3],_l2=require("Lexical").$parseSerializedNode(_r);require("Lexical").$isTextNode(_l2)&&require("LexicalSelection").$addNodeStyle(_l2),n.push(_l2);}return n;}var u=null;function f(e,t,n){if(void 0===n){var _t6=require("Lexical").getDOMSelection(e._window);if(!_t6)return!1;var _i4=_t6.anchorNode,_r2=_t6.focusNode;if(null!==_i4&&null!==_r2&&!require("Lexical").isSelectionWithinEditor(e,_i4,_r2))return!1;var _l3=require("Lexical").$getSelection();if(null===_l3)return!1;n=g(_l3);}t.preventDefault();var i=t.clipboardData;return null!==i&&(x(i,n),!0);}var p=[["text/html",r],["application/x-lexical-editor",l]];function g(e){if(e===void 0){e=require("Lexical").$getSelection();}var t={"text/plain":e?e.getTextContent():""};if(e){var _n2=require("Lexical").$getEditor();for(var _ref2 of p){var _o3=_ref2[0];var _i5=_ref2[1];{var _r3=_i5(_n2,e);null!==_r3&&(t[_o3]=_r3);}}}return t;}function x(e,t){for(var _n3 in t){var _o4=t[_n3];void 0!==_o4&&e.setData(_n3,_o4);}}exports.$generateJSONFromSelectedNodes=c,exports.$generateNodesFromSerializedNodes=d,exports.$getClipboardDataFromSelection=g,exports.$getHtmlContent=r,exports.$getLexicalContent=l,exports.$insertDataTransferForPlainText=function(e,t){var n=e.getData("text/plain")||e.getData("text/uri-list");null!=n&&t.insertRawText(n);},exports.$insertDataTransferForRichText=function(t,n,i){var r=t.getData("application/x-lexical-editor");if(r)try{var _e7=JSON.parse(r);if(_e7.namespace===i._config.namespace&&Array.isArray(_e7.nodes)){return s(i,d(_e7.nodes),n);}}catch(e){}var l=t.getData("text/html"),a=t.getData("text/plain");if(l&&a!==l)try{var _t7=new DOMParser().parseFromString(function(e){if(window.trustedTypes&&window.trustedTypes.createPolicy){return window.trustedTypes.createPolicy("Lexical",{createHTML:function createHTML(e){return e;}}).createHTML(e);}return e;}(l),"text/html");return s(i,require("LexicalHtml").$generateNodesFromDOM(i,_t7),n);}catch(e){}var c=a||t.getData("text/uri-list");if(null!=c)if(require("Lexical").$isRangeSelection(n)){var _e8=c.split(/(\r?\n|\t)/);""===_e8[_e8.length-1]&&_e8.pop();for(var _t8=0;_t8<_e8.length;_t8++){var _n4=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_n4)){var _i6=_e8[_t8];"\n"===_i6||"\r\n"===_i6?_n4.insertParagraph():"\t"===_i6?_n4.insertNodes([require("Lexical").$createTabNode()]):_n4.insertText(_i6);}}}else n.insertRawText(c);},exports.$insertGeneratedNodes=s,exports.copyToClipboard=async function(e,t,i){if(null!==u)return!1;if(null!==t)return new Promise(function(n,o){e.update(function(){n(f(e,t,i));});});var r=e.getRootElement(),l=e._window||window,s=window.document,a=require("Lexical").getDOMSelection(l);if(null===r||null===a)return!1;var c=s.createElement("span");c.style.cssText="position: fixed; top: -1000px;",c.append(s.createTextNode("#")),r.append(c);var d=new Range();return d.setStart(c,0),d.setEnd(c,1),a.removeAllRanges(),a.addRange(d),new Promise(function(t,r){var l=e.registerCommand(require("Lexical").COPY_COMMAND,function(o){return require("LexicalUtils").objectKlassEquals(o,ClipboardEvent)&&(l(),null!==u&&(window.clearTimeout(u),u=null),t(f(e,o,i))),!0;},require("Lexical").COMMAND_PRIORITY_CRITICAL);u=window.setTimeout(function(){l(),u=null,t(!1);},50),s.execCommand("copy"),c.remove();});},exports.setLexicalClipboardDataTransfer=x;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<d4f4df497abc7b85a16c829825c1c083>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalComposerContext.prod",["react"],(function $module_LexicalComposerContext_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var e=_require_closure_react||(_require_closure_react=require("react"));var n=e.createContext(null);exports.LexicalComposerContext=n,exports.createLexicalComposerContext=function(e,n){var t=null;return null!=e&&(t=e[1]),{getTheme:function getTheme(){return null!=n?n:null!=t?t.getTheme():null;}};},exports.useLexicalComposerContext=function(){var t=e.useContext(n);return null==t&&function(e){var t=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,n=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){n[_key-1]=arguments[_key];}for(var _e of n)r.append("v",_e);throw t.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+t.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(8),t;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<064669292766cfc777349c92cd1b8980>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalContentEditable.prod",["LexicalComposerContext","LexicalText","LexicalUtils","react"],(function $module_LexicalContentEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _excluded=["editor","ariaActiveDescendant","ariaAutoComplete","ariaControls","ariaDescribedBy","ariaErrorMessage","ariaExpanded","ariaInvalid","ariaLabel","ariaLabelledBy","ariaMultiline","ariaOwns","ariaRequired","autoCapitalize","className","id","role","spellCheck","style","tabIndex","data-testid"],_excluded2=["placeholder"];var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react")),a=_require_closure_react;var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function o(_ref,q){var e=_ref.editor,i=_ref.ariaActiveDescendant,r=_ref.ariaAutoComplete,o=_ref.ariaControls,l=_ref.ariaDescribedBy,s=_ref.ariaErrorMessage,d=_ref.ariaExpanded,u=_ref.ariaInvalid,c=_ref.ariaLabel,f=_ref.ariaLabelledBy,b=_ref.ariaMultiline,m=_ref.ariaOwns,x=_ref.ariaRequired,E=_ref.autoCapitalize,p=_ref.className,C=_ref.id,_ref$role=_ref.role,v=_ref$role===void 0?"textbox":_ref$role,_ref$spellCheck=_ref.spellCheck,w=_ref$spellCheck===void 0?!0:_ref$spellCheck,y=_ref.style,L=_ref.tabIndex,g=_ref["data-testid"],h=babelHelpers.objectWithoutPropertiesLoose(_ref,_excluded);var _t$useState=t.useState(e.isEditable()),R=_t$useState[0],j=_t$useState[1],S=t.useCallback(function(t){t&&t.ownerDocument&&t.ownerDocument.defaultView?e.setRootElement(t):e.setRootElement(null);},[e]),D=t.useMemo(function(){return function(){for(var _len=arguments.length,e=new Array(_len),_key=0;_key<_len;_key++){e[_key]=arguments[_key];}return function(t){e.forEach(function(e){"function"==typeof e?e(t):null!=e&&(e.current=t);});};}(q,S);},[S,q]);return n(function(){return j(e.isEditable()),e.registerEditableListener(function(e){j(e);});},[e]),a.jsx("div",babelHelpers["extends"]({"aria-activedescendant":R?i:void 0,"aria-autocomplete":R?r:"none","aria-controls":R?o:void 0,"aria-describedby":l},null!=s?{"aria-errormessage":s}:{},{"aria-expanded":R&&"combobox"===v?!!d:void 0},null!=u?{"aria-invalid":u}:{},{"aria-label":c,"aria-labelledby":f,"aria-multiline":b,"aria-owns":R?m:void 0,"aria-readonly":!R||void 0,"aria-required":x,autoCapitalize:E,className:p,contentEditable:R,"data-testid":g,id:C,ref:D,role:v,spellCheck:w,style:y,tabIndex:L},h));}var l=t.forwardRef(o);function s(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}var d=t.forwardRef(u);function u(t,i){var r=t.placeholder,n=babelHelpers.objectWithoutPropertiesLoose(t,_excluded2),_e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),o=_e$useLexicalComposer[0];return a.jsxs(a.Fragment,{children:[a.jsx(l,babelHelpers["extends"]({editor:o},n,{ref:i})),null!=r&&a.jsx(c,{editor:o,content:r})]});}function c(_ref2){var e=_ref2.content,i=_ref2.editor;var o=function(e){var _t$useState3=t.useState(function(){return s(e);}),a=_t$useState3[0],i=_t$useState3[1];return n(function(){function t(){var t=s(e);i(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),a;}(i),_t$useState2=t.useState(i.isEditable()),l=_t$useState2[0],d=_t$useState2[1];if(t.useLayoutEffect(function(){return d(i.isEditable()),i.registerEditableListener(function(e){d(e);});},[i]),!o)return null;var u=null;return"function"==typeof e?u=e(l):null!==e&&(u=e),null===u?null:a.jsx("div",{"aria-hidden":!0,children:u});}exports.ContentEditable=d,exports.ContentEditableElement=l;}),null);
__d("LexicalDragon",["cr:2903"],(function(a,b,c,d,e,f){e.exports=b("cr:2903")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<be87bde046b05d0fc0ce15d200f911ca>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalDragon.prod",["Lexical"],(function $module_LexicalDragon_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";exports.registerDragonSupport=function(t){var n=window.location.origin,o=function o(_o){if(_o.origin!==n)return;var i=t.getRootElement();if(document.activeElement!==i)return;var s=_o.data;if("string"==typeof s){var _n;try{_n=JSON.parse(s);}catch(e){return;}if(_n&&"nuanria_messaging"===_n.protocol&&"request"===_n.type){var _i=_n.payload;if(_i&&"makeChanges"===_i.functionId){var _n2=_i.args;if(_n2){var _i2=_n2[0],_s=_n2[1],r=_n2[2],a=_n2[3],c=_n2[4];t.update(function(){var t=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(t)){var _n3=t.anchor;var g=_n3.getNode(),d=0,u=0;if(require("Lexical").$isTextNode(g)&&_i2>=0&&_s>=0&&(d=_i2,u=_i2+_s,t.setTextNodeRange(g,d,g,u)),d===u&&""===r||(t.insertRawText(r),g=_n3.getNode()),require("Lexical").$isTextNode(g)){d=a,u=a+c;var _e=g.getTextContentSize();d=d>_e?_e:d,u=u>_e?_e:u,t.setTextNodeRange(g,d,g,u);}_o.stopImmediatePropagation();}});}}}}};return window.addEventListener("message",o,!0),function(){window.removeEventListener("message",o,!0);};};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<8b32dcd549c6b7ea9962dabb51282dec>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalErrorBoundary.prod",["react"],(function $module_LexicalErrorBoundary_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react")),e=_require_closure_react;function t(r){var e=Object.create(null);if(r)for(var t in r)e[t]=r[t];return e["default"]=r,e;}var n=t(r);function o(r,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,e){return r.__proto__=e,r;},o(r,e);}var a={error:null},i=function(r){var e,t;function i(){for(var e,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return(e=r.call.apply(r,[this].concat(n))||this).state=a,e.resetErrorBoundary=function(){for(var r,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];null==e.props.onReset||(r=e.props).onReset.apply(r,n),e.reset();},e;}t=r,(e=i).prototype=Object.create(t.prototype),e.prototype.constructor=e,o(e,t),i.getDerivedStateFromError=function(r){return{error:r};};var l=i.prototype;return l.reset=function(){this.setState(a);},l.componentDidCatch=function(r,e){var t,n;null==(t=(n=this.props).onError)||t.call(n,r,e);},l.componentDidUpdate=function(r,e){var t,n,o,a,i=this.state.error,l=this.props.resetKeys;null!==i&&null!==e.error&&(void 0===(o=r.resetKeys)&&(o=[]),void 0===(a=l)&&(a=[]),o.length!==a.length||o.some(function(r,e){return!Object.is(r,a[e]);}))&&(null==(t=(n=this.props).onResetKeysChange)||t.call(n,r.resetKeys,l),this.reset());},l.render=function(){var r=this.state.error,e=this.props,t=e.fallbackRender,o=e.FallbackComponent,a=e.fallback;if(null!==r){var i={error:r,resetErrorBoundary:this.resetErrorBoundary};if(n.isValidElement(a))return a;if("function"==typeof t)return t(i);if(o)return n.createElement(o,i);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop");}return this.props.children;},i;}(n.Component);exports.LexicalErrorBoundary=function(_ref){var r=_ref.children,t=_ref.onError;return e.jsx(i,{fallback:e.jsx("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"},children:"An error was thrown."}),onError:t,children:r});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<c0b0c1ef6bc1e0ee5dc26b14935cb9c7>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHashtag.prod",["Lexical","LexicalUtils"],(function $module_LexicalHashtag_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _r2=function(_t$TextNode){function r(){return _t$TextNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(r,_t$TextNode);r.getType=function getType(){return"hashtag";};r.clone=function clone(e){return new r(e.__text,e.__key);};var _proto=r.prototype;_proto.createDOM=function createDOM(t){var _r=_t$TextNode.prototype.createDOM.call(this,t);return require("LexicalUtils").addClassNamesToElement(_r,t.theme.hashtag),_r;};r.importJSON=function importJSON(e){return a().updateFromJSON(e);};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.isTextEntity=function isTextEntity(){return!0;};return r;}(require("Lexical").TextNode);function a(e){if(e===void 0){e="";}return require("Lexical").$applyNodeReplacement(new _r2(e));}exports.$createHashtagNode=a,exports.$isHashtagNode=function(e){return e instanceof _r2;},exports.HashtagNode=_r2;}),null);
__d("LexicalHistory",["cr:2904"],(function(a,b,c,d,e,f){e.exports=b("cr:2904")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<a4e75d98d5c200f319ab621ceecc265d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalHistoryPlugin.prod",["LexicalComposerContext","LexicalHistory","react"],(function $module_LexicalHistoryPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var r=_require_closure_react||(_require_closure_react=require("react"));exports.createEmptyHistoryState=require("LexicalHistory").createEmptyHistoryState,exports.HistoryPlugin=function(_ref){var o=_ref.delay,s=_ref.externalHistoryState;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0];return function(e,o,s){if(s===void 0){s=1e3;}var i=r.useMemo(function(){return o||require("LexicalHistory").createEmptyHistoryState();},[o]);r.useEffect(function(){return require("LexicalHistory").registerHistory(e,i,s);},[s,e,i]);}(i,s,o),null;};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<87b967b4f2ba68f15ab1ed639884467c>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalLink.prod",["Lexical","LexicalUtils"],(function $module_LexicalLink_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var n=new Set(["http:","https:","mailto:","sms:","tel:"]);var _r9=function(_e$ElementNode){function r(t,e,n){var _this;if(t===void 0){t="";}if(e===void 0){e={};}_this=_e$ElementNode.call(this,n)||this;var _e=e,_e$target=_e.target,_r=_e$target===void 0?null:_e$target,_e$rel=_e.rel,i=_e$rel===void 0?null:_e$rel,_e$title=_e.title,s=_e$title===void 0?null:_e$title;_this.__url=t,_this.__target=_r,_this.__rel=i,_this.__title=s;return _this;}babelHelpers.inheritsLoose(r,_e$ElementNode);r.getType=function getType(){return"link";};r.clone=function clone(t){return new r(t.__url,{rel:t.__rel,target:t.__target,title:t.__title},t.__key);};var _proto=r.prototype;_proto.createDOM=function createDOM(e){var n=document.createElement("a");return this.updateLinkDOM(null,n,e),require("LexicalUtils").addClassNamesToElement(n,e.theme.link),n;};_proto.updateLinkDOM=function updateLinkDOM(e,n,_r2){if(require("LexicalUtils").isHTMLAnchorElement(n)){e&&e.__url===this.__url||(n.href=this.sanitizeUrl(this.__url));for(var _t of["target","rel","title"]){var _r3="__"+_t,_i=this[_r3];e&&e[_r3]===_i||(_i?n[_t]=_i:n.removeAttribute(_t));}}};_proto.updateDOM=function updateDOM(t,e,n){return this.updateLinkDOM(t,e,n),!1;};r.importDOM=function importDOM(){return{a:function a(t){return{conversion:i,priority:1};}};};r.importJSON=function importJSON(t){return s().updateFromJSON(t);};_proto.updateFromJSON=function updateFromJSON(t){return _e$ElementNode.prototype.updateFromJSON.call(this,t).setURL(t.url).setRel(t.rel||null).setTarget(t.target||null).setTitle(t.title||null);};_proto.sanitizeUrl=function sanitizeUrl(t){t=f(t);try{var _e2=new URL(f(t));if(!n.has(_e2.protocol))return"about:blank";}catch(e){return t;}return t;};_proto.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_e$ElementNode.prototype.exportJSON.call(this),{rel:this.getRel(),target:this.getTarget(),title:this.getTitle(),url:this.getURL()});};_proto.getURL=function getURL(){return this.getLatest().__url;};_proto.setURL=function setURL(t){var e=this.getWritable();return e.__url=t,e;};_proto.getTarget=function getTarget(){return this.getLatest().__target;};_proto.setTarget=function setTarget(t){var e=this.getWritable();return e.__target=t,e;};_proto.getRel=function getRel(){return this.getLatest().__rel;};_proto.setRel=function setRel(t){var e=this.getWritable();return e.__rel=t,e;};_proto.getTitle=function getTitle(){return this.getLatest().__title;};_proto.setTitle=function setTitle(t){var e=this.getWritable();return e.__title=t,e;};_proto.insertNewAfter=function insertNewAfter(t,e){if(e===void 0){e=!0;}var n=s(this.__url,{rel:this.__rel,target:this.__target,title:this.__title});return this.insertAfter(n,e),n;};_proto.canInsertTextBefore=function canInsertTextBefore(){return!1;};_proto.canInsertTextAfter=function canInsertTextAfter(){return!1;};_proto.canBeEmpty=function canBeEmpty(){return!1;};_proto.isInline=function isInline(){return!0;};_proto.extractWithChild=function extractWithChild(t,n,_r4){if(!require("Lexical").$isRangeSelection(n))return!1;var i=n.anchor.getNode(),s=n.focus.getNode();return this.isParentOf(i)&&this.isParentOf(s)&&n.getTextContent().length>0;};_proto.isEmailURI=function isEmailURI(){return this.__url.startsWith("mailto:");};_proto.isWebSiteURI=function isWebSiteURI(){return this.__url.startsWith("https://")||this.__url.startsWith("http://");};return r;}(require("Lexical").ElementNode);function i(e){var n=null;if(require("LexicalUtils").isHTMLAnchorElement(e)){var _t2=e.textContent;(null!==_t2&&""!==_t2||e.children.length>0)&&(n=s(e.getAttribute("href")||"",{rel:e.getAttribute("rel"),target:e.getAttribute("target"),title:e.getAttribute("title")}));}return{node:n};}function s(t,n){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new _r9(t,n));}function l(t){return t instanceof _r9;}var _o=function(_r5){function o(t,e,n){var _this2;if(t===void 0){t="";}if(e===void 0){e={};}_this2=_r5.call(this,t,e,n)||this,_this2.__isUnlinked=void 0!==e.isUnlinked&&null!==e.isUnlinked&&e.isUnlinked;return _this2;}babelHelpers.inheritsLoose(o,_r5);o.getType=function getType(){return"autolink";};o.clone=function clone(t){return new o(t.__url,{isUnlinked:t.__isUnlinked,rel:t.__rel,target:t.__target,title:t.__title},t.__key);};var _proto2=o.prototype;_proto2.getIsUnlinked=function getIsUnlinked(){return this.__isUnlinked;};_proto2.setIsUnlinked=function setIsUnlinked(t){var e=this.getWritable();return e.__isUnlinked=t,e;};_proto2.createDOM=function createDOM(t){return this.__isUnlinked?document.createElement("span"):_r5.prototype.createDOM.call(this,t);};_proto2.updateDOM=function updateDOM(t,e,n){return _r5.prototype.updateDOM.call(this,t,e,n)||t.__isUnlinked!==this.__isUnlinked;};o.importJSON=function importJSON(t){return a().updateFromJSON(t);};_proto2.updateFromJSON=function updateFromJSON(t){return _r5.prototype.updateFromJSON.call(this,t).setIsUnlinked(t.isUnlinked||!1);};o.importDOM=function importDOM(){return null;};_proto2.exportJSON=function exportJSON(){return babelHelpers["extends"]({},_r5.prototype.exportJSON.call(this),{isUnlinked:this.__isUnlinked});};_proto2.insertNewAfter=function insertNewAfter(t,n){if(n===void 0){n=!0;}var r=this.getParentOrThrow().insertNewAfter(t,n);if(require("Lexical").$isElementNode(r)){var _t3=a(this.__url,{isUnlinked:this.__isUnlinked,rel:this.__rel,target:this.__target,title:this.__title});return r.append(_t3),_t3;}return null;};return o;}(_r9);function a(t,n){if(t===void 0){t="";}return require("Lexical").$applyNodeReplacement(new _o(t,n));}function u(t){return t instanceof _o;}var c=require("Lexical").createCommand("TOGGLE_LINK_COMMAND");function _(t,n){if("element"===t.type){var _r6=t.getNode();require("Lexical").$isElementNode(_r6)||function(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t4 of e)r.append("v",_t4);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}(252);return _r6.getChildren()[t.offset+n]||null;}return null;}function d(n,r){if(r===void 0){r={};}var _r7=r,i=_r7.target,o=_r7.title,a=void 0===r.rel?"noreferrer":r.rel,c=require("Lexical").$getSelection();if(null===c||!require("Lexical").$isRangeSelection(c)&&!require("Lexical").$isNodeSelection(c))return;if(require("Lexical").$isNodeSelection(c)){var _e3=c.getNodes();if(0===_e3.length)return;return void _e3.forEach(function(e){if(null===n){var _n=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});_n&&(_n.insertBefore(e),0===_n.getChildren().length&&_n.remove());}else{var _r8=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});if(_r8)_r8.setURL(n),void 0!==i&&_r8.setTarget(i),void 0!==a&&_r8.setRel(a);else{var _t5=s(n,{rel:a,target:i});e.insertBefore(_t5),_t5.append(e);}}});}var d=c.extract();if(null===n)return void d.forEach(function(e){var n=require("LexicalUtils").$findMatchingParent(e,function(t){return!u(t)&&l(t);});if(n){var _t6=n.getChildren();for(var _e4=0;_e4<_t6.length;_e4++)n.insertBefore(_t6[_e4]);n.remove();}});var g=new Set(),h=function h(t){g.has(t.getKey())||(g.add(t.getKey()),t.setURL(n),void 0!==i&&t.setTarget(i),void 0!==a&&t.setRel(a),void 0!==o&&t.setTitle(o));};if(1===d.length){var _e5=d[0],_n2=require("LexicalUtils").$findMatchingParent(_e5,l);if(null!==_n2)return h(_n2);}!function(t){var n=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(n))return t();var r=require("Lexical").$normalizeSelection__EXPERIMENTAL(n),i=r.isBackward(),s=_(r.anchor,i?-1:0),l=_(r.focus,i?0:-1),o=t();if(s||l){var _t7=require("Lexical").$getSelection();if(require("Lexical").$isRangeSelection(_t7)){var _n3=_t7.clone();if(s){var _t8=s.getParent();_t8&&_n3.anchor.set(_t8.getKey(),s.getIndexWithinParent()+(i?1:0),"element");}if(l){var _t9=l.getParent();_t9&&_n3.focus.set(_t9.getKey(),l.getIndexWithinParent()+(i?0:1),"element");}require("Lexical").$setSelection(require("Lexical").$normalizeSelection__EXPERIMENTAL(_n3));}}}(function(){var r=null;for(var _c of d){if(!_c.isAttached())continue;var _2=require("LexicalUtils").$findMatchingParent(_c,l);if(_2){h(_2);continue;}if(require("Lexical").$isElementNode(_c)){if(!_c.isInline())continue;if(l(_c)){if(!(u(_c)||null!==r&&r.getParentOrThrow().isParentOf(_c))){h(_c),r=_c;continue;}for(var _t0 of _c.getChildren())_c.insertBefore(_t0);_c.remove();continue;}}var _d=_c.getPreviousSibling();l(_d)&&_d.is(r)?_d.append(_c):(r=s(n,{rel:a,target:i,title:o}),_c.insertAfter(r),r.append(_c));}});}var g=d,h=/^\+?[0-9\s()-]{5,}$/;function f(t){return t.match(/^[a-z][a-z0-9+.-]*:/i)||t.match(/^[/#.]/)?t:t.includes("@")?"mailto:"+t:h.test(t)?"tel:"+t:"https://"+t;}exports.$createAutoLinkNode=a,exports.$createLinkNode=s,exports.$isAutoLinkNode=u,exports.$isLinkNode=l,exports.$toggleLink=d,exports.AutoLinkNode=_o,exports.LinkNode=_r9,exports.TOGGLE_LINK_COMMAND=c,exports.formatUrl=f,exports.toggleLink=g;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<889fab9f8ad393279a359a82953c304a>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalOverflow.prod",["Lexical"],(function $module_LexicalOverflow_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _r4=function(_e$ElementNode){function r(){return _e$ElementNode.apply(this,arguments)||this;}babelHelpers.inheritsLoose(r,_e$ElementNode);var _proto=r.prototype;_proto.$config=function $config(){return this.config("overflow",{$transform:function $transform(e){e.isEmpty()&&e.remove();},"extends":require("Lexical").ElementNode});};_proto.createDOM=function createDOM(e){var _r=document.createElement("span"),t=e.theme.characterLimit;return"string"==typeof t&&(_r.className=t),_r;};_proto.updateDOM=function updateDOM(e,_r2){return!1;};_proto.insertNewAfter=function insertNewAfter(e,_r3){if(_r3===void 0){_r3=!0;}return this.getParentOrThrow().insertNewAfter(e,_r3);};_proto.excludeFromCopy=function excludeFromCopy(){return!0;};return r;}(require("Lexical").ElementNode);exports.$createOverflowNode=function(){return require("Lexical").$applyNodeReplacement(new _r4());},exports.$isOverflowNode=function(e){return e instanceof _r4;},exports.OverflowNode=_r4;}),null);
__d("LexicalPlainText",["cr:2909"],(function(a,b,c,d,e,f){e.exports=b("cr:2909")}),null);
__d("useLexicalEditable",["cr:4793"],(function(a,b,c,d,e,f){e.exports=b("cr:4793")}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<e4a28d4359be5603b4b75b77b5696a6d>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalPlainTextPlugin.prod",["LexicalComposerContext","LexicalDragon","LexicalPlainText","LexicalText","LexicalUtils","ReactDOM","react","useLexicalEditable"],(function $module_LexicalPlainTextPlugin_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var o=_require_closure_react||(_require_closure_react=require("react")),c=_require_closure_react;var a="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function l(e){return e.getEditorState().read(require("LexicalText").$canShowPlaceholderCurry(e.isComposing()));}function d(_ref){var r=_ref.content;var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),i=_e$useLexicalComposer[0],c=function(e){var _o$useState=o.useState(function(){return l(e);}),t=_o$useState[0],r=_o$useState[1];return a(function(){function t(){var t=l(e);r(t);}return t(),require("LexicalUtils").mergeRegister(e.registerUpdateListener(function(){t();}),e.registerEditableListener(function(){t();}));},[e]),t;}(i),u=require("useLexicalEditable").useLexicalEditable();return c?"function"==typeof r?r(u):r:null;}exports.PlainTextPlugin=function(_ref2){var t=_ref2.contentEditable,_ref2$placeholder=_ref2.placeholder,r=_ref2$placeholder===void 0?null:_ref2$placeholder,l=_ref2.ErrorBoundary;var _e$useLexicalComposer2=require("LexicalComposerContext").useLexicalComposerContext(),x=_e$useLexicalComposer2[0],f=function(e,t){var _o$useState2=o.useState(function(){return e.getDecorators();}),r=_o$useState2[0],n=_o$useState2[1];return a(function(){return e.registerDecoratorListener(function(e){require("ReactDOM").flushSync(function(){n(e);});});},[e]),o.useEffect(function(){n(e.getDecorators());},[e]),o.useMemo(function(){var n=[],u=Object.keys(r);for(var _s=0;_s<u.length;_s++){var _a=u[_s],_l=c.jsx(t,{onError:function onError(t){return e._onError(t);},children:c.jsx(o.Suspense,{fallback:null,children:r[_a]})}),_d=e.getElementByKey(_a);null!==_d&&n.push(require("ReactDOM").createPortal(_l,_d,_a));}return n;},[t,r,e]);}(x,l);return function(e){a(function(){return require("LexicalUtils").mergeRegister(require("LexicalPlainText").registerPlainText(e),require("LexicalDragon").registerDragonSupport(e));},[e]);}(x),c.jsxs(c.Fragment,{children:[t,c.jsx(d,{content:r}),f]});};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<eebf19b97441ba1e2c77e85666d5af9f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalSelection.prod",["Lexical"],(function $module_LexicalSelection_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function t(e){for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}var n=new URL("https://lexical.dev/docs/error"),o=new URLSearchParams();o.append("code",e);for(var _e of t)o.append("v",_e);throw n.search=o.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var n=new Map();function o(e){var t=e;for(;null!=t;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild;}return null;}function s(e){var t=e.parentNode;if(null==t)throw new Error("Should never happen");return[t,Array.from(t.childNodes).indexOf(e)];}function r(e){var t={};if(!e)return t;var n=e.split(";");for(var _e2 of n)if(""!==_e2){var _e2$split=_e2.split(/:([^]+)/),_n=_e2$split[0],_o=_e2$split[1];_n&&_o&&(t[_n.trim()]=_o.trim());}return t;}function i(e){var t=n.get(e);return void 0===t&&(t=r(e),n.set(e,t)),t;}function l(e){var t="";for(var _n2 in e)_n2&&(t+=_n2+": "+e[_n2]+";");return t;}function c(t){var n=require("Lexical").$getEditor().getElementByKey(t.getKey());if(null===n)return null;var o=n.ownerDocument.defaultView;return null===o?null:o.getComputedStyle(n);}function f(t){return c(require("Lexical").$isRootNode(t)?t:t.getParentOrThrow());}function d(t,n,o){var s=n.getNode(),r=o;if(require("Lexical").$isElementNode(s)){var _e3=s.getDescendantByIndex(n.offset);null!==_e3&&(s=_e3);}var _loop=function _loop(){if(require("Lexical").$isElementNode(s)){var _e4=s.getLastDescendant();null!==_e4&&(s=_e4);}var o=s.getPreviousSibling(),i=0;if(null===o){var _e5=s.getParentOrThrow(),_t=_e5.getPreviousSibling();for(;null===_t;){if(_e5=_e5.getParent(),null===_e5){o=null;break;}_t=_e5.getPreviousSibling();}null!==_e5&&(i=_e5.isInline()?0:2,o=_t);}var l=s.getTextContent();""===l&&require("Lexical").$isElementNode(s)&&!s.isInline()&&(l="\n\n");var c=l.length;if(!require("Lexical").$isTextNode(s)||r>=c){var _t2=s.getParent();s.remove(),null==_t2||0!==_t2.getChildrenSize()||require("Lexical").$isRootNode(_t2)||_t2.remove(),r-=c+i,s=o;}else{var _o2=s.getKey(),_i=t.getEditorState().read(function(){var t=require("Lexical").$getNodeByKey(_o2);return require("Lexical").$isTextNode(t)&&t.isSimpleText()?t.getTextContent():null;}),_f=c-r,_d=l.slice(0,_f);if(null!==_i&&_i!==l){var _t3=require("Lexical").$getPreviousSelection();var _n3=s;if(s.isSimpleText())s.setTextContent(_i);else{var _t4=require("Lexical").$createTextNode(_i);s.replace(_t4),_n3=_t4;}if(require("Lexical").$isRangeSelection(_t3)&&_t3.isCollapsed()){var _e6=_t3.anchor.offset;_n3.select(_e6,_e6);}}else if(s.isSimpleText()){var _e7=n.key===_o2;var _t5=n.offset;_t5<r&&(_t5=c);var _i2=_e7?_t5-r:0,_l=_e7?_t5:_f;if(_e7&&0===_i2){var _s$splitText=s.splitText(_i2,_l),_e8=_s$splitText[0];_e8.remove();}else{var _s$splitText2=s.splitText(_i2,_l),_e9=_s$splitText2[1];_e9.remove();}}else{var _t6=require("Lexical").$createTextNode(_d);s.replace(_t6);}r=0;}};for(;r>0&&null!==s;){_loop();}}function a(o,s){(require("Lexical").$isRangeSelection(o)?o.isCollapsed():require("Lexical").$isTextNode(o)||require("Lexical").$isElementNode(o))||t(280);var r=i(require("Lexical").$isRangeSelection(o)?o.style:require("Lexical").$isTextNode(o)?o.getStyle():o.getTextStyle()),c=Object.entries(s).reduce(function(e,_ref){var t=_ref[0],n=_ref[1];return"function"==typeof n?e[t]=n(r[t],o):null===n?delete e[t]:e[t]=n,e;},babelHelpers["extends"]({},r)),f=l(c);require("Lexical").$isRangeSelection(o)||require("Lexical").$isTextNode(o)?o.setStyle(f):o.setTextStyle(f),n.set(f,c);}function u(t){var n=require("Lexical").$getSelection();if(!n)return;var o=new Map(),s=function s(e){return o.get(e.getKey())||[0,e.getTextContentSize()];};if(require("Lexical").$isRangeSelection(n))for(var _t7 of require("Lexical").$caretRangeFromSelection(n).getTextSlices())_t7&&o.set(_t7.caret.origin.getKey(),_t7.getSliceIndices());var r=n.getNodes();for(var _n4 of r){if(!require("Lexical").$isTextNode(_n4)||!_n4.canHaveFormat())continue;var _s=s(_n4),_o3=_s[0],_r=_s[1];if(_r!==_o3)if(require("Lexical").$isTokenOrSegmented(_n4)||0===_o3&&_r===_n4.getTextContentSize())t(_n4);else{t(_n4.splitText(_o3,_r)[0===_o3?0:1]);}}require("Lexical").$isRangeSelection(n)&&"text"===n.anchor.type&&"text"===n.focus.type&&n.anchor.key===n.focus.key&&g(n);}function g(e){if(e.isBackward()){var _t8=e.anchor,_n5=e.focus,_o4=_t8.key,_s2=_t8.offset,_r2=_t8.type;_t8.set(_n5.key,_n5.offset,_n5.type),_n5.set(_o4,_s2,_r2);}}function p(e,t){var n=e.getFormatType(),o=e.getIndent();n!==t.getFormatType()&&t.setFormat(n),o!==t.getIndent()&&t.setIndent(o);}function $(e){return e.getNode().isAttached();}function h(t){var n=t;for(;null!==n&&!require("Lexical").$isRootOrShadowRoot(n);){var _e0=n.getLatest(),_t9=n.getParent();0===_e0.getChildrenSize()&&n.remove(!0),n=_t9;}}function y(n,o,s,r,i){if(i===void 0){i=null;}if(0===o.length)return;var l=o[0],c=new Map(),f=[];var d=require("Lexical").$isElementNode(l)?l:l.getParentOrThrow();d.isInline()&&(d=d.getParentOrThrow());var a=!1;for(;null!==d;){var _t0=d.getPreviousSibling();if(null!==_t0){d=_t0,a=!0;break;}if(d=d.getParentOrThrow(),require("Lexical").$isRootOrShadowRoot(d))break;}var u=new Set();for(var _t1=0;_t1<s;_t1++){var _n6=o[_t1];require("Lexical").$isElementNode(_n6)&&0===_n6.getChildrenSize()&&u.add(_n6.getKey());}var g=new Set();var _loop2=function _loop2(){var s=o[_n7];var i=s.getParent();if(null!==i&&i.isInline()&&(i=i.getParent()),null!==i&&require("Lexical").$isLeafNode(s)&&!g.has(s.getKey())){var _t15=i.getKey();if(void 0===c.get(_t15)){var _n9=r();_n9.setFormat(i.getFormatType()),_n9.setIndent(i.getIndent()),f.push(_n9),c.set(_t15,_n9),i.getChildren().forEach(function(t){_n9.append(t),g.add(t.getKey()),require("Lexical").$isElementNode(t)&&t.getChildrenKeys().forEach(function(e){return g.add(e);});}),h(i);}}else if(u.has(s.getKey())){require("Lexical").$isElementNode(s)||t(179);var _n0=r();_n0.setFormat(s.getFormatType()),_n0.setIndent(s.getIndent()),f.push(_n0),s.remove(!0);}};for(var _n7=0;_n7<s;_n7++){_loop2();}if(null!==i)for(var _e1=0;_e1<f.length;_e1++){var _t10=f[_e1];i.append(_t10);}var p=null;if(require("Lexical").$isRootOrShadowRoot(d)){if(a){if(null!==i)d.insertAfter(i);else for(var _e10=f.length-1;_e10>=0;_e10--){var _t11=f[_e10];d.insertAfter(_t11);}}else{var _t12=d.getFirstChild();if(require("Lexical").$isElementNode(_t12)&&(d=_t12),null===_t12){if(i)d.append(i);else for(var _e11=0;_e11<f.length;_e11++){var _t13=f[_e11];d.append(_t13),p=_t13;}}else if(null!==i)_t12.insertBefore(i);else for(var _e12=0;_e12<f.length;_e12++){var _n8=f[_e12];_t12.insertBefore(_n8),p=_n8;}}}else if(i)d.insertAfter(i);else for(var _e13=f.length-1;_e13>=0;_e13--){var _t14=f[_e13];d.insertAfter(_t14),p=_t14;}var y=require("Lexical").$getPreviousSelection();require("Lexical").$isRangeSelection(y)&&$(y.anchor)&&$(y.focus)?require("Lexical").$setSelection(y.clone()):null!==p?p.selectEnd():n.dirty=!0;}function S(e){var t=m(e);return null!==t&&"vertical-rl"===t.writingMode;}function m(t){var n=t.anchor.getNode();return require("Lexical").$isElementNode(n)?c(n):f(n);}function x(e,t,n,o){e.modify(t?"extend":"move",n,o);}function N(e){var t=m(e);return null!==t&&"rtl"===t.direction;}function T(e,t,n){var o=i(e.getStyle());return null!==o&&o[t]||n;}var E=d;exports.$cloneWithProperties=require("Lexical").$cloneWithProperties,exports.$selectAll=require("Lexical").$selectAll,exports.$addNodeStyle=function(e){var t=e.getStyle(),o=r(t);n.set(t,o);},exports.$copyBlockFormatIndent=p,exports.$ensureForwardRangeSelection=g,exports.$forEachSelectedTextNode=u,exports.$getComputedStyleForElement=c,exports.$getComputedStyleForParent=f,exports.$getSelectionStyleValueForProperty=function(t,n,o){if(o===void 0){o="";}var s=null;var r=t.getNodes(),l=t.anchor,c=t.focus,f=t.isBackward(),d=f?c.offset:l.offset,a=f?c.getNode():l.getNode();if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()&&""!==t.style){var _e14=i(t.style);if(null!==_e14&&n in _e14)return _e14[n];}for(var _t16=0;_t16<r.length;_t16++){var _i3=r[_t16];if((0===_t16||0!==d||!_i3.is(a))&&require("Lexical").$isTextNode(_i3)){var _e15=T(_i3,n,o);if(null===s)s=_e15;else if(s!==_e15){s="";break;}}}return null===s?o:s;},exports.$isAtNodeEnd=function(n){if("text"===n.type)return n.offset===n.getNode().getTextContentSize();var o=n.getNode();return require("Lexical").$isElementNode(o)||t(177),n.offset===o.getChildrenSize();},exports.$isParentElementRTL=N,exports.$isParentRTL=function(e){var t=f(e);return null!==t&&"rtl"===t.direction;},exports.$moveCaretSelection=x,exports.$moveCharacter=function(e,t,n){var o=N(e);var s;s=S(e)||o?!n:n,x(e,t,s,"character");},exports.$patchStyleText=function(t,n){if(require("Lexical").$isRangeSelection(t)&&t.isCollapsed()){a(t,n);var _o5=t.anchor.getNode();require("Lexical").$isElementNode(_o5)&&_o5.isEmpty()&&a(_o5,n);}u(function(e){a(e,n);});},exports.$setBlocksType=function(t,n,o){if(o===void 0){o=p;}if(null===t)return;var s=t.getStartEndPoints(),r=new Map();var i=null;if(s){var _require_Lexical;var _t17=s[0],_n1=s[1];i=(_require_Lexical=require("Lexical")).$createRangeSelection(),i.anchor.set(_t17.key,_t17.offset,_t17.type),i.focus.set(_n1.key,_n1.offset,_n1.type);var _o6=_require_Lexical.$findMatchingParent(_t17.getNode(),_require_Lexical.INTERNAL_$isBlock),_l2=_require_Lexical.$findMatchingParent(_n1.getNode(),_require_Lexical.INTERNAL_$isBlock);require("Lexical").$isElementNode(_o6)&&r.set(_o6.getKey(),_o6),require("Lexical").$isElementNode(_l2)&&r.set(_l2.getKey(),_l2);}for(var _n10 of t.getNodes())if(require("Lexical").$isElementNode(_n10)&&require("Lexical").INTERNAL_$isBlock(_n10))r.set(_n10.getKey(),_n10);else if(null===s){var _t18=require("Lexical").$findMatchingParent(_n10,require("Lexical").INTERNAL_$isBlock);require("Lexical").$isElementNode(_t18)&&r.set(_t18.getKey(),_t18);}for(var _ref3 of r){var _e16=_ref3[0];var _t19=_ref3[1];{var _s3=n();o(_t19,_s3),_t19.replace(_s3,!0),i&&(_e16===i.anchor.key&&i.anchor.set(_s3.getKey(),i.anchor.offset,i.anchor.type),_e16===i.focus.key&&i.focus.set(_s3.getKey(),i.focus.offset,i.focus.type));}}i&&t.is(require("Lexical").$getSelection())&&require("Lexical").$setSelection(i);},exports.$shouldOverrideDefaultCharacterSelection=function(t,n){var o=S(t)?!n:n;N(t)&&(o=!o);var s=require("Lexical").$caretFromPoint(t.focus,o?"previous":"next");if(require("Lexical").$isExtendableTextPointCaret(s))return!1;for(var _t20 of require("Lexical").$extendCaretToRange(s)){if(require("Lexical").$isChildCaret(_t20))return!_t20.origin.isInline();if(!require("Lexical").$isElementNode(_t20.origin)){if(require("Lexical").$isDecoratorNode(_t20.origin))return!0;break;}}return!1;},exports.$sliceSelectedTextNodeContent=function(t,n){var o=t.getStartEndPoints();if(n.isSelected(t)&&!require("Lexical").$isTokenOrSegmented(n)&&null!==o){var _s4=o[0],_r3=o[1],_i4=t.isBackward(),_l3=_s4.getNode(),_c=_r3.getNode(),_f2=n.is(_l3),_d2=n.is(_c);if(_f2||_d2){var _e$$getCharacterOffse=require("Lexical").$getCharacterOffsets(t),_o7=_e$$getCharacterOffse[0],_s5=_e$$getCharacterOffse[1],_r4=_l3.is(_c),_f3=n.is(_i4?_c:_l3),_d3=n.is(_i4?_l3:_c);var _a,_u=0;if(_r4)_u=_o7>_s5?_s5:_o7,_a=_o7>_s5?_o7:_s5;else if(_f3){_u=_i4?_s5:_o7,_a=void 0;}else if(_d3){_u=0,_a=_i4?_o7:_s5;}n.__text=n.__text.slice(_u,_a);}}return n;},exports.$trimTextContentFromAnchor=d,exports.$wrapNodes=function(t,n,o){if(o===void 0){o=null;}var s=t.getStartEndPoints(),r=s?s[0]:null,i=t.getNodes(),l=i.length;if(null!==r&&(0===l||1===l&&"element"===r.type&&0===r.getNode().getChildrenSize())){var _e17="text"===r.type?r.getNode().getParentOrThrow():r.getNode(),_t21=_e17.getChildren();var _s6=n();return _s6.setFormat(_e17.getFormatType()),_s6.setIndent(_e17.getIndent()),_t21.forEach(function(e){return _s6.append(e);}),o&&(_s6=o.append(_s6)),void _e17.replace(_s6);}var c=null,f=[];for(var _s7=0;_s7<l;_s7++){var _r5=i[_s7];require("Lexical").$isRootOrShadowRoot(_r5)?(y(t,f,f.length,n,o),f=[],c=_r5):null===c||null!==c&&require("Lexical").$hasAncestor(_r5,c)?f.push(_r5):(y(t,f,f.length,n,o),f=[_r5]);}y(t,f,f.length,n,o);},exports.createDOMRange=function(t,n,r,i,l){var _s8,_s9;var c=n.getKey(),f=i.getKey(),d=document.createRange();var a=t.getElementByKey(c),u=t.getElementByKey(f),g=r,p=l;if(require("Lexical").$isTextNode(n)&&(a=o(a)),require("Lexical").$isTextNode(i)&&(u=o(u)),void 0===n||void 0===i||null===a||null===u)return null;"BR"===a.nodeName&&(_s8=s(a),a=_s8[0],g=_s8[1],_s8),"BR"===u.nodeName&&(_s9=s(u),u=_s9[0],p=_s9[1],_s9);var $=a.firstChild;a===u&&null!=$&&"BR"===$.nodeName&&0===g&&0===p&&(p=1);try{d.setStart(a,g),d.setEnd(u,p);}catch(e){return null;}return!d.collapsed||g===p&&c===f||(d.setStart(u,p),d.setEnd(a,g)),d;},exports.createRectsFromDOMRange=function(e,t){var n=e.getRootElement();if(null===n)return[];var o=n.getBoundingClientRect(),s=getComputedStyle(n),r=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),i=Array.from(t.getClientRects());var l,c=i.length;i.sort(function(e,t){var n=e.top-t.top;return Math.abs(n)<=3?e.left-t.left:n;});for(var _e18=0;_e18<c;_e18++){var _t22=i[_e18],_n11=l&&l.top<=_t22.top&&l.top+l.height>_t22.top&&l.left+l.width>_t22.left,_s0=_t22.width+r===o.width;_n11||_s0?(i.splice(_e18--,1),c--):l=_t22;}return i;},exports.getCSSFromStyleObject=l,exports.getStyleObjectFromCSS=i,exports.trimTextContentFromAnchor=E;}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7dcdb223bf348832203cf99dbbd5db05>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalText.prod",["Lexical"],(function $module_LexicalText_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function e(){return require("Lexical").$getRoot().getTextContent();}function n(t,n){if(n===void 0){n=!0;}if(t)return!1;var r=e();return n&&(r=r.trim()),""===r;}function r(e){if(!n(e,!1))return!1;var r=require("Lexical").$getRoot().getChildren(),o=r.length;if(o>1)return!1;for(var _e=0;_e<o;_e++){var _n=r[_e];if(require("Lexical").$isDecoratorNode(_n))return!1;if(require("Lexical").$isElementNode(_n)){if(!require("Lexical").$isParagraphNode(_n))return!1;if(0!==_n.__indent)return!1;var _r=_n.getChildren(),_o=_r.length;for(var _n2=0;_n2<_o;_n2++){var _n3=_r[_e];if(!require("Lexical").$isTextNode(_n3))return!1;}}}return!0;}function o(t){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",t);for(var _len=arguments.length,e=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){e[_key-1]=arguments[_key];}for(var _t of e)r.append("v",_t);throw n.search=r.toString(),Error("Minified Lexical error #"+t+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}exports.$canShowPlaceholder=r,exports.$canShowPlaceholderCurry=function(t){return function(){return r(t);};},exports.$findTextIntersectionFromCharacters=function(e,n){var r=e.getFirstChild(),o=0;t:for(;null!==r;){if(require("Lexical").$isElementNode(r)){var _t2=r.getFirstChild();if(null!==_t2){r=_t2;continue;}}else if(require("Lexical").$isTextNode(r)){var _t3=r.getTextContentSize();if(o+_t3>n)return{node:r,offset:n-o};o+=_t3;}var _e2=r.getNextSibling();if(null!==_e2){r=_e2;continue;}var i=r.getParent();for(;null!==i;){var _t4=i.getNextSibling();if(null!==_t4){r=_t4;continue t;}i=i.getParent();}break;}return null;},exports.$isRootTextContentEmpty=n,exports.$isRootTextContentEmptyCurry=function(t,e){return function(){return n(t,e);};},exports.$rootTextContent=e,exports.registerLexicalTextEntity=function(e,n,r,i){var s=function s(t){return t instanceof r;},l=function l(e){var n=require("Lexical").$createTextNode(e.getTextContent());n.setFormat(e.getFormat()),e.replace(n);};return[e.registerNodeTransform(require("Lexical").TextNode,function(e){if(!e.isSimpleText())return;var r,u=e.getPreviousSibling(),c=e.getTextContent(),f=e;if(require("Lexical").$isTextNode(u)){var _t5=u.getTextContent(),_r2=n(_t5+c);if(s(u)){if(null===_r2||0!==function(t){return t.getLatest().__mode;}(u))return void l(u);{var _n4=_r2.end-_t5.length;if(_n4>0){var _r3=_t5+c.slice(0,_n4);if(u.select(),u.setTextContent(_r3),_n4===c.length)e.remove();else{var _t6=c.slice(_n4);e.setTextContent(_t6);}return;}}}else if(null===_r2||_r2.start<_t5.length)return;}var d=0;for(;;){var _f$splitText,_f$splitText2;r=n(c);var _e3=void 0,a=null===r?"":c.slice(r.end);if(c=a,""===a){var _e4=f.getNextSibling();if(require("Lexical").$isTextNode(_e4)){a=f.getTextContent()+_e4.getTextContent();var _t7=n(a);if(null===_t7)return void(s(_e4)?l(_e4):_e4.markDirty());if(0!==_t7.start)return;}}if(null===r)return;if(0===r.start&&require("Lexical").$isTextNode(u)&&u.isTextEntity()){d+=r.end;continue;}0===r.start?(_f$splitText=f.splitText(r.end),_e3=_f$splitText[0],f=_f$splitText[1],_f$splitText):(_f$splitText2=f.splitText(r.start+d,r.end+d),_e3=_f$splitText2[1],f=_f$splitText2[2],_f$splitText2),void 0===_e3&&o(165,"nodeToReplace");var x=i(_e3);if(x.setFormat(_e3.getFormat()),_e3.replace(x),null==f)return;d=0,u=x;}}),e.registerNodeTransform(r,function(e){var r=e.getTextContent(),o=n(r);if(null===o||0!==o.start)return void l(e);if(r.length>o.end)return void e.splitText(o.end);var i=e.getPreviousSibling();require("Lexical").$isTextNode(i)&&i.isTextEntity()&&(l(i),l(e));var u=e.getNextSibling();require("Lexical").$isTextNode(u)&&u.isTextEntity()&&(l(u),s(e)&&l(e));})];};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<6db94066404cad9ecfa2611d70034cd1>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("LexicalUtils.prod",["Lexical","LexicalSelection"],(function $module_LexicalUtils_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";function n(e){var n=new URL("https://lexical.dev/docs/error"),r=new URLSearchParams();r.append("code",e);for(var _len=arguments.length,t=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){t[_key-1]=arguments[_key];}for(var _e of t)r.append("v",_e);throw n.search=r.toString(),Error("Minified Lexical error #"+e+"; visit "+n.toString()+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");}var r="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement,o=r&&"documentMode"in document?document.documentMode:null,i=r&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),s=r&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),l=!(!r||!("InputEvent"in window)||o)&&"getTargetRanges"in new window.InputEvent("input"),a=r&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),c=r&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,u=r&&/Android/.test(navigator.userAgent),d=r&&/^(?=.*Chrome).*/i.test(navigator.userAgent),g=r&&u&&d,f=r&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!d;function p(){var t=[];for(var _len2=arguments.length,e=new Array(_len2),_key2=0;_key2<_len2;_key2++){e[_key2]=arguments[_key2];}for(var _n of e)if(_n&&"string"==typeof _n)for(var _ref2 of _n.matchAll(/\S+/g)){var _e2=_ref2[0];t.push(_e2);}return t;}function m(){for(var _len3=arguments.length,e=new Array(_len3),_key3=0;_key3<_len3;_key3++){e[_key3]=arguments[_key3];}return function(){for(var _t=e.length-1;_t>=0;_t--)e[_t]();e.length=0;};}function h(e){return e+"px";}var $={attributes:!0,characterData:!0,childList:!0,subtree:!0};function x(r,o,i){var s=null,l=null,a=null,c=[];var u=document.createElement("div");function d(){null===s&&n(182),null===l&&n(183);var _l$getBoundingClientR=l.getBoundingClientRect(),e=_l$getBoundingClientR.left,a=_l$getBoundingClientR.top,d=require("LexicalSelection").createRectsFromDOMRange(r,o);var g,f;u.isConnected||(f=u,(g=l).insertBefore(f,g.firstChild));var p=!1;for(var _t2=0;_t2<d.length;_t2++){var _n2=d[_t2],_r=c[_t2]||document.createElement("div"),_o=_r.style;"absolute"!==_o.position&&(_o.position="absolute",p=!0);var _i=h(_n2.left-e);_o.left!==_i&&(_o.left=_i,p=!0);var _s=h(_n2.top-a);_o.top!==_s&&(_r.style.top=_s,p=!0);var _l=h(_n2.width);_o.width!==_l&&(_r.style.width=_l,p=!0);var _g=h(_n2.height);_o.height!==_g&&(_r.style.height=_g,p=!0),_r.parentNode!==u&&(u.append(_r),p=!0),c[_t2]=_r;}for(;c.length>d.length;)c.pop();p&&i(c);}function g(){l=null,s=null,null!==a&&a.disconnect(),a=null,u.remove();for(var _e3 of c)_e3.remove();c=[];}u.style.position="relative";var f=r.registerRootListener(function t(){var n=r.getRootElement();if(null===n)return g();var o=n.parentElement;if(!require("Lexical").isHTMLElement(o))return g();g(),s=n,l=o,a=new MutationObserver(function(e){var n=r.getRootElement(),o=n&&n.parentElement;if(n!==s||o!==l)return t();for(var _t3 of e)if(!u.contains(_t3.target))return d();}),a.observe(o,$),d();});return function(){f(),g();};}function S(t,n,r){if("text"!==t.type&&require("Lexical").$isElementNode(n)){var _e4=n.getDOMSlot(r);return[_e4.element,_e4.getFirstChildOffset()+t.offset];}return[require("Lexical").getDOMTextNode(r)||r,t.offset];}function C(t,n){var r=null,o=null,i=null,s=null,l=null,a=null,c=function c(){};function u(u){u.read(function(){var u=require("Lexical").$getSelection();if(!require("Lexical").$isRangeSelection(u))return r=null,i=null,s=null,a=null,c(),void(c=function c(){});var _ref3=function(e){var t=e.getStartEndPoints();return e.isBackward()?[t[1],t[0]]:t;}(u),d=_ref3[0],g=_ref3[1],f=d.getNode(),p=f.getKey(),m=d.offset,$=g.getNode(),C=$.getKey(),E=g.offset,v=t.getElementByKey(p),N=t.getElementByKey(C),A=null===r||v!==o||m!==i||p!==r.getKey(),w=null===s||N!==l||E!==a||C!==s.getKey();if((A||w)&&null!==v&&null!==N){var _e5=function(e,t,n,r,o,i,s){var l=(e._window?e._window.document:document).createRange();return l.setStart.apply(l,S(t,n,r)),l.setEnd.apply(l,S(o,i,s)),l;}(t,d,f,v,g,$,N);c(),c=x(t,_e5,function(e){if(void 0===n)for(var _t4 of e){var _e6=_t4.style;"Highlight"!==_e6.background&&(_e6.background="Highlight"),"HighlightText"!==_e6.color&&(_e6.color="HighlightText"),_e6.marginTop!==h(-1.5)&&(_e6.marginTop=h(-1.5)),_e6.paddingTop!==h(4)&&(_e6.paddingTop=h(4)),_e6.paddingBottom!==h(0)&&(_e6.paddingBottom=h(0));}else n(e);});}r=f,o=v,i=m,s=$,l=N,a=E;});}return u(t.getEditorState()),m(t.registerUpdateListener(function(_ref4){var e=_ref4.editorState;return u(e);}),function(){c();});}var E=l,v=r,N=u,A=g,w=i,b=f,y=d,P=s,R=c,I=a;function O(e,t){for(var _n3 of t)if(e.type.startsWith(_n3))return!0;return!1;}function L(e,t){return M("next",e,t);}function M(t,n,r){var o=require("Lexical").$getRoot(),i=n||o,s=require("Lexical").$isElementNode(i)?require("Lexical").$getChildCaret(i,t):require("Lexical").$getSiblingCaret(i,t),l=T(i),a=r?require("Lexical").$getAdjacentChildCaret(require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(r,t))):function(t,n){var r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,n));return r&&r[0];}(i,t);var c=l;return require("Lexical").makeStepwiseIterator({hasNext:function hasNext(e){return null!==e;},initial:s,map:function map(e){return{depth:c,node:e.origin};},step:function step(t){if(t.isSameNodeCaret(a))return null;require("Lexical").$isChildCaret(t)&&c++;var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(t);return!n||n[0].isSameNodeCaret(a)?null:(c+=n[1],n[0]);}});}function T(e){var t=-1;for(var _n4=e;null!==_n4;_n4=_n4.getParent())t++;return t;}function _(e,t){return M("previous",e,t);}function D(t,r,o){var i=require("Lexical").$getCaretInDirection(r,"next");for(var _t5=i;_t5;_t5=require("Lexical").$splitAtPointCaretNext(_t5,o))i=_t5;return require("Lexical").$isTextPointCaret(i)&&n(283),i.insert(t.isInline()?require("Lexical").$createParagraphNode().append(t):t),require("Lexical").$getCaretInDirection(require("Lexical").$getSiblingCaret(t.getLatest(),"next"),r.direction);}var F=!(P||!v)&&void 0;function B(t,n,r){var o=!1;var _loop=function _loop(_i2){n(_i2)?null!==r&&r(_i2):(o=!0,require("Lexical").$isElementNode(_i2)&&B(_i2,n,r||function(e){return _i2.insertAfter(e);}),_i2.remove());};for(var _i2 of j(t)){_loop(_i2);}return o;}function j(t){return k(require("Lexical").$getChildCaret(t,"previous"));}function k(t){return require("Lexical").makeStepwiseIterator({hasNext:require("Lexical").$isSiblingCaret,initial:t.getAdjacentCaret(),map:function map(e){return e.origin.getLatest();},step:function step(e){return e.getAdjacentCaret();}});}exports.$findMatchingParent=require("Lexical").$findMatchingParent,exports.$getAdjacentSiblingOrParentSiblingCaret=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret,exports.$splitNode=require("Lexical").$splitNode,exports.isBlockDomNode=require("Lexical").isBlockDomNode,exports.isHTMLAnchorElement=require("Lexical").isHTMLAnchorElement,exports.isHTMLElement=require("Lexical").isHTMLElement,exports.isInlineDomNode=require("Lexical").isInlineDomNode,exports.$descendantsMatching=function(t,n){var r=[],o=Array.from(t).reverse();for(var _t6=o.pop();void 0!==_t6;_t6=o.pop())if(n(_t6))r.push(_t6);else if(require("Lexical").$isElementNode(_t6))for(var _e7 of j(_t6))o.push(_e7);return r;},exports.$dfs=function(e,t){return Array.from(L(e,t));},exports.$dfsIterator=L,exports.$filter=function(e,t){var n=[];for(var _r2=0;_r2<e.length;_r2++){var _o2=t(e[_r2]);null!==_o2&&n.push(_o2);}return n;},exports.$firstToLastIterator=function(t){return k(require("Lexical").$getChildCaret(t,"next"));},exports.$getAdjacentCaret=function(e){return e?e.getAdjacentCaret():null;},exports.$getDepth=T,exports.$getNearestBlockElementAncestorOrThrow=function(t){var r=require("Lexical").$findMatchingParent(t,function(t){return require("Lexical").$isElementNode(t)&&!t.isInline();});return require("Lexical").$isElementNode(r)||n(4,t.__key),r;},exports.$getNearestNodeOfType=function(e,t){var n=e;for(;null!=n;){if(n instanceof t)return n;n=n.getParent();}return null;},exports.$getNextRightPreorderNode=function(t){var n=require("Lexical").$getChildCaretOrSelf(require("Lexical").$getSiblingCaret(t,"previous")),r=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(n,"root");return r&&r[0].origin;},exports.$getNextSiblingOrParentSibling=function(t){var n=require("Lexical").$getAdjacentSiblingOrParentSiblingCaret(require("Lexical").$getSiblingCaret(t,"next"));return n&&[n[0].origin,n[1]];},exports.$insertFirst=function(t,n){require("Lexical").$getChildCaret(t,"next").insert(n);},exports.$insertNodeToNearestRoot=function(t){var n=require("Lexical").$getSelection()||require("Lexical").$getPreviousSelection();var r;if(require("Lexical").$isRangeSelection(n))r=require("Lexical").$caretFromPoint(n.focus,"next");else{if(null!=n){var _t7=n.getNodes(),_o3=_t7[_t7.length-1];_o3&&(r=require("Lexical").$getSiblingCaret(_o3,"next"));}r=r||require("Lexical").$getChildCaret(require("Lexical").$getRoot(),"previous").getFlipped().insert(require("Lexical").$createParagraphNode());}var o=D(t,r),i=require("Lexical").$getAdjacentChildCaret(o),s=require("Lexical").$isChildCaret(i)?require("Lexical").$normalizeCaret(i):o;return require("Lexical").$setSelectionFromCaretRange(require("Lexical").$getCollapsedCaretRange(s)),t.getLatest();},exports.$insertNodeToNearestRootAtCaret=D,exports.$isEditorIsNestedEditor=function(e){return null!==e._parentEditor;},exports.$lastToFirstIterator=j,exports.$restoreEditorState=function(t,n){var r=new Map(),o=t._pendingEditorState;for(var _ref6 of n._nodeMap){var _t8=_ref6[0];var _o4=_ref6[1];r.set(_t8,require("Lexical").$cloneWithProperties(_o4));}o&&(o._nodeMap=r),t._dirtyType=2;var i=n._selection;require("Lexical").$setSelection(null===i?null:i.clone());},exports.$reverseDfs=function(e,t){return Array.from(_(e,t));},exports.$reverseDfsIterator=_,exports.$unwrapAndFilterDescendants=function(e,t){return B(e,t,null);},exports.$unwrapNode=function(t){require("Lexical").$rewindSiblingCaret(require("Lexical").$getSiblingCaret(t,"next")).splice(1,t.getChildren());},exports.$wrapNodeInElement=function(e,t){var n=t();return e.replace(n),n.append(e),n;},exports.CAN_USE_BEFORE_INPUT=E,exports.CAN_USE_DOM=v,exports.IS_ANDROID=N,exports.IS_ANDROID_CHROME=A,exports.IS_APPLE=w,exports.IS_APPLE_WEBKIT=b,exports.IS_CHROME=y,exports.IS_FIREFOX=P,exports.IS_IOS=R,exports.IS_SAFARI=I,exports.addClassNamesToElement=function(e){var _e$classList;for(var _len4=arguments.length,t=new Array(_len4>1?_len4-1:0),_key4=1;_key4<_len4;_key4++){t[_key4-1]=arguments[_key4];}var n=p.apply(void 0,t);n.length>0&&(_e$classList=e.classList).add.apply(_e$classList,n);},exports.calculateZoomLevel=function(e){var t=1;if(function(){if(void 0===F){var _e8=document.createElement("div");_e8.style.cssText="position: absolute; opacity: 0; width: 100px; left: -1000px;",document.body.appendChild(_e8);var _t9=_e8.getBoundingClientRect();_e8.style.setProperty("zoom","2"),F=_e8.getBoundingClientRect().width===_t9.width,document.body.removeChild(_e8);}return F;}())for(;e;)t*=Number(window.getComputedStyle(e).getPropertyValue("zoom")),e=e.parentElement;return t;},exports.isMimeType=O,exports.makeStateWrapper=function(t){var n=function n(_n5){return require("Lexical").$getState(_n5,t);},r=function r(n,_r3){return require("Lexical").$setState(n,t,_r3);};return{$get:n,$set:r,accessors:[n,r],makeGetterMethod:function makeGetterMethod(){return function(){return n(this);};},makeSetterMethod:function makeSetterMethod(){return function(e){return r(this,e);};},stateConfig:t};},exports.markSelection=C,exports.mediaFileReader=function(e,t){var n=e[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();return new Promise(function(e,r){var o=[],_i3=function i(){var _n$next=n.next(),s=_n$next.done,l=_n$next.value;if(s)return e(o);var a=new FileReader();a.addEventListener("error",r),a.addEventListener("load",function(){var e=a.result;"string"==typeof e&&o.push({file:l,result:e}),_i3();}),O(l,t)?a.readAsDataURL(l):_i3();};_i3();});},exports.mergeRegister=m,exports.objectKlassEquals=function(e,t){return null!==e&&Object.getPrototypeOf(e).constructor.name===t.name;},exports.positionNodeOnRange=x,exports.registerNestedElementResolver=function(e,t,n,r){var o=function o(e){return e instanceof t;};return e.registerNodeTransform(t,function(e){var t=function(e){var t=e.getChildren();for(var _e9=0;_e9<t.length;_e9++){var _n6=t[_e9];if(o(_n6))return null;}var n=e,r=e;for(;null!==n;)if(r=n,n=n.getParent(),o(n))return{child:r,parent:n};return null;}(e);if(null!==t){var _o5=t.child,_i4=t.parent;if(_o5.is(e)){r(_i4,e);var _t0=_o5.getNextSiblings(),_s2=_t0.length;if(_i4.insertAfter(_o5),0!==_s2){var _e0=n(_i4);_o5.insertAfter(_e0);for(var _n7=0;_n7<_s2;_n7++)_e0.append(_t0[_n7]);}_i4.canBeEmpty()||0!==_i4.getChildrenSize()||_i4.remove();}}});},exports.removeClassNamesFromElement=function(e){var _e$classList2;for(var _len5=arguments.length,t=new Array(_len5>1?_len5-1:0),_key5=1;_key5<_len5;_key5++){t[_key5-1]=arguments[_key5];}var n=p.apply(void 0,t);n.length>0&&(_e$classList2=e.classList).remove.apply(_e$classList2,n);},exports.selectionAlwaysOnDisplay=function(e){var t=null;var n=function n(){var n=getSelection(),r=n&&n.anchorNode,o=e.getRootElement();null!==r&&null!==o&&o.contains(r)?null!==t&&(t(),t=null):null===t&&(t=C(e));};return document.addEventListener("selectionchange",n),function(){null!==t&&t(),document.removeEventListener("selectionchange",n);};};}),null);
/**
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 *
 * @fullSyntaxTransform
 * @es6-async_DO_NOT_USE
 * @generated SignedSource<<7436c8dc7367c270e1db7b9c3652e01f>>
 * 
 * @nolint
 * @oncall lexical_web_text_editor
 * @preserve-invariant-messages
 * @preserve-whitespace
 * @preventMunge
 */__d("useLexicalEditable.prod",["LexicalComposerContext","react"],(function $module_useLexicalEditable_prod(global,require,requireDynamic,requireLazy,module,exports){

"use strict";var _require_closure_react;var t=_require_closure_react||(_require_closure_react=require("react"));var n="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?t.useLayoutEffect:t.useEffect;function i(e){return{initialValueFn:function initialValueFn(){return e.isEditable();},subscribe:function subscribe(t){return e.registerEditableListener(t);}};}exports.useLexicalEditable=function(){return function(i){var _e$useLexicalComposer=require("LexicalComposerContext").useLexicalComposerContext(),r=_e$useLexicalComposer[0],u=t.useMemo(function(){return i(r);},[r,i]),_t$useState=t.useState(function(){return u.initialValueFn();}),o=_t$useState[0],s=_t$useState[1],c=t.useRef(o);return n(function(){var e=u.initialValueFn,t=u.subscribe,n=e();return c.current!==n&&(c.current=n,s(n)),t(function(e){c.current=e,s(e);});},[u,i]),o;}(i);};}),null);