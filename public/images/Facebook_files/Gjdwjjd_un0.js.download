;/*FB_PKG_DELIM*/

__d("CometAccessibilityAnnouncementForDynamicContent.react",["CometAccessibilityAnnouncement.react","DocumentTranslationStatusProvider.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3),e=d("DocumentTranslationStatusProvider.react").useTranslationKeyForTextParent(),f;b[0]!==e||b[1]!==a?(f=i.createElement(c("CometAccessibilityAnnouncement.react"),babelHelpers["extends"]({},a,{key:e})),b[0]=e,b[1]=a,b[2]=f):f=b[2];return f}g["default"]=a}),98);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9643878485689642"}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters",["CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceConfirmMarkAsPaidDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceConfirmMarkAsPaidDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint",["CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceConfirmMarkAsPaidDialogQueryReference:{parameters:c("CometMarketplaceConfirmMarkAsPaidDialogQuery$Parameters"),variables:{thread_id:a.threadId}}}}},root:c("JSResourceForInteraction")("CometMarketplaceConfirmMarkAsPaidDialog.react").__setRef("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint")};g["default"]=a}),98);
__d("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9555699731214088"}),null);
__d("CometMarketplaceInboxLabelChatDialogQuery$Parameters",["CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometMarketplaceInboxLabelChatDialogQuery_facebookRelayOperation"),metadata:{},name:"CometMarketplaceInboxLabelChatDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometMarketplaceInboxLabelChatDialog.entrypoint",["CometMarketplaceInboxLabelChatDialogQuery$Parameters","JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{queries:{cometMarketplaceInboxLabelChatDialogQueryReference:{parameters:c("CometMarketplaceInboxLabelChatDialogQuery$Parameters"),variables:{id:a.thread_id}}}}},root:c("JSResourceForInteraction")("CometMarketplaceInboxLabelChatDialog.react").__setRef("CometMarketplaceInboxLabelChatDialog.entrypoint")};g["default"]=a}),98);
__d("CometMessagingChatTabErrorState.react",["MWInboxErrorState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={cardWidth:{width:"x1cvmir6",$$css:!0},errorBoundary:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(3);a=a.error;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=[j.cardWidth,j.errorBoundary],b[0]=e):e=b[0];b[1]!==a?(e=i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"fb_chat_tab",xstyle:e}),b[1]=a,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("FBIconChevronDownFilled12.svg.react",["XPlatReactSVG","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs(d("XPlatReactSVG").Svg,babelHelpers["extends"]({viewBox:"0 0 12 13",width:"1em",height:"1em",fill:"currentColor",title:a.title},a,{children:[a.children!=null&&i.jsx(d("XPlatReactSVG").Defs,{children:a.children}),i.jsx(d("XPlatReactSVG").G,{fillRule:"evenodd",transform:"translate(-450 -1073)",children:i.jsx(d("XPlatReactSVG").Path,{fillRule:"nonzero",d:"M453.03 1077.72a.75.75 0 0 0-1.06 1.06l3.5 3.5a.75.75 0 0 0 1.06 0l3.5-3.5a.75.75 0 0 0-1.06-1.06l-2.97 2.97-2.97-2.97z"})})]}))}a.displayName=a.name+" [from "+f.id+"]";a._isSVG=!0;b=a;g["default"]=b}),98);
__d("HelpdeskGeminiNullthrows",["FBLogger"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){b===void 0&&(b="Got unexpected null or undefined");if(a==null)throw c("FBLogger")("hdwp").mustfixThrow(b);return a}g.nullthrows=a}),98);
__d("LSExecuteCTA",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.filter(c.db.table(119).fetch(),function(b){return c.i64.eq(b.ctaId,a[0])}).next().then(function(a,e){var f=a.done;a=a.value;return f?0:(e=a.item,d[0]=new c.Map(),d[0].set("banner_id",e.bannerId),d[0].set("cta_type",e.ctaType),d[0].set("context_id",e.contextId),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"in_thread_banner_execute_cta_queue",c.i64.cast([0,73]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))})},function(a){return c.resolve(e)}])}a.__sproc_name__="LSInThreadBannerExecuteCTAStoredProcedure";a.__tables__=["in_thread_banner_ctas"];e.exports=a}),null);
__d("LSExecuteCTAStoredProcedure",["LSExecuteCTA","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSExecuteCTA"),e.ctaId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSFetchBannersStoredProcedure",["LSFetchBanners","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSFetchBanners"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSInitiateThreadMigration",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return a[3]!==void 0?(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("trace_id",a[3]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))):(d[0]=new c.Map(),d[0].set("open_message_thread_key",a[0]),d[0].set("armadillo_thread_key",a[1]),d[0].set("should_copy_messages",a[2]),d[1]=d[0].get("open_message_thread_key"),d[2]=d[0].get("armadillo_thread_key"),d[3]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),[c.i64.to_string(d[1]),"_",c.i64.to_string(d[2])].join(""),c.i64.cast([0,436]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0])))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxInitiateThreadMigrationStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSInitiateThreadMigrationStoredProcedure",["LSInitiateThreadMigration","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSInitiateThreadMigration"),e.openMessageThreadKey,e.armadilloThreadKey,e.shouldCopyMessages,e.traceId);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSLocalCreateOptimisticGroupThreadStoredProcedure",["LSLocalCreateOptimisticGroupThread","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSLocalCreateOptimisticGroupThread"),e.participants,e.nullstateDescriptionText,e.threadName,e.checkExistingThreads,e.threadMetadata);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSNullstateDescriptionType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,SUBTEXT:1,TITLE_SMALL_DEFAULT:2,TITLE_SMALL_SUBTEXT:3});f["default"]=a}),66);
__d("LSPageType",[],(function(a,b,c,d,e,f){a=Object.freeze({DEFAULT:0,AI:1});f["default"]=a}),66);
__d("LSRequestAdContextFromThreadKey",["LSIssueNewTask"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return d[0]=new c.Map(),d[0].set("thread_key",a[0]),d[1]=c.toJSON(d[0]),c.storedProcedure(b("LSIssueNewTask"),"ctm_ad_context",c.i64.cast([0,235]),d[1],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMessagingAdsRequestAdContextFromThreadKeyStoredProcedure";a.__tables__=[];e.exports=a}),null);
__d("LSRequestAdContextFromThreadKeyStoredProcedure",["LSRequestAdContextFromThreadKey","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSRequestAdContextFromThreadKey"),e.threadKey);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("LSServerMutationCta",["LSIssueNewError","LSIssueNewTask","LSLocalize"],(function(a,b,c,d,e,f){function a(){var a=arguments,c=a[a.length-1],d=[],e=[];return c.sequence([function(e){return c.sequence([function(a){return c.sortBy(c.db.table(115).fetch(),[["timestampMs","DESC"]]).next().then(function(a,b){var c=a.done;a=a.value;return c?d[0]=!1:(b=a.item,d[0]=b.errorShouldBeShown)})},function(a){return d[0]===!0?c.sequence([function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,2285622730]),void 0).then(function(a){return d[4]=a})},function(a){return b("LSLocalize").localizeV2Async(c.i64.cast([0,1919524925]),void 0).then(function(a){return d[5]=a})},function(a){return c.storedProcedure(b("LSIssueNewError"),void 0,c.i64.cast([0,1545093]),d[4],d[5],void 0,void 0)}]):c.resolve()},function(e){return d[2]=new c.Map(),d[2].set("thread_key",a[0]),d[2].set("marketplace_cta_type",a[1]),d[3]=c.toJSON(d[2]),c.storedProcedure(b("LSIssueNewTask"),"marketplace_server_mutation_cta",c.i64.cast([0,279]),d[3],void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]),void 0,void 0,c.i64.cast([0,0]),c.i64.cast([0,0]))}])},function(a){return c.resolve(e)}])}a.__sproc_name__="LSMarketplaceServerMutationCtaStoredProcedure";a.__tables__=["user_visible_network_connectivity_error"];e.exports=a}),null);
__d("LSServerMutationCtaStoredProcedure",["LSServerMutationCta","LSSynchronousPromise","Promise","cr:8709"],(function(a,b,c,d,e,f,g){var h;function a(a,e){a=a.storedProcedure(c("LSServerMutationCta"),e.threadKey,e.marketplaceCtaType);return(h||(h=b("Promise"))).resolve(d("LSSynchronousPromise").maybeExtractValueIfSynchronousPromise(a))}g["default"]=a}),98);
__d("getMWV2OtherUser",["FBLogger","I64","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){if(!d("LSMessagingThreadTypeUtil").isOneToOne(a))return;if(b.length===1){var f=b[0],g=f[0];f=f[1];if(f!=null)return[g,f];return}g=b.filter(function(a){a=a[0];return!(h||(h=d("I64"))).equal(a.contactId,e)});if(g.length===0){c("FBLogger")("messenger_web").mustfix('No participants in thread, {threadType: "%d", participantsAndContacts: %d, hasActor: %b}',(h||(h=d("I64"))).to_int32(a),b.length,b.some(function(a){a=a[0];return(h||(h=d("I64"))).equal(a.contactId,e)}));return}f=g[0];a=f[0];b=f[1];if(b!=null)return[a,b]}g["default"]=a}),98);
__d("LSThreadTitleWithContactWrapper.react",["LSMessagingThreadTypeUtil","LSThreadTitle.react","MWChatTextTransform","getMWV2OtherUser","react","react-compiler-runtime","useLSComputedThreadName"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){var b=d("react-compiler-runtime").c(6),e=a.thread,f=a.transforms;a=a.wrapOutput;f=c("useLSComputedThreadName")(e,f);var g=f.actorId,h=f.participantsAndContacts;f=f.threadNameElement;var i=e.threadType,j;if(b[0]!==g||b[1]!==h||b[2]!==e.threadType||b[3]!==f||b[4]!==a){j=Symbol["for"]("react.early_return_sentinel");bb0:{i=c("getMWV2OtherUser")(i,h,g);if(i!=null){j=a(i[1],f);break bb0}}b[0]=g;b[1]=h;b[2]=e.threadType;b[3]=f;b[4]=a;b[5]=j}else j=b[5];return j!==Symbol["for"]("react.early_return_sentinel")?j:f}function a(a){var b=d("react-compiler-runtime").c(7),e=a.thread,f=a.transforms;a=a.wrapOutput;f=f===void 0?d("MWChatTextTransform").textTransforms:f;if(!d("LSMessagingThreadTypeUtil").isOneToOne(e.threadType)||a==null){var g;b[0]!==e||b[1]!==f?(g=i.jsx(c("LSThreadTitle.react"),{thread:e,transforms:f}),b[0]=e,b[1]=f,b[2]=g):g=b[2];return g}b[3]!==e||b[4]!==f||b[5]!==a?(g=i.jsx(j,{thread:e,transforms:f,wrapOutput:a}),b[3]=e,b[4]=f,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("LsBotComposerQuickReplyDisplayedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743836");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_displayed",a);e=b;g["default"]=e}),98);
__d("LsBotComposerQuickReplyTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743837");b=d("FalcoLoggerInternal").create("ls_bot_composer_quick_reply_tapped",a);e=b;g["default"]=e}),98);
__d("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1743846");b=d("FalcoLoggerInternal").create("ls_business_welcome_page_get_started_button_tapped",a);e=b;g["default"]=e}),98);
__d("MWFileUtils",["fbt","I64","formatFileSize"],(function(a,b,c,d,e,f,g,h){"use strict";var i;b=h._(/*BTDS*/"File");function a(a){return a.filesize==null?null:c("formatFileSize")((i||(i=d("I64"))).to_int32(a.filesize))}g.PLACEHOLDER_FILENAME=b;g.getFileSize=a}),226);
__d("MAWFilePressable.react",["CometErrorBoundary.react","FBLogger","I64","MAWAttachmentBlob.react","MWChatMessageId","MWFileUtils","MWFileViewerLogger","MWXPressable.react","goUriOnNewWindow","react","react-compiler-runtime","useMWFileOnPress"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useCallback,l=b.useEffect,m={filePressable:{overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0}};function n(a){var b=d("react-compiler-runtime").c(5),e=a.children,f=a.linkProps,g=a.onPress;a=a.testid;var h;b[0]!==e||b[1]!==f||b[2]!==g||b[3]!==a?(h=j.jsx(c("MWXPressable.react"),{display:"inline",linkProps:f,onPress:g,overlayDisabled:!0,testid:void 0,xstyle:m.filePressable,children:e}),b[0]=e,b[1]=f,b[2]=g,b[3]=a,b[4]=h):h=b[4];return h}function o(a){var b=d("react-compiler-runtime").c(6),e=a.attachmentID,f=a.children,g=a.entrypoint,h=a.linkProps,i=a.messageID,k=a.onPress;a=a.testid;var l;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(l=d("MWFileViewerLogger").generateSessionId(),b[0]=l):l=b[0];i=c("useMWFileOnPress")(i,e,k,g,l);b[1]!==f||b[2]!==h||b[3]!==i||b[4]!==a?(e=j.jsx(n,{linkProps:h,onPress:i,testid:void 0,children:f}),b[1]=f,b[2]=h,b[3]=i,b[4]=a,b[5]=e):e=b[5];return e}function a(a){var b=a.children,e=a.entrypoint,f=a.file,g=a.getFileUrl,h=a.mediaRenderQpl,m=a.onPress,p=a.renderUnsupportedAttachment;a=a.testid;a=((a=f.filename)!=null?a:d("MWFileUtils").PLACEHOLDER_FILENAME).toString();var q=g!=null?g(f,"MAWFilePressable",h):d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense(f,"MAWFilePressable",h);g=d("MWChatMessageId").makeSent((i||(i=d("I64"))).to_string(f.threadKey),f.messageId,i.to_string(f.timestampMs));var r={download:a,target:"_blank",url:q},s=d("MWFileUtils").getFileSize(f),t=k(function(a,b){c("FBLogger")("messenger_web_media","cannot_load_entry_point").mustfix(a.message||"Cannot open file viewer in "+b),q!=null&&c("goUriOnNewWindow")(q)},[q]);l(function(){q!=null&&q.length>0?(h==null||h.addPoint("render-file-pressable"),h==null||h.endSuccess()):h==null||h.endFail("load-file-error")},[h,q]);if((q==null||q.length===0)&&p!=null)return p(f);return g.type==="sent"?j.jsx(c("CometErrorBoundary.react"),{onError:t,children:j.jsx(o,{attachmentID:f.attachmentFbid,entrypoint:e,linkProps:r,messageID:g.value,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}):j.jsx(n,{linkProps:r,onPress:m,testid:void 0,children:b({filename:a,messageID:g,size:s})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWChatFile.react",["MAWFilePressable.react","MWChatFilePreview.react","MWXTextPairing.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={root:{alignItems:"x6s0dn4",display:"x78zum5",userSelect:"x87ps6o",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(8),e=a.file,f=a.getFileUrl,g=a.mediaRenderQpl;a=a.renderUnsupportedAttachment;var i;b[0]!==e?(i=function(a){var b=a.filename;a=a.size;return j.jsxs("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(k.root,!1),{children:[j.jsx(c("MWChatFilePreview.react"),{attachment:e,withPreview:!1}),j.jsxs("div",{className:"xzsf02u x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe",children:[j.jsx(c("MWXTextPairing.react"),{headline:b,headlineLineLimit:3,level:4}),j.jsx("div",{className:"x889kno",children:j.jsx(c("MWXTextPairing.react"),{body:a,bodyColor:"secondary",bodyLineLimit:1,level:4})})]})]}))},b[0]=e,b[1]=i):i=b[1];var l;b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==a||b[6]!==i?(l=j.jsx(c("MAWFilePressable.react"),{entrypoint:"chat_file_v4",file:e,getFileUrl:f,mediaRenderQpl:g,renderUnsupportedAttachment:a,testid:void 0,children:i}),b[2]=e,b[3]=f,b[4]=g,b[5]=a,b[6]=i,b[7]=l):l=b[7];return l}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWChatTabInThreadBanner_query",selections:[{args:null,kind:"FragmentSpread",name:"MWEBChatTabBannerNux_query"}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{kind:"RootArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Fragment",metadata:null,name:"MWEBChatTabBannerNux_query",selections:[{args:null,kind:"FragmentSpread",name:"useEncryptedBackupsProcessStatePreLoaded_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MWEBChatTabBannerNux.react",["CometPlaceholder.react","CometRelay","JSResourceForInteraction","MWChatEncryptedBackupsQPLSource.enum","MWEBChatTabBannerNux_query.graphql","MWEBEntrypointsKillswitch.enum","MWEBMobileOnboardingEligibility","MWEBWebOnboardingUpsellUtils","MWEncryptedBackupsThreadListQPWrapper.react","cr:20045","react","react-compiler-runtime","useEncryptedBackupsProcessStatePreLoaded"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("MWEBMobileOnboardingEligibility").requireMobileOnboardingIfEligible(c("JSResourceForInteraction")("MWEBMobileOnboardingQPBannerWrapper.react").__setRef("MWEBChatTabBannerNux.react"));function a(a){var e=d("react-compiler-runtime").c(7);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWEBChatTabBannerNux_query.graphql"),a);var f;e[0]!==a?(f={entrypoint:c("MWEBEntrypointsKillswitch.enum").NOT_AN_ENTRYPOINT_NO_KILLSWITCH_APPLICABLE,query:a},e[0]=a,e[1]=f):f=e[1];f=c("useEncryptedBackupsProcessStatePreLoaded")(f);switch(f){case 2:if(d("MWEBWebOnboardingUpsellUtils").IS_E2E_TEST_UNRELATED_TO_ENCRYPTED_BACKUPS)return null;if(((f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells)!=null){a=(f=a.viewer)==null?void 0:f.if_viewer_can_see_messenger_eb_new_user_onboarding_upsells;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={},e[2]=f):f=e[2];e[3]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,children:j.jsx(d("CometRelay").MatchContainer,{match:a,props:f})}),e[3]=a,e[4]=f):f=e[4];return f}if(b("cr:20045")!=null){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(b("cr:20045"),{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP}),e[5]=a):a=e[5];return a}e[6]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(k,{fallback:null,props:{children:null,source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_ONBOARDING_QP,trigger:d("MWEncryptedBackupsThreadListQPWrapper.react").MWEncryptedBackupsQPTrigger.CHAT_TAB}}),e[6]=f):f=e[6];return f;default:return null}}g["default"]=a}),98);
__d("MAWChatTabInThreadBanner.react",["CometPlaceholder.react","CometRelay","MAWChatTabInThreadBanner_query.graphql","MWEBChatTabBannerNux.react","cr:9715","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.query;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MAWChatTabInThreadBanner_query.graphql"),a);if(b("cr:9715")&&c("gkx")("1778")){var f;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWInThreadBannerNuxReqCondWrapper",children:j.jsx(b("cr:9715"),{hasNoMargin:!0})}),e[0]=f):f=e[0];return f}else{e[1]!==a?(f=j.jsx(c("MWEBChatTabBannerNux.react"),{query:a}),e[1]=a,e[2]=f):f=e[2];return f}}g["default"]=a}),98);
__d("MAWCreateOptimisticSecureThread",["FBLogger","I64","LSAuthorityLevel","LSFactory","LSGroupParticipantJoinState","LSIntEnum","MAWVerifyThreadExistsUtils","Promise","ReQLTable"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a,b){return d("MAWVerifyThreadExistsUtils").runVerifyThreadExistsSproc(c("LSFactory")(a),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),threadType:b},"createSecureOccamadilloOptimisticThread").then(function(b){var e=b[0];return d("ReQLTable").update(a.threads,[e],function(a){if(a==null)throw c("FBLogger")("maw_threads").mustfixThrow("Optimistic thread is missing");return babelHelpers["extends"]({},a,{clientThreadKey:e})}).then(function(){return e})})}function a(a,e,f){return k(a,f).then(function(f){return(h||(h=b("Promise"))).all(e.map(function(b){return a.participants.add({authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC),contactId:b.id,deliveredWatermarkTimestampMs:(i||(i=d("I64"))).zero,groupParticipantJoinState:j.ofNumber(c("LSGroupParticipantJoinState").MEMBER),isAdmin:void 0,isModerator:!1,isSuperAdmin:void 0,nickname:void 0,normalizedSearchTerms:void 0,participantCapabilities:void 0,readActionTimestampMs:i.zero,readWatermarkTimestampMs:i.zero,subscribeSource:void 0,threadKey:f})})).then(function(){return f})})}g.call=a}),98);
__d("MAWCutoverEncryptedBackupsBanner.react",["CometErrorBoundary.react","cr:3127","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var e=d("react-compiler-runtime").c(4);a=a.isShown;var f;e[0]!==a?(f=a&&b("cr:3127")?i.jsx(c("CometErrorBoundary.react"),{fallback:j,children:i.jsx(b("cr:3127"),{})}):null,e[0]=a,e[1]=f):f=e[1];e[2]!==f?(a=i.jsx(i.Fragment,{children:f}),e[2]=f,e[3]=a):a=e[3];return a}function j(){return null}g["default"]=a}),98);
__d("MAWEphemeralGatingUtil",["$InternalEnum","MetaConfig","gkx","justknobx"],(function(a,b,c,d,e,f,g){"use strict";e=b("$InternalEnum")({SEEN_BASED:0,SEND_BASED:1});var h="0,60,900,86400";function a(){var a=c("MetaConfig")._("56");(a===null||a==="")&&(a=h);a=a.replace('"',"").split(",").map(function(a){return parseInt(a,10)});c("gkx")("2260")&&a.push(10,30,60,120);return a}function d(){var a=c("MetaConfig")._("65");return c("justknobx")._("1546")&&a}g.EphemeralityType=e;g.getExpirationOptions=a;g.isResetEphemeralSettingsEnabled=d}),98);
__d("MAWFTSSyncConsts",["justknobx"],(function(a,b,c,d,e,f,g){"use strict";a=c("justknobx")._("2655");g.THREAD_VIEW_DELAY_UNTIL_RESTORE=a}),98);
__d("MAWMessageAssociatedDataContext",["I64","MWPActor.react","MWPMessageReactions.react","react","react-compiler-runtime","vulture"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));e=h;f=e.createContext;e.useMemo;var k=f({reactions:[],selectedReaction:null});function a(a){var b=d("react-compiler-runtime").c(11),e=a.children;a=a.reactions;c("vulture")("ToW1qNDBDegMiTt6aDE2LdNlXjs=");var f=d("MWPActor.react").useActor();if(b[0]!==f||b[1]!==a){var g;b[3]!==f?(g=function(a){return(i||(i=d("I64"))).equal(a.actorId,f)},b[3]=f,b[4]=g):g=b[4];g=a.filter(g).at(0);b[0]=f;b[1]=a;b[2]=g}else g=b[2];g=g;var h;b[5]!==a||b[6]!==g?(h={reactions:a,selectedReaction:g},b[5]=a,b[6]=g,b[7]=h):h=b[7];a=h;g=a;b[8]!==g||b[9]!==e?(h=j.jsx(k.Provider,{value:g,children:e}),b[8]=g,b[9]=e,b[10]=h):h=b[10];return h}function b(a){var b=d("react-compiler-runtime").c(11),e=a.children;a=a.message;c("vulture")("Dm8E024czWpE17PwrxErWovey_w=");var f=d("MWPActor.react").useActor();a=d("MWPMessageReactions.react").useReactions(a);if(b[0]!==f||b[1]!==a){var g;b[3]!==f?(g=function(a){return a.actorId===f},b[3]=f,b[4]=g):g=b[4];g=a.filter(g);b[0]=f;b[1]=a;b[2]=g}else g=b[2];g=g[0];var h;b[5]!==a||b[6]!==g?(h={reactions:a,selectedReaction:g},b[5]=a,b[6]=g,b[7]=h):h=b[7];a=h;g=a;b[8]!==g||b[9]!==e?(h=j.jsx(k.Provider,{value:g,children:e}),b[8]=g,b[9]=e,b[10]=h):h=b[10];return h}g.MAWMessageAssociatedDataContext=k;g.MAWMessageAssociatedDataContextProvider=a;g.MAWMessageAssociatedDataContextFetchReactionsLSProvider=b}),98);
__d("MAWMessageIntegrityCheckDeferred",["promiseDone","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h=c("requireDeferred")("MAWMessageIntegrityCheck").__setRef("MAWMessageIntegrityCheckDeferred");function a(a,b,d,e,g,i,j,k,l,m){h.onReady(function(h){return c("promiseDone")(h.runMessageIntegrityCheck(a,b,d,e,g,i,j,k,l,m))})}g.runMessageIntegrityCheckDeferred=a}),98);
__d("MAWMessageIntegrityCheckFlytrapQueue",["FBLogger","I64","LSDatabaseSingleton","MAWMessageIntegrityCheckFlytrapResultCache","MAWMessageIntegrityEBFetchStatus","WATimeUtils","justknobx","requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=c("requireDeferred")("MAWMessageIntegrityFetchAndCompareData").__setRef("MAWMessageIntegrityCheckFlytrapQueue"),k=c("justknobx")._("3629"),l=[],m=null;function a(a){var b=d("MAWMessageIntegrityCheckFlytrapResultCache").generateMessageIntegrityCheckPageKey(a.threadKey,a.uiMessages);if(b==null)return;l.push([b,a]);l.length>k&&l.shift()}function b(){if(m!=null)return m;m=new Promise(async function(a,b){try{var c=[].concat(l);c=await n(c.reverse());a(c)}catch(a){b(a)}finally{m=null}});return m}async function n(a){var b=await j.load(),e=await (h||(h=d("LSDatabaseSingleton"))).LSDatabaseSingleton;a=await Promise.all(a.map(async function(a){var f=a[0];a=a[1];var g=a.lastItemFromPreviousPage,h=a.pageSize,j=a.threadKey;a=a.uiMessages;var k=d("MAWMessageIntegrityCheckFlytrapResultCache").getMessageIntegrityCheckResult(f);if(k!=null)return[j,k];g=g!=null?{lastItemFromPreviousPage:g,type:"lastItemFromPreviousPage"}:{timeOfSnapshotMs:d("WATimeUtils").millisTime(),type:"latestPageSnapshot"};var l=d("MAWMessageIntegrityEBFetchStatus").hasEBFailure(j);g=await b.fetchAndCompareMessagesData({db:e,fromReferencePoint:g,hasEbFetchFailed:l,localMessages:a,pageSize:h,threadKey:j});if(g.success===!1){c("FBLogger")("messenger_web_missing_messages").info("Message Integrity Check skipped for threadKey %s, reason %s",(i||(i=d("I64"))).to_float(j),g.error);return null}k=g.value.missingInTargetCategory;d("MAWMessageIntegrityCheckFlytrapResultCache").cacheMessageIntegrityCheckResult(f,k);return[j,k]}));return o(a.filter(Boolean))}function o(a){return a.reduce(function(a,b){var c=b[0];b=b[1];if(b.length===0)return a;var e=(i||(i=d("I64"))).to_float(c);a.threadKeyToCategoryMapByExternalIds[e]==null&&(a.threadKeyToCategoryMapByExternalIds[e]={});b.forEach(function(b){var c=b[0];b=b[1];a.threadKeyToCategoryMapByExternalIds[e][c.externalId]=b});return a},{numPagesChecked:a.length,threadKeyToCategoryMapByExternalIds:{}})}g.enqueueFlytrapMessageIntegrityCheck=a;g.getFlytrapMissingMessageReport=b}),98);
__d("MWV2AudioAttachmentErrorPlaceholder.react",["I64","MWPAudioHighlightStylesHooks","MWPAudioPlaybackButton.react","MWPAudioPlayerContainer.react","MWPAudioPlayerHighlight.react","MWPAudioPlayerSharedStyles","MWPAudioPlayerTimer.react","MWPAudioPlayerUtils","MWXMessageBubbleCornerStyles.react","emptyFunction","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));b=i;var l=b.useEffect,m=b.useRef;function a(a){var b=d("react-compiler-runtime").c(35),e=a.attachment,f=a.connectBottom,g=a.connectTop,i=a.isReply,n=a.isRetryableError,o=a.mediaRenderQpl,p=a.message,q=a.onRetry,r=a.outgoing;a=a.width;i=i===void 0?!1:i;var s=e.playableDurationMs;s=(j||(j=d("I64"))).to_float(s!=null?s:(j||(j=d("I64"))).zero)/1e3;f=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:r===!0?"right":"left",connectBottom:f,connectTop:g});g=d("MWPAudioPlayerUtils").useControlCenter(void 0,void 0,p.messageId,void 0,c("emptyFunction"),!1,s,o);var t=g[2];g=g[4];if(b[0]!==p.ephemeralDurationInSec){var u;u=(j||(j=d("I64"))).gt((u=p.ephemeralDurationInSec)!=null?u:(j||(j=d("I64"))).zero,j.zero);b[0]=p.ephemeralDurationInSec;b[1]=u}else u=b[1];p=u;u=m();var v=d("MWPAudioHighlightStylesHooks").useHighlightStyles(r);a=d("MWPAudioPlayerUtils").useCalculatePlayerWidth(a,p);p=a+"px";b[2]!==p?(a={width:p},b[2]=p,b[3]=a):a=b[3];p=a;var w;b[4]!==n||b[5]!==o?(a=function(){o==null||o.addPoint("render-audio-error-placeholder",{bool:{is_retryable_error:n}})},w=[o,n],b[4]=n,b[5]=o,b[6]=a,b[7]=w):(a=b[6],w=b[7]);l(a,w);a=c("MWPAudioPlayerContainer.react");w=!1;var x=null,y="mw_audio_player_error_placeholder";y=d("MWPAudioPlayerUtils").UseCase;f=(h||(h=c("stylex"))).props(d("MWPAudioPlayerSharedStyles").styles.common,f,r?d("MWPAudioPlayerSharedStyles").styles.commonOutgoing:d("MWPAudioPlayerSharedStyles").styles.commonIncoming,i&&d("MWPAudioPlayerSharedStyles").styles.commonReply,r&&i&&d("MWPAudioPlayerSharedStyles").styles.commonOutgoingReply);i=e.isAttachmentConsumed===!0;b[8]!==q?(e=function(){q&&q()},b[8]=q,b[9]=e):e=b[9];var z;b[10]!==n||b[11]!==r||b[12]!==e?(z=k.jsx(c("MWPAudioPlaybackButton.react"),{disabled:!0,hasEnded:!1,isError:!0,isLoading:!1,isPaused:!1,isPlaying:!1,isRetryableError:n,onPress:e,outgoing:r,scrubberRef:u}),b[10]=n,b[11]=r,b[12]=e,b[13]=z):z=b[13];b[14]!==t||b[15]!==s||b[16]!==v||b[17]!==r||b[18]!==g||b[19]!==i||b[20]!==z?(e=k.jsx(d("MWPAudioPlayerHighlight.react").MWPAudioPlayerHighlightV2,{audioEl:t,currentTime:s,disabled:!0,duration:s,hasEnded:!1,hasScrubber:!1,isListened:i,isPlaying:!1,onUpdateScrubber:c("emptyFunction"),outgoing:r,progressHighlightRef:g,scrubberRef:u,waveformData:null,xstyle:v,children:z}),b[14]=t,b[15]=s,b[16]=v,b[17]=r,b[18]=g,b[19]=i,b[20]=z,b[21]=e):e=b[21];b[22]!==s||b[23]!==r?(v=k.jsx("div",{children:k.jsx(c("MWPAudioPlayerTimer.react"),{disabled:!0,outgoing:r,time:s})}),b[22]=s,b[23]=r,b[24]=v):v=b[24];b[25]!==f||b[26]!==e||b[27]!==v?(g=k.jsxs("div",babelHelpers["extends"]({},f,{children:[e,v]})),b[25]=f,b[26]=e,b[27]=v,b[28]=g):g=b[28];b[29]!==a||b[30]!==t||b[31]!==p||b[32]!==y.PLAYER||b[33]!==g?(i=k.jsx(a,{audioEl:t,hasScrubber:w,mediaRenderQpl:x,scrubberRef:u,style:p,testid:void 0,useCase:y.PLAYER,children:g}),b[29]=a,b[30]=t,b[31]=p,b[32]=y.PLAYER,b[33]=g,b[34]=i):i=b[34];return i}g["default"]=a}),98);
__d("MAWSecureAudioAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWAudioPlayer.react","MWPAudioPlayerUtils","MWV2AudioAttachmentErrorPlaceholder.react","mwpMessageIsReply","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(30),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,k=a.mediaRenderQpl,l=a.message,m=a.outgoing;a=a.shouldDisableAutoTriggerDownload;var n,o;b[0]!==k?(n=function(){k==null||k.addPoint("render-audio-attachment")},o=[k],b[0]=k,b[1]=n,b[2]=o):(n=b[1],o=b[2]);j(n,o);n=d("MWPAudioPlayerUtils").useCalculatePlayerWidth();o=d("MWPAudioPlayerUtils").useCalculatePlayerHeight(d("MWPAudioPlayerUtils").UseCase.PLAYER);var p;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==k||b[7]!==l||b[8]!==m?(p=function(a,b){return i.jsx(c("MWV2AudioAttachmentErrorPlaceholder.react"),{attachment:g,connectBottom:e,connectTop:f,isRetryableError:a,mediaRenderQpl:k,message:l,onRetry:b,outgoing:m})},b[3]=e,b[4]=f,b[5]=g,b[6]=k,b[7]=l,b[8]=m,b[9]=p):p=b[9];var q=p;b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==q||b[14]!==h||b[15]!==k||b[16]!==l||b[17]!==m?(p=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureAudioAttachmentContentV2.Suspense",!0),name:"MAWSecureAudioAttachmentContentV2.Suspense",children:i.jsx(c("MWAudioPlayer.react"),{attachment:g,connectBottom:e,connectTop:f,getPlayableUrl:h,isReply:c("mwpMessageIsReply")(l),isSecure:!0,mediaRenderQpl:k,message:l,outgoing:m,renderUnsupportedAttachment:function(){return q(!1)}})})},b[10]=e,b[11]=f,b[12]=g,b[13]=q,b[14]=h,b[15]=k,b[16]=l,b[17]=m,b[18]=p):p=b[18];p=p;var r;b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==q||b[23]!==k||b[24]!==m||b[25]!==o||b[26]!==n||b[27]!==a||b[28]!==p?(r=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureAudioAttachmentContentV2",errorComponentRenderer:q,mediaRenderQpl:k,outgoing:m,placeholderHeight:o,placeholderWidth:n,shouldDisableAutoTriggerDownload:a,successfulComponentRenderer:p}),b[19]=e,b[20]=f,b[21]=g,b[22]=q,b[23]=k,b[24]=m,b[25]=o,b[26]=n,b[27]=a,b[28]=p,b[29]=r):r=b[29];return r}g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholder.react",["fbt","MWXAspectRatioContainer.react","MWXIconCautionTriangle","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXTooltip.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(18),e=a.connectBottom,f=a.connectTop,g=a.detailedUserFacingErrorMessage,j=a.hasAppAttribution,m=a.height,n=a.outgoing,o=a.width,p=a.xstyle,q=c("useCurrentDisplayMode")();a=m!=null?m:100;m=o!=null?o:200;o=n===!0?"right":"left";n=j===!0?"bottom":"none";b[0]!==e||b[1]!==f||b[2]!==o||b[3]!==n?(j=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:o,connectBottom:e,connectTop:f,flatten:n}),b[0]=e,b[1]=f,b[2]=o,b[3]=n,b[4]=j):j=b[4];var r=j;b[5]!==g?(e=g!=null?g:h._(/*BTDS*/"Error loading media"),b[5]=g,b[6]=e):e=b[6];b[7]!==r||b[8]!==q||b[9]!==p?(f=function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([a,l.content,q==="dark"?l.dark:l.light,r,p]),{"data-testid":void 0,children:k.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWXIconCautionTriangle"),size:20})}))},b[7]=r,b[8]=q,b[9]=p,b[10]=f):f=b[10];b[11]!==a||b[12]!==f||b[13]!==m?(o=k.jsx(c("MWXAspectRatioContainer.react"),{height:a,maxHeight:200,maxWidth:480,width:m,children:f}),b[11]=a,b[12]=f,b[13]=m,b[14]=o):o=b[14];b[15]!==e||b[16]!==o?(n=k.jsx(c("MWXTooltip.react"),{tooltip:e,children:o}),b[15]=e,b[16]=o,b[17]=n):n=b[17];return n}g["default"]=a}),226);
__d("MWV2SecureFileAttachmentErrorPlaceholder.react",["MWChatFilePreview.react","MWFileUtils","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b,e=d("react-compiler-runtime").c(25),f=a.file,g=a.isRetryableError,h=a.mediaRenderQpl;a=a.onRetry;b=(b=f.filename)!=null?b:d("MWFileUtils").PLACEHOLDER_FILENAME;var k;e[0]!==b?(k=b.toString(),e[0]=b,e[1]=k):k=e[1];b=k;e[2]!==f?(k=d("MWFileUtils").getFileSize(f),e[2]=f,e[3]=k):k=e[3];k=k;var l,m;e[4]!==g||e[5]!==h?(l=function(){h==null||h.addPoint("render-file-error-placeholder",{bool:{is_retryable_error:g}})},m=[h,g],e[4]=g,e[5]=h,e[6]=l,e[7]=m):(l=e[6],m=e[7]);j(l,m);e[8]===Symbol["for"]("react.memo_cache_sentinel")?(l={className:"x6s0dn4 x78zum5 x87ps6o"},e[8]=l):l=e[8];e[9]!==f||e[10]!==g||e[11]!==a?(m=i.jsx(c("MWChatFilePreview.react"),{attachment:f,isError:!0,isRetryableError:g,onRetry:a,withPreview:!1}),e[9]=f,e[10]=g,e[11]=a,e[12]=m):m=e[12];e[13]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1x80s81 x1iyjqo2 x1s688f xz9dl7a xsag5q8 x1g0dm76 xv54qhq x13faqbe"},e[13]=f):f=e[13];e[14]!==b?(a=i.jsx(c("MWXTextPairing.react"),{headline:b,headlineColor:"disabled",headlineLineLimit:3,level:4}),e[14]=b,e[15]=a):a=e[15];e[16]===Symbol["for"]("react.memo_cache_sentinel")?(b={className:"x1x80s81 x889kno"},e[16]=b):b=e[16];e[17]!==k?(b=i.jsx("div",babelHelpers["extends"]({},b,{children:i.jsx(c("MWXTextPairing.react"),{body:k,bodyColor:"disabled",bodyLineLimit:1,level:4})})),e[17]=k,e[18]=b):b=e[18];e[19]!==b||e[20]!==a?(k=i.jsxs("div",babelHelpers["extends"]({},f,{children:[a,b]})),e[19]=b,e[20]=a,e[21]=k):k=e[21];e[22]!==k||e[23]!==m?(f=i.jsxs("div",babelHelpers["extends"]({},l,{"data-testid":void 0,children:[m,k]})),e[22]=k,e[23]=m,e[24]=f):f=e[24];return f}g["default"]=a}),98);
__d("MAWSecureFileAttachmentContent.react",["CometPlaceholder.react","MAWChatFile.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholder.react","MWV2SecureFileAttachmentErrorPlaceholder.react","MWXMessageBubble.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect,k=60,l=250,m={bubble:{paddingTop:"xexx8yu",paddingInlineEnd:"xyri2b",paddingBottom:"x18d9i69",paddingInlineStart:"x1c1uobl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(25),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getFileUrl,n=a.mediaRenderQpl,o=a.outgoing;a=a.shouldDisableAutoTriggerDownload;var p,q;b[0]!==n?(p=function(){n==null||n.addPoint("render-file-attachment")},q=[n],b[0]=n,b[1]=p,b[2]=q):(p=b[1],q=b[2]);j(p,q);b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==n||b[7]!==o?(p=function(a,b){return i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:e,connectTop:f,xstyle:m.bubble,children:i.jsx(c("MWV2SecureFileAttachmentErrorPlaceholder.react"),{file:g,isRetryableError:a,mediaRenderQpl:n,onRetry:b})})},b[3]=e,b[4]=f,b[5]=g,b[6]=n,b[7]=o,b[8]=p):p=b[8];q=p;b[9]!==e||b[10]!==f||b[11]!==g||b[12]!==h||b[13]!==n||b[14]!==o?(p=function(a){return i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureFileAttachmentContentV2.Suspense",!0),name:"MAWSecureFileAttachmentContentV2.Suspense",children:i.jsx(c("MWXMessageBubble.react"),{align:o?"right":"left",color:"incoming",connectBottom:e,connectTop:f,xstyle:m.bubble,children:i.jsx(c("MAWChatFile.react"),{file:g,getFileUrl:h,mediaRenderQpl:n,renderUnsupportedAttachment:function(){return i.jsx(c("MWV2AttachmentErrorPlaceholder.react"),{connectBottom:e,connectTop:f,height:k,outgoing:o,width:l})}})})})},b[9]=e,b[10]=f,b[11]=g,b[12]=h,b[13]=n,b[14]=o,b[15]=p):p=b[15];p=p;var r;b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==q||b[20]!==n||b[21]!==o||b[22]!==a||b[23]!==p?(r=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureFileAttachmentContentV2",errorComponentRenderer:q,mediaRenderQpl:n,outgoing:o,placeholderHeight:k,placeholderWidth:l,shouldDisableAutoTriggerDownload:a,successfulComponentRenderer:p}),b[16]=e,b[17]=f,b[18]=g,b[19]=q,b[20]=n,b[21]=o,b[22]=a,b[23]=p,b[24]=r):r=b[24];return r}g["default"]=a}),98);
__d("MediaDownloadStatusIconSize",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum")({Small:"small",Large:"large"});c=a;f["default"]=c}),66);
__d("MWV2AttachmentErrorPlaceholderV2.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWXAspectRatioContainer.react","MWXIconExclamationMarkCircle","MWXIconRefreshAlt","MWXIconStrict.react","MWXMessageBubbleCornerStyles.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useEffect,m={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0},content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(27),e=a.attachment,f=a.connectBottom,g=a.connectTop,j=a.hasAppAttribution,n=a.height,o=a.iconSize,p=a.isRetryableError,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.onRetry,u=a.outgoing,v=a.width,w=a.withTooltip,x=a.xstyle;a=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(e,p,t);e=a.mediaStatusText;a=a.retryButton;var y,z;b[0]!==p||b[1]!==s?(y=function(){s==null||s.addPoint("render-error-placeholder",{bool:{is_retryable_error:p}})},z=[s,p],b[0]=p,b[1]=s,b[2]=y,b[3]=z):(y=b[2],z=b[3]);l(y,z);var A=c("useCurrentDisplayMode")();y=n!=null?n:100;z=v!=null?v:200;n=u===!0?"right":"left";v=j===!0?"bottom":"none";b[4]!==f||b[5]!==g||b[6]!==n||b[7]!==v?(u=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:n,connectBottom:f,connectTop:g,flatten:v}),b[4]=f,b[5]=g,b[6]=n,b[7]=v,b[8]=u):u=b[8];var B=u;j=q!=null?q:200;f=r!=null?r:480;b[9]!==B||b[10]!==A||b[11]!==o||b[12]!==p||b[13]!==t||b[14]!==x?(g=function(a){return k.jsx("div",babelHelpers["extends"]({},(i||(i=c("stylex"))).props([a,m.content,A==="dark"?m.dark:m.light,B,x]),{"data-testid":void 0,children:p?k.jsx(c("MWXPressable.react"),{display:"inline",label:h._(/*BTDS*/"Retry"),onPress:t,testid:void 0,xstyle:[m.circleButton,m.container,o===c("MediaDownloadStatusIconSize").Large&&m.buttonLarge,o===c("MediaDownloadStatusIconSize").Small&&m.buttonSmall],children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:o===c("MediaDownloadStatusIconSize").Large?24:12})}):k.jsx("div",babelHelpers["extends"]({},{0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x19rn6z x78zum5 xl56j7k xdd8jsf xvni27"}}[!!(o===c("MediaDownloadStatusIconSize").Large)<<0],{children:k.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:o===c("MediaDownloadStatusIconSize").Large?24:12})}))}))},b[9]=B,b[10]=A,b[11]=o,b[12]=p,b[13]=t,b[14]=x,b[15]=g):g=b[15];b[16]!==y||b[17]!==j||b[18]!==f||b[19]!==g||b[20]!==z?(n=k.jsx(c("MWXAspectRatioContainer.react"),{height:y,maxHeight:j,maxWidth:f,width:z,children:g}),b[16]=y,b[17]=j,b[18]=f,b[19]=g,b[20]=z,b[21]=n):n=b[21];v=n;b[22]!==v||b[23]!==e||b[24]!==a||b[25]!==w?(u=w===!0?k.jsx(c("MWXTooltip.react"),{label:e,tooltip:k.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[e,a]}),children:v}):v,b[22]=v,b[23]=e,b[24]=a,b[25]=w,b[26]=u):u=b[26];return u}g["default"]=a}),226);
__d("MWV2AttachmentPlaceholderWithBlurImage.react",["CometPlaceholder.react","FDSBlurredBackgroundImage.react","MWV2ChatImage.react","MWXAspectRatioContainer.react","MWXMessageBubbleCornerStyles.react","react","react-compiler-runtime","stylex","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k={content:{alignItems:"x6s0dn4",borderStartStartRadius:"x1xn7y0n",borderStartEndRadius:"x1uxb8k9",borderEndEndRadius:"x1vmbcc8",borderEndStartRadius:"x16xm01d",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0},dark:{backgroundColor:"xhzw6zf",$$css:!0},gallery:{backgroundPosition:"x1bz1qqp",$$css:!0},light:{backgroundColor:"x1vtvx1t",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(30),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,m=a.hasAppAttribution,n=a.height,o=a.isGroupedImage,p=a.maxHeight,q=a.maxWidth,r=a.mediaRenderQpl,s=a.message,t=a.outgoing,u=a.width,v=a.xstyle,w=c("useCurrentDisplayMode")();a=n!=null?n:100;n=u!=null?u:200;u=t===!0?"right":"left";m=m===!0?"bottom":"none";var x;b[0]!==e||b[1]!==f||b[2]!==u||b[3]!==m?(x=d("MWXMessageBubbleCornerStyles.react").getMWXBubbleCornerStyles({align:u,connectBottom:e,connectTop:f,flatten:m}),b[0]=e,b[1]=f,b[2]=u,b[3]=m,b[4]=x):x=b[4];var y=x;u=p!=null?p:200;m=q!=null?q:480;b[5]!==y||b[6]!==w||b[7]!==v?(x=function(a){return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props([a,k.content,w==="dark"?k.dark:k.light,y,v]),{"data-testid":void 0}))},b[5]=y,b[6]=w,b[7]=v,b[8]=x):x=b[8];var z;b[9]!==a||b[10]!==u||b[11]!==m||b[12]!==x||b[13]!==n?(z=j.jsx(c("MWXAspectRatioContainer.react"),{height:a,maxHeight:u,maxWidth:m,width:n,children:x}),b[9]=a,b[10]=u,b[11]=m,b[12]=x,b[13]=n,b[14]=z):z=b[14];var A=z;b[15]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x47corl"},b[15]=u):u=b[15];b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==A||b[20]!==i||b[21]!==a||b[22]!==o||b[23]!==p||b[24]!==q||b[25]!==r||b[26]!==s||b[27]!==t||b[28]!==n?(m=j.jsx("div",babelHelpers["extends"]({},u,{children:s!=null?j.jsx(c("CometPlaceholder.react"),{fallback:A,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(c("MWV2ChatImage.react"),{attachment:g,connectBottom:e,connectTop:f,getPreviewUrl:i,isGroupedImage:o,isSecure:!0,maxHeight:p!=null?p:a,maxWidth:q!=null?q:n,mediaRenderQpl:null,message:s,navigateToRouteForMediaViewer:!1,outgoing:t,renderUnsupportedAttachment:function(){return A},shouldBlur:!0})}):j.jsx(c("CometPlaceholder.react"),{fallback:A,name:"MWV2AttachmentErrorPlaceholderWithBlurImage",children:j.jsx(l,{dbAttachment:g,fallback:A,getPreviewUrl:i,heightCalculated:a,maxHeight:p,maxWidth:q,mediaRenderQpl:r,widthCalculated:n})})})),b[16]=e,b[17]=f,b[18]=g,b[19]=A,b[20]=i,b[21]=a,b[22]=o,b[23]=p,b[24]=q,b[25]=r,b[26]=s,b[27]=t,b[28]=n,b[29]=m):m=b[29];return m}function l(a){var b=d("react-compiler-runtime").c(11),e=a.dbAttachment,f=a.fallback,g=a.getPreviewUrl,h=a.heightCalculated,i=a.maxHeight,l=a.maxWidth,m=a.mediaRenderQpl;a=a.widthCalculated;var n;b[0]!==e||b[1]!==g||b[2]!==m?(n=g(e,"MWV2AttachmentErrorPlaceholderWithBlurImage.react",m),b[0]=e,b[1]=g,b[2]=m,b[3]=n):n=b[3];var o=n;b[4]!==f||b[5]!==h||b[6]!==i||b[7]!==l||b[8]!==o||b[9]!==a?(e=o!=null?j.jsx(c("MWXAspectRatioContainer.react"),{height:h,maxHeight:i,maxWidth:l,width:a,children:function(a){return j.jsx(c("FDSBlurredBackgroundImage.react"),{src:o,xstyle:[a,k.gallery]})}}):f,b[4]=f,b[5]=h,b[6]=i,b[7]=l,b[8]=o,b[9]=a,b[10]=e):e=b[10];return e}g["default"]=a}),98);
__d("MWV2AttachmentErrorPlaceholderWithBlurImage.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconExclamationMarkCircle","MWXIconStrict.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(35),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,k=a.hasAppAttribution,l=a.height,m=a.iconSize,n=a.isGroupedImage,o=a.maxHeight,p=a.maxWidth,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.width,u=a.withTooltip;a=a.xstyle;var v,w;b[0]!==q||b[1]!==r?(v=function(){q==null||q.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:r!=null}})},w=[q,r],b[0]=q,b[1]=r,b[2]=v,b[3]=w):(v=b[2],w=b[3]);j(v,w);v=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!1);w=v.mediaStatusText;v=v.retryButton;var x;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(x={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},b[4]=x):x=b[4];var y;b[5]!==m?(y={0:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xxk0z11 xvy4d1p"},1:{className:"x6s0dn4 x18l40ae x1c9tyrk xeusxvb x1pahc9y x1ertn4p x14ctfv x78zum5 xl56j7k xdd8jsf xvni27"}}[!!(m===c("MediaDownloadStatusIconSize").Large)<<0],b[5]=m,b[6]=y):y=b[6];m=m===c("MediaDownloadStatusIconSize").Large?24:12;var z;b[7]!==m?(z=i.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconExclamationMarkCircle"),size:m}),b[7]=m,b[8]=z):z=b[8];b[9]!==y||b[10]!==z?(m=i.jsx("div",babelHelpers["extends"]({},x,{children:i.jsx("div",babelHelpers["extends"]({},y,{"data-testid":void 0,children:z}))})),b[9]=y,b[10]=z,b[11]=m):m=b[11];b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==h||b[16]!==k||b[17]!==l||b[18]!==n||b[19]!==o||b[20]!==p||b[21]!==q||b[22]!==r||b[23]!==s||b[24]!==t||b[25]!==a?(x=i.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:h,hasAppAttribution:k,height:l,isGroupedImage:n,maxHeight:o,maxWidth:p,mediaRenderQpl:q,message:r,outgoing:s,width:t,xstyle:a}),b[12]=e,b[13]=f,b[14]=g,b[15]=h,b[16]=k,b[17]=l,b[18]=n,b[19]=o,b[20]=p,b[21]=q,b[22]=r,b[23]=s,b[24]=t,b[25]=a,b[26]=x):x=b[26];b[27]!==m||b[28]!==x?(y=i.jsxs(i.Fragment,{children:[m,x]}),b[27]=m,b[28]=x,b[29]=y):y=b[29];z=y;b[30]!==z||b[31]!==w||b[32]!==v||b[33]!==u?(e=u===!0?i.jsx(c("MWXTooltip.react"),{label:w,tooltip:i.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[w,v]}),children:z}):z,b[30]=z,b[31]=w,b[32]=v,b[33]=u,b[34]=e):e=b[34];return e}g["default"]=a}),98);
__d("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react",["fbt","MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconRefreshAlt","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(38),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPreviewUrl,m=a.hasAppAttribution,n=a.height,o=a.iconSize,p=a.isGroupedImage,q=a.maxHeight,r=a.maxWidth,s=a.mediaRenderQpl,t=a.message,u=a.onRetry,v=a.outgoing,w=a.width,x=a.withTooltip;a=a.xstyle;var y,z;b[0]!==s||b[1]!==t?(y=function(){s==null||s.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:t!=null,is_retryable_error:!0}})},z=[s,t],b[0]=s,b[1]=t,b[2]=y,b[3]=z):(y=b[2],z=b[3]);k(y,z);y=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!0,u);z=y.mediaStatusText;y=y.retryButton;var A;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(A={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},b[4]=A):A=b[4];var B;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(B=h._(/*BTDS*/"Retry"),b[5]=B):B=b[5];var C=o===c("MediaDownloadStatusIconSize").Large&&l.buttonLarge,D=o===c("MediaDownloadStatusIconSize").Small&&l.buttonSmall,E;b[6]!==C||b[7]!==D?(E=[l.circleButton,l.container,C,D],b[6]=C,b[7]=D,b[8]=E):E=b[8];C=o===c("MediaDownloadStatusIconSize").Large?24:12;b[9]!==C?(D=j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconRefreshAlt"),size:C}),b[9]=C,b[10]=D):D=b[10];b[11]!==u||b[12]!==E||b[13]!==D?(o=j.jsx("div",babelHelpers["extends"]({},A,{children:j.jsx(c("MWXPressable.react"),{display:"inline",label:B,onPress:u,testid:void 0,xstyle:E,children:D})})),b[11]=u,b[12]=E,b[13]=D,b[14]=o):o=b[14];b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==i||b[19]!==m||b[20]!==n||b[21]!==p||b[22]!==q||b[23]!==r||b[24]!==s||b[25]!==t||b[26]!==v||b[27]!==w||b[28]!==a?(C=j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:i,hasAppAttribution:m,height:n,isGroupedImage:p,maxHeight:q,maxWidth:r,mediaRenderQpl:s,message:t,outgoing:v,width:w,xstyle:a}),b[15]=e,b[16]=f,b[17]=g,b[18]=i,b[19]=m,b[20]=n,b[21]=p,b[22]=q,b[23]=r,b[24]=s,b[25]=t,b[26]=v,b[27]=w,b[28]=a,b[29]=C):C=b[29];b[30]!==o||b[31]!==C?(A=j.jsxs(j.Fragment,{children:[o,C]}),b[30]=o,b[31]=C,b[32]=A):A=b[32];B=A;b[33]!==B||b[34]!==z||b[35]!==y||b[36]!==x?(u=x===!0?j.jsx(c("MWXTooltip.react"),{label:z,tooltip:j.jsxs(c("MWXText.react"),{color:"tooltip",type:"meta4",children:[z,y]}),children:B}):B,b[33]=B,b[34]=z,b[35]=y,b[36]=x,b[37]=u):u=b[37];return u}g["default"]=a}),226);
__d("MAWSecureImageAttachmentContent.react",["CometHeroHoldTrigger.react","CometPlaceholder.react","I64","MAWThreadViewAttachmentStateHandlerContent.react","MWAnimatedImageControlsUtil","MWAnimatedImageThumbnailWithPlayButton.react","MWLSThreadDisplayContext","MWMessageListImageSizingUtils","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentLoadingPlaceholder.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MWV2ChatImage.react","MediaDownloadStatusIconSize","MessagingAttachmentType","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||(h=d("react"));b=h;var k=b.useEffect,l=b.useState;function a(a){var b=d("react-compiler-runtime").c(74),e=a.attachmentsFromGroupToRetry,f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,m=a.getPreviewUrl,n=a.isGroupedImage,o=a.mediaRenderQpl,p=a.message,q=a.outgoing,r=a.previewHeight,s=a.previewWidth;a=a.shouldDisableAutoTriggerDownload;a=a===void 0?!1:a;var t=d("MWAnimatedImageControlsUtil").useGetMessengerAutoplaySetting(),u=l(!1),v=u[0],w=u[1],x;b[0]!==o?(u=function(){o==null||o.addPoint("render-image-attachment")},x=[o],b[0]=o,b[1]=u,b[2]=x):(u=b[1],x=b[2]);k(u,x);u=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();x=u!=null?u:void 0;b[3]!==n||b[4]!==x?(u=d("MWMessageListImageSizingUtils").getMaxPreviewHeightAndWidth(!0,x,n),b[3]=n,b[4]=x,b[5]=u):u=b[5];x=u;var y=x.maxHeight,z=x.maxWidth,A=h!=null&&(i||(i=d("I64"))).to_int32(h.attachmentType)===c("MessagingAttachmentType").ANIMATED_IMAGE;if(p==null||h==null){u=(h==null?void 0:h.attributionAppName)!=null;b[6]!==f||b[7]!==g||b[8]!==y||b[9]!==z||b[10]!==o||b[11]!==q||b[12]!==r||b[13]!==s||b[14]!==u?(x=j.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:f,connectTop:g,descriptionForLogging:"MAWSecureImageAttachmentContent.NoMedia",hasAppAttribution:u,height:r,maxHeight:y,maxWidth:z,mediaRenderQpl:o,outgoing:q,width:s}),b[6]=f,b[7]=g,b[8]=y,b[9]=z,b[10]=o,b[11]=q,b[12]=r,b[13]=s,b[14]=u,b[15]=x):x=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(u=j.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureImageAttachmentContent.NoMedia",hold:!0}),b[16]=u):u=b[16];b[17]!==x?(u=j.jsxs(j.Fragment,{children:[x,u]}),b[17]=x,b[18]=u):u=b[18];return u}b[19]!==f||b[20]!==g||b[21]!==h||b[22]!==y||b[23]!==z||b[24]!==o||b[25]!==q||b[26]!==r||b[27]!==s?(x=function(a,b){return j.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:h,connectBottom:f,connectTop:g,hasAppAttribution:h.attributionAppName!=null,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,maxHeight:y,maxWidth:z,mediaRenderQpl:o,onRetry:b,outgoing:q,width:s})},b[19]=f,b[20]=g,b[21]=h,b[22]=y,b[23]=z,b[24]=o,b[25]=q,b[26]=r,b[27]=s,b[28]=x):x=b[28];var B=x;b[29]!==f||b[30]!==g||b[31]!==h||b[32]!==m||b[33]!==n||b[34]!==y||b[35]!==z||b[36]!==o||b[37]!==p||b[38]!==q||b[39]!==r||b[40]!==s?(u=function(a,b){return a?j.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:m,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:n,maxHeight:y,maxWidth:z,mediaRenderQpl:o,message:p,onRetry:b,outgoing:q,width:s}):j.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:m,height:r,iconSize:c("MediaDownloadStatusIconSize").Large,isGroupedImage:n,maxHeight:y,maxWidth:z,mediaRenderQpl:o,message:p,outgoing:q,width:s})},b[29]=f,b[30]=g,b[31]=h,b[32]=m,b[33]=n,b[34]=y,b[35]=z,b[36]=o,b[37]=p,b[38]=q,b[39]=r,b[40]=s,b[41]=u):u=b[41];x=u;b[42]!==t||b[43]!==f||b[44]!==g||b[45]!==h||b[46]!==B||b[47]!==m||b[48]!==A||b[49]!==v||b[50]!==n||b[51]!==y||b[52]!==z||b[53]!==o||b[54]!==p||b[55]!==q||b[56]!==r||b[57]!==s?(u=function(a){if(p==null)return a("MAWSecureImageAttachmentContentV2.NoMessage",!1);var b=A&&t!==d("MWAnimatedImageControlsUtil").MWAutoplayAnimationsSetting.ON;return j.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureImageAttachmentContentV2.Suspense",!0),name:"MAWSecureImageAttachmentContentV2.Suspense",children:b&&v===!1?j.jsx(d("MWAnimatedImageThumbnailWithPlayButton.react").MWAnimatedImageThumbnailWithPlayButton,{connectBottom:f,connectTop:g,dbAttachment:h,entryPoint:d("MWAnimatedImageThumbnailWithPlayButton.react").AnimatedImageEntryPoint.Thread,isSecure:!0,mediaRenderQpl:o,message:p,onPlay:function(){return w(!0)},outgoing:q,previewHeight:r,previewWidth:s,testid:void 0}):j.jsx(c("MWV2ChatImage.react"),{attachment:h,connectBottom:f,connectTop:g,getPreviewUrl:m,isGroupedImage:n,isSecure:!0,maxHeight:y,maxWidth:z,mediaRenderQpl:o,message:p,navigateToRouteForMediaViewer:!1,onPressOverride:b?function(){return w(!1)}:void 0,outgoing:q,renderUnsupportedAttachment:function(){return B(!1)}})})},b[42]=t,b[43]=f,b[44]=g,b[45]=h,b[46]=B,b[47]=m,b[48]=A,b[49]=v,b[50]=n,b[51]=y,b[52]=z,b[53]=o,b[54]=p,b[55]=q,b[56]=r,b[57]=s,b[58]=u):u=b[58];u=u;var C;b[59]!==e||b[60]!==f||b[61]!==g||b[62]!==h||b[63]!==B||b[64]!==x||b[65]!==y||b[66]!==z||b[67]!==o||b[68]!==q||b[69]!==r||b[70]!==s||b[71]!==a||b[72]!==u?(C=j.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{attachmentsFromGroupToRetry:e,connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureImageAttachmentContentV2",errorComponentRenderer:B,errorWithBlurComponentRenderer:x,mediaRenderQpl:o,outgoing:q,placeholderHeight:r,placeholderMaxHeight:y,placeholderMaxWidth:z,placeholderWidth:s,shouldDisableAutoTriggerDownload:a,successfulComponentRenderer:u}),b[59]=e,b[60]=f,b[61]=g,b[62]=h,b[63]=B,b[64]=x,b[65]=y,b[66]=z,b[67]=o,b[68]=q,b[69]=r,b[70]=s,b[71]=a,b[72]=u,b[73]=C):C=b[73];return C}g["default"]=a}),98);
__d("MAWSecureGroupedImageAttachment.react",["MAWGetAttachmentThumbnailBlob","MAWSecureImageAttachmentContent.react","react","react-compiler-runtime","useGetMediaGroupStyles"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(23),e=a.mediaGroupInfo,f=a.mediaRenderQpl,g=a.outgoing;a=e.messagesAndAttachmentsShownInGroup;var h=e.tileSize,k=d("useGetMediaGroupStyles").useGetMediaGroupStyles(g,h),l=k.containerStyles,m=k.coordinations,n=k.imageSize,o=k.wrapperStyles,p;b[0]!==f?(k=function(){f==null||f.addPoint("render-grouped-image-attachment"),f==null||f.addAnnotations({bool:{is_grouped_image:!0}})},p=[f],b[0]=f,b[1]=k,b[2]=p):(k=b[1],p=b[2]);j(k,p);if(b[3]!==m||b[4]!==n||b[5]!==e.attachmentsToRetryDownload||b[6]!==f||b[7]!==a||b[8]!==g||b[9]!==h||b[10]!==o){b[12]!==m||b[13]!==n||b[14]!==e.attachmentsToRetryDownload||b[15]!==f||b[16]!==g||b[17]!==h||b[18]!==o?(k=function(a,b){var j=a.attachment;a=a.message;return i.jsx("div",{className:o,style:babelHelpers["extends"]({zIndex:h-b},m[b]),children:i.jsx(c("MAWSecureImageAttachmentContent.react"),{attachmentsFromGroupToRetry:e.attachmentsToRetryDownload,connectBottom:!1,connectTop:!1,dbAttachment:j,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,isGroupedImage:!0,mediaRenderQpl:f,message:a,outgoing:g,previewHeight:n,previewWidth:n})},b)},b[12]=m,b[13]=n,b[14]=e.attachmentsToRetryDownload,b[15]=f,b[16]=g,b[17]=h,b[18]=o,b[19]=k):k=b[19];p=a.map(k);b[3]=m;b[4]=n;b[5]=e.attachmentsToRetryDownload;b[6]=f;b[7]=a;b[8]=g;b[9]=h;b[10]=o;b[11]=p}else p=b[11];b[20]!==l||b[21]!==p?(k=i.jsx("div",{className:l,"data-testid":void 0,children:p}),b[20]=l,b[21]=p,b[22]=k):k=b[22];return k}g["default"]=a}),98);
__d("MAWSecureStickerAttachmentContent.react",["CometPlaceholder.react","MAWThreadViewAttachmentStateHandlerContent.react","MWV2AttachmentErrorPlaceholderV2.react","MWV2Sticker.react","MediaDownloadStatusIconSize","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(28),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPreviewUrl,k=a.mediaRenderQpl,l=a.outgoing,m=a.previewHeight,n=a.previewWidth;a=a.shouldDisableAutoTriggerDownload;var o,p;b[0]!==k?(o=function(){k==null||k.addPoint("render-sticker-attachment")},p=[k],b[0]=k,b[1]=o,b[2]=p):(o=b[1],p=b[2]);j(o,p);b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==k||b[7]!==l||b[8]!==m||b[9]!==n?(o=function(a,b){return i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:g.attributionAppName!=null,height:m,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:a,mediaRenderQpl:k,onRetry:b,outgoing:l,width:n})},b[3]=e,b[4]=f,b[5]=g,b[6]=k,b[7]=l,b[8]=m,b[9]=n,b[10]=o):o=b[10];var q=o;b[11]!==g||b[12]!==q||b[13]!==h||b[14]!==k?(p=function(a){return g.receiverFetchId!=null&&g.previewUrl==null?a("MAWSecureStickerAttachmentContentV2.NoReceiverFetchMedia",!0):i.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureStickerAttachmentContentV2.Suspense",!0),name:"MAWSecureStickerAttachmentContentV2.Suspense",children:i.jsx(c("MWV2Sticker.react"),{attachment:g,getPreviewUrl:h,mediaRenderQpl:k,renderUnsupportedAttachment:function(){return q(!1)}})})},b[11]=g,b[12]=q,b[13]=h,b[14]=k,b[15]=p):p=b[15];o=p;p=g.receiverFetchId!=null?g.messageId:g.attachmentFbid;var r;b[16]!==e||b[17]!==f||b[18]!==g||b[19]!==p||b[20]!==q||b[21]!==k||b[22]!==l||b[23]!==m||b[24]!==n||b[25]!==a||b[26]!==o?(r=i.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:e,connectTop:f,dbAttachment:g,descriptionForLogging:"MAWSecureStickerAttachmentContentV2",downloadStatusKeyOverride:p,errorComponentRenderer:q,mediaRenderQpl:k,outgoing:l,placeholderHeight:m,placeholderWidth:n,shouldDisableAutoTriggerDownload:a,successfulComponentRenderer:o}),b[16]=e,b[17]=f,b[18]=g,b[19]=p,b[20]=q,b[21]=k,b[22]=l,b[23]=m,b[24]=n,b[25]=a,b[26]=o,b[27]=r):r=b[27];return r}g["default"]=a}),98);
__d("MAWSecureVideoInvalidAttachment.react",["MWV2AttachmentErrorPlaceholderV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(14),e=a.attachment,f=a.connectBottom,g=a.connectTop,h=a.height,k=a.iconSize,l=a.maxHeight,m=a.maxWidth,n=a.mediaRenderQpl,o=a.outgoing,p=a.width,q=a.withTooltip;a=a.xstyle;var r;b[0]!==n?(r=function(){n==null||n.addPoint("invalid-media-rendered"),n==null||n.endFail("invalid-media",{bool:{is_invalid_media:!0}})},b[0]=n,b[1]=r):r=b[1];j(r,void 0);b[2]!==e||b[3]!==f||b[4]!==g||b[5]!==h||b[6]!==k||b[7]!==l||b[8]!==m||b[9]!==o||b[10]!==p||b[11]!==q||b[12]!==a?(r=i.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:e,connectBottom:f,connectTop:g,height:h,iconSize:k,isRetryableError:!1,maxHeight:l,maxWidth:m,mediaRenderQpl:null,outgoing:o,width:p,withTooltip:q,xstyle:a}),b[2]=e,b[3]=f,b[4]=g,b[5]=h,b[6]=k,b[7]=l,b[8]=m,b[9]=o,b[10]=p,b[11]=q,b[12]=a,b[13]=r):r=b[13];return r}g["default"]=a}),98);
__d("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react",["fbt","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentPlaceholderWithBlurImage.react","MWXIconDownload","MWXIconStrict.react","MWXPressable.react","MWXText.react","MWXTooltip.react","MediaDownloadStatusIconSize","MessengerWebUXLoggerImpl","justknobx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useEffect,l={buttonLarge:{height:"xdd8jsf",marginTop:"xuqeo79",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1vvjuq3",width:"xvni27",$$css:!0},buttonSmall:{height:"xxk0z11",marginTop:"x7wgvq7",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x18xomjl",width:"xvy4d1p",$$css:!0},circleButton:{backgroundColor:"x18l40ae",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",opacity:"x1hc1fzr",$$css:!0},container:{alignItems:"x6s0dn4",cursor:"x1ypdohk",display:"x78zum5",insetInlineStart:"xbudbmw",left:null,right:null,justifyContent:"xl56j7k",position:"x10l6tqk",top:"xwa60dl",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(58),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.getPlayableUrl,m=a.getPreviewUrl,n=a.hasAppAttribution,o=a.height,p=a.iconSize,q=a.isGroupedImage,r=a.maxHeight,s=a.maxWidth,t=a.mediaRenderQpl,u=a.message,v=a.outgoing,w=a.placeholderMessage,x=a.previewHeight,y=a.previewWidth,z=a.width,A=a.withTooltip;a=a.xstyle;var B=d("MessengerWebUXLoggerImpl").useInteractionLogger(),C;b[0]!==g||b[1]!==i?(C=i(g,"MWV2AttachmentDownloadablePlaceholderWithBlurImage"),b[0]=g,b[1]=i,b[2]=C):C=b[2];var D=C,E;b[3]!==t||b[4]!==u||b[5]!==D?(C=function(){t==null||t.addPoint("render-error-placeholder-with-blur-image",{bool:{has_message:u!=null,has_playable_url:Boolean(D),is_downloadable:!0}})},E=[t,u,D],b[3]=t,b[4]=u,b[5]=D,b[6]=C,b[7]=E):(C=b[6],E=b[7]);k(C,E);if(!Boolean(D)&&c("justknobx")._("4203")){C=m!=null?m:i;b[8]!==e||b[9]!==f||b[10]!==g||b[11]!==r||b[12]!==s||b[13]!==t||b[14]!==u||b[15]!==v||b[16]!==x||b[17]!==y||b[18]!==C?(E=j.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:C,height:x,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:r,maxWidth:s,mediaRenderQpl:t,message:u,outgoing:v,width:y}),b[8]=e,b[9]=f,b[10]=g,b[11]=r,b[12]=s,b[13]=t,b[14]=u,b[15]=v,b[16]=x,b[17]=y,b[18]=C,b[19]=E):E=b[19];return E}b[20]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xbudbmw x10l6tqk xwa60dl x11lhmoz x1vjfegm"},b[20]=i):i=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(x=h._(/*BTDS*/"Download"),b[21]=x):x=b[21];b[22]!==D?(y={download:!0,url:D},b[22]=D,b[23]=y):y=b[23];b[24]!==B?(C=function(){B==null||B({eventName:"click_unsupported_video_download_from_fallback"})},b[24]=B,b[25]=C):C=b[25];E=p===c("MediaDownloadStatusIconSize").Large&&l.buttonLarge;var F=p===c("MediaDownloadStatusIconSize").Small&&l.buttonSmall,G;b[26]!==E||b[27]!==F?(G=[l.circleButton,l.container,E,F],b[26]=E,b[27]=F,b[28]=G):G=b[28];E=p===c("MediaDownloadStatusIconSize").Large?24:12;b[29]!==E?(F=j.jsx(c("MWXIconStrict.react"),{color:"white",icon:c("MWXIconDownload"),size:E}),b[29]=E,b[30]=F):F=b[30];b[31]!==G||b[32]!==F||b[33]!==y||b[34]!==C?(p=j.jsx("div",babelHelpers["extends"]({},i,{children:j.jsx(c("MWXPressable.react"),{display:"inline",label:x,linkProps:y,onPress:C,xstyle:G,children:F})})),b[31]=G,b[32]=F,b[33]=y,b[34]=C,b[35]=p):p=b[35];b[36]!==e||b[37]!==f||b[38]!==g||b[39]!==m||b[40]!==n||b[41]!==o||b[42]!==q||b[43]!==r||b[44]!==s||b[45]!==t||b[46]!==u||b[47]!==v||b[48]!==z||b[49]!==a?(E=j.jsx(c("MWV2AttachmentPlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPreviewUrl:m,hasAppAttribution:n,height:o,isGroupedImage:q,maxHeight:r,maxWidth:s,mediaRenderQpl:t,message:u,outgoing:v,width:z,xstyle:a}),b[36]=e,b[37]=f,b[38]=g,b[39]=m,b[40]=n,b[41]=o,b[42]=q,b[43]=r,b[44]=s,b[45]=t,b[46]=u,b[47]=v,b[48]=z,b[49]=a,b[50]=E):E=b[50];b[51]!==p||b[52]!==E?(i=j.jsxs(j.Fragment,{children:[p,E]}),b[51]=p,b[52]=E,b[53]=i):i=b[53];x=i;b[54]!==x||b[55]!==w||b[56]!==A?(G=A===!0?j.jsx(c("MWXTooltip.react"),{label:w,tooltip:j.jsx(c("MWXText.react"),{color:"tooltip",type:"meta4",children:w}),children:x}):x,b[54]=x,b[55]=w,b[56]=A,b[57]=G):G=b[57];return G}g["default"]=a}),226);
__d("MAWSecureVideoUnsupportedCodecAttachment.react",["MAWVideoAudioPlaybackErrorHandlerUtils","MWV2AttachmentDownloadablePlaceholderWithBlurImage.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(21),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,k=a.getPreviewUrl,l=a.hasAppAttribution,m=a.height,n=a.iconSize,o=a.maxHeight,p=a.maxWidth,q=a.mediaRenderQpl,r=a.message,s=a.outgoing,t=a.previewHeight,u=a.previewWidth,v=a.width,w=a.withTooltip;a=a.xstyle;var x;b[0]!==q?(x=function(){q==null||q.addPoint("downloadable-unsupported-media-rendered"),q==null||q.endFail("unsupported-media",{bool:{is_unsupported_media:!0}})},b[0]=q,b[1]=x):x=b[1];j(x,void 0);x=d("MAWVideoAudioPlaybackErrorHandlerUtils").useGetMetadataForMediaNotRendered(g,!1);x=x.mediaStatusText;e=e!=null?e:!1;f=f!=null?f:!1;l=l!=null?l:!1;s=s!=null?s:!1;w=w!=null?w:!1;var y;b[2]!==g||b[3]!==h||b[4]!==k||b[5]!==m||b[6]!==n||b[7]!==o||b[8]!==p||b[9]!==r||b[10]!==x||b[11]!==t||b[12]!==u||b[13]!==e||b[14]!==f||b[15]!==l||b[16]!==s||b[17]!==w||b[18]!==v||b[19]!==a?(y=i.jsx(c("MWV2AttachmentDownloadablePlaceholderWithBlurImage.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPlayableUrl:h,getPreviewUrl:k,hasAppAttribution:l,height:m,iconSize:n,maxHeight:o,maxWidth:p,mediaRenderQpl:null,message:r,outgoing:s,placeholderMessage:x,previewHeight:t,previewWidth:u,width:v,withTooltip:w,xstyle:a}),b[2]=g,b[3]=h,b[4]=k,b[5]=m,b[6]=n,b[7]=o,b[8]=p,b[9]=r,b[10]=x,b[11]=t,b[12]=u,b[13]=e,b[14]=f,b[15]=l,b[16]=s,b[17]=w,b[18]=v,b[19]=a,b[20]=y):y=b[20];return y}g["default"]=a}),98);
__d("MAWSecureVideoAttachmentContent.react",["CometPlaceholder.react","I64","LSAuthorityLevel","LSIntEnum","MAWAttachmentSizeUtils","MAWMediaSetMediaValidatedResult","MAWSecureVideoInvalidAttachment.react","MAWSecureVideoUnsupportedCodecAttachment.react","MAWThreadViewAttachmentStateHandlerContent.react","MWLSThreadDisplayContext","MWV2AttachmentErrorPlaceholderV2.react","MWV2AttachmentErrorPlaceholderWithBlurImage.react","MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react","MediaDownloadStatusIconSize","cr:13757","gkx","react","react-compiler-runtime","useAsyncReStore","useShouldShowPlaybackErrorFallback","useShouldShowUnsupportedCodecFallback"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));e=h;e.useCallback;var l=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(78),f=a.connectBottom,g=a.connectTop,h=a.dbAttachment,n=a.getPlayableUrl,o=a.getPreviewUrl,p=a.mediaRenderQpl,q=a.message,r=a.outgoing,s=a.previewHeight,t=a.previewWidth;a=a.shouldDisableAutoTriggerDownload;a=a===void 0?!1:a;var u,v;e[0]!==p?(u=function(){p==null||p.addPoint("render-video-attachment")},v=[p],e[0]=p,e[1]=u,e[2]=v):(u=e[1],v=e[2]);l(u,v);u=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();e[3]!==u||e[4]!==s||e[5]!==t?(v=d("MAWAttachmentSizeUtils").getMaxSizeForVideo({height:s,width:t},u),e[3]=u,e[4]=s,e[5]=t,e[6]=v):v=e[6];u=v;var w=u.maxHeight,x=u.maxWidth;u=(v=c("useShouldShowPlaybackErrorFallback")(h,p))!=null?v:!1;v=(v=c("useShouldShowUnsupportedCodecFallback")(h,p))!=null?v:!1;var y;e[7]!==f||e[8]!==g||e[9]!==h||e[10]!==n||e[11]!==o||e[12]!==w||e[13]!==x||e[14]!==p||e[15]!==q||e[16]!==r||e[17]!==s||e[18]!==t?(y=function(a,b){return k.jsx(m,{connectBottom:f,connectTop:g,dbAttachment:h,getPlayableUrl:n,getPreviewUrl:o,isRetryableError:a,manualRetry:b,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,previewHeight:s,previewWidth:t})},e[7]=f,e[8]=g,e[9]=h,e[10]=n,e[11]=o,e[12]=w,e[13]=x,e[14]=p,e[15]=q,e[16]=r,e[17]=s,e[18]=t,e[19]=y):y=e[19];var z=y;if(u){e[20]!==f||e[21]!==g||e[22]!==h||e[23]!==w||e[24]!==x||e[25]!==p||e[26]!==r||e[27]!==s||e[28]!==t?(y=k.jsx(c("MAWSecureVideoInvalidAttachment.react"),{attachment:h,connectBottom:f,connectTop:g,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,outgoing:r,width:t}),e[20]=f,e[21]=g,e[22]=h,e[23]=w,e[24]=x,e[25]=p,e[26]=r,e[27]=s,e[28]=t,e[29]=y):y=e[29];return y}if(v){u=o!=null?o:n;e[30]!==f||e[31]!==g||e[32]!==h||e[33]!==n||e[34]!==w||e[35]!==x||e[36]!==p||e[37]!==q||e[38]!==r||e[39]!==s||e[40]!==t||e[41]!==u?(y=k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPlayableUrl:n,getPreviewUrl:u,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,width:t}),e[30]=f,e[31]=g,e[32]=h,e[33]=n,e[34]=w,e[35]=x,e[36]=p,e[37]=q,e[38]=r,e[39]=s,e[40]=t,e[41]=u,e[42]=y):y=e[42];return y}e[43]!==g||e[44]!==h||e[45]!==z||e[46]!==n||e[47]!==p||e[48]!==q||e[49]!==r?(v=function(a){return k.jsx(c("CometPlaceholder.react"),{fallback:a("MAWSecureVideoAttachmentContentV2.Suspense",!0),name:"MAWSecureVideoAttachmentContentV2.Suspense",children:k.jsx(b("cr:13757"),{attachment:h,autoPlaySetting:(i||(i=d("I64"))).le(q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))||c("gkx")("8624")?"off":void 0,connectTop:g,getPlayableUrl:n,isSecure:!0,loops:!c("gkx")("8625"),mediaRenderQpl:p,message:q,navigateToRouteForMediaViewer:!1,outgoing:r,renderUnsupportedAttachment:function(){return z(!1)}})})},e[43]=g,e[44]=h,e[45]=z,e[46]=n,e[47]=p,e[48]=q,e[49]=r,e[50]=v):v=e[50];u=v;e[51]!==f||e[52]!==g||e[53]!==h||e[54]!==n||e[55]!==o||e[56]!==w||e[57]!==x||e[58]!==p||e[59]!==q||e[60]!==r||e[61]!==s||e[62]!==t?(y=function(a,b){return a?k.jsx(c("MWV2AttachmentRetriableErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:o!=null?o:n,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,onRetry:b,outgoing:r,width:t}):k.jsx(c("MWV2AttachmentErrorPlaceholderWithBlurImage.react"),{connectBottom:f,connectTop:g,dbAttachment:h,getPreviewUrl:o!=null?o:n,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:w,maxWidth:x,mediaRenderQpl:p,message:q,outgoing:r,width:t})},e[51]=f,e[52]=g,e[53]=h,e[54]=n,e[55]=o,e[56]=w,e[57]=x,e[58]=p,e[59]=q,e[60]=r,e[61]=s,e[62]=t,e[63]=y):y=e[63];v=y;e[64]!==f||e[65]!==g||e[66]!==h||e[67]!==z||e[68]!==v||e[69]!==w||e[70]!==x||e[71]!==p||e[72]!==r||e[73]!==s||e[74]!==t||e[75]!==a||e[76]!==u?(y=k.jsx(c("MAWThreadViewAttachmentStateHandlerContent.react"),{connectBottom:f,connectTop:g,dbAttachment:h,descriptionForLogging:"MAWSecureVideoAttachmentContentV2",errorComponentRenderer:z,errorWithBlurComponentRenderer:v,mediaRenderQpl:p,outgoing:r,placeholderHeight:s,placeholderMaxHeight:w,placeholderMaxWidth:x,placeholderWidth:t,shouldDisableAutoTriggerDownload:a,successfulComponentRenderer:u}),e[64]=f,e[65]=g,e[66]=h,e[67]=z,e[68]=v,e[69]=w,e[70]=x,e[71]=p,e[72]=r,e[73]=s,e[74]=t,e[75]=a,e[76]=u,e[77]=y):y=e[77];return y}function m(a){var b=d("react-compiler-runtime").c(32),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.getPlayableUrl,i=a.getPreviewUrl,j=a.isRetryableError,m=a.manualRetry,n=a.maxHeight,o=a.maxWidth,p=a.mediaRenderQpl,q=a.message,r=a.outgoing,s=a.previewHeight;a=a.previewWidth;var t=c("useAsyncReStore")(),u,v;b[0]!==g.attachmentFbid||b[1]!==t||b[2]!==j||b[3]!==p?(u=function(){j||(d("MAWMediaSetMediaValidatedResult").call(t,g.attachmentFbid,{validatedMimeType:"unsupported-video"}),p==null||p.addPoint("browser_cant_play_video",{string:{invalid_media_reason:"browser_cant_play_video"}}))},v=[g.attachmentFbid,t,j,p],b[0]=g.attachmentFbid,b[1]=t,b[2]=j,b[3]=p,b[4]=u,b[5]=v):(u=b[4],v=b[5]);l(u,v);if(!j){u=i!=null?i:h;b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==h||b[10]!==n||b[11]!==o||b[12]!==p||b[13]!==q||b[14]!==r||b[15]!==s||b[16]!==a||b[17]!==u?(v=k.jsx(c("MAWSecureVideoUnsupportedCodecAttachment.react"),{connectBottom:e,connectTop:f,dbAttachment:g,getPlayableUrl:h,getPreviewUrl:u,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,maxHeight:n,maxWidth:o,mediaRenderQpl:p,message:q,outgoing:r,width:a}),b[6]=e,b[7]=f,b[8]=g,b[9]=h,b[10]=n,b[11]=o,b[12]=p,b[13]=q,b[14]=r,b[15]=s,b[16]=a,b[17]=u,b[18]=v):v=b[18];return v}i=g.attributionAppName!=null;b[19]!==e||b[20]!==f||b[21]!==g||b[22]!==j||b[23]!==m||b[24]!==n||b[25]!==o||b[26]!==p||b[27]!==r||b[28]!==s||b[29]!==a||b[30]!==i?(h=k.jsx(c("MWV2AttachmentErrorPlaceholderV2.react"),{attachment:g,connectBottom:e,connectTop:f,hasAppAttribution:i,height:s,iconSize:c("MediaDownloadStatusIconSize").Large,isRetryableError:j,maxHeight:n,maxWidth:o,mediaRenderQpl:p,onRetry:m,outgoing:r,width:a}),b[19]=e,b[20]=f,b[21]=g,b[22]=j,b[23]=m,b[24]=n,b[25]=o,b[26]=p,b[27]=r,b[28]=s,b[29]=a,b[30]=i,b[31]=h):h=b[31];return h}g["default"]=a}),98);
__d("MAWSecureViewOnceMessageBubble.react",["MWViewOnceMessageIcon","MWXIconStrict.react","MWXMessageBubble.react","MWXText.react","MessengerWebUXLogger","gkx","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||c("react"),k=(h||(h=d("react"))).useEffect,l=c("gkx")("23219");function a(a){var b=d("react-compiler-runtime").c(21),e=a.connectBottom,f=a.connectTop,g=a.label,h=a.mediaRenderQpl;a=a.outgoing;var i,m;b[0]!==h?(i=function(){h==null||h.addPoint("render-tombstoned-message",{bool:{outgoing_or_has_seen:!0}}),h==null||h.endSuccess()},m=[h],b[0]=h,b[1]=i,b[2]=m):(i=b[1],m=b[2]);k(i,m);b[3]===Symbol["for"]("react.memo_cache_sentinel")?(i={eventName:"view_once_message_bubble_rendered"},b[3]=i):i=b[3];m=c("MessengerWebUXLogger").useImpressionLoggerRef(i);i=a?"right":"left";var n=a?"outgoing":"incoming",o;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(o={className:"x6s0dn4 x78zum5"},b[4]=o):o=b[4];var p;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"x1lliihq xbelrpt xbyyjgo"},b[5]=p):p=b[5];var q=a?"white":"primary";b[6]!==q?(p=j.jsx("div",babelHelpers["extends"]({},p,{children:j.jsx(c("MWXIconStrict.react"),{color:q,icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})})),b[6]=q,b[7]=p):p=b[7];q=a?l?"primaryOnMedia":"secondaryOnMedia":"secondary";b[8]!==g||b[9]!==q?(a=j.jsx(c("MWXText.react"),{color:q,type:"bodyLink3",children:g}),b[8]=g,b[9]=q,b[10]=a):a=b[10];b[11]!==m||b[12]!==a||b[13]!==p?(g=j.jsxs("div",babelHelpers["extends"]({},o,{"data-testid":void 0,ref:m,children:[p,a]})),b[11]=m,b[12]=a,b[13]=p,b[14]=g):g=b[14];b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==i||b[19]!==n?(q=j.jsx(c("MWXMessageBubble.react"),{align:i,color:n,connectBottom:e,connectTop:f,variant:"opaque",children:g}),b[15]=e,b[16]=f,b[17]=g,b[18]=i,b[19]=n,b[20]=q):q=b[20];return q}g["default"]=a}),98);
__d("MAWSecureViewOnceAttachmentContent.react",["fbt","I64","LSIntEnum","MAWLocalizationType","MAWSecureViewOnceMessageBubble.react","MWV2TombstonedMessage.react","MWViewOnceMessageIcon","MWXIconStrict.react","MessagingAttachmentType","MessengerWebUXLogger","RavenMessagingState","getMAWLocalizedFallbackMsgSnippet","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=d("react-compiler-runtime").c(22),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,i=a.mediaRenderQpl;a=a.outgoing;var m;b[0]!==g.attachmentType?(m=(j||(j=d("I64"))).equal(g.attachmentType,(k||(k=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)),b[0]=g.attachmentType,b[1]=m):m=b[1];m=m;g=g.ephemeralMediaState!=null&&(j||(j=d("I64"))).equal(g.ephemeralMediaState,(k||(k=d("LSIntEnum"))).ofNumber(c("RavenMessagingState").SEEN));var n;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(n={eventName:"view_once_message_tombstoned_rendered"},b[2]=n):n=b[2];n=c("MessengerWebUXLogger").useImpressionLoggerRef(n);if(a||g){b[3]!==m?(g=m?h._(/*BTDS*/"Photo"):h._(/*BTDS*/"Video"),b[3]=m,b[4]=g):g=b[4];var o;b[5]!==e||b[6]!==f||b[7]!==i||b[8]!==a||b[9]!==g?(o=l.jsx(c("MAWSecureViewOnceMessageBubble.react"),{connectBottom:e,connectTop:f,label:g,mediaRenderQpl:i,outgoing:a}),b[5]=e,b[6]=f,b[7]=i,b[8]=a,b[9]=g,b[10]=o):o=b[10];return o}b[11]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5"},b[11]=e):e=b[11];b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=l.jsx("div",{className:"x1lliihq xbelrpt xzbario",children:l.jsx(c("MWXIconStrict.react"),{color:"primary",icon:c("MWViewOnceMessageIcon"),isDecorative:!0,size:18})}),b[12]=f):f=b[12];g=m?d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_PHOTO_MESSAGE:d("MAWLocalizationType").LOCALIZATION_TYPE.VIEW_ONCE_VIDEO_MESSAGE;b[13]!==g?(o=c("getMAWLocalizedFallbackMsgSnippet")(g),b[13]=g,b[14]=o):o=b[14];b[15]!==n||b[16]!==o?(m=l.jsxs("div",babelHelpers["extends"]({},e,{"data-testid":void 0,ref:n,children:[f,o]})),b[15]=n,b[16]=o,b[17]=m):m=b[17];b[18]!==i||b[19]!==a||b[20]!==m?(g=l.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,mediaRenderQpl:i,children:m}),b[18]=i,b[19]=a,b[20]=m,b[21]=g):g=b[21];return g}g["default"]=a}),226);
__d("MAWSecureXMAAttachmentContent.react",["LSMediaUrlAttachment","MAWAttachmentBlob.react","MAWDownloadMediaInWorkerDeferred","MAWGetIsMediaDownloadStatusEnabled","MAWIsXMAWithPlaintextHash","MWXMAAttachment.react","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useEffect;function a(a){var b=d("react-compiler-runtime").c(17),e=a.connectBottom,f=a.connectTop,g=a.dbAttachment,h=a.hasText,n=a.mediaRenderQpl;a=a.outgoing;var o=c("useAsyncReStore")(),p,q;b[0]!==g||b[1]!==o||b[2]!==n?(p=function(){g.hasMedia!==!0&&!(d("MAWIsXMAWithPlaintextHash").isXMAWithPlaintextHash(g)&&d("MAWGetIsMediaDownloadStatusEnabled").getIsMediaDownloadStatusForXMAsEnabled())&&d("MAWDownloadMediaInWorkerDeferred").maybeDownloadMediaInWorker({attachment:g,dbPromise:o,mediaRenderQpl:n,triggerUIView:"thread"})},q=[g,n,o],b[0]=g,b[1]=o,b[2]=n,b[3]=p,b[4]=q):(p=b[3],q=b[4]);j(p,q);b[5]!==n?(p=function(){n==null||n.addPoint("render-xma-attachment")},b[5]=n,b[6]=p):p=b[6];b[7]!==g.hasMedia||b[8]!==n?(q=[g.hasMedia,n],b[7]=g.hasMedia,b[8]=n,b[9]=q):q=b[9];j(p,q);b[10]!==e||b[11]!==f||b[12]!==g||b[13]!==h||b[14]!==n||b[15]!==a?(p=i.jsx(c("MWXMAAttachment.react"),{attachment:g,connectBottom:e,connectTop:f,getFaviconUrlXMA:m,getHeaderUrlXMA:l,getPreviewUrlXMA:k,hasText:h,mediaRenderQpl:n,outgoing:a}),b[10]=e,b[11]=f,b[12]=g,b[13]=h,b[14]=n,b[15]=a,b[16]=p):p=b[16];return p}function k(a,b,c,e){e==null||e.addPoint("fetch_preview_url_xma_start");if(a.previewUrl!=null){e==null||e.addPoint("fetch_preview_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").previewUrl(a);e==null||e.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaPreview===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"preview","MAWSecureXMAAttachmentContent - getPreviewUrlXMA - "+c,e);e==null||e.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}e==null||e.addPoint("fetch_preview_url_xma_end",{bool:{has_preview:!1},string:{fetch_by:"none"}})}function l(a,b,c){c==null||c.addPoint("fetch_header_url_xma_start");if(a.headerImageUrl!=null){c==null||c.addPoint("fetch_header_url_xma_receiver_fetch");var e=d("LSMediaUrlAttachment").headerImageUrl(a);c==null||c.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(e)},string:{fetch_by:"receiver_fetch"}});return e}if(a.hasXmaHeaderImage===!0){e=d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"header","MAWSecureXMAAttachmentContent - getHeaderUrlXMA - "+b,c);c==null||c.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!0,has_url:Boolean(e)},string:{fetch_by:"maw_backend"}});return e}c==null||c.addPoint("fetch_header_url_xma_end",{bool:{has_header_image:!1},string:{fetch_by:"none"}})}function m(a,b,c,e){e==null||e.addPoint("fetch_favicon_url_xma_start");if(a.faviconUrl!=null){e==null||e.addPoint("fetch_favicon_url_xma_receiver_fetch");b=d("LSMediaUrlAttachment").faviconUrl(a);e==null||e.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"receiver_fetch"}});return b}if(a.hasXmaFavicon===!0){b=d("MAWAttachmentBlob.react").getInfoUrlXMA_CausesSuspense(a,"favicon","MAWSecureXMAAttachmentContent - getFaviconUrlXMA - "+c,e);e==null||e.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!0,has_url:Boolean(b)},string:{fetch_by:"maw_backend"}});return b}e==null||e.addPoint("fetch_favicon_url_xma_end",{bool:{has_favicon:!1},string:{fetch_by:"none"}})}g["default"]=a}),98);
__d("MAWSecureAttachment.react",["CometHeroHoldTrigger.react","HelpdeskGeminiNullthrows","I64","InteractionTracingMetrics","LSAuthorityLevel","LSIntEnum","LSMediaUrlAttachment","LSXmaContentType","MAWAttachmentBlob.react","MAWAttachmentSizeUtils","MAWGetAttachmentThumbnailBlob","MAWIsFBXMA","MAWIsReceiverFetchXmaInLoadingState","MAWLocalizationType","MAWSecureAudioAttachmentContent.react","MAWSecureFileAttachmentContent.react","MAWSecureGroupedImageAttachment.react","MAWSecureImageAttachmentContent.react","MAWSecureStickerAttachmentContent.react","MAWSecureVideoAttachmentContent.react","MAWSecureViewOnceAttachmentContent.react","MAWSecureXMAAttachmentContent.react","MWChatBubbleEmphasisRing.react","MWChatTypingIndicator.react","MWLSThread","MWPAttachmentDataContext","MWPMessageListAttachmentContainer.react","MWV2AttachmentLoadingPlaceholder.react","MWV2ChatBubbleContainer.react","MWV2TombstonedMessage.react","MWXLink.react","MWXMessageBubble.react","MWXText.react","MessagingAttachmentType","getMAWLocalizedFallbackMsgSnippet","isReceiverFetchSticker","react","react-compiler-runtime","useGetMediaGroupInformation","useHandleXmaEventsLogging","useIssueMediaReceiverFetchTask","useIssueXMAReceiverFetchTask","useXMAPreviewsDisabledSetting"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;var l=b.useEffect;b.useMemo;var m={unsetWidth:{width:"x4pn7vq",$$css:!0}};function n(a){var b=a.dbAttachment,e=a.connectBottom,f=a.connectTop,g=a.hasText,h=a.mediaRenderQpl,m=a.message;a=a.outgoing;var n=b.attachmentFbid,o=b.attachmentType,p=b.authorityLevel;l(function(){h==null||h.addPoint("render-secure-attachment-content"),n===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))&&(h==null||h.addPoint("loading_eb_frontloading"))},[n,p,b,h]);var q=c("useGetMediaGroupInformation")(m,!0,h),r=d("MAWAttachmentSizeUtils").getSizeFromAttachment(b),s=r.height;r=r.width;switch(!0){case n===(i||(i=d("I64"))).to_string((i||(i=d("I64"))).max_int)&&(i||(i=d("I64"))).equal(p,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)):return k.jsxs(k.Fragment,{children:[k.jsx(c("MWV2AttachmentLoadingPlaceholder.react"),{connectBottom:e,connectTop:f,descriptionForLogging:"MAWSecureAttachment.react.EBFrontloading",hasAppAttribution:b.attributionAppName!=null,height:s,mediaRenderQpl:h,outgoing:a,width:r}),k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.react.EBFrontloading",hold:!0})]});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").IMAGE)):return c("MAWSecureGroupedImageAttachment.react")!=null&&q!=null?k.jsx(c("MAWSecureGroupedImageAttachment.react"),{mediaGroupInfo:q,mediaRenderQpl:h,outgoing:a}):k.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:h,message:m,outgoing:a,previewHeight:s,previewWidth:r});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").VIDEO)):return k.jsx(c("MAWSecureVideoAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,getPreviewUrl:d("MAWGetAttachmentThumbnailBlob").getThumbnailBlob_CausesSuspense,mediaRenderQpl:h,message:m,outgoing:a,previewHeight:s,previewWidth:r});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").AUDIO)):return k.jsx(c("MAWSecureAudioAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPlayableUrl:d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:h,message:m,outgoing:a});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").ANIMATED_IMAGE)):return k.jsx(c("MAWSecureImageAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:h,message:m,outgoing:a,previewHeight:s,previewWidth:r});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").STICKER)):return b.receiverFetchId!=null?k.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPreviewUrl:function(a){return d("LSMediaUrlAttachment").previewUrl(a)},mediaRenderQpl:h,outgoing:a,previewHeight:s,previewWidth:r}):k.jsx(c("MAWSecureStickerAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getPreviewUrl:d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:h,outgoing:a,previewHeight:s,previewWidth:r});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").XMA)):return k.jsx(c("MAWSecureXMAAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,hasText:g,mediaRenderQpl:h,outgoing:a});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").FILE)):return k.jsx(c("MAWSecureFileAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,getFileUrl:d("MAWAttachmentBlob.react").getAttachmentBlob_CausesSuspense,mediaRenderQpl:h,outgoing:a});case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_IMAGE)):case(i||(i=d("I64"))).equal(o,(j||(j=d("LSIntEnum"))).ofNumber(c("MessagingAttachmentType").EPHEMERAL_VIDEO)):return c("MAWSecureViewOnceAttachmentContent.react")!=null?k.jsx(c("MAWSecureViewOnceAttachmentContent.react"),{connectBottom:e,connectTop:f,dbAttachment:b,mediaRenderQpl:h,outgoing:a}):k.jsx(c("MWV2TombstonedMessage.react"),{isOutgoing:a,children:c("getMAWLocalizedFallbackMsgSnippet")(a?d("MAWLocalizationType").LOCALIZATION_TYPE.CURRENT_USER_SEND_UNRENDERABLE_MESSAGE_FALLBACK:d("MAWLocalizationType").LOCALIZATION_TYPE.PARTICIPANT_SEND_UNRENDERABLE_MESSAGE_FALLBACK)});default:h==null||h.endFail("unsupported-attachment");return"Unsupported attachment type"}}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(76),e=a.connectBottom,f=a.connectTop,g=a.hasEmphasisRing,h=a.hasText,p=a.mediaRenderQpl,q=a.message,r=a.outgoing;a=d("MWLSThread").useThread(q.threadKey,o);var s=c("useXMAPreviewsDisabledSetting")(),t=d("MWPAttachmentDataContext").useMWPGetAttachments(q),u=t!=null&&t.length>0?t[0]:null;t=q.authorityLevel;var v=q.threadKey,w;b[0]!==u||b[1]!==q||b[2]!==a?(w={attachment:u,message:q,threadType:a},b[0]=u,b[1]=q,b[2]=a,b[3]=w):w=b[3];var x=c("useHandleXmaEventsLogging")(w);b[4]!==u||b[5]!==p||b[6]!==s?(a=function(){u!=null&&(p==null||p.addAttachmentAnnotations==null||p.addAttachmentAnnotations(u),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMetadata(a.traceId,"is_receiver_fetch_sticker",c("isReceiverFetchSticker")(u)?1:0)})),p==null||p.addPoint("render-secure-attachment",{bool:{has_attachment:u!=null}}),c("InteractionTracingMetrics").currentInteractionLogger().forEach(function(a){c("InteractionTracingMetrics").addMarkerPoint(a.traceId,"render-secure-attachment","AppTiming"),c("InteractionTracingMetrics").addMetadata(a.traceId,"xma_previews_disabled",s?1:0)})},b[4]=u,b[5]=p,b[6]=s,b[7]=a):a=b[7];b[8]!==t||b[9]!==u||b[10]!==p||b[11]!==s?(w=[t,u,p,s],b[8]=t,b[9]=u,b[10]=p,b[11]=s,b[12]=w):w=b[12];l(a,w);c("useIssueXMAReceiverFetchTask")(q.messageId,u,v,u==null?void 0:u.receiverFetchId,u==null?void 0:u.xmaContentType,p);b[13]!==u?(t=u?c("isReceiverFetchSticker")(u):!1,b[13]=u,b[14]=t):t=b[14];c("useIssueMediaReceiverFetchTask")(t,q.messageId,v,u==null?void 0:u.receiverFetchId,!0,p,u==null?void 0:u.previewUrl,u==null?void 0:u.previewUrlExpirationTimestampMs,u==null?void 0:u.attachmentType);b[15]!==e||b[16]!==f||b[17]!==g||b[18]!==h||b[19]!==q||b[20]!==r?(a=g===!0?function(a){return k.jsx(c("MWChatBubbleEmphasisRing.react"),{connectBottom:e,connectTop:f,flattenTop:h,message:q,outgoing:r,precedesXMA:!1,children:a})}:void 0,b[15]=e,b[16]=f,b[17]=g,b[18]=h,b[19]=q,b[20]=r,b[21]=a):a=b[21];w=a;t=w;if(u==null)return null;v=(u==null?void 0:u.xmaContentType)!=null&&(j||(j=d("LSIntEnum"))).toNumber(u.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_ENT_DELETED;a=(u==null?void 0:u.xmaContentType)!=null&&(j||(j=d("LSIntEnum"))).toNumber(u.xmaContentType)===c("LSXmaContentType").MSG_RECEIVER_FETCH_FALLBACK;w=s&&d("MAWIsFBXMA").isFBXMA(u==null?void 0:u.xmaContentType);if(w||a||v){p==null||p.addPoint("render_rf_xma_fallback");w||v?p==null||p.endSuccess():a&&(p==null||p.endFail("fetch_xma_data_receiver_fetch_failed"));w=u==null?void 0:u.actionUrl;b[22]!==q||b[23]!==w?(v=babelHelpers["extends"]({},q,{text:w}),b[22]=q,b[23]=w,b[24]=v):v=b[24];a=v;b[25]===Symbol["for"]("react.memo_cache_sentinel")?(w=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[25]=w):w=b[25];v=r?"white":"primary";var y;b[26]!==r?(y={0:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a x18lvrbx"},1:{className:"x1gslohp x14z9mp x12nagc x1lziwak x1yc453h x126k92a xyk4ms5"}}[!!r<<0],b[26]=r,b[27]=y):y=b[27];var z=u==null?void 0:u.actionUrl,A;b[28]!==x?(A=function(){return x()},b[28]=x,b[29]=A):A=b[29];var B;b[30]===Symbol["for"]("react.memo_cache_sentinel")?(B={textDecoration:"underline"},b[30]=B):B=b[30];var C=u==null?void 0:u.actionUrl;b[31]!==z||b[32]!==A||b[33]!==C?(B=k.jsx(c("MWXLink.react"),{encryptedLink:!0,href:z,onClick:A,style:B,children:C}),b[31]=z,b[32]=A,b[33]=C,b[34]=B):B=b[34];b[35]!==y||b[36]!==B?(z=k.jsx("div",babelHelpers["extends"]({},y,{children:B})),b[35]=y,b[36]=B,b[37]=z):z=b[37];b[38]!==v||b[39]!==z?(A=k.jsx(c("MWXText.react"),{color:v,type:"bodyLink3",children:z}),b[38]=v,b[39]=z,b[40]=A):A=b[40];b[41]!==e||b[42]!==f||b[43]!==g||b[44]!==r||b[45]!==A||b[46]!==a?(C=k.jsxs(k.Fragment,{children:[w,k.jsx(c("MWV2ChatBubbleContainer.react"),{connectBottom:e,connectTop:f,hasEmphasisRing:g,message:a,outgoing:r,precedesXMA:!1,children:A})]}),b[41]=e,b[42]=f,b[43]=g,b[44]=r,b[45]=A,b[46]=a,b[47]=C):C=b[47];return C}if(d("MAWIsReceiverFetchXmaInLoadingState").isReceiverFetchXmaInLoadingState(q.displayedContentTypes,u)){p==null||p.addPoint("fetch_xma_data_receiver_fetch");b[48]===Symbol["for"]("react.memo_cache_sentinel")?(y=k.jsx("div",{className:"x1eb86dx x36qwtl xh8yej3"}),b[48]=y):y=b[48];B=r?"right":"left";b[49]===Symbol["for"]("react.memo_cache_sentinel")?(v=k.jsx(c("MWChatTypingIndicator.react"),{}),z=k.jsx(c("CometHeroHoldTrigger.react"),{description:"MAWSecureAttachment.receiver_fetch.typing_indicator",hold:!0}),b[49]=z,b[50]=v):(z=b[49],v=b[50]);b[51]!==e||b[52]!==f||b[53]!==B?(w=k.jsxs(c("MWXMessageBubble.react"),{align:B,color:"incoming",connectBottom:e,connectTop:f,children:[v,z]}),b[51]=e,b[52]=f,b[53]=B,b[54]=w):w=b[54];b[55]!==f||b[56]!==q||b[57]!==r||b[58]!==w?(g=k.jsxs(k.Fragment,{children:[y,k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:q,outgoing:r,xstyle:m.unsetWidth,children:w})]}),b[55]=f,b[56]=q,b[57]=r,b[58]=w,b[59]=g):g=b[59];return g}A=(i||(i=d("I64"))).equal(q.displayedContentTypes,(j||(j=d("LSIntEnum"))).ofNumber(4))?!1:void 0;b[60]!==u?(a=d("HelpdeskGeminiNullthrows").nullthrows(u),b[60]=u,b[61]=a):a=b[61];b[62]!==e||b[63]!==f||b[64]!==h||b[65]!==p||b[66]!==q||b[67]!==r||b[68]!==a?(C=k.jsx(n,{connectBottom:e,connectTop:f,dbAttachment:a,hasText:h,mediaRenderQpl:p,message:q,outgoing:r}),b[62]=e,b[63]=f,b[64]=h,b[65]=p,b[66]=q,b[67]=r,b[68]=a,b[69]=C):C=b[69];b[70]!==f||b[71]!==q||b[72]!==t||b[73]!==A||b[74]!==C?(v=k.jsx(c("MWPMessageListAttachmentContainer.react"),{connectTop:f,message:q,paint:A,renderEmphasisRing:t,children:C}),b[70]=f,b[71]=q,b[72]=t,b[73]=A,b[74]=C,b[75]=v):v=b[75];return v}function o(a){return a.threadType}g["default"]=a}),98);
__d("MAWSecureAttachmentRenderer.react",["CometPlaceholder.react","MAWMsg","MAWSecureAttachment.react","MAWSecurePlaceholder.react","MWPActor.react","MWPMessageParsingUtils","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;function j(a,b,e,f,g,h,j,k){b=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectTop(a,b,"below");e=d("MWPMessageParsingUtils").MessageWithAttachments.shouldConnectBottom(a,e,"below");return i.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureAttachmentRenderer.Suspense",children:d("MAWMsg").isMediaMsg(a)||d("MAWMsg").isXMAMsg(a)?i.jsx(c("MAWSecureAttachment.react"),{connectBottom:e,connectTop:b,hasEmphasisRing:k,hasText:h,mediaRenderQpl:g,message:a,outgoing:f}):i.jsx(c("MAWSecurePlaceholder.react"),{actorId:j,message:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(3),c=d("MWPActor.react").useActor(),e;b[0]!==c||b[1]!==a?(e=function(b,d,e,f,g,h){return j(b,d,e,f,h,g,c,a)},b[0]=c,b[1]=a,b[2]=e):e=b[2];b=e;return b}g.render=j;g.useRenderAttachment=a}),98);
__d("MAWMessageListRow.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MAWMessageAssociatedDataContext","MAWMsg","MAWSecureAttachmentRenderer.react","MWMessageRow.react","MWPAttachmentDataContext","MWPVisibleMessageContext.react","MWV2MessageActionsVisibility.react","isMWNewSearchUXEnabled","qex","react","react-compiler-runtime","shouldUseImageGrouping","useGetMediaGroupInformation"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var b=d("react-compiler-runtime").c(53),e=a.domElementRef,f=a.entryPoint,g=a.lastEbMessageTime,h=a.messageAssociatedData,l=a.modal,m=a.row,n=a.rowIndexFromBottom,o=a.thread;a=d("MWV2MessageActionsVisibility.react").useStopHoveringRef();var p;b[0]!==o.threadType?(p=d("LSMessagingThreadTypeUtil").isArmadilloSecure(o.threadType),b[0]=o.threadType,b[1]=p):p=b[1];p=p;var q=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext();q=q.visibleMessage;var r=m.message,s;b[2]!==p||b[3]!==r||b[4]!==o.threadKey?(s=p?(i||(i=d("I64"))).equal(o.threadKey,r.threadKey):!1,b[2]=p,b[3]=r,b[4]=o.threadKey,b[5]=s):s=b[5];p=s;s=!1;if(q!=null){var t=q.messageId;bb0:switch(q.source){case"Reply":case"Pinned":case"Bump":case"FullScreenMediaViewer":s=t===r.messageId;break bb0;case"Search":b[6]!==r.messageId||b[7]!==t?(q=t===r.messageId&&c("isMWNewSearchUXEnabled")(),b[6]=r.messageId,b[7]=t,b[8]=q):q=b[8];s=q;break bb0;default:s=!1}}t=d("MAWSecureAttachmentRenderer.react").useRenderAttachment(s);var u;b[9]!==o.threadType?(q=function(){return o.threadType},u=[o.threadType],b[9]=o.threadType,b[10]=q,b[11]=u):(q=b[10],u=b[11]);q=d("Int64Hooks").useMemoInt64(q,u);u=c("useGetMediaGroupInformation")(r,p);if(u!=null&&u.groupId!=null&&u.isFirstMediaMessageInGroup===!1)return null;u=u==null?void 0:u.isMediaGroupLastMessage;l=l===r.messageId;var v;b[12]!==e||b[13]!==f||b[14]!==s||b[15]!==p||b[16]!==g||b[17]!==r||b[18]!==t||b[19]!==m.nextMessage||b[20]!==m.prevMessage||b[21]!==n||b[22]!==a||b[23]!==u||b[24]!==l||b[25]!==o.threadKey||b[26]!==q?(v={containerThreadKey:o.threadKey,domElementRef:e,entryPoint:f,hasMessageEmphasisRing:s,isMediaGroupLastMessage:u,isModal:l,isSecureMessage:p,lastEbMessageTime:g,message:r,nextMessage:m.nextMessage,prevMessage:m.prevMessage,renderAttachment:t,rowIndexFromBottom:n,stopHoveringRef:a,threadType:q},b[12]=e,b[13]=f,b[14]=s,b[15]=p,b[16]=g,b[17]=r,b[18]=t,b[19]=m.nextMessage,b[20]=m.prevMessage,b[21]=n,b[22]=a,b[23]=u,b[24]=l,b[25]=o.threadKey,b[26]=q,b[27]=v):v=b[27];e=v;if(!((f=c("qex")._("1599"))!=null?f:!1)){b[28]!==e?(s=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[28]=e,b[29]=s):s=b[29];b[30]!==p||b[31]!==r||b[32]!==s?(g=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProvider,{isSecureMessage:p,message:r,children:s}),b[30]=p,b[31]=r,b[32]=s,b[33]=g):g=b[33];return g}if(h!=null){t=h.reactions;m=h.attachmentData;b[34]!==e?(n=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[34]=e,b[35]=n):n=b[35];b[36]!==t||b[37]!==n?(a=j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextProvider,{reactions:t,children:n}),b[36]=t,b[37]=n,b[38]=a):a=b[38];u=a;if(k(r)){b[39]!==m||b[40]!==u?(l=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderMAW,{attachmentData:m,children:u}),b[39]=m,b[40]=u,b[41]=l):l=b[41];return l}else{b[42]!==u||b[43]!==r?(q=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:r,children:u}),b[42]=u,b[43]=r,b[44]=q):q=b[44];return q}}else{b[45]!==e?(v=j.jsx(d("MWMessageRow.react").MWMessageRow,babelHelpers["extends"]({},e)),b[45]=e,b[46]=v):v=b[46];b[47]!==r||b[48]!==v?(f=j.jsx(d("MAWMessageAssociatedDataContext").MAWMessageAssociatedDataContextFetchReactionsLSProvider,{message:r,children:v}),b[47]=r,b[48]=v,b[49]=f):f=b[49];b[50]!==r||b[51]!==f?(p=j.jsx(d("MWPAttachmentDataContext").MWPAttachmentDataContextProviderLS,{message:r,children:f}),b[50]=r,b[51]=f,b[52]=p):p=b[52];return p}}function k(a){var b;if(d("MAWMsg").isMediaMsg(a)&&!((b=c("qex")._("60"))!=null?b:!1))return!1;if(d("MAWMsg").isXMAMsg(a)&&!((b=c("qex")._("1595"))!=null?b:!1))return!1;if(d("MAWMsg").isReceiverFetchXMAMsg(a))return!1;if(!d("MAWMsg").isMediaMsg(a)&&!d("MAWMsg").isXMAMsg(a))return!1;b=c("shouldUseImageGrouping")(a,!0);return b?!1:!0}g["default"]=a}),98);
__d("MW3PBotCommandsPill.react",["fbt","JSResourceForInteraction","MWXPressable.react","MWXText.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||d("react"),l=c("JSResourceForInteraction")("MW3PBotCommandsDialog.react").__setRef("MW3PBotCommandsPill.react"),m={commandsPill:{backgroundColor:"x1qhmfi1",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",paddingTop:"x1yrsyyn",paddingBottom:"x10b6aqq",paddingInlineStart:"xe2zdcy",paddingInlineEnd:"x2vl965",paddingLeft:null,paddingRight:null,$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(17),e=a.threadKey,g=(i||(i=c("useReStore")))();b[0]!==g.tables.custom_thread_commands||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.custom_thread_commands.index("rank")).getKeyRange(e).filter(n)},b[0]=g.tables.custom_thread_commands,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var o=d("ReQLSuspense").useArray(a,j,f.id+":46");a=c("useMWXLazyDialog")(l);var p=a[0];if(o.length===0)return null;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(j={className:"x78zum5 xl56j7k xyamay9 x1l90r2v"},b[6]=j):j=b[6];b[7]!==o||b[8]!==p?(a=function(){return p({commands:o})},b[7]=o,b[8]=p,b[9]=a):a=b[9];var q;b[10]!==o.length?(q=h._(/*BTDS*/"_j{\"*\":\"{number} commands\",\"_1\":\"1 command\"}",[h._plural(o.length,"number")]),b[10]=o.length,b[11]=q):q=b[11];var r;b[12]!==q?(r=k.jsx(c("MWXText.react"),{align:"center",type:"headline4",children:q}),b[12]=q,b[13]=r):r=b[13];b[14]!==a||b[15]!==r?(q=k.jsx("div",babelHelpers["extends"]({},j,{children:k.jsx(c("MWXPressable.react"),{onPress:a,overlayRadius:"inherit",xstyle:m.commandsPill,children:r})})),b[14]=a,b[15]=r,b[16]=q):q=b[16];return q}function n(a){return!a.isOpenPersistentMenu}g["default"]=a}),226);
__d("MWContextBannerChannelActivationPrompt.react",["fbt","ix","BroadcastChannelQPL","MWXImage.react","MWXTextPairing.react","react","react-compiler-runtime","useCurrentDisplayMode","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||(j=d("react"));j.useCallback;var l={image:{marginBottom:"x1hq5gj4",$$css:!0}};function m(){var a=d("react-compiler-runtime").c(4),b=c("useCurrentDisplayMode")();b=b==="dark";var e;a[0]!==b?(e=b?i("196161"):i("196163"),a[0]=b,a[1]=e):e=a[1];b=e;a[2]!==b?(e=k.jsx(c("MWXImage.react"),{src:b,xstyle:l.image}),a[2]=b,a[3]=e):e=a[3];return e}function a(){var a=d("react-compiler-runtime").c(6),b=n;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={onImpressionStart:b},a[0]=b):b=a[0];b=c("useSinglePartialViewImpression")(b);var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 xdt5ytf xl56j7k x11t971q x4ii5y1 xvc5jky x1pdq3kb xw5ewwj x2b8uid"},a[1]=e):e=a[1];var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f=k.jsx(m,{}),a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXTextPairing.react"),{body:h._(/*BTDS*/"Your followers will get an invite to join after you send your first message."),headline:h._(/*BTDS*/"Welcome members with a poll, behind-the-scenes photo or voice message"),level:4,testid:void 0,textAlign:"center"}),a[3]=g):g=a[3];a[4]!==b?(e=k.jsxs("div",babelHelpers["extends"]({},e,{ref:b,children:[f,g]})),a[4]=b,a[5]=e):e=a[5];return e}function n(){var a;(a=d("BroadcastChannelQPL")).logCreateChannelNavigationToThreadEnd();a.logCCTVJoinNavigationToThreadEnd();a.logCreateChannelToThreadViewQPLSuccess();a.logCCTVJoinSuccess()}g["default"]=a}),226);
__d("MWContextBannerEndToEndEncryptedBanner.react",["fbt","ix","CometColumn.react","CometColumnItem.react","CometRow.react","CometRowItem.react","FDSIcon.react","FDSTextWithIcon.react","JSResourceForInteraction","MWXLink.react","MWXText.react","fbicon","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l=c("JSResourceForInteraction")("MAWLearnMoreCutoverDialog.react").__setRef("MWContextBannerEndToEndEncryptedBanner.react"),m={banner:{borderStartStartRadius:"x1obq294",borderStartEndRadius:"x5a5i1n",borderEndEndRadius:"xde0f50",borderEndStartRadius:"x15x8krk",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xz9dl7a",paddingBottom:"xsag5q8",paddingInlineStart:"xf7dkkf",paddingInlineEnd:"xv54qhq",paddingLeft:null,paddingRight:null,$$css:!0}};function a(){var a=d("react-compiler-runtime").c(6),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];var e=b;b=c("useMWXLazyDialog")(l);var f=b[0];a[1]!==f?(b=function(){return f(e)},a[1]=f,a[2]=b):b=a[2];b=b;var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("FDSIcon.react"),{icon:d("fbicon")._(i("1596805"),10),size:10}),a[3]=g):g=a[3];a[4]!==b?(g=k.jsx(c("CometRow.react"),{align:"center",paddingHorizontal:0,paddingTop:12,children:k.jsx(c("CometRowItem.react"),{children:k.jsx(c("CometColumn.react"),{spacing:8,verticalAlign:"center",xstyle:m.banner,children:k.jsx(c("CometColumnItem.react"),{children:k.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:k.jsx(c("FDSTextWithIcon.react"),{iconBefore:g,children:h._(/*BTDS*/"Messages and calls are secured with end-to-end encryption. Only people in this chat can read, listen to, or share them. {=m1}",[h._implicitParam("=m1",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:h._(/*BTDS*/"{=m1}",[h._implicitParam("=m1",k.jsx(c("MWXLink.react"),{onClick:b,children:h._(/*BTDS*/"Learn More")}))])}))])})})})})})}),a[4]=b,a[5]=g):g=a[5];return g}g["default"]=a}),226);
__d("MWGenAILinks",[],(function(a,b,c,d,e,f){"use strict";a="https://www.facebook.com/privacy/guide/genai?entry_point=messenger_genai";f.GENAI_LEARN_MORE_PRIVACY_POLICY_URI=a}),66);
__d("MWContextBannerNullstateDescription.react",["fbt","FBLogger","I64","LSIntEnum","LSNullstateDescriptionType","MWGenAILinks","MWGenAINux.react","MWGenAIUtils","MWXLink.react","MWXText.react","MessengerWebGenAIConsentStatus","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function a(a){var b=d("react-compiler-runtime").c(8),e=a.kind,f=a.text;a=a.threadKey;if(d("MWGenAIUtils").isMetaAIThread(a)&&(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))&&(c("MessengerWebGenAIConsentStatus").nux_scope==="EU"||c("MessengerWebGenAIConsentStatus").nux_scope==="EU_V2")){var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=l.jsx("div",{className:"xsag5q8",children:l.jsx(c("MWGenAINux.react"),{source:"header"})}),b[0]=g):g=b[0];return g}if((j||(j=d("I64"))).equal(e,(j||(j=d("I64"))).zero)||(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT))||(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_DEFAULT))||(j||(j=d("I64"))).equal(e,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").TITLE_SMALL_SUBTEXT))){b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g={className:"xsag5q8"},b[1]=g):g=b[1];var h;b[2]!==e||b[3]!==a?(h=m({kind:e,mwxTextType:"body4",threadKey:a}),b[2]=e,b[3]=a,b[4]=h):h=b[4];b[5]!==h||b[6]!==f?(a=l.jsx("div",babelHelpers["extends"]({},g,{children:l.jsxs(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:[f," ",h]})})),b[5]=h,b[6]=f,b[7]=a):a=b[7];return a}c("FBLogger")("messenger_comet").mustfix("Unhandled nullstate description type: %s",(j||(j=d("I64"))).to_string(e));return null}function m(a){var b=a.kind,e=a.mwxTextType;a=a.threadKey;a=d("MWGenAIUtils").isMetaAIThread(a)&&(j||(j=d("I64"))).equal(b,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateDescriptionType").SUBTEXT));return!a?null:l.jsxs(c("MWXText.react"),{color:"blueLink",type:e,children:[" ",l.jsx(c("MWXLink.react"),{href:d("MWGenAILinks").GENAI_LEARN_MORE_PRIVACY_POLICY_URI,target:"_blank",children:h._(/*BTDS*/"Learn more")})]})}m.displayName=m.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWPWebWorkerDisconnectedBanner.react",["ix","CometImageFromIXValue.react","FDSContextualMessage.react","MAWIssueNewUserVisibleErrors","MWXButtonGroup.react","fbs","promiseDone","react","react-compiler-runtime","requireDeferred","useMAWGetUserVisibleErrors"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;b.useCallback;var k=b.useState,l=c("requireDeferred")("MAWEncryptionErrorHandler").__setRef("MWPWebWorkerDisconnectedBanner.react");function a(){var a=d("react-compiler-runtime").c(26),b=c("useMAWGetUserVisibleErrors")(),e=b[0],f=b[1];b=k(!1);var g=b[0],i=b[1];b=k(!1);var n=b[0],o=b[1];a[0]!==(e==null?void 0:e.errorExtraData)||a[1]!==f?(b=function(){c("promiseDone")(async function(){i(!0);if((e==null?void 0:e.errorExtraData)==="MAWEARKeychainDecryptionError"){var a=await l.load();await a.handleEARKeychainError()}return f()}(),m,function(){i(!1)})},a[0]=e==null?void 0:e.errorExtraData,a[1]=f,a[2]=b):b=a[2];b=b;var p;a[3]!==f?(p=function(){c("promiseDone")(f(),function(){o(!0)})},a[3]=f,a[4]=p):p=a[4];p=p;var q;a[5]!==(e==null?void 0:e.errorBodyText)?(q=d("MAWIssueNewUserVisibleErrors").errorMsgBodyToFbtMap.get(e==null?void 0:e.errorBodyText),a[5]=e==null?void 0:e.errorBodyText,a[6]=q):q=a[6];q=q;var r;a[7]!==(e==null?void 0:e.errorTitleText)?(r=d("MAWIssueNewUserVisibleErrors").errorMsgTitleToFbtMap.get(e==null?void 0:e.errorTitleText),a[7]=e==null?void 0:e.errorTitleText,a[8]=r):r=a[8];r=r;if(e&&q!=null&&r!=null&&c("FDSContextualMessage.react")&&!n){a[9]===Symbol.for("react.memo_cache_sentinel")?(n={className:"xjf5wm9 x1o0tod xdj266r x14z9mp xat24cr x1lziwak x10l6tqk x13vifvy xh8yej3"},a[9]=n):n=a[9];var s;a[10]===Symbol.for("react.memo_cache_sentinel")?(s=c("fbs")._(/*BTDS*/"Refresh"),a[10]=s):s=a[10];a[11]!==g||a[12]!==b?(s=j.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{disabled:g,label:s,loading:g,onPress:b,testid:"mw-encrypted-backups-in-thread-web-worker-failure-reset"}}),a[11]=g,a[12]=b,a[13]=s):s=a[13];a[14]!==r?(g=j.jsx(j.Fragment,{children:r}),a[14]=r,a[15]=g):g=a[15];a[16]===Symbol.for("react.memo_cache_sentinel")?(b=h("1351648"),a[16]=b):b=a[16];a[17]!==r?(b=j.jsx(c("CometImageFromIXValue.react"),{alt:r,source:b}),a[17]=r,a[18]=b):b=a[18];a[19]!==q||a[20]!==r||a[21]!==p||a[22]!==s||a[23]!==g||a[24]!==b?(n=j.jsx("div",babelHelpers.extends({},n,{children:j.jsx(c("FDSContextualMessage.react"),{addOnPrimary:s,body:q,headline:g,headlineAriaLabel:r,icon:b,level:4,onClose:p})})),a[19]=q,a[20]=r,a[21]=p,a[22]=s,a[23]=g,a[24]=b,a[25]=n):n=a[25];return n}}function m(){window.location.reload(!0)}g.default=a}),226);
__d("MWMessageElementRefList",[],(function(a,b,c,d,e,f){"use strict";function a(){var a=new Map(),b=new Map(),c={contents:void 0};return{get:function(b,d){var e=a.get(b);if(e==null){c.contents=[b,d];return}return d(e)},set:function(d){var e=b.get(d);if(e!=null)return e;e=function(b){if(b==null){a["delete"](d);return}a.set(d,b);if(c.contents!=null&&c.contents[0]===d){var e=c.contents;e[0];e=e[1];e(b);c.contents=void 0;return}};b.set(d,e);return e}}}f["default"]=a}),66);
__d("useMWCurrentVisibleMessage",["I64","Int64Hooks","LSFactory","LSMessagePointQueryStoredProcedure","MWMessageElementRefList","MWPVisibleMessageContext.react","ReQL","ReQLSuspense","promiseDone","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var e=d("MWPVisibleMessageContext.react").useMWPVisibleMessageContext(),g=e.visibleMessage,j=m(c("MWMessageElementRefList")()),o=a==null?void 0:a.threadKey,p=a==null?void 0:a.threadType,q=m(),r=(h||(h=c("useReStore")))(),s=d("ReQLSuspense").useFirst(function(){if(o==null)return d("ReQL").empty();if(g==null)return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o);var a=g.timestamp;return d("ReQL").fromTableDescending(r.tables.messages_ranges_v2__generated).getKeyRange(o).bounds({lte:[a]}).filter(function(b){var c=b.maxTimestampMs;b=b.minTimestampMs;return(i||(i=d("I64"))).ge(a,b)&&(i||(i=d("I64"))).le(a,c)})},[o,g,r],f.id+":59");e=n(function(){return s});var t=e[0],u=e[1];l(function(){q.current=void 0,g==null&&(b==null?void 0:b.current)!=null&&b.current.scrollToBottom()},[b,g]);var v=k(function(a){var d=b==null?void 0:b.current;if(d!=null){c("setTimeout")(function(){return d.scrollElementIntoViewIfNeeded(a)},0);return}},[b]),w=k(function(a){if(a!==q.current)return j.current.get(a,function(b){v(b),q.current=a})},[v]);l(function(){s!=null?u(s):g==null&&u(function(){})},[g,s,u]);l(function(){g!=null&&t!=null&&g.messageId!=null&&w(g.messageId)},[r,g,t,w]);d("Int64Hooks").useEffectInt64(function(){if(a!=null&&s==null&&g!=null&&g.messageId!=null){var b=g.messageId,e=(i||(i=d("I64"))).to_int32(p!=null?p:(i||(i=d("I64"))).neg_one);if(e!==-1&&(e===15||e===16))return;c("promiseDone")(r.runInTransaction(function(d){return c("LSMessagePointQueryStoredProcedure")(c("LSFactory")(d),{messageId:b,threadKey:a.threadKey,threadType:a.threadType})},"readwrite",void 0,void 0,f.id+":146"))}},[r,g,s,o,p,a]);return{messageElementRefs:j,messageRange:t,visibleMessage:g!=null?g:void 0}}g["default"]=a}),98);
__d("useMWLSIsViewerThreadAdminUsingThreadKey",["MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=d("MWPActor.react").useActor(),g=(h||(h=c("useReStore")))(),i;b[0]!==e||b[1]!==g.tables.participants||b[2]!==a?(i=function(){return d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(a,e)},b[0]=e,b[1]=g.tables.participants,b[2]=a,b[3]=i):i=b[3];var j;b[4]!==e||b[5]!==g||b[6]!==a?(j=[g,e,a],b[4]=e,b[5]=g,b[6]=a,b[7]=j):j=b[7];b=d("ReQLSuspense").useFirst(i,j,f.id+":24");return(i=b==null?void 0:b.isAdmin)!=null?i:!1}g["default"]=a}),98);
__d("useMWV2ConversationScrollerRefs",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");b.useMemo;var i=b.useRef;function a(){var a=d("react-compiler-runtime").c(2),b=i(null),c;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={type:"Bottom"},a[0]=c):c=a[0];c=i(c);a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b={scrollerRef:b,scrollPositionRef:c},a[1]=b):b=a[1];c=b;return c}g["default"]=a}),98);
__d("MWThreadUtilHooks",["LSMessagingThreadTypeUtil","MWCMThreadTypes.react","MWLSThread","MWPActor.react","ReQL","ReQLSuspense","react-compiler-runtime","useMWCurrentVisibleMessage","useMWLSIsViewerThreadAdminUsingThreadKey","useMWV2ConversationScrollerRefs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function i(a){var b=d("react-compiler-runtime").c(12),e=c("useMWV2ConversationScrollerRefs")();e=c("useMWCurrentVisibleMessage")(a,e.scrollerRef);e=e.messageRange;e=(e=e==null?void 0:e.isLoadingBefore)!=null?e:!1;var g=a.threadKey,i=(h||(h=c("useReStore")))();b[0]!==i.tables.messages||b[1]!==g?(a=function(){return d("ReQL").fromTableDescending(i.tables.messages).getKeyRange(g).filter(j)},b[0]=i.tables.messages,b[1]=g,b[2]=a):a=b[2];var k;b[3]!==i||b[4]!==g?(k=[i,g],b[3]=i,b[4]=g,b[5]=k):k=b[5];a=d("ReQLSuspense").useFirst(a,k,f.id+":37");b[6]!==i.tables.attachments||b[7]!==g?(k=function(){return d("ReQL").fromTableDescending(i.tables.attachments).getKeyRange(g)},b[6]=i.tables.attachments,b[7]=g,b[8]=k):k=b[8];var l;b[9]!==i||b[10]!==g?(l=[i,g],b[9]=i,b[10]=g,b[11]=l):l=b[11];b=d("ReQLSuspense").useFirst(k,l,f.id+":46");k=a!=null||b!=null;return!(k||e)}function j(a){return!a.isAdminMessage}function k(a){var b=d("react-compiler-runtime").c(2),c=i(a);if(!c)return!1;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];return c}function a(a){var b=d("react-compiler-runtime").c(2),c=i(a);a=d("MWLSThread").useThread(a.threadKey,l);if(!c)return!1;b[0]!==a?(c=d("MWCMThreadTypes.react").isIGBroadcastChannelThread(a),b[0]=a,b[1]=c):c=b[1];return c}function l(a){return a.threadSubtype}function b(a){var b=d("react-compiler-runtime").c(3),e=k(a);a=c("useMWLSIsViewerThreadAdminUsingThreadKey")(a.threadKey);var f;b[0]!==a||b[1]!==e?(f=(d("MWPActor.react").isAPPlus()||d("MWPActor.react").isPromode())&&e&&a,b[0]=a,b[1]=e,b[2]=f):f=b[2];return f}g.useMWIsThreadWithZeroMessage=i;g.useMWIsFBBroadcastChannelWithZeroMessage=k;g.useMWIsIGBroadcastChannelWithZeroMessage=a;g.useMWIsAdminAndFBBroadcastChannelWithZeroMessage=b}),98);
__d("usePageType",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;function a(a){var b=d("react-compiler-runtime").c(6),e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.contacts||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.contacts,["pageType"]).getKeyRange(a!=null?a:(h||(h=d("I64"))).zero)},b[0]=e.tables.contacts,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];b=d("ReQLSuspense").useFirst(g,j,f.id+":23");return(b==null?void 0:b.pageType)!=null?b.pageType:void 0}g["default"]=a}),98);
__d("MWContextBanner.react",["fbt","BaseView.react","CometPlaceholder.react","I64","LSAuthorityLevel","LSContactLink.react","LSIntEnum","LSMessagingThreadTypeUtil","LSPageType","LSThreadBitOffset","LSThreadTitleWithContactWrapper.react","LSVerificationBadge.react","MAWThreadCutover","MW3PBotCommandsPill.react","MWCMThreadTypes.react","MWContextBannerChannelActivationPrompt.react","MWContextBannerEndToEndEncryptedBanner.react","MWContextBannerNullstateDescription.react","MWEditMessageOverlay.react","MWPWebWorkerDisconnectedBanner.react","MWThreadPicture.react","MWThreadUtilHooks","MWXText.react","ReQL","ReQLSuspense","cr:19928","gkx","isFeatureLimitEnabled","react","react-compiler-runtime","stylex","useIsReadOnlyFeatureLimitedWithThreadType","useMWPEditMessageDeemphasizer","usePageType","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m,n=k||d("react"),o={container:{backgroundColor:"x1eb86dx",paddingBottom:"xsag5q8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingTop:"x1cnzs8",$$css:!0}};function p(a){var e=d("react-compiler-runtime").c(3),f=a.isBusinessSupport,g=a.isReadOnlyFeatureLimited;a=a.thread;var h=d("MWThreadUtilHooks").useMWIsAdminAndFBBroadcastChannelWithZeroMessage(a);if(g||f)return null;if(d("LSMessagingThreadTypeUtil").isGroup(a.threadType)&&(l||(l=d("I64"))).gt(a.authorityLevel,(m||(m=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").SERVER_PARTIAL))&&b("cr:19928")!=null){if(h){e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=n.jsx(c("MWContextBannerChannelActivationPrompt.react"),{}),e[0]=g):g=e[0];return g}e[1]!==a?(f=n.jsx(b("cr:19928"),{thread:a}),e[1]=a,e[2]=f):f=e[2];return f}return null}function a(a){var b=d("react-compiler-runtime").c(72),e=a.includeBaseViewWrapper,g=a.threadKey;a=a.threadType;e=e===void 0?!0:e;var k=c("useIsReadOnlyFeatureLimitedWithThreadType")(a),s=d("MAWThreadCutover").useIsDualThreadCutoverSecureThread(g);s=d("MAWThreadCutover").useIsCutoverSecureThread(g)&&!s;var t=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(g)!=null,u=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(a);a=d("MWCMThreadTypes.react").isJoinedCMThread(a);var v=c("useMWPEditMessageDeemphasizer")(),w=(i||(i=c("useReStore")))(),x;b[0]!==w.tables.threads||b[1]!==g?(x=function(){return d("ReQL").fromTableAscending(w.tables.threads,["authorityLevel","isCustomThreadPicture","needsAdminApprovalForNewParticipant","nullstateDescriptionText1","nullstateDescriptionText2","nullstateDescriptionText3","nullstateDescriptionType1","nullstateDescriptionType2","nullstateDescriptionType3","parentThreadKey","threadDescription","threadInviteLink","threadInvitesEnabledV2","threadKey","threadName","threadPictureUrl","threadPictureUrlExpirationTimestampMs","threadPictureUrlFallback","threadSubtype","threadType"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(g)},b[0]=w.tables.threads,b[1]=g,b[2]=x):x=b[2];var y;b[3]!==w||b[4]!==g?(y=[w,g],b[3]=w,b[4]=g,b[5]=y):y=b[5];x=d("ReQLSuspense").useFirst(x,y,f.id+":131");y=c("usePageType")(x==null?void 0:x.threadKey);if(x==null)return null;var z=d("LSThreadBitOffset").has(47,x);if(z)return null;z=x.nullstateDescriptionText1;var A=x.nullstateDescriptionText2,B=x.nullstateDescriptionText3,C=x.nullstateDescriptionType1,D=x.nullstateDescriptionType2,E=x.nullstateDescriptionType3,F;b[6]!==x.parentThreadKey?(F=(l||(l=d("I64"))).equal(x.parentThreadKey,(m||(m=d("LSIntEnum"))).ofNumber(-18)),b[6]=x.parentThreadKey,b[7]=F):F=b[7];F=F;var G;b[8]!==x.threadType?(G=d("LSMessagingThreadTypeUtil").isArmadilloSecure(x.threadType),b[8]=x.threadType,b[9]=G):G=b[9];G=G;var H;b[10]!==k||b[11]!==G?(H=k&&(!G||c("isFeatureLimitEnabled")()),b[10]=k,b[11]=G,b[12]=H):H=b[12];k=H;b[13]===Symbol["for"]("react.memo_cache_sentinel")?(H={className:"xxymvpz"},b[13]=H):H=b[13];b[14]!==x.threadKey?(H=n.jsx("span",babelHelpers["extends"]({},H,{children:n.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWContextBanner",children:n.jsx(c("LSVerificationBadge.react"),{size:"large",threadKey:x.threadKey})})})),b[14]=x.threadKey,b[15]=H):H=b[15];H=H;var I=d("LSThreadBitOffset").has(8,x);I=I&&c("gkx")("13101")?r:q;var J;b[16]!==I||b[17]!==x?(J=n.jsx(c("LSThreadTitleWithContactWrapper.react"),{thread:x,wrapOutput:I}),b[16]=I,b[17]=x,b[18]=J):J=b[18];I=J;b[19]!==v?(J=(j||(j=c("stylex"))).props(o.container,v),b[19]=v,b[20]=J):J=b[20];b[21]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x78zum5 xl56j7k xod5an3"},b[21]=v):v=b[21];b[22]!==x.threadKey?(v=n.jsx("div",babelHelpers["extends"]({},v,{children:n.jsx(c("MWThreadPicture.react"),{badgeSize:14,photoSize:60,threadKey:x.threadKey})})),b[22]=x.threadKey,b[23]=v):v=b[23];var K;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(K={className:"xod5an3"},b[24]=K):K=b[24];u=!u&&!a&&H;b[25]!==u||b[26]!==I?(a=n.jsx("div",babelHelpers["extends"]({},K,{children:n.jsxs(c("MWXText.react"),{align:"center",isSemanticHeading:!0,numberOfLines:1,type:"headlineEmphasized3",children:[I,u]})})),b[25]=u,b[26]=I,b[27]=a):a=b[27];b[28]!==y?(H=y!=null&&(l||(l=d("I64"))).equal(y,(m||(m=d("LSIntEnum"))).ofNumber(c("LSPageType").AI))?n.jsx("div",{className:"xod5an3",children:n.jsx(c("MWXText.react"),{align:"center",color:"primary",type:"body4",children:h._(/*BTDS*/"AI")})}):null,b[28]=y,b[29]=H):H=b[29];b[30]!==z||b[31]!==C||b[32]!==g?(K=z!=null&&C!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:C,text:z,threadKey:g}):null,b[30]=z,b[31]=C,b[32]=g,b[33]=K):K=b[33];b[34]!==A||b[35]!==D||b[36]!==g?(u=A!=null&&D!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:D,text:A,threadKey:g}):null,b[34]=A,b[35]=D,b[36]=g,b[37]=u):u=b[37];b[38]!==B||b[39]!==E||b[40]!==g?(I=B!=null&&E!=null?n.jsx(c("MWContextBannerNullstateDescription.react"),{kind:E,text:B,threadKey:g}):null,b[38]=B,b[39]=E,b[40]=g,b[41]=I):I=b[41];b[42]!==g?(y=c("MW3PBotCommandsPill.react")!=null&&n.jsx(c("MW3PBotCommandsPill.react"),{threadKey:g}),b[42]=g,b[43]=y):y=b[43];b[44]!==F||b[45]!==k||b[46]!==x?(z=n.jsx(p,{isBusinessSupport:F,isReadOnlyFeatureLimited:k,thread:x}),b[44]=F,b[45]=k,b[46]=x,b[47]=z):z=b[47];b[48]!==s||b[49]!==t||b[50]!==G?(C=G&&!s&&!t?n.jsx(c("MWContextBannerEndToEndEncryptedBanner.react"),{}):null,b[48]=s,b[49]=t,b[50]=G,b[51]=C):C=b[51];b[52]!==G?(A=G&&c("MWPWebWorkerDisconnectedBanner.react")?n.jsx(c("MWPWebWorkerDisconnectedBanner.react"),{}):null,b[52]=G,b[53]=A):A=b[53];b[54]!==J||b[55]!==v||b[56]!==a||b[57]!==H||b[58]!==K||b[59]!==u||b[60]!==I||b[61]!==y||b[62]!==z||b[63]!==C||b[64]!==A?(D=n.jsxs("div",babelHelpers["extends"]({},J,{"data-testid":void 0,children:[v,a,H,K,u,I,y,z,C,A]})),b[54]=J,b[55]=v,b[56]=a,b[57]=H,b[58]=K,b[59]=u,b[60]=I,b[61]=y,b[62]=z,b[63]=C,b[64]=A,b[65]=D):D=b[65];b[66]===Symbol["for"]("react.memo_cache_sentinel")?(B=n.jsx(c("MWEditMessageOverlay.react"),{}),b[66]=B):B=b[66];b[67]!==D?(E=n.jsxs(n.Fragment,{children:[D,B]}),b[67]=D,b[68]=E):E=b[68];F=E;b[69]!==F||b[70]!==e?(k=e?n.jsx(c("BaseView.react"),{children:F}):F,b[69]=F,b[70]=e,b[71]=k):k=b[71];return k}function q(a,b){return b}function r(a,b){return n.jsx(c("LSContactLink.react"),{contact:a,testid:void 0,children:b})}r.displayName=r.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("MWContextBannerWithKeyboardFocus.react",["fbt","MWContextBanner.react","MWPMessageListFocusableTableRowSimple.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k="mwcontextbanner";function a(a){var b=d("react-compiler-runtime").c(4),e=a.threadKey;a=a.threadType;var f;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(f=h._(/*BTDS*/"Conversation details"),b[0]=f):f=b[0];b[1]!==e||b[2]!==a?(f=j.jsx(c("MWPMessageListFocusableTableRowSimple.react"),{accessibilityDialogTitleText:f,checkIfContentsAreTabbable:!0,focusCellOnRender:!1,nameForModality:k,showButtonInsideRow:!0,children:j.jsx(c("MWContextBanner.react"),{includeBaseViewWrapper:!1,threadKey:e,threadType:a})}),b[1]=e,b[2]=a,b[3]=f):f=b[3];return f}g["default"]=a}),226);
__d("useCheckMessageIntegrityForSecureThread",["fbt","I64","Int64Hooks","JSResourceForInteraction","MAWMessageIntegrityCheckDeferred","MAWMessageIntegrityCheckFlytrapQueue","MetaConfig","Random","WATimeUtils","cometPushToast","cr:10710","gkx","react","react-compiler-runtime","useMWEntrypoint","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j;(i||d("react")).useCallback;var k=(e=b("cr:10710")==null?void 0:b("cr:10710").getIntegrityCheckSampleRate())!=null?e:c("MetaConfig")._("59");function a(a,b,e){var f=d("react-compiler-runtime").c(10),g=c("useMWEntrypoint")(),i;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(i=c("JSResourceForInteraction")("MWInboxBugReportDialog.react").__setRef("useCheckMessageIntegrityForSecureThread"),f[0]=i):i=f[0];i=c("useMWXLazyDialog")(i);var l=i[0];f[1]!==l?(i=function(a,b){if(!c("gkx")("4852"))return;d("cometPushToast").cometPushToast({action:{label:h._(/*BTDS*/"Report"),onPress:function(c){return l({initialDescription:"Assign to @mengk. \nDetected missing messages on thread: "+(j||(j=d("I64"))).to_string(a)+" at time: "+(b!=null?b:"most recent")+"\nIs there actual message missing? <PLEASE UPDATE: YES/NO>",initialProduct:"chat"})}},message:h._(/*BTDS*/"[Employee-only] Detected Missing Messages. Please submit a bug report to Messenger Web"),truncateText:!1})},f[1]=l,f[2]=i):i=f[2];var m=i,n;f[3]!==a||f[4]!==g||f[5]!==m||f[6]!==b||f[7]!==e?(i=function(c,f,h,i){d("MAWMessageIntegrityCheckFlytrapQueue").enqueueFlytrapMessageIntegrityCheck({lastItemFromPreviousPage:c,pageSize:h,threadKey:b,uiMessages:f});if(!d("Random").coinflip(k))return;var l=d("WATimeUtils").millisTime();d("MAWMessageIntegrityCheckDeferred").runMessageIntegrityCheckDeferred(a,b,e,g,h,c,f,i,l,function(){return m(b,(c==null?void 0:c.primarySortKey)==null?null:(j||(j=d("I64"))).to_float(c==null?void 0:c.primarySortKey))})},n=[a,b,e,g,m],f[3]=a,f[4]=g,f[5]=m,f[6]=b,f[7]=e,f[8]=i,f[9]=n):(i=f[8],n=f[9]);return d("Int64Hooks").useCallbackInt64(i,n)}g["default"]=a}),226);
__d("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB",["ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(6),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.occamadillo_most_recent_message_per_thread||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.occamadillo_most_recent_message_per_thread).getKeyRange(a)},b[0]=e.tables.occamadillo_most_recent_message_per_thread,b[1]=a,b[2]=g):g=b[2];var i;b[3]!==e||b[4]!==a?(i=[e,a],b[3]=e,b[4]=a,b[5]=i):i=b[5];b=d("ReQLSuspense").useFirst(g,i,f.id+":26");return b==null?void 0:b.timestampMs}g["default"]=a}),98);
__d("MAWMessageList.react",["BaseTheme.react","CometErrorBoundary.react","CometPageletWithDiv.react","CometRelay","CometScreenReaderText.react","EBMessageMetadataQuery","FBLogger","I64","LSAuthorityLevel","LSIntEnum","LSMessagingThreadTypeUtil","MAWLoadingStateOutstandingUIReadyOfflineQueueSelector","MAWMessageListRow.react","MAWMiActOnActThreadReady","MAWThreadMappingUtils","MWBaseTheme","MWBlockingProtectionContext.react","MWChatInteraction","MWContextBannerWithKeyboardFocus.react","MWEBEntrypointsKillswitch.enum","MWInboxThreadMessagesSpinner.react","MWJumpToMostRecentMessageButton.react","MWLSThreadDisplayContext","MWPActor.react","MWPMessageListColumn.react","MWPMessageListFocusTable.react","MWPRelayBaseMessageList.react","MWPThreadCapabilitiesContext","MWPTypingIndicators.react","MWV2ChatErrorBubble.react","MWV2MessageRowSimple.react","WAJids","cr:19626","cr:3907","gkx","justknobx","mwpMessageIsReply","qex","react","react-compiler-runtime","useAsyncReStore","useCheckMessageIntegrityForSecureThread","useMWEBBackupState","useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB","useMWMessageRowTheme","useMWPAriaLabelForMessageListGrid","useReStore","withCometPlaceholder"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i,n=m.useEffect,o=m.useId;m.useMemo;var p=m.useState;function q(a){return l.jsx(c("MWJumpToMostRecentMessageButton.react"),{onPress:a})}q.displayName=q.name+" [from "+f.id+"]";function r(a,b){var e=c("qex")._("1419")===!0;if(e)return d("MAWThreadMappingUtils").getIntJidOnceInThreadMappingTable(a,b,"MAWMessageList").then(function(a){return(k||(k=d("I64"))).to_string(a)});else return d("MAWMiActOnActThreadReady").waitForACTThreadReady(a.tables,b,"MAWMessageList").then(function(a){a=a.chatJid;return d("WAJids").threadIdForChatJid(a)})}async function s(a,b){a=await a;a=await d("EBMessageMetadataQuery").messageMetadataQueryForMainThreadMAWDeanon({direction:"after",fetchPolicy:"store-or-network",numberOfMessages:1,referenceTimestamp:null,threadId:await r(a,b)});return a.value?a.value.messages:[]}function a(a){var b=d("react-compiler-runtime").c(11),e=a.theme,f=a.threadKey;a=a.threadType;e=e===void 0?d("MWBaseTheme").empty:e;var g=d("MWPTypingIndicators.react").useTypingParticipants(f),h=d("MWPTypingIndicators.react").useAccessibilityText(g);if(g.length>0){b[0]!==h?(g=l.jsx("div",{"aria-live":"polite",children:l.jsx(c("CometScreenReaderText.react"),{text:h})}),b[0]=h,b[1]=g):g=b[1];b[2]!==f||b[3]!==a?(h=l.jsx(d("MWPTypingIndicators.react").MWPTypingIndicators,{threadKey:f,threadType:a}),b[2]=f,b[3]=a,b[4]=h):h=b[4];b[5]!==g||b[6]!==h?(f=l.jsx(c("MWV2MessageRowSimple.react"),{children:l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:[g,h]})}),b[5]=g,b[6]=h,b[7]=f):f=b[7];b[8]!==f||b[9]!==e?(a=l.jsx(c("BaseTheme.react"),{config:e,children:f}),b[8]=f,b[9]=e,b[10]=a):a=b[10];return a}else return null}var t=d("withCometPlaceholder").withCometPlaceholder(a,null,"MAWTypingIndicators");function e(a){var e=d("react-compiler-runtime").c(61),f=a.cutoverOpenThread,g=a.entryPoint,i=a.onScrollToBottom,m=a.ref,r=a.thread;a=(h||(h=c("useReStore")))();var w=c("useAsyncReStore")(),x=d("MWPActor.react").useActor(),y=c("useMWPAriaLabelForMessageListGrid")(r),z=c("useMWMessageRowTheme")(),A=p(""),B=A[0];A=A[1];var C=o(),D=d("CometRelay").useRelayEnvironment(),E;e[0]===Symbol.for("react.memo_cache_sentinel")?(E=[],e[0]=E):E=e[0];E=p(E);var F=E[0],G=E[1];e[1]!==w||e[2]!==r.authorityLevel||e[3]!==r.threadKey?(E=function(){if((k||(k=d("I64"))).equal(r.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC)))return;s(w,r.threadKey).then(function(a){return G(a)}).catch(v)},e[1]=w,e[2]=r.authorityLevel,e[3]=r.threadKey,e[4]=E):E=e[4];var H;e[5]!==w||e[6]!==D||e[7]!==r.authorityLevel||e[8]!==r.threadKey?(H=[w,D,r.authorityLevel,r.threadKey],e[5]=w,e[6]=D,e[7]=r.authorityLevel,e[8]=r.threadKey,e[9]=H):H=e[9];n(E,H);e[10]===Symbol.for("react.memo_cache_sentinel")?(D={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_GAP_UI},e[10]=D):D=e[10];E=c("useMWEBBackupState")(D);H=c("useMWEncryptedBackupsGetLatestMessageTimestampForThreadInEB")(r.threadKey);bb0:{if(E===2){D=null;break bb0}else if(F.length>0&&F[0].sortOrderMs!=null){e[11]!==F[0].sortOrderMs?(E=(k||(k=d("I64"))).of_string(F[0].sortOrderMs),e[11]=F[0].sortOrderMs,e[12]=E):E=e[12];D=E;break bb0}D=H!=null?H:(k||(k=d("I64"))).zero}var I=D,J=c("useCheckMessageIntegrityForSecureThread")(a,r.threadKey,r.threadType);F=b("cr:19626")(!1,r,d("MAWLoadingStateOutstandingUIReadyOfflineQueueSelector").outstandingUIReadyOfflineQueueSelector);e[13]!==r.threadType?(E=d("LSMessagingThreadTypeUtil").isArmadilloSecure(r.threadType),e[13]=r.threadType,e[14]=E):E=e[14];var K=E;H=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();D=H==="ChatTab";e[15]===Symbol.for("react.memo_cache_sentinel")?(a=c("justknobx")._("2575"),e[15]=a):a=e[15];E=a;e[16]===Symbol.for("react.memo_cache_sentinel")?(H=c("gkx")("14315")?8:c("justknobx")._("2038"),e[16]=H):H=e[16];a=H;H=D?a:E;e[17]!==J||e[18]!==K||e[19]!==r.threadKey?(D=function(a,b,c,e){K&&J(a,b,c,e);a=d("MWChatInteraction").getInteractionTraceForThreadKey((k||(k=d("I64"))).to_string(r.threadKey));if(a==null)return;a.addMarkerPoint("page_loaded","AppTiming",void 0,{page_index:e,page_size:c,total_number_of_messages:b.length})},e[17]=J,e[18]=K,e[19]=r.threadKey,e[20]=D):D=e[20];e[21]!==z||e[22]!==r.threadKey||e[23]!==r.threadType?(a=function(){return l.jsx(t,{theme:z,threadKey:r.threadKey,threadType:r.threadType})},e[21]=z,e[22]=r.threadKey,e[23]=r.threadType,e[24]=a):a=e[24];e[25]!==r.threadKey||e[26]!==r.threadType?(E=function(){return l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("MWContextBannerWithKeyboardFocus.react"),{threadKey:r.threadKey,threadType:r.threadType})]})},e[25]=r.threadKey,e[26]=r.threadType,e[27]=E):E=e[27];var L;e[28]!==x||e[29]!==g||e[30]!==I||e[31]!==B||e[32]!==r?(L=function(a){var b=a.domElementRef,e=a.message,f=a.messageAssociatedData,h=a.nextMessage,i=a.prevMessage;a=a.rowIndexFromBottom;var j=c("mwpMessageIsReply")(e),m=(k||(k=d("I64"))).equal(e.senderId,x);return l.jsx(c("CometErrorBoundary.react"),{fallback:function(){return l.jsx(c("MWV2ChatErrorBubble.react"),{isOutgoing:m,isReply:j})},children:l.jsx(c("MAWMessageListRow.react"),{domElementRef:b,entryPoint:g,lastEbMessageTime:I,messageAssociatedData:f,modal:B,row:{message:e,nextMessage:h,prevMessage:i},rowIndexFromBottom:a,thread:r})})},e[28]=x,e[29]=g,e[30]=I,e[31]=B,e[32]=r,e[33]=L):L=e[33];var M;e[34]!==f||e[35]!==g||e[36]!==i||e[37]!==F||e[38]!==H||e[39]!==m||e[40]!==a||e[41]!==E||e[42]!==L||e[43]!==D||e[44]!==r?(M=l.jsx(c("MWPRelayBaseMessageList.react"),{entryPoint:g,onPageLoaded:D,onScrollToBottom:i,pageSize:H,ref:m,renderFooter:a,renderHeader:E,renderJumpToMostRecentMessageButton:q,renderLoadingAnimation:u,renderRow:L,secondaryThread:f,shouldPausePageLoadTracking:F,thread:r}),e[34]=f,e[35]=g,e[36]=i,e[37]=F,e[38]=H,e[39]=m,e[40]=a,e[41]=E,e[42]=L,e[43]=D,e[44]=r,e[45]=M):M=e[45];f=M;e[46]===Symbol.for("react.memo_cache_sentinel")?(i={className:"x78zum5 xdt5ytf x1iyjqo2 x5yr21d"},e[46]=i):i=e[46];e[47]===Symbol.for("react.memo_cache_sentinel")?(F="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",e[47]=F):F=e[47];e[48]!==f||e[49]!==C?(H=b("cr:3907")==null?f:l.jsx(b("cr:3907"),{id:C,children:f}),e[48]=f,e[49]=C,e[50]=H):H=e[50];e[51]!==y||e[52]!==B||e[53]!==H?(m=l.jsx(c("MWBlockingProtectionContext.react").Provider,{children:l.jsx(c("MWPMessageListFocusTable.react"),{ariaLabel:y,modal:B,setModal:A,children:H})}),e[51]=y,e[52]=B,e[53]=H,e[54]=m):m=e[54];e[55]!==m||e[56]!==r?(a=l.jsx(d("CometPageletWithDiv.react").Placeholder,{className:F,fallback:null,name:"MWV2MessageList",children:l.jsx(d("MWPThreadCapabilitiesContext").Provider,{thread:r,children:m})}),e[55]=m,e[56]=r,e[57]=a):a=e[57];e[58]!==C||e[59]!==a?(E=l.jsx("div",babelHelpers.extends({},i,{"data-testid":void 0,id:C,children:a})),e[58]=C,e[59]=a,e[60]=E):E=e[60];return E}function u(a){return l.jsx(c("MWInboxThreadMessagesSpinner.react"),{vcIgnore:a})}u.displayName=u.name+" [from "+f.id+"]";function v(a){return c("FBLogger")("messenger_web").catching(a).warn("Unable to get last EB message timestamp")}g.default=e}),98);
__d("useSecureThreadDetailGetDevices",["I64","LSAuthorityLevel","LSIntEnum","ReQL","ReQLSuspense","WAJids","WMIWABridgeApi","promiseDone","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=h||d("react");var k=b.useEffect,l=b.useRef;function a(a,b){var e=d("react-compiler-runtime").c(11),g;e[0]!==b.tables.contacts||e[1]!==b.tables.participants||e[2]!==a.threadKey?(g=function(){return d("ReQL").mergeJoin(d("ReQL").fromTableAscending(b.tables.participants,["contactId"]).getKeyRange(a.threadKey),d("ReQL").fromTableAscending(b.tables.contacts)).map(m).filter(Boolean)},e[0]=b.tables.contacts,e[1]=b.tables.participants,e[2]=a.threadKey,e[3]=g):g=e[3];var h;e[4]!==b||e[5]!==a.threadKey?(h=[b,a.threadKey],e[4]=b,e[5]=a.threadKey,e[6]=h):h=e[6];var i=d("ReQLSuspense").useArray(g,h,f.id+":30");e[7]===Symbol["for"]("react.memo_cache_sentinel")?(g=new Set(),e[7]=g):g=e[7];var j=l(g);e[8]!==i?(h=function(){var a=j.current.size!==i.length||!i.every(function(a){return j.current.has(a)});if(!a&&i.length>2)return;a=new Set(i);j.current=a;c("promiseDone")(c("WMIWABridgeApi").getDevices({ignoreDhash:!1,reason:"details-participants-changed",users:a}))},g=[i],e[8]=i,e[9]=h,e[10]=g):(h=e[9],g=e[10]);k(h,g)}function m(a){var b=a[0];a=a[1];b=b.contactId;return(i||(i=d("I64"))).ge(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE))?d("WAJids").toMsgrUserJid((i||(i=d("I64"))).to_string(b)):null}g["default"]=a}),98);
__d("MAWSecureThreadDetail.react",["CometPlaceholder.react","ComponentMountUnmountSubspanLogger.react","E2EEMessagingLinkContext.react","I64","LSAuthorityLevel","LSIntEnum","MAWMessageList.react","cr:1683","cr:19886","react","react-compiler-runtime","useReStore","useSecureThreadDetailGetDevices"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react")),m=k.useState;function a(a,b){}var n=(f=b("cr:1683"))!=null?f:a;function e(a){var e=d("react-compiler-runtime").c(17),f=a.cutoverOpenThread,g=a.entryPoint,k=a.messageListRef;a=a.thread;var o=(h||(h=c("useReStore")))();c("useSecureThreadDetailGetDevices")(a,o);var p=m(!0),q=p[0],r=p[1];e[0]!==f?(p=f!=null&&(i||(i=d("I64"))).equal(f.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[0]=f,e[1]=p):p=e[1];p=p;n(o,a.threadKey);e[2]!==q||e[3]!==p?(o=b("cr:19886")!=null&&p&&l.jsx(b("cr:19886"),{isShown:!q}),e[2]=q,e[3]=p,e[4]=o):o=e[4];e[5]!==o?(q=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWCutoverEncryptedBackupsBanner",children:o}),e[5]=o,e[6]=q):q=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(p=l.jsx(c("ComponentMountUnmountSubspanLogger.react"),{description:"MAWSecureThreadDetail"}),e[7]=p):p=e[7];e[8]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(a){return r(a)},e[8]=o):o=e[8];e[9]!==f||e[10]!==g||e[11]!==k||e[12]!==a?(p=l.jsxs(d("E2EEMessagingLinkContext.react").E2EEMessagingLinkProvider,{inThread:!0,isSecure:!0,children:[p,l.jsx(c("MAWMessageList.react"),{cutoverOpenThread:f,entryPoint:g,onScrollToBottom:o,ref:k,thread:a})]}),e[9]=f,e[10]=g,e[11]=k,e[12]=a,e[13]=p):p=e[13];e[14]!==q||e[15]!==p?(o=l.jsxs(l.Fragment,{children:[q,p]}),e[14]=q,e[15]=p,e[16]=o):o=e[16];return o}g["default"]=e}),98);
__d("MAWSecureThreadQPContainerInner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerInner_query",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{kind:"Defer",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQuickPromotion_eligiblePromotions"}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MAWSecureThreadQuickPromotion.react",["CometQuickPromotionLoggerContext.react","CometRelay","MAWSecureThreadQuickPromotion_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQuickPromotion_eligiblePromotions.graphql");function a(a){var b,e=d("react-compiler-runtime").c(8);a=a.eligiblePromotions;a=d("CometRelay").useFragment(k,a);var f;if(e[0]!==(a==null?void 0:a.nodes)){var g;f=a==null||(g=a.nodes)==null?void 0:g.find(l);e[0]=a==null?void 0:a.nodes;e[1]=f}else f=e[1];a=f;f=a==null||(b=a.comet_qp_sections)==null?void 0:b.renderer_strategy;e[2]===Symbol["for"]("react.memo_cache_sentinel")?(a={context_surface_id:8879,context_trigger:"messenger_e2ee_thread_open"},e[2]=a):a=e[2];a=c("useQuickPromotionFalcoEvent")(a);if(f==null)return null;var h;e[3]!==f?(h=j.jsx(d("CometRelay").MatchContainer,{match:f}),e[3]=f,e[4]=h):h=e[4];e[5]!==a||e[6]!==h?(f=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:a,children:h}),e[5]=a,e[6]=h,e[7]=f):f=e[7];return f}function l(a){return((a=a.comet_qp_sections)==null?void 0:a.renderer_strategy)!=null}g["default"]=a}),98);
__d("MAWSecureThreadQPContainerInner.react",["CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner_query.graphql","MAWSecureThreadQuickPromotion.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQPContainerInner_query.graphql");function a(a){var b,e=d("react-compiler-runtime").c(2);a=a.query;a=d("CometRelay").useFragment(k,a);a=a==null||(b=a.viewer)==null?void 0:b.eligible_promotions;if(a==null)return null;var f;e[0]!==a?(f=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.EligiblePromotions",children:j.jsx(c("MAWSecureThreadQuickPromotion.react"),{eligiblePromotions:a})}),e[0]=a,e[1]=f):f=e[1];return f}g["default"]=a}),98);
__d("MAWSecureThreadQPContainerQuery.graphql",["MAWSecureThreadQPContainerQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{"if":null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:b("MAWSecureThreadQPContainerQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerQuery",operationKind:"query",text:null}};b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWSecureThreadQPContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQPContainerQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(2);a=a.mawSecureThreadQPContainerQueryRef;a=d("CometRelay").usePreloadedQuery(k,a);var e;b[0]!==a?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:j.jsx(c("MAWSecureThreadQPContainerInner.react"),{query:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),98);
__d("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24029028516731081"}),null);
__d("MAWSecureThreadQPContainerLazyLoadedQuery.graphql",["MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a={fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MAWSecureThreadQPContainerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[],kind:"Operation",name:"MAWSecureThreadQPContainerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8879},{kind:"Literal",name:"trigger",value:"MESSENGER_E2EE_THREAD_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{"if":null,kind:"Defer",label:"MAWSecureThreadQPContainerInner_query$defer$MAWSecureThreadQuickPromotion_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1OzhWV"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MAWSecureThreadQuickPromotion_eligiblePromotions",fragmentName:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy_quickPromotionRef",fragmentPropName:"quickPromotionRef",kind:"ModuleImport"}],type:"CometQuickPromotionArmadilloXMAPreviewSettingsNUXRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1OzhWV")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]}],storageKey:'eligible_promotions(surface_nux_id:8879,trigger:"MESSENGER_E2EE_THREAD_OPEN")'}],storageKey:null}]},params:{id:b("MAWSecureThreadQPContainerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MAWSecureThreadQPContainerLazyLoadedQuery",operationKind:"query",text:null}};b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MAWSecureThreadQPContainerLazyLoaded.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","MAWSecureThreadQPContainerInner.react","MAWSecureThreadQPContainerLazyLoadedQuery.graphql","emptyFunction","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=h!==void 0?h:h=b("MAWSecureThreadQPContainerLazyLoadedQuery.graphql");function a(){var a=d("react-compiler-runtime").c(2),b=d("CometRelay").useLazyLoadQuery(k,{}),e;a[0]!==b?(e=j.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MAWSecureThreadQPContainer.Query",children:j.jsx(c("MAWSecureThreadQPContainerInner.react"),{query:b})})}),a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("MWFailChatTabOpenQPLEvent",["MWGetChatTabOpenQPLEventTrace"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){c("MWGetChatTabOpenQPLEventTrace")(a,function(a){a.failTrace(b,!0)})}g["default"]=a}),98);
__d("MWThreadErrorBoundary.react",["CometErrorBoundary.react","FBLogger","MWFailChatTabOpenQPLEvent","MWInboxErrorState.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={errorBoundary:{alignItems:"x6s0dn4",backgroundColor:"x2bj2ny",display:"x78zum5",height:"x5yr21d",justifyContent:"xl56j7k",width:"xh8yej3",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children,f=a.message,g=a.threadKey;b[0]!==f||b[1]!==g?(a=function(a){c("MWFailChatTabOpenQPLEvent")(g,a.toString()),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix(f+": %s",a.toString())},b[0]=f,b[1]=g,b[2]=a):a=b[2];var h;b[3]!==e||b[4]!==a?(h=i.jsx(c("CometErrorBoundary.react"),{fallback:k,onError:a,children:e}),b[3]=e,b[4]=a,b[5]=h):h=b[5];return h}function k(a){return i.jsx(c("MWInboxErrorState.react"),{error:a,plural:!1,source:"thread_error_boundary",xstyle:j.errorBoundary})}k.displayName=k.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMAWMaybeInsertDualThreadCutoverAdminMessage",["I64","MAWBridgeFireAndForget","MAWLocalizationType","MAWMiActOnActThreadReady","Promise","ReQL","ReQLSuspense","WATimeUtils","justknobx","promiseDone","react","react-compiler-runtime","useMWGetOtherUserContact","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useEffect;function m(a){return a.showOpenMessageHistory===!1}function a(a,e){var g=d("react-compiler-runtime").c(27),k=(i||(i=c("useReStore")))(),n;g[0]!==k.tables.mi_act_mapping_table||g[1]!==a?(n=function(){return d("ReQL").fromTableAscending(k.tables.mi_act_mapping_table).getKeyRange(a)},g[0]=k.tables.mi_act_mapping_table,g[1]=a,g[2]=n):n=g[2];var o;g[3]!==k||g[4]!==a?(o=[a,k],g[3]=k,g[4]=a,g[5]=o):o=g[5];n=d("ReQLSuspense").useFirst(n,o,f.id+":37");var p=n==null?void 0:n.jid,q=n==null?void 0:n.serverThreadKey;g[6]!==k.tables.cutover_threads||g[7]!==p?(o=function(){return p!=null?d("ReQL").fromTableAscending(k.tables.cutover_threads).getKeyRange(p).filter(m):d("ReQL").empty()},g[6]=k.tables.cutover_threads,g[7]=p,g[8]=o):o=g[8];g[9]!==k||g[10]!==p?(n=[k,p],g[9]=k,g[10]=p,g[11]=n):n=g[11];var r=d("ReQLSuspense").useFirst(o,n,f.id+":46");g[12]===Symbol["for"]("react.memo_cache_sentinel")?(o=["id"],g[12]=o):o=g[12];n=c("useMWGetOtherUserContact")(a,e,o);var s=n==null;g[13]!==n?(e=(n==null?void 0:n.id)!=null?(j||(j=d("I64"))).to_string(n.id):null,g[13]=n,g[14]=e):e=g[14];var t=e;g[15]!==k.tables||g[16]!==r||g[17]!==s||g[18]!==t||g[19]!==q?(o=function(){if(!r||q==null||!c("justknobx")._("1446"))return;c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(k.tables,q,"useMAWMaybeInsertDualThreadCutoverAdminMessage",function(a,c){d("MAWBridgeFireAndForget").fireAndForget("backend","writeAdminMessageForDualThreadCutover",{chatJid:c,cutoverTimestampMs:d("WATimeUtils").castToMillisTime((j||(j=d("I64"))).to_float(r.timestampMs)),localizationType:s?d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_SELF_THREAD:t!=null?d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_WITH_OTHER_USER_NAME:d("MAWLocalizationType").LOCALIZATION_TYPE.DUAL_THREAD_CUTOVER_ADMIN_MESSAGE_OTHER_USER_NAME_UNKNOWN,otherUserID:t});return(h||(h=b("Promise"))).resolve()}))},g[15]=k.tables,g[16]=r,g[17]=s,g[18]=t,g[19]=q,g[20]=o):o=g[20];g[21]!==k||g[22]!==r||g[23]!==s||g[24]!==t||g[25]!==q?(n=[k,r,s,t,q],g[21]=k,g[22]=r,g[23]=s,g[24]=t,g[25]=q,g[26]=n):n=g[26];l(o,n)}g["default"]=a}),98);
__d("updateEphemeralDuration",["JSResourceForInteraction","WATimeUtils"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,e,f,g,h){var i=d("WATimeUtils").millisTime();return c("JSResourceForInteraction")("MAWEphemeralSettingsUpdate").__setRef("updateEphemeralDuration").load().then(function(a){return a.updateEphemeralSettings(b,i,e,h)}).then(function(a){f();return!0})["catch"](function(a){g();return!1})}g["default"]=a}),98);
__d("useMAWMaybeResetEphemeralSettings",["DateConsts","Int64Hooks","MAWEphemeralGatingUtil","MAWGetEphemeralSettings","MAWMiActOnActThreadReady","MWFBLogger","Promise","promiseDone","react","react-compiler-runtime","updateEphemeralDuration","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useRef,m=0;function a(a){var b=d("react-compiler-runtime").c(4),e=c("useAsyncReStore")(),f=l(null),g,h;b[0]!==e||b[1]!==a?(g=function(){(f.current==null||f.current!==a)&&(f.current=a,d("MAWEphemeralGatingUtil").isResetEphemeralSettingsEnabled()&&c("promiseDone")(e,function(b){return c("promiseDone")(d("MAWMiActOnActThreadReady").onActThreadReady(b.tables,a,"useMAWResetEphemeralSettings",function(b,c){return n(a,c)}))}))},h=[a,e],b[0]=e,b[1]=a,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h)}function n(a,e){var f=d("MAWEphemeralGatingUtil").getExpirationOptions();return e!=null?d("MAWGetEphemeralSettings").getEphemeralSetting(e,a).then(function(b){b&&b.ephemeralExpirationInSec>0&&b.ephemeralExpirationInSec<d("DateConsts").SEC_PER_DAY&&!f.includes(b.ephemeralExpirationInSec)&&c("promiseDone")(c("updateEphemeralDuration")(e,m,!0,function(){d("MWFBLogger").MWLogger().DEBUG(h||(h=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: success to reset settings for chatJid ",", previous settings was ",""])),e,b.ephemeralExpirationInSec)},function(){d("MWFBLogger").MWLogger().DEBUG(i||(i=babelHelpers.taggedTemplateLiteralLoose(["[reset ephemeral settings]: fail to reset settings for chatJid ",", previous settings was ",""])),e,b.ephemeralExpirationInSec)},a))}):(j||(j=b("Promise"))).resolve()}g["default"]=a}),98);
__d("MAWSecureThreadDetailWrapper.react",["CometPageletWithDiv.react","FBLogger","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSInitiateThreadMigrationStoredProcedure","LSIntEnum","MAWSecureThreadDetail.react","MAWSecureThreadQPContainer.react","MAWSecureThreadQPContainerLazyLoaded.react","MAWThreadCutover","MWEnsureCutoverOpenThreadExists","MWThreadErrorBoundary.react","MemoryUtils","QPLUserFlow","WARandomHex","logMessengerWebFalcoEvent","qpl","react","react-compiler-runtime","useAsyncReStore","useMAWMaybeInsertDualThreadCutoverAdminMessage","useMAWMaybeResetEphemeralSettings"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||(h=d("react"));b=h;b.useCallback;var l=b.useEffect,m=b.useRef,n=b.useState;function o(a,b){var e=d("react-compiler-runtime").c(23),f;e[0]!==a?(f=(i||(i=d("I64"))).to_int32(a),e[0]=a,e[1]=f):f=e[1];var g=f,h;e[2]!==b||e[3]!==g||e[4]!==a?(f=function(){c("QPLUserFlow").start(c("qpl")._(25306607,"1883"),{annotations:{string:{entryPoint:b,thread_id:(i||(i=d("I64"))).to_string(a)}},instanceKey:g})},h=[b,g,a],e[2]=b,e[3]=g,e[4]=a,e[5]=f,e[6]=h):(f=e[5],h=e[6]);d("Int64Hooks").useEffectInt64(f,h);e[7]!==g?(f=function(a){c("QPLUserFlow").addPoint(c("qpl")._(25306607,"1883"),a,{instanceKey:g})},e[7]=g,e[8]=f):f=e[8];h=f;e[9]!==g?(f=function(a){c("QPLUserFlow").endSuccess(c("qpl")._(25306607,"1883"),{annotations:{string:{is_cutover:String(a)}},instanceKey:g})},e[9]=g,e[10]=f):f=e[10];f=f;var j;e[11]!==g?(j=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{string:a},{instanceKey:g})},e[11]=g,e[12]=j):j=e[12];j=j;var k;e[13]!==g?(k=function(a){c("QPLUserFlow").addAnnotations(c("qpl")._(25306607,"1883"),{"int":a},{instanceKey:g})},e[13]=g,e[14]=k):k=e[14];k=k;var l;e[15]!==g?(l=function(a,b){c("QPLUserFlow").endFailure(c("qpl")._(25306607,"1883"),a,{annotations:{string:{is_cutover:String(b)}},instanceKey:g})},e[15]=g,e[16]=l):l=e[16];l=l;var m;e[17]!==k||e[18]!==j||e[19]!==h||e[20]!==l||e[21]!==f?(m={addQplAnnotations:j,addQPLAnnotationsInt:k,addQplPoint:h,qplEndFailure:l,qplEndSuccess:f},e[17]=k,e[18]=j,e[19]=h,e[20]=l,e[21]=f,e[22]=m):m=e[22];return m}function p(a,b,c){if(c!=null)return"show_od_cutover";if(a==null)return"not_cutover_thread";return b!=null?a.showOpenMessageHistory===!1?"dual_thread_cutover":"show":"loading"}function q(a){var b=d("react-compiler-runtime").c(65),e=a.entryPoint,g=a.mawSecureThreadQPContainerQueryRef,h=a.messageListRef,q=a.thread;a=o(q.threadKey,e);var r=a.addQplAnnotations,s=a.addQPLAnnotationsInt,t=a.addQplPoint,u=a.qplEndFailure,v=a.qplEndSuccess;c("useMAWMaybeResetEphemeralSettings")(q.threadKey);c("useMAWMaybeInsertDualThreadCutoverAdminMessage")(q.threadKey,q.threadType);var w=m("");b[0]!==r||b[1]!==u||b[2]!==v?(a=function(a){switch(a){case"loading":return;case"show":case"show_od_cutover":r({showOpenHistory:"show"});v(!0);return;case"not_cutover_thread":v(!1);return;case"dual_thread_cutover":v(!1);return;case"error":u(w.current,!0);return;default:throw c("FBLogger")("messenger_web_entrypoints").mustfixThrow("[MiActMapping] Unreachable showOpenMsgHistoryState: %s",a)}},b[0]=r,b[1]=u,b[2]=v,b[3]=a):a=b[3];var x=a,y=c("useAsyncReStore")();b[4]!==y?(a=function(a,b){return y.then(function(e){return e.runInTransaction(function(e){return c("LSInitiateThreadMigrationStoredProcedure")(c("LSFactory")(e),{armadilloThreadKey:b,openMessageThreadKey:a,shouldCopyMessages:!1,traceId:d("WARandomHex").randomHex(8)})},"readwrite",void 0,void 0,f.id+":267")})},b[4]=y,b[5]=a):a=b[5];var z=a,A=d("MAWThreadCutover").useGetCutoverMapping(q.threadKey),B=d("MAWThreadCutover").useCutoverOpenThread(q.threadKey);d("MWEnsureCutoverOpenThreadExists").useMWEnsureCutoverOpenThreadExists(q.threadKey);var C=d("MAWThreadCutover").useODCutoverEligibleOpenOneToOneThread(q.threadKey);b[6]!==A||b[7]!==B||b[8]!==C?(a=p(A,B,C),b[6]=A,b[7]=B,b[8]=C,b[9]=a):a=b[9];a=n(a);var D=a[0],E=a[1],F;b[10]!==A||b[11]!==B||b[12]!==x||b[13]!==C||b[14]!==D?(a=function(){x(D);if(D==="show"||D==="dual_thread_cutover")return;if(C!=null)return E("show_od_cutover");if(A==null)return;if(B==null)return E("loading");else if(A.showOpenMessageHistory!==!1)return E("show");else return E("dual_thread_cutover")},F=[A,B,x,C,D],b[10]=A,b[11]=B,b[12]=x,b[13]=C,b[14]=D,b[15]=a,b[16]=F):(a=b[15],F=b[16]);d("Int64Hooks").useEffectInt64(a,F);var G=m(!1);b[17]!==q.authorityLevel?(a=(i||(i=d("I64"))).ge(q.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),b[17]=q.authorityLevel,b[18]=a):a=b[18];F=a;b[19]!==F||b[20]!==g?(a=F?g!=null?k.jsx(c("MAWSecureThreadQPContainer.react"),{mawSecureThreadQPContainerQueryRef:g}):k.jsx(c("MAWSecureThreadQPContainerLazyLoaded.react"),{}):null,b[19]=F,b[20]=g,b[21]=a):a=b[21];F=a;b[22]!==s||b[23]!==r||b[24]!==t||b[25]!==A||b[26]!==z||b[27]!==u?(g=function(){if((A==null?void 0:A.armadilloThreadId)==null||(A==null?void 0:A.openThreadId)==null)return;if(G.current===!0)return;G.current=!0;t("thread_migration_initiating_start");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeStart:a});r();z(A.openThreadId,A.armadilloThreadId).then(function(){G.current=!1;t("thread_migration_initiating_end");var a=d("MemoryUtils").getCurrentMemory();a=a.usedJSHeapSize;s({usedJSHeapSizeEnd:a})})["catch"](function(a){G.current=!1,w.current="fail_to_init_thread_migration",E("error"),c("FBLogger")("messenger_web_entrypoints").catching(a).mustfix("fail_to_init_thread_migration"),u(w.current,!0)})},b[22]=s,b[23]=r,b[24]=t,b[25]=A,b[26]=z,b[27]=u,b[28]=g):g=b[28];a=A==null?void 0:A.armadilloThreadId;var H=A==null?void 0:A.openThreadId,I;b[29]!==s||b[30]!==r||b[31]!==t||b[32]!==z||b[33]!==u||b[34]!==v||b[35]!==H||b[36]!==a?(I=[s,r,t,a,H,z,u,v],b[29]=s,b[30]=r,b[31]=t,b[32]=z,b[33]=u,b[34]=v,b[35]=H,b[36]=a,b[37]=I):I=b[37];l(g,I);var J=B!=null;b[38]!==(A==null?void 0:A.openThreadId)||b[39]!==e||b[40]!==J||b[41]!==x||b[42]!==D||b[43]!==q.threadKey||b[44]!==q.threadType?(H=function(){var a;if(w.current==="")return;c("logMessengerWebFalcoEvent")({threadKey:q.threadKey,threadType:q.threadType},"no_open_messages_in_cutover_thread",e,{cutoverThreadKey:(i||(i=d("I64"))).to_string((a=A==null?void 0:A.openThreadId)!=null?a:(i||(i=d("I64"))).neg_one),hasCutoverOpenThread:J.toString(),reason:w.current,showOpenMsgHistoryState:D});x(D)},b[38]=A==null?void 0:A.openThreadId,b[39]=e,b[40]=J,b[41]=x,b[42]=D,b[43]=q.threadKey,b[44]=q.threadType,b[45]=H):H=b[45];b[46]!==A||b[47]!==e||b[48]!==J||b[49]!==x||b[50]!==D||b[51]!==q.threadKey||b[52]!==q.threadType?(a=[A,e,D,J,q.threadKey,q.threadType,x],b[46]=A,b[47]=e,b[48]=J,b[49]=x,b[50]=D,b[51]=q.threadKey,b[52]=q.threadType,b[53]=a):a=b[53];d("Int64Hooks").useEffectInt64(H,a);g=D==="show_od_cutover"?C:D==="show"?B:void 0;b[54]!==e||b[55]!==h||b[56]!==g||b[57]!==q?(I=k.jsx(c("MAWSecureThreadDetail.react"),{cutoverOpenThread:g,entryPoint:e,messageListRef:h,thread:q}),b[54]=e,b[55]=h,b[56]=g,b[57]=q,b[58]=I):I=b[58];b[59]!==F||b[60]!==I?(H=k.jsxs(k.Fragment,{children:[F,I]}),b[59]=F,b[60]=I,b[61]=H):H=b[61];b[62]!==H||b[63]!==q.threadKey?(a=k.jsx(c("MWThreadErrorBoundary.react"),{message:"Error while loading secure thread messages",threadKey:q.threadKey,children:H}),b[62]=H,b[63]=q.threadKey,b[64]=a):a=b[64];return a}function a(a){var b=d("react-compiler-runtime").c(6),c=a.entryPoint,e=a.mawSecureThreadQPContainerQueryRef,f=a.messageListRef;a=a.thread;var g;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(g="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=g):g=b[0];b[1]!==c||b[2]!==e||b[3]!==f||b[4]!==a?(g=k.jsx(d("CometPageletWithDiv.react").Div,{className:g,name:"MAWSecureThreadDetailWrapper",children:k.jsx(q,{entryPoint:c,mawSecureThreadQPContainerQueryRef:e,messageListRef:f,thread:a})}),b[1]=c,b[2]=e,b[3]=f,b[4]=a,b[5]=g):g=b[5];return g}g["default"]=a}),98);
__d("MWXIconFriendGenericAdd",["MWXSvgIcon","SVGIcon","cr:22341","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22341")),c("gkx")("23219"));g["default"]=a}),98);
__d("MWAddMemberToGroupCircleButton.react",["MWXCircleButton.react","MWXIconFriendGenericAdd","MessengerWebUXLogger","react","react-compiler-runtime","useMWAddParticipantDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.label,f=a.testid,g=a.threadKey,h=a.threadType,j=c("useMWAddParticipantDialog")(g,h),k=c("MessengerWebUXLogger").useInteractionLogger();b[0]!==k||b[1]!==j||b[2]!==g||b[3]!==h?(a=function(){j(),k==null||k({eventName:"open_add_members_dialog",threadKey:g,threadType:h})},b[0]=k,b[1]=j,b[2]=g,b[3]=h,b[4]=a):a=b[4];a=a;var l;b[5]!==e||b[6]!==a||b[7]!==f?(l=i.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:e,onPress:a,size:36,testid:void 0}),b[5]=e,b[6]=a,b[7]=f,b[8]=l):l=b[8];return l}g["default"]=a}),98);
__d("MWCMAutoJoinNotifNUX.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FDSContextualMessage.react","JSResourceForInteraction","LSCommunityBitOffset","MWInboxPersistedUIState","MWXButtonGroup.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWXLazyDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useRef,m=b.useState,n=c("JSResourceForInteraction")("LSMuteThreadDialog.react").__setRef("MWCMAutoJoinNotifNUX.react");function o(a){var b=a.thread;a=c("useMWXLazyDialog")(n);var e=a[0];a=m(!1);var f=a[0],g=a[1];a=d("MWInboxPersistedUIState").usePersistedUIState(0,"__MWCMAutoJoinNotifNuxBanner.showBanner__");var i=a[0],j=a[1];a=l(i);var o=l(!1);i=c("useVisibilityObserver")({onVisible:function(){o.current||(o.current=!0,j(function(a){return a+1}))}});return a.current<3&&!f?k.jsx("div",{className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm",ref:i,children:k.jsx(c("FDSContextualMessage.react"),{addOnPrimary:k.jsx(c("MWXButtonGroup.react"),{align:"justify",paddingHorizontal:12,primary:{label:h._(/*BTDS*/"Go to notification settings"),onPress:function(){e({threadKey:b.threadKey},function(){})},padding:"wide",type:"secondary"}}),body:h._(/*BTDS*/"You'll receive notifications for this chat unless you mute them or change your settings."),headline:h._(/*BTDS*/"Welcome to {param} \ud83d\udc4b",[h._param("param",b.threadName)]),level:4,onClose:function(){g(!0)}})}):null}o.displayName=o.name+" [from "+f.id+"]";function p(a){var b=d("react-compiler-runtime").c(11),e=a.thread,g=(i||(i=c("useReStore")))();b[0]!==g.tables.community_folders||b[1]!==e.parentThreadKey?(a=function(){return d("ReQL").fromTableAscending(g.tables.community_folders).getKeyRange(e.parentThreadKey)},b[0]=g.tables.community_folders,b[1]=e.parentThreadKey,b[2]=a):a=b[2];var h;b[3]!==g||b[4]!==e.parentThreadKey?(h=[g,e.parentThreadKey],b[3]=g,b[4]=e.parentThreadKey,b[5]=h):h=b[5];a=d("ReQLSuspense").useFirst(a,h,f.id+":126");if(a){b[6]!==a?(h=d("LSCommunityBitOffset").has(39,a),b[6]=a,b[7]=h):h=b[7];a=h;b[8]!==a||b[9]!==e?(h=a?k.jsx(o,{thread:e}):null,b[8]=a,b[9]=e,b[10]=h):h=b[10];return h}else return null}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=k.jsx(c("CometErrorBoundary.react"),{children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWCMAutoJoinNotifNUX",children:k.jsx(p,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("MWCMSubThreadChatTabWithSubthread.react",["BaseMultiStepContainer.react","CometPlaceholder.react","MWCMSubthreadChatTabContext.react","MWLSChatTabHeaderRoot.react","MWV2ChatTabLoadingWithGlimmers.react","MWV2TabContainer","deferredLoadComponent","react","react-compiler-runtime","requireDeferredForDisplay"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));h.useCallback;var j=c("deferredLoadComponent")(c("requireDeferredForDisplay")("MWCMSubthreadThreadViewChatTab.react").__setRef("MWCMSubThreadChatTabWithSubthread.react"));function k(a,b){var e=d("react-compiler-runtime").c(3),f;e[0]!==a||e[1]!==b?(f=function(d){a(function(a){var e=a.onReturn;return i.jsx(c("CometPlaceholder.react"),{fallback:i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:b}),name:"MWCMSubThreadChatTabWithSubthread",children:i.jsx(j,{onReturn:function(){e()},tab:b,threadKey:d})})})},e[0]=a,e[1]=b,e[2]=f):f=e[2];return f}function l(a){var b=d("react-compiler-runtime").c(3),c=a.children,e=a.pushPage;a=a.tab;e=k(e,a);b[0]!==c||b[1]!==e?(a=i.jsx(d("MWCMSubthreadChatTabContext.react").MWCMSubthreadChatTabContextProvider,{pushSubthreadViewPage:e,children:c}),b[0]=c,b[1]=e,b[2]=a):a=b[2];return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.children,f=a.tab,g=a.thread,h=g.threadKey;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x5a5i1n x1obq294 x2c8kfy x1hm9lzh xhvchuf x1jx94hy x1rgmuzj xbbk1sx"},b[0]=a):a=b[0];var j;b[1]!==f?(j=i.jsx(c("MWV2ChatTabLoadingWithGlimmers.react"),{tab:f}),b[1]=f,b[2]=j):j=b[2];var k;b[3]!==e||b[4]!==f||b[5]!==g.threadKey||b[6]!==h?(k=function(a){return i.jsx(l,{pushPage:a,tab:f,children:i.jsxs(d("MWV2TabContainer").MWV2TabContainer,{style:{boxShadow:"none",margin:0},tab:f,threadKey:g.threadKey,children:[i.jsx(c("MWLSChatTabHeaderRoot.react"),{pushPage:a,tab:f,threadKey:h}),e]})})},b[3]=e,b[4]=f,b[5]=g.threadKey,b[6]=h,b[7]=k):k=b[7];b[8]!==j||b[9]!==k?(a=i.jsx("div",babelHelpers["extends"]({},a,{children:i.jsx(c("BaseMultiStepContainer.react"),{disableFocusContainment:!1,disableInitialAutoFocus:!1,fallback:j,fitContentWidth:!0,children:k})})),b[8]=j,b[9]=k,b[10]=a):a=b[10];return a}g["default"]=a}),98);
__d("MWPChatConnectionStatusCard.react",["fbt","I64","LSIntEnum","LSInternetConnectionState","ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||d("react");function n(a){var b=d("react-compiler-runtime").c(4),c=a.connectionStatus;a=a.renderWrapper;if(c==="Connected")return null;else if(c==="Disconnected"){var e;b[0]!==a?(e=a(h._(/*BTDS*/"No internet connection")),b[0]=a,b[1]=e):e=b[1];return e}else if(c==="Connecting"){b[2]!==a?(e=a(h._(/*BTDS*/"Connecting...")),b[2]=a,b[3]=e):e=b[3];return e}else return null}function a(a){var b=d("react-compiler-runtime").c(7);a=a.renderWrapper;var e=(i||(i=c("useReStore")))(),g;b[0]!==e.tables.connectivity_status?(g=function(){return d("ReQL").fromTableDescending(e.tables.connectivity_status).map(o)},b[0]=e.tables.connectivity_status,b[1]=g):g=b[1];var h;b[2]!==e?(h=[e],b[2]=e,b[3]=h):h=b[3];g=d("ReQLSuspense").useFirst(g,h,f.id+":54");h=g!=null?g:"Connected";b[4]!==a||b[5]!==h?(g=m.jsx(n,{connectionStatus:h,renderWrapper:a}),b[4]=a,b[5]=h,b[6]=g):g=b[6];return g}function o(a){return(j||(j=d("I64"))).equal(a.internetConnectionState,(k||(k=d("LSIntEnum"))).ofNumber(c("LSInternetConnectionState").CONNECTED))?"Connected":"Disconnected"}g["default"]=a}),226);
__d("MWChatConnectionStatusCard.react",["MWPChatConnectionStatusCard.react","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function j(a){return i.jsx("div",{className:"x5p7y74 x1562eck x1q0q8m5 xso031l x1lliihq xtijo5x x1o0tod xz9dl7a xsag5q8 x10l6tqk x2b8uid x13vifvy x1vjfegm",children:i.jsx(c("MWXText.react"),{type:"meta4",children:a})})}j.displayName=j.name+" [from "+f.id+"]";function a(){var a=d("react-compiler-runtime").c(1),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWPChatConnectionStatusCard.react"),{renderWrapper:j}),a[0]=b):b=a[0];return b}g["default"]=a}),98);
__d("MWChatInthreadBannerIcon.react",["MWXIconStrict.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(3);a=a.icon;if(a==null)return null;var e;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x4tc44c x1c9tyrk xeusxvb x1pahc9y x1ertn4p x78zum5 xl56j7k x1yrsyyn x1icxu4v x10b6aqq x25sj25"},b[0]=e):e=b[0];b[1]!==a.icon?(e=i.jsx("div",babelHelpers["extends"]({},e,{children:i.jsx(c("MWXIconStrict.react"),{color:"white",icon:a.icon,size:12})})),b[1]=a.icon,b[2]=e):e=b[2];return e}g["default"]=a}),98);
__d("MWChatInthreadIconParser.react",["FBLogger","MWPXMAIconParser","MWXIconFriendGenericAdd"],(function(a,b,c,d,e,f,g){"use strict";function h(a){switch(a){case"friend-woman-add":return c("MWXIconFriendGenericAdd");default:c("FBLogger")("messenger_web_sharing").mustfix("Unknown XMA Icon: %s",a);return}}function a(a){a=d("MWPXMAIconParser").parse(a);if(a==null)return;if(typeof a==="string")return a;var b=a.color;a=a.icon;a=h(a);if(a!=null)return{color:b,icon:a}}g.parse=a}),98);
__d("MWChatInThreadBanner.react",["FBLogger","FDSButton.react","FDSProfilePhoto.react","MWChatInthreadBannerIcon.react","MWChatInthreadIconParser.react","MWLSThreadDisplayContext","MWXIconChevronRight","MWXIconStrict.react","MWXLink.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","MWXTextPairing.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={grow:{flexGrow:"x1iyjqo2",$$css:!0},linkBanner:{width:"xh8yej3",$$css:!0}};function k(a){var b=d("react-compiler-runtime").c(16),e=a.action;a=a.button;var f=a.ctaTitle;switch(e.type){case"link":var g;b[0]!==e.url?(g={url:e.url},b[0]=e.url,b[1]=g):g=b[1];var h;b[2]!==f||b[3]!==g?(h=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:f,linkProps:g,type:"secondary"})}),b[2]=f,b[3]=g,b[4]=h):h=b[4];return h;case"action":b[5]!==e.contextRef||b[6]!==e.onPress||b[7]!==f?(g=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:i.jsx(c("FDSButton.react"),{label:f,onPress:e.onPress,ref:e.contextRef,type:"secondary"})}),b[5]=e.contextRef,b[6]=e.onPress,b[7]=f,b[8]=g):g=b[8];return g;case"popover":if(b[9]!==e||b[10]!==f){b[12]!==f?(h=function(a,b){return i.jsx(c("FDSButton.react"),{label:f,onPress:function(){return b()},ref:a,type:"secondary"})},b[12]=f,b[13]=h):h=b[13];g=e.popoverTrigger(h);b[9]=e;b[10]=f;b[11]=g}else g=b[11];b[14]!==g?(h=i.jsx(c("MWXRowItem.react"),{xstyle:j.grow,children:g}),b[14]=g,b[15]=h):h=b[15];return h;case"unimplemented":c("FBLogger")("messenger_web_sharing").mustfix("In thread banner cta not implemented, CTA type: %s CTA Title: %s",a.ctaType,a.ctaTitle);return null}}function a(a){var b,e=d("react-compiler-runtime").c(63),f=a.banner,g=a.ctaParser;a=a.impressionRef;if(e[0]!==f.banner.iconUrl){var h;h=d("MWChatInthreadIconParser.react").parse((h=f.banner.iconUrl)!=null?h:"");e[0]=f.banner.iconUrl;e[1]=h}else h=e[1];h=h;var m=f.banner.chevronCtaType!=null,n=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();n=n==="Inbox";var o;e[2]!==h?(o=h!=null?typeof h==="string"?i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",{className:"x14z9mp",children:i.jsx(c("FDSProfilePhoto.react"),{shape:"circle",size:24,source:{uri:h}})})}):i.jsx(c("MWXRowItem.react"),{expanding:!1,children:i.jsx("div",{className:[j.grow,"x78zum5 xdt5ytf x1iyjqo2 xl56j7k"],children:i.jsx(c("MWChatInthreadBannerIcon.react"),{icon:h})})}):null,e[2]=h,e[3]=o):o=e[3];h=o;e[4]!==f.banner.cta1Title||e[5]!==f.banner.heading?(o=f.banner.heading!=null?i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx("span",{className:"x1yrsyyn x10b6aqq",children:i.jsxs(c("MWXText.react"),{type:"meta3",children:[f.banner.heading," ",i.jsx(c("MWXText.react"),{color:"blueLink",type:"meta3",children:i.jsx(c("MWXLink.react"),{href:"https://www.facebook.com/help/869846945085345?ref=ipl",target:"_blank",children:f.banner.cta1Title})})]})})}):null,e[4]=f.banner.cta1Title,e[5]=f.banner.heading,e[6]=o):o=e[6];o=o;b=((b=f.banner.titleSectionOne)!=null?b:"")+((b=f.banner.titleSectionTwo)!=null?b:"");var p;e[7]!==f.banner.heading||e[8]!==b?(p=i.jsx(c("MWXRowItem.react"),{expanding:!0,children:i.jsx(c("MWXTextPairing.react"),{body:b,bodyLineLimit:1,level:4,meta:f.banner.heading,metaLineLimit:1,metaLocation:"above"})}),e[7]=f.banner.heading,e[8]=b,e[9]=p):p=e[9];b=p;e[10]!==f.banner.infoLabel?(p=f.banner.infoLabel!=null?i.jsx(c("MWXRowItem.react"),{children:i.jsx(c("MWXText.react"),{type:"meta1",children:i.jsx("span",{className:"x1qhmfi1 xjwep3j x1t39747 x1wcsgtt x1pczhz8 x6ikm8r x10wlt62 x4p5aij x11lfxj5 x1j85h84 x135b78x xlyipyv xuxw1ft",children:f.banner.infoLabel})})}):null,e[10]=f.banner.infoLabel,e[11]=p):p=e[11];p=p;var q=f.leftButton,r=f.rightButton,s;if(q!=null&&r!=null){var t;e[12]!==f||e[13]!==g||e[14]!==q?(t=g(f,q),e[12]=f,e[13]=g,e[14]=q,e[15]=t):t=e[15];var u;e[16]!==q||e[17]!==t?(u=i.jsx(k,{action:t,button:q}),e[16]=q,e[17]=t,e[18]=u):u=e[18];e[19]!==f||e[20]!==g||e[21]!==r?(t=g(f,r),e[19]=f,e[20]=g,e[21]=r,e[22]=t):t=e[22];var v;e[23]!==r||e[24]!==t?(v=i.jsx(k,{action:t,button:r}),e[23]=r,e[24]=t,e[25]=v):v=e[25];e[26]!==v||e[27]!==u?(t=i.jsxs(c("MWXRow.react"),{paddingTop:8,spacing:4,wrap:"forward",children:[u,v]}),e[26]=v,e[27]=u,e[28]=t):t=e[28];s=t}else{v=q!=null?q:r;if(v!=null){e[29]!==f||e[30]!==v||e[31]!==g?(u=g(f,v),e[29]=f,e[30]=v,e[31]=g,e[32]=u):u=e[32];e[33]!==v||e[34]!==u?(t=i.jsx(c("MWXRow.react"),{paddingTop:8,children:i.jsx(k,{action:u,button:v})}),e[33]=v,e[34]=u,e[35]=t):t=e[35];s=t}}e[36]!==m?(q=m?i.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:i.jsx(c("MWXIconStrict.react"),{icon:c("MWXIconChevronRight"),size:12})}):null,e[36]=m,e[37]=q):q=e[37];r=q;e[38]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x1a8lsjc xh8yej3"},e[38]=v):v=e[38];u=f.banner.cta1Type==="fbvr_dma_learn_more"?o:b;e[39]!==r||e[40]!==h||e[41]!==p||e[42]!==u?(t=i.jsxs(c("MWXRow.react"),{paddingTop:10,children:[h,u,p,r]}),e[39]=r,e[40]=h,e[41]=p,e[42]=u,e[43]=t):t=e[43];e[44]!==s||e[45]!==t?(m=i.jsxs("div",babelHelpers["extends"]({},v,{children:[t,s]})),e[44]=s,e[45]=t,e[46]=m):m=e[46];var w=m,x;if(e[47]!==f||e[48]!==w||e[49]!==g){q=f.bannerAction!=null?g(f,f.bannerAction):void 0;if(q!=null)bb0:switch(q.type){case"link":x=i.jsx(c("MWXPressable.react"),{expanding:!0,linkProps:{target:"_blank",url:q.url},xstyle:l,children:w});break bb0;case"action":x=i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:q.onPress,ref:q.contextRef,children:w});break bb0;case"popover":e[51]!==w?(o=function(a,b){return i.jsx(c("MWXPressable.react"),{expanding:!0,onPress:function(){return b()},ref:a,children:w})},e[51]=w,e[52]=o):o=e[52];x=q.popoverTrigger(o);break bb0;case"unimplemented":h=(r=(b=f.bannerAction)==null?void 0:b.ctaType)!=null?r:"";h!=="member_requests_view"&&c("FBLogger")("messenger_web_ia").mustfix("In thread banner cta not implemented: %s",h);x=w}else x=w;e[47]=f;e[48]=w;e[49]=g;e[50]=x}else x=e[50];e[53]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xfpmyvw x1n2onr6"},e[53]=p):p=e[53];e[54]!==n?(u=n?i.jsx("div",{className:"xwwskcc x1q0q8m5 xso031l"}):null,e[54]=n,e[55]=u):u=e[55];e[56]===Symbol["for"]("react.memo_cache_sentinel")?(v={className:"x80vd3b x1q0q8m5 xso031l"},e[56]=v):v=e[56];e[57]!==x?(t=i.jsx("div",babelHelpers["extends"]({},v,{"data-testid":void 0,children:x})),e[57]=x,e[58]=t):t=e[58];e[59]!==a||e[60]!==u||e[61]!==t?(m=i.jsxs("div",babelHelpers["extends"]({},p,{ref:a,children:[u,t]})),e[59]=a,e[60]=u,e[61]=t,e[62]=m):m=e[62];return m}function l(){return[j.linkBanner]}g["default"]=a}),98);
__d("MWChatTabInThreadBannerInner_query.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerInner_query",selections:[{args:null,kind:"FragmentSpread",name:"MAWChatTabInThreadBanner_query"},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null}],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}],type:"Query",abstractKey:null};e.exports=a}),null);
__d("useInThreadBannerWithCta",["I64","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=function(a,b){return b!=null?a.get((i||(i=d("I64"))).to_string(b)):null};function k(a,b,c){return{banner:a,bannerAction:j(b,a.bannerCtaId),leftButton:j(b,a.cta1Id),overflowMenuActions:(c!=null?[c.cta1Id,c.cta2Id,c.cta3Id,c.cta4Id,c.cta5Id]:[]).map(function(a){return j(b,a)}).filter(Boolean),rightButton:j(b,a.cta2Id)}}function a(a,b){var e=d("react-compiler-runtime").c(18),g=(h||(h=c("useReStore")))(),i;e[0]!==a.bannerId||e[1]!==g.tables.in_thread_banner_overflow_menu||e[2]!==b?(i=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_overflow_menu).getKeyRange(b,a.bannerId)},e[0]=a.bannerId,e[1]=g.tables.in_thread_banner_overflow_menu,e[2]=b,e[3]=i):i=e[3];var j;e[4]!==a.bannerId||e[5]!==g||e[6]!==b?(j=[g,b,a.bannerId],e[4]=a.bannerId,e[5]=g,e[6]=b,e[7]=j):j=e[7];i=d("ReQLSuspense").useFirst(i,j,f.id+":67");e[8]!==a.bannerId||e[9]!==g.tables.in_thread_banner_ctas?(j=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner_ctas).getKeyRange(a.bannerId).map(l)},e[8]=a.bannerId,e[9]=g.tables.in_thread_banner_ctas,e[10]=j):j=e[10];var m;e[11]!==a.bannerId||e[12]!==g?(m=[g,a.bannerId],e[11]=a.bannerId,e[12]=g,e[13]=m):m=e[13];j=d("ReQLSuspense").useArray(j,m,f.id+":74");if(e[14]!==a||e[15]!==i||e[16]!==j){m=new Map(j);m=k(a,m,i);e[14]=a;e[15]=i;e[16]=j;e[17]=m}else m=e[17];return m}function l(a){return[(i||(i=d("I64"))).to_string(a.ctaId),a]}g.createBanner=k;g.useInThreadBannerWithCta=a}),98);
__d("useMWLSEnsureAdContextExists",["LSFactory","LSRequestAdContextFromThreadKeyStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){c("promiseDone")(b.runInTransaction(function(a){return c("LSRequestAdContextFromThreadKeyStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":24"))},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWLSEnsureInThreadBannerExists",["LSFactory","LSFetchBannersStoredProcedure","MWThreadKey.react","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useEffect;function a(){var a=d("react-compiler-runtime").c(4),b=(h||(h=c("useReStore")))(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),g,i;a[0]!==b||a[1]!==e?(g=function(){var a=b.runInTransaction(function(a){return c("LSFetchBannersStoredProcedure")(c("LSFactory")(a),{threadKey:e})},"readwrite",void 0,void 0,f.id+":23");c("promiseDone")(a)},i=[e,b],a[0]=b,a[1]=e,a[2]=g,a[3]=i):(g=a[2],i=a[3]);j(g,i)}g["default"]=a}),98);
__d("useMWCMMemberRequestsCtaParser.react",["GroupsCometChatsEngagementLogger","I64","MWCMMemberRequestsDialog.entrypoint","MWInboxInfoPanelContext.react","MWLSThreadDisplayContext","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(){var a=d("react-compiler-runtime").c(11),b=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext(),e=b.isOnMemberRequestsPageRef,f=b.pushMemberRequestsPage,g=b.setShouldNavToMemberRequests,i=b.setThreadInfoVisible,j=b.threadInfoVisible;b=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();var k=b==="ChatTab";a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MWCMMemberRequestsDialog.entrypoint"),b);var l=b[0];a[1]!==l?(b=function(a){l({parentSurface:"request_to_join_activity_banner",threadKey:a})},a[1]=l,a[2]=b):b=a[2];var m=b;a[3]!==k||a[4]!==e||a[5]!==m||a[6]!==f||a[7]!==g||a[8]!==i||a[9]!==j?(b=function(a,b){var c=function(){d("GroupsCometChatsEngagementLogger").log({action:"tap",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(h||(h=d("I64"))).to_string(a.banner.threadKey)})};if(b.ctaType!=="cm_thread_member_requests_view")return{type:"unimplemented"};return k?{onPress:function(){c(),m(a.banner.threadKey)},type:"action"}:{onPress:function(){c();if(e.current===!0)return;j===!0?f("request_to_join_activity_banner"):(g(!0),i(!0))},type:"action"}},a[3]=k,a[4]=e,a[5]=m,a[6]=f,a[7]=g,a[8]=i,a[9]=j,a[10]=b):b=a[10];return b}g["default"]=a}),98);
__d("useMWLSAdContextCtaParser",["JSResourceForInteraction","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(3),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=c("JSResourceForInteraction")("MWCTMAdContextDialog.react").__setRef("useMWLSAdContextCtaParser"),a[0]=b):b=a[0];b=c("useMWXLazyDialog")(b);var e=b[0];a[1]!==e?(b=function(a,b){return b.ctaType!=="ads_context"?{type:"unimplemented"}:{onPress:function(){return e({adId:b.ctaId,threadKey:a.banner.threadKey})},type:"action"}},a[1]=e,a[2]=b):b=a[2];return b}g["default"]=a}),98);
__d("MpixEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("4586");b=d("FalcoLoggerInternal").create("mpix_event",a);e=b;g["default"]=e}),98);
__d("useMWLSExecuteInThreadBannerCta",["LSExecuteCTAStoredProcedure","LSFactory","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a){c("promiseDone")(b.runInTransaction(function(b){return c("LSExecuteCTAStoredProcedure")(c("LSFactory")(b),{ctaId:a})},"readwrite",void 0,void 0,f.id+":34"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWLSMarketplaceServerMutationCta",["LSFactory","LSServerMutationCtaStoredProcedure","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;function a(){var a=d("react-compiler-runtime").c(2),b=(h||(h=c("useReStore")))(),e;a[0]!==b?(e=function(a,d){c("promiseDone")(b.runInTransaction(function(b){return c("LSServerMutationCtaStoredProcedure")(c("LSFactory")(b),{marketplaceCtaType:d,threadKey:a})},"readwrite",void 0,void 0,f.id+":28"))},a[0]=b,a[1]=e):e=a[1];return e}g["default"]=a}),98);
__d("useMWLSMarketplaceCtaParser",["CometFRX.entrypoint","CometMarketplaceConfirmMarkAsPaidDialog.entrypoint","CometMarketplaceCreateDiscountedPriceDialog.entrypoint","CometMarketplaceInboxLabelChatDialog.entrypoint","CometMarketplaceLogger","FBLogger","I64","JSResourceForInteraction","MWPActor.react","MWResponsiveLayoutContext.react","MWThreadKey.react","MWXLazyPopoverTrigger.react","MpixEventFalcoEvent","ReQL","ReQLSuspense","gkx","react","react-compiler-runtime","useMWLSExecuteInThreadBannerCta","useMWLSMarketplaceServerMutationCta","useMWXEntryPointDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;var l=b.useContext;b.useMemo;e=["marketplace_mark_as_available","marketplace_mark_as_pending","marketplace_mark_as_sold","marketplace_mark_as_sold_scaled","marketplace_mark_as_sold_with_txn_survey","marketplace_mark_as_sold_with_txn_survey_scaled","marketplace_mark_as_sold_with_select_buyer","marketplace_mark_as_sold_with_select_buyer_scaled"];var m=new Set(e);b=new Set(e.concat(["marketplace_rate_buyer","marketplace_scaled_rate_buyer","marketplace_rate_seller","marketplace_scaled_rate_seller","marketplace_report_buyer","marketplace_report_seller","marketplace_see_details","marketplace_request_payment","marketplace_send_payment","marketplace_find_similar","marketplace_more_options","marketplace_p2m_request_payment","marketplace_xma_call_function","marketplace_label_chat","marketplace_mark_as_paid","marketplace_view_profile","marketplace_create_discount","marketplace_server_mutation","marketplace_banner_open_native"]));function n(a){var b=d("react-compiler-runtime").c(8),e=(h||(h=c("useReStore")))(),g=d("MWPActor.react").useActor(),j;b[0]!==g||b[1]!==e.tables.participants||b[2]!==a?(j=function(){return d("ReQL").fromTableAscending(e.tables.participants,["contactId"]).getKeyRange(a).filter(function(a){return!(i||(i=d("I64"))).equal(a.contactId,g)}).map(o)},b[0]=g,b[1]=e.tables.participants,b[2]=a,b[3]=j):j=b[3];var k;b[4]!==g||b[5]!==e||b[6]!==a?(k=[g,a,e],b[4]=g,b[5]=e,b[6]=a,b[7]=k):k=b[7];return d("ReQLSuspense").useFirst(j,k,f.id+":88")}function o(a){return(i||(i=d("I64"))).to_string(a.contactId)}function a(){var a=d("react-compiler-runtime").c(26),b=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),e=c("useMWLSMarketplaceServerMutationCta")(),f=c("useMWLSExecuteInThreadBannerCta")(),g=n(b),h;a[0]!==b?(h=(i||(i=d("I64"))).to_string(b),a[0]=b,a[1]=h):h=a[1];var j=h;b=c("gkx")("17233");a[2]!==g||a[3]!==j?(h=b?window.btoa("message_thread:"+j):g!=null?g:"",a[2]=g,a[3]=j,a[4]=h):h=a[4];b=h;a[5]!==b?(h={entryPoint:"report_button",id:b,location:"marketplace_messenger_report_buyer"},a[5]=b,a[6]=h):h=a[6];h=h;var o;a[7]!==b?(o={entryPoint:"report_button",id:b,location:"marketplace_messenger_report_seller"},a[7]=b,a[8]=o):o=a[8];b=o;o=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),h);var p=o[0];h=c("useMWXEntryPointDialog")(c("CometFRX.entrypoint"),b);var q=h[0];a[9]!==j?(o={thread_id:j},a[9]=j,a[10]=o):o=a[10];b=c("useMWXEntryPointDialog")(c("CometMarketplaceInboxLabelChatDialog.entrypoint"),o);var r=b[0];a[11]!==j?(h={threadId:j},a[11]=j,a[12]=h):h=a[12];o=c("useMWXEntryPointDialog")(c("CometMarketplaceConfirmMarkAsPaidDialog.entrypoint"),h);var s=o[0];a[13]!==j?(b={threadId:j},a[13]=j,a[14]=b):b=a[14];h=c("useMWXEntryPointDialog")(c("CometMarketplaceCreateDiscountedPriceDialog.entrypoint"),b);var t=h[0];o=l(c("MWResponsiveLayoutContext.react"));var u=o.isDenseMode,v;a[15]!==f||a[16]!==e||a[17]!==u||a[18]!==g||a[19]!==t||a[20]!==r||a[21]!==s||a[22]!==p||a[23]!==q||a[24]!==j?(v=function(a,b){var h=b.ctaId,l=b.ctaType,n=b.deeplinkUrl,o=b.webviewUrl;if(l==="marketplace_see_details"||l==="marketplace_banner_open_native"){var w=o!=null?o:n;if(w!=null)return{type:"link",url:w};c("FBLogger")("mp_messaging").mustfix("Marketplace see details cta without url")}if(l==="marketplace_view_profile"){w=o!=null?o:n;if(w!=null)return{type:"link",url:w};c("FBLogger")("mp_messaging").mustfix("Marketplace view profile cta without url")}if(l==="marketplace_scaled_rate_seller"&&o!=null)return{type:"link",url:o};if(l==="marketplace_more_options"&&a.overflowMenuActions.length>0)return{popoverTrigger:function(b){return k.jsx(c("MWXLazyPopoverTrigger.react"),{align:u?"middle":"end",popoverProps:{ctaParser:function(b){return v(a,b)},menu:a.overflowMenuActions},popoverResource:c("JSResourceForInteraction")("MWLSMarketplacePopoverMenu.react").__setRef("useMWLSMarketplaceCtaParser"),children:b})},type:"popover"};if(l==="marketplace_report_buyer"||l==="marketplace_report_seller"){if(g!=null){var x={other_user_id:g,thread_id:j};bb57:switch(l){case"marketplace_report_buyer":c("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_buyer_error",extra_data:x}});break bb57;case"marketplace_report_seller":c("MpixEventFalcoEvent").log(function(){return{entity_type:"user",event:"msgr_blocked_report_seller_error",extra_data:x}});break bb57;default:}return{onPress:function(){l==="marketplace_report_buyer"?p({}):q({})},type:"action"}}c("FBLogger")("mp_messaging").mustfix("Haven't implemented report buyer/seller for threads with more than 1 person")}if(m.has(l))return{onPress:function(){return f(h)},type:"action"};if(l==="marketplace_label_chat")return{onPress:function(){return r({threadID:j},function(){return f(h)})},type:"action"};if(l==="marketplace_mark_as_paid")return{onPress:function(){return s({threadID:j},function(){return f(h)})},type:"action"};if(l==="marketplace_create_discount")return{onPress:function(){d("CometMarketplaceLogger").logClick("create_discount","messenger_thread_view");return t({},function(){return f(h)})},type:"action"};if(l==="marketplace_server_mutation"){n=b.actionContentBlob;var y="";if(n!=null){o=((w=JSON.parse(n))!=null?w:{}).marketplace_cta_type;typeof o==="string"?y=o:c("FBLogger")("mp_messaging").mustfix("blob marketplace_cta_type is not a valid string type")}return{onPress:function(){return e((i||(i=d("I64"))).of_string(j),y)},type:"action"}}return{type:"unimplemented"}},a[15]=f,a[16]=e,a[17]=u,a[18]=g,a[19]=t,a[20]=r,a[21]=s,a[22]=p,a[23]=q,a[24]=j,a[25]=v):v=a[25];b=v;return b}g.marketplaceCta=b;g.useMWLSMarketplaceCtaParser=a}),98);
__d("useMWLSInThreadBannerCtaParser",["react-compiler-runtime","useMWCMMemberRequestsCtaParser.react","useMWLSAdContextCtaParser","useMWLSMarketplaceCtaParser"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=d("react-compiler-runtime").c(4),b=d("useMWLSMarketplaceCtaParser").useMWLSMarketplaceCtaParser(),e=c("useMWLSAdContextCtaParser")(),f=c("useMWCMMemberRequestsCtaParser.react")(),g;a[0]!==e||a[1]!==f||a[2]!==b?(g=function(a,c){var g=c.ctaType;if(d("useMWLSMarketplaceCtaParser").marketplaceCta.has(g))return b(a,c);else if(g==="ads_context")return e(a,c);else if(g==="cm_thread_member_requests_view")return f(a,c);return{type:"unimplemented"}},a[0]=e,a[1]=f,a[2]=b,a[3]=g):g=a[3];return g}g["default"]=a}),98);
__d("MWLSInThreadBannerComponent.react",["GroupsCometChatsEngagementLogger","I64","MWChatInThreadBanner.react","ReQL","ReQLSuspense","react","react-compiler-runtime","useInThreadBannerWithCta","useMWLSEnsureAdContextExists","useMWLSEnsureInThreadBannerExists","useMWLSInThreadBannerCtaParser","useReStore","useSinglePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||d("react");function l(a){var b=d("react-compiler-runtime").c(4),e=a.banner,f=a.impressionRef;a=a.threadKey;e=d("useInThreadBannerWithCta").useInThreadBannerWithCta(e,a);a=c("useMWLSInThreadBannerCtaParser")();var g;b[0]!==e||b[1]!==a||b[2]!==f?(g=k.jsx(c("MWChatInThreadBanner.react"),{banner:e,ctaParser:a,impressionRef:f}),b[0]=e,b[1]=a,b[2]=f,b[3]=g):g=b[3];return g}function a(a){var b=d("react-compiler-runtime").c(13),e=a.threadKey;c("useMWLSEnsureInThreadBannerExists")();c("useMWLSEnsureAdContextExists")();var g=(h||(h=c("useReStore")))();b[0]!==g.tables.in_thread_banner||b[1]!==e?(a=function(){return d("ReQL").fromTableAscending(g.tables.in_thread_banner).getKeyRange(e)},b[0]=g.tables.in_thread_banner,b[1]=e,b[2]=a):a=b[2];var j;b[3]!==g||b[4]!==e?(j=[g,e],b[3]=g,b[4]=e,b[5]=j):j=b[5];var m=d("ReQLSuspense").useFirst(a,j,f.id+":56");a=m==null?void 0:m.cta1Type;j=m==null?void 0:m.cta2Type;var n;b[6]!==(m==null?void 0:m.bannerCtaType)||b[7]!==e?(n={onImpressionStart:function(){(m==null?void 0:m.bannerCtaType)==="cm_thread_member_requests_view"&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:{member_join_request_enabled:"1"},event:"request_to_join_banner",source:"request_to_join_activity_banner",surface:"thread_view",thread_id:(i||(i=d("I64"))).to_string(e)})}},b[6]=m==null?void 0:m.bannerCtaType,b[7]=e,b[8]=n):n=b[8];n=c("useSinglePartialViewImpression")(n);if(m==null||a==="proactive_warning_affirmative"||a==="proactive_warning_negative"||j==="proactive_warning_affirmative"||j==="proactive_warning_negative"||a==="ctx_whatsapp_redirect_banner"||j==="ctx_whatsapp_redirect_banner")return null;b[9]!==m||b[10]!==n||b[11]!==e?(a=k.jsx(l,{banner:m,impressionRef:n,threadKey:e}),b[9]=m,b[10]=n,b[11]=e,b[12]=a):a=b[12];return a}g["default"]=a}),98);
__d("getMWLocalStorageThreadsWithBannerDismissed",["FBLogger","WebStorage"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){try{var b;b=JSON.parse((b=(b=(h||(h=c("WebStorage"))).getLocalStorageForRead())==null?void 0:b.getItem(a))!=null?b:"{}")}catch(d){c("FBLogger")("armadillo").warn("Local storage value retrieval failed with error of "+String(d)+" when "+("retrieving value of "+a+" from web storage.")),b={}}return b}g.parseLocalStorageThreadsWithBannerDismissed=a}),98);
__d("useIsDualThreadInThreadBannerNotDismissed",["I64","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","getMWLocalStorageThreadsWithBannerDismissed","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(8),e=a.threadKey,f=d("MAWThreadCutover").useGetCutoverOpenThreadKey(e);f=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(f);if(b[0]!==f||b[1]!==e){var g=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_POSTCUTOVER_BANNER_ON_SECURE_THREAD_DISMISSED);g=f&&!Object.prototype.hasOwnProperty.call(g,(h||(h=d("I64"))).to_string(e));b[0]=f;b[1]=e;b[2]=g}else g=b[2];f=g;b[3]!==a?(g=d("LSThreadBitOffset").has(260,a),b[3]=a,b[4]=g):g=b[4];a=g;if(b[5]!==a||b[6]!==e){g=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);g=a&&!Object.prototype.hasOwnProperty.call(g,(h||(h=d("I64"))).to_string(e));b[5]=a;b[6]=e;b[7]=g}else g=b[7];a=g;return f||a}g["default"]=a}),98);
__d("MWChatTabInThreadBannerInner.react",["CometErrorBoundary.react","CometPlaceholder.react","CometQuickPromotionLoggerContext.react","CometRelay","LSMessagingThreadTypeUtil","MAWChatTabInThreadBanner.react","MWChatEncryptedBackupsQPLSource.enum","MWChatTabInThreadBannerInner_query.graphql","MWLSInThreadBannerComponent.react","cr:13469","cr:17333","react","react-compiler-runtime","useIsDualThreadInThreadBannerNotDismissed","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,g=d("react-compiler-runtime").c(17),i=a.query;a=a.thread;i=d("CometRelay").useFragment(h!==void 0?h:h=b("MWChatTabInThreadBannerInner_query.graphql"),i);var l=i==null||(e=i.viewer)==null||(e=e.eligible_promotions)==null||(e=e.nodes[0])==null||(e=e.comet_qp_sections)==null?void 0:e.renderer_strategy,m;g[0]===Symbol["for"]("react.memo_cache_sentinel")?(m={context_surface_id:8888,context_trigger:"chat_tab_open"},g[0]=m):m=g[0];m=c("useQuickPromotionFalcoEvent")(m);var n=c("useIsDualThreadInThreadBannerNotDismissed")(a);if(l!=null){var o;g[1]!==l?(o=j.jsx(d("CometRelay").MatchContainer,{match:l}),g[1]=l,g[2]=o):o=g[2];g[3]!==m||g[4]!==o?(l=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:m,children:o}),g[3]=m,g[4]=o,g[5]=l):l=g[5];return l}else if(n){g[6]!==a?(m=b("cr:17333")&&j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(b("cr:17333"),{source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:{capabilities:a.capabilities,capabilities2:a.capabilities2,capabilities3:a.capabilities3,capabilities4:a.capabilities4,capabilities5:a.capabilities5,threadKey:a.threadKey,threadType:a.threadType}})}),g[6]=a,g[7]=m):m=g[7];g[8]!==a?(o=b("cr:13469")&&j.jsx(c("CometPlaceholder.react"),{fallback:null,name:f.id,children:j.jsx(b("cr:13469"),{source:c("MWChatEncryptedBackupsQPLSource.enum").CHAT_TAB_QP,thread:a})}),g[8]=a,g[9]=o):o=g[9];g[10]!==m||g[11]!==o?(l=j.jsxs(j.Fragment,{children:[m,o]}),g[10]=m,g[11]=o,g[12]=l):l=g[12];return l}else if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType)){g[13]!==i?(n=j.jsx(c("MAWChatTabInThreadBanner.react"),{query:i}),g[13]=i,g[14]=n):n=g[14];return n}else if(d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType))return null;else{g[15]!==a.threadKey?(m=j.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner",children:j.jsx(c("CometErrorBoundary.react"),{fallback:k,children:j.jsx(c("MWLSInThreadBannerComponent.react"),{threadKey:a.threadKey})})}),g[15]=a.threadKey,g[16]=m):m=g[16];return m}}function k(){return null}g["default"]=a}),98);
__d("MWChatTabInThreadBannerQuery.graphql",["MWChatTabInThreadBannerQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatTabInThreadBanner.react",["MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerQuery.graphql","RelayHooks","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3),f=a.mwChatTabInThreadBannerQueryRef;a=a.thread;f=d("RelayHooks").usePreloadedQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerQuery.graphql"),f);var g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="24323470597342398"}),null);
__d("MWChatTabInThreadBannerLazyLoadedQuery.graphql",["MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation","MWEBNewUserOnboardingShouldLoadUpsells.relayprovider"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{args:null,kind:"FragmentSpread",name:"MWChatTabInThreadBannerInner_query"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider"}],kind:"Operation",name:"MWChatTabInThreadBannerLazyLoadedQuery",selections:[{alias:null,args:null,concreteType:"XFBEncryptedBackup",kind:"LinkedField",name:"xfb_backup",plural:!1,selections:[a,c],storageKey:null},{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"backup_state",storageKey:null}]},{condition:"__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider",kind:"Condition",passingValue:!0,selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"if_viewer_can_see_messenger_eb_new_user_onboarding_upsells",plural:!1,selections:[{args:null,documentName:"MWEBChatTabBannerNux_query",fragmentName:"MWEBNewUserOnboardingChatTabQP_viewer",fragmentPropName:"viewer",kind:"ModuleImport"}],storageKey:null}]},{alias:null,args:[{kind:"Literal",name:"surface_nux_id",value:8888},{kind:"Literal",name:"trigger",value:"CHAT_TAB_OPEN"}],concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"0"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[a],storageKey:'renderer_strategy(supported:"0")'}],storageKey:null},c],storageKey:null}],storageKey:'eligible_promotions(surface_nux_id:8888,trigger:"CHAT_TAB_OPEN")'}],storageKey:null}]},params:{id:b("MWChatTabInThreadBannerLazyLoadedQuery_facebookRelayOperation"),metadata:{},name:"MWChatTabInThreadBannerLazyLoadedQuery",operationKind:"query",text:null,providedVariables:{__relay_internal__pv__MWEBNewUserOnboardingShouldLoadUpsellsrelayprovider:b("MWEBNewUserOnboardingShouldLoadUpsells.relayprovider")}}}}();e.exports=a}),null);
__d("MWChatTabInThreadBannerLazyLoaded.react",["CometRelay","MWChatTabInThreadBannerInner.react","MWChatTabInThreadBannerLazyLoadedQuery.graphql","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=d("react-compiler-runtime").c(3);a=a.thread;var f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatTabInThreadBannerLazyLoadedQuery.graphql"),{},{fetchPolicy:"store-or-network"}),g;e[0]!==f||e[1]!==a?(g=j.jsx(c("MWChatTabInThreadBannerInner.react"),{query:f,thread:a}),e[0]=f,e[1]=a,e[2]=g):g=e[2];return g}g["default"]=a}),98);
__d("MWChatTabLSDependencies",["LSCompleteThreadCutover","LSDynamicDependencies","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(a,b,c,d,e,f,g){"use strict";function a(){d("LSDynamicDependencies").addToCachedModules({completeThreadCutover:c("LSCompleteThreadCutover"),mailboxTaskCompletionApiOnTaskCompletion:c("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:c("LSReceiveMarkThreadReadNative"),syncBumpThreadDataToClient:c("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:c("LSUpdateCommunityThreadStaleState"),updateParentFolderReadWatermark:c("LSUpdateParentFolderReadWatermark"),updateThreadNullState:c("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:c("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:c("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:c("LSWriteCTAIdToThreadsTable")})}g.init=a}),98);
__d("MWChatUnsendNUX.react",["cr:2884","cr:4186","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var c=d("react-compiler-runtime").c(5);a=a.senderUnsendNUXEnabled;var e;c[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=b("cr:2884")==null?null:i.jsx(b("cr:2884"),{}),c[0]=e):e=c[0];var f;c[1]!==a?(f=b("cr:4186")!=null&&a?i.jsx(b("cr:4186"),{}):null,c[1]=a,c[2]=f):f=c[2];c[3]!==f?(a=i.jsxs(i.Fragment,{children:[e,f]}),c[3]=f,c[4]=a):a=c[4];return a}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiverBanner.react",["fbt","FDSButton.react","FDSSkittleIcon.react","FDSUndoFilled16Icon","JSResourceForInteraction","MDSRow.react","MDSRowItem.react","MWXText.react","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=c("JSResourceForInteraction")("MWChatUnsendNUXInterstitialDialog.react").__setRef("MWChatUnsendNUXReceiverBanner.react"),l={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(19),e=a.onDismiss,f=a.onView;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"A reminder about unsent messages"),b[0]=a):a=b[0];a=a;var g;b[1]===Symbol["for"]("react.memo_cache_sentinel")?(g=h._(/*BTDS*/"Unsending messages gives people more control over the messages they've sent. They can still be included in reports."),b[1]=g):g=b[1];g=g;var i;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(i={},b[2]=i):i=b[2];var n=i;i=c("useMWXLazyDialog")(k);var o=i[0];b[3]!==o?(i=function(){return o(n,m)},b[3]=o,b[4]=i):i=b[4];var p=i;b[5]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},b[5]=i):i=b[5];var q;b[6]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsx(c("MDSRowItem.react"),{xstyle:l.imageRow,children:j.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:c("FDSUndoFilled16Icon"),size:36})}),b[6]=q):q=b[6];b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:a})})}),b[7]=a):a=b[7];b[8]===Symbol["for"]("react.memo_cache_sentinel")?(q=j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:12,children:[q,j.jsxs(c("MDSRowItem.react"),{expanding:!0,children:[a,j.jsx(c("MDSRow.react"),{paddingHorizontal:0,paddingTop:8,children:j.jsx(c("MDSRowItem.react"),{children:j.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:g})})})]})]}),b[8]=q):q=b[8];b[9]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"Learn more"),b[9]=a):a=b[9];b[10]!==p||b[11]!==f?(g=j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("FDSButton.react"),{label:a,onPress:function(){p();return f()},type:"secondary"})}),b[10]=p,b[11]=f,b[12]=g):g=b[12];b[13]===Symbol["for"]("react.memo_cache_sentinel")?(a=h._(/*BTDS*/"OK"),b[13]=a):a=b[13];b[14]!==e?(a=j.jsx(c("MDSRowItem.react"),{xstyle:l.button,children:j.jsx(c("FDSButton.react"),{label:a,onPress:e,type:"secondary"})}),b[14]=e,b[15]=a):a=b[15];b[16]!==g||b[17]!==a?(e=j.jsxs("div",babelHelpers["extends"]({},i,{children:[q,j.jsxs(c("MDSRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:[g,a]})]})),b[16]=g,b[17]=a,b[18]=e):e=b[18];return e}function m(){}g["default"]=a}),226);
__d("isMessageUnsentInLastTenSeconds",["I64"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){return Date.now()-(h||(h=d("I64"))).to_float((a=a.unsentTimestampMs)!=null?a:(h||(h=d("I64"))).zero)<=1e4}g["default"]=a}),98);
__d("useMessengerUnsendNUXQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="9581169425252316"}),null);
__d("useMessengerUnsendNUXQuery.graphql",["useMessengerUnsendNUXQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"id"}],c=[{kind:"Variable",name:"nux_id",variableName:"id"}],d={alias:null,args:null,kind:"ScalarField",name:"should_show",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[d],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useMessengerUnsendNUXQuery",selections:[{alias:null,args:c,concreteType:null,kind:"LinkedField",name:"nux",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},d,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]},params:{id:b("useMessengerUnsendNUXQuery_facebookRelayOperation"),metadata:{},name:"useMessengerUnsendNUXQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("useMessengerUnsendNUX",["CometDismissFBNuxMutation","CometLogImpressionFBNuxMutation","CometRelay","RelayHooks","promiseDone","react","react-compiler-runtime","useMessengerUnsendNUXQuery.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h,i;(i||d("react")).useCallback;var j=h!==void 0?h:h=b("useMessengerUnsendNUXQuery.graphql");function a(a){var b=d("react-compiler-runtime").c(13),e=d("RelayHooks").useRelayEnvironment(),f;b[0]!==e||b[1]!==a?(f=function(b){c("promiseDone")(d("CometRelay").fetchQuery(e,j,{id:a}).toPromise(),function(a){var c;a=(a=a==null||(c=a.nux)==null?void 0:c.should_show)!=null?a:!1;b(a)},null)},b[0]=e,b[1]=a,b[2]=f):f=b[2];f=f;var g;b[3]!==e||b[4]!==a?(g=function(){d("CometDismissFBNuxMutation").commit(e,a)},b[3]=e,b[4]=a,b[5]=g):g=b[5];g=g;var h;b[6]!==e||b[7]!==a?(h=function(){d("CometLogImpressionFBNuxMutation").commit(e,a)},b[6]=e,b[7]=a,b[8]=h):h=b[8];h=h;var i;b[9]!==h||b[10]!==g||b[11]!==f?(i=[f,g,h],b[9]=h,b[10]=g,b[11]=f,b[12]=i):i=b[12];return i}g["default"]=a}),98);
__d("MWChatUnsendNUXReceiver.react",["I64","Int64Hooks","LSMessagingThreadTypeUtil","MWChatUnsendNUXReceiverBanner.react","MWLSThread","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useRef,m=b.useState;function a(){var a=d("react-compiler-runtime").c(16),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=d("MWLSThread").useThread(e,n);f=f!=null&&d("LSMessagingThreadTypeUtil").isDiscoverableChannel(f);var g=(h||(h=c("useReStore")))(),j=m(!1),o=j[0],p=j[1],q=l(!1),r=l(!1),s=l();j=c("useMessengerUnsendNUX")(8568);var t=j[0],u=j[1],v=j[2];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(j=function(){var a=s.current;if(a!=null){a();s.current=void 0;return}},a[0]=j):j=a[0];var w=j;a[1]!==u?(j=function(){r.current=!0;u();w();return p(!1)},a[1]=u,a[2]=j):j=a[2];j=j;var x;a[3]!==o||a[4]!==t?(x=function(a){var b=!o&&!q.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){q.current=!0;return t(function(a){q.current=!1;if(a)return p(!0);else{w();r.current=!0;return}})}},a[3]=o,a[4]=t,a[5]=x):x=a[5];var y=x,z;a[6]!==b||a[7]!==o||a[8]!==g||a[9]!==v||a[10]!==y||a[11]!==e?(x=function(){if(r.current)return;s.current=d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(e).filter(function(a){if(a.isUnsent)return!(i||(i=d("I64"))).equal(a.senderId,b);else return!1}).subscribe(function(a,b){b.operation!=="delete"&&y(b.value)});return function(){w();if(o&&!r.current)return v()}},z=[g,b,o,v,y,e,w],a[6]=b,a[7]=o,a[8]=g,a[9]=v,a[10]=y,a[11]=e,a[12]=x,a[13]=z):(x=a[12],z=a[13]);d("Int64Hooks").useEffectInt64(x,z);if(o&&!f){a[14]!==j?(x=k.jsx(c("MWChatUnsendNUXReceiverBanner.react"),{onDismiss:j,onView:j}),a[14]=j,a[15]=x):x=a[15];return x}else return null}function n(a){return a.threadType}g["default"]=a}),98);
__d("MWChatUnsendNUXSender.react",["I64","MWPActor.react","MWThreadKey.react","ReQL","isMessageUnsentInLastTenSeconds","react","react-compiler-runtime","useMessengerUnsendNUX","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;b=j||d("react");b.useCallback;var k=b.useEffect,l=b.useRef;function a(){var a=d("react-compiler-runtime").c(11),b=d("MWPActor.react").useActor(),e=d("MWThreadKey.react").useMWThreadKeyMemoizedExn(),f=(h||(h=c("useReStore")))(),g=l(!1),j=l(!1),m=l(!1),n=l(),o=c("useMessengerUnsendNUX")(8598),p=o[0];a[0]===Symbol["for"]("react.memo_cache_sentinel")?(o=function(){var a=n.current;if(a!=null){a();n.current=void 0;return}},a[0]=o):o=a[0];var q=o;a[1]!==p?(o=function(a){var b=!g.current&&!j.current;if(b&&c("isMessageUnsentInLastTenSeconds")(a)){g.current=!0;return p(function(){g.current=!1,q(),m.current=!0})}},a[1]=p,a[2]=o):o=a[2];var r=o;a[3]!==b||a[4]!==r||a[5]!==f.tables.messages||a[6]!==e?(o=function(){n.current=d("ReQL").fromTableAscending(f.tables.messages).getKeyRange(e).filter(function(a){return a.isUnsent&&(i||(i=d("I64"))).equal(a.senderId,b)}).subscribe(function(a,b){b.operation!=="delete"&&r(b.value)});return q},a[3]=b,a[4]=r,a[5]=f.tables.messages,a[6]=e,a[7]=o):o=a[7];var s;a[8]!==r||a[9]!==e?(s=[e,r,q],a[8]=r,a[9]=e,a[10]=s):s=a[10];k(o,s);return null}g["default"]=a}),98);
__d("MWChatXACSunsettingBanner.react",["fbt","ix","MWXButton.react","MWXImage.react","MWXRow.react","MWXRowItem.react","MWXText.react","goURIOnWindow","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k=j||d("react"),l="https://www.facebook.com/help/messenger-app/619453488713104?ref=learn_more",m={button:{flexBasis:"x1r8uery",flexGrow:"x1iyjqo2",$$css:!0},imageRow:{paddingTop:"x1nn3v0j",$$css:!0}};function a(){var a=d("react-compiler-runtime").c(7),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b=h._(/*BTDS*/"Cross-app messaging update"),a[0]=b):b=a[0];b=b;var e;a[1]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"After mid-December, you will no longer be able to chat with people on Instagram from a Facebook profile, so this chat will become read-only. Start a new chat on Instagram to continue the conversation."),a[1]=e):e=a[1];e=e;var f;a[2]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xcrg951 x7m3og9 x10l6tqk xh8yej3 x1vjfegm"},a[2]=f):f=a[2];var g;a[3]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsx(c("MWXRowItem.react"),{xstyle:m.imageRow,children:k.jsx(c("MWXImage.react"),{src:i("331359")})}),a[3]=g):g=a[3];a[4]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:0,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"primary",type:"headline4",children:b})})}),a[4]=b):b=a[4];a[5]===Symbol["for"]("react.memo_cache_sentinel")?(g=k.jsxs(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:12,children:[g,k.jsxs(c("MWXRowItem.react"),{expanding:!0,children:[b,k.jsx(c("MWXRow.react"),{paddingHorizontal:0,paddingTop:8,children:k.jsx(c("MWXRowItem.react"),{children:k.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:e})})})]})]}),a[5]=g):g=a[5];a[6]===Symbol["for"]("react.memo_cache_sentinel")?(b=k.jsxs("div",babelHelpers["extends"]({},f,{children:[g,k.jsx(c("MWXRow.react"),{paddingHorizontal:12,paddingTop:8,paddingVertical:12,wrap:"forward",children:k.jsx(c("MWXRowItem.react"),{xstyle:m.button,children:k.jsx(c("MWXButton.react"),{label:h._(/*BTDS*/"Learn more"),onPress:n,type:"primary"})})})]})),a[6]=b):b=a[6];return b}function n(){c("goURIOnWindow")(window.open("","_blank"),l)}g["default"]=a}),226);
__d("MWCommunityMessagingNUXQuickPromotionQuery$Parameters",["MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("MWCommunityMessagingNUXQuickPromotionQuery_facebookRelayOperation"),metadata:{},name:"MWCommunityMessagingNUXQuickPromotionQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint",["JSResourceForInteraction","MWCommunityMessagingNUXQuickPromotionQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){return{extraProps:{folderId:a.folderId,isFolderRoute:a.isFolderRoute},queries:{queryRef:{parameters:c("MWCommunityMessagingNUXQuickPromotionQuery$Parameters"),variables:{isFolderRoute:a.isFolderRoute}}}}},root:c("JSResourceForInteraction")("MWCommunityMessagingNUXQuickPromotion.react").__setRef("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint")};g["default"]=a}),98);
__d("MWCommunityMessagingNUXDialog.react",["I64","MWCommunityMessagingNUXQuickPromotionContainer.entrypoint","react","react-compiler-runtime","react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||d("react");function a(a){var e=d("react-compiler-runtime").c(10),f=a.folderId;a=a.isFolderRoute;var g;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(g=b("MWCommunityMessagingNUXQuickPromotionContainer.entrypoint"),e[0]=g):g=e[0];var h;e[1]!==f?(h=(i||(i=d("I64"))).to_string(f),e[1]=f,e[2]=h):h=e[2];a=a||!1;var k;e[3]!==f||e[4]!==h||e[5]!==a?(k={folderId:f,folderIDString:h,isFolderRoute:a},e[3]=f,e[4]=h,e[5]=a,e[6]=k):k=e[6];e[7]===Symbol["for"]("react.memo_cache_sentinel")?(f={},e[7]=f):f=e[7];e[8]!==k?(h=j.jsx(c("react-relay/relay-hooks/LazyLoadEntryPointContainer_DEPRECATED.react"),{entryPoint:g,entryPointParams:k,props:f}),e[8]=k,e[9]=h):h=e[9];return h}g["default"]=a}),98);
__d("MWContextBannerQuickActionsEditChatInfo.react",["MWXCircleButton.react","react","react-compiler-runtime","useMWCMEditChatInfoDialogEntrypoint"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.icon,f=a.label;a=a.threadKey;var g=c("useMWCMEditChatInfoDialogEntrypoint")(a);b[0]!==g?(a=function(){return g()},b[0]=g,b[1]=a):a=b[1];var h;b[2]!==e||b[3]!==f||b[4]!==a?(h=i.jsx(c("MWXCircleButton.react"),{icon:e,label:f,onPress:a,size:36}),b[2]=e,b[3]=f,b[4]=a,b[5]=h):h=b[5];return h}g["default"]=a}),98);
__d("MWCopyLinkPublicChatQuickAction.react",["fbt","MWPBumpEntityKey","MWVerticalRhythm","MWXCircleButton.react","MWXIconLink","MWXText.react","cometPushToast","react","react-compiler-runtime","useCopyText"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));i.useCallback;var k=h._(/*BTDS*/"Copy link"),l=h._(/*BTDS*/"Link copied");function a(a){var b=d("react-compiler-runtime").c(11);a=a.threadInviteLink;var e;b[0]!==a?(e={value:a},b[0]=a,b[1]=e):e=b[1];a=c("useCopyText")(e);var f=a[2];b[2]!==f?(e=function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","copy_link"),f(),d("cometPushToast").cometPushSimpleToast(l)},b[2]=f,b[3]=e):e=b[3];a=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},b[4]=e):e=b[4];var g;b[5]!==a?(g=j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:k,onPress:a,size:36}),b[5]=a,b[6]=g):g=b[6];var h;b[7]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWVerticalRhythm"),{height:8}),h=j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k}),b[7]=a,b[8]=h):(a=b[7],h=b[8]);b[9]!==g?(e=j.jsxs("li",babelHelpers["extends"]({},e,{children:[g,a,h]})),b[9]=g,b[10]=e):e=b[10];return e}g["default"]=a}),226);
__d("MWEditThreadNameDialogTrigger.react",["JSResourceForInteraction","promiseDone","react","useMWXLazyDialog","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||(i=d("react"));var j=i.useRef,k=c("JSResourceForInteraction")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.react");function a(a){var b=a.children,d=a.threadKey;a=j(null);var e=(h||(h=c("useReStore")))(),f=c("useMWXLazyDialog")(k),g=f[0];f=function(){c("promiseDone")(e.tables.threads.get(d),function(a){if(a==null)return;g({thread:a})})};return b(f,a)}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWShareThreadQuickActionButton.react",["fbt","MWXCircleButton.react","MWXColumnItem.react","MWXIconShare","MWXText.react","MWXTooltip.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react"),k=h._(/*BTDS*/"Share");function a(a){var b=d("react-compiler-runtime").c(5);a=a.onPress;var e;b[0]!==a?(e=j.jsx(c("MWXColumnItem.react"),{children:j.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconShare"),label:k,onPress:a,size:36})}),b[0]=a,b[1]=e):e=b[1];b[2]===Symbol["for"]("react.memo_cache_sentinel")?(a=j.jsx(c("MWXColumnItem.react"),{paddingTop:8,children:j.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:k})}),b[2]=a):a=b[2];b[3]!==e?(a=j.jsxs(c("MWXTooltip.react"),{align:"middle",position:"above",tooltip:k,children:[e,a]}),b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),226);
__d("MWSharePublicChatQuickAction.react",["ChannelShareDialogLoggingContext","MWChannelInviteDialog.entrypoint","MWShareThreadQuickActionButton.react","react","react-compiler-runtime","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(5),e=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={},b[0]=a):a=b[0];a=c("useMWXEntryPointDialog")(c("MWChannelInviteDialog.entrypoint"),a);var f=a[0];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x6s0dn4 x78zum5 xdt5ytf x187xtus"},b[1]=a):a=b[1];b[2]!==f||b[3]!==e?(a=i.jsx("li",babelHelpers["extends"]({},a,{children:i.jsx(c("MWShareThreadQuickActionButton.react"),{onPress:function(){f({channelThread:e,loggingContext:c("ChannelShareDialogLoggingContext").CONTEXT_BANNER_QUICK_ACTION})}})})),b[2]=f,b[3]=e,b[4]=a):a=b[4];return a}g["default"]=a}),98);
__d("MWContextBannerQuickActions.react",["fbt","CommunityMessagingEnableState","I64","LSCommunityBitOffset","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWAddMemberToGroupCircleButton.react","MWCMBulkInviteDialog.entrypoint","MWCMShortLinkShare.react","MWCMThreadTypes.react","MWContextBannerQuickActionsEditChatInfo.react","MWCopyLinkPublicChatQuickAction.react","MWEditChannelDialogTrigger.react","MWEditThreadNameDialogTrigger.react","MWGroupLimitContainer.react","MWInboxInfoMembersSectionStorageKey","MWInboxPersistedUIState","MWLSGroupMembershipDialog.entrypoint","MWPBumpEntityKey","MWSharePublicChatQuickAction.react","MWVerticalRhythm","MWXCircleButton.react","MWXIconFriendGenericAdd","MWXIconGroup","MWXIconLink","MWXIconPencil","MWXText.react","MessengerWebUXLogger","WebUXLoggingSurfaceContextProvider","canMWAddMemberToGroupThread","emptyFunction","isFeatureLimitEnabled","justknobx","mwCMIsAnyCMThread","mwCMisStandAloneCommunity","promiseDone","react","react-compiler-runtime","useCommunityFolder","useCommunityMembers","useIsReadOnlyFeatureLimitedWithThreadType","useMWXEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react"));b=i;var m=b.useMemo,n=b.useRef,o=h._(/*BTDS*/"Invite"),p=h._(/*BTDS*/"Edit");function q(a){var b=a.thread;a=n(null);var e=c("useCommunityFolder")(b),f=c("mwCMIsAnyCMThread")(b.threadType),g=c("mwCMisStandAloneCommunity")(e==null?void 0:e.communityType),i=d("MWCMThreadTypes.react").isBroadcastThread(b.threadType),q=d("LSMessagingThreadTypeUtil").isDiscoverableChannel(b.threadType),r=d("LSMessagingThreadTypeUtil").isArmadilloSecure(b.threadType);r=c("useIsReadOnlyFeatureLimitedWithThreadType")(b.threadType)&&(!r||c("isFeatureLimitEnabled")());var s=d("useCommunityMembers").useClearMemberList(),t=m(function(){if(e!=null&&f)return[e.enableState,d("LSThreadBitOffset").has(120,b),d("LSCommunityBitOffset").has(17,e),e.fbGroupId];else return[void 0,!1,!1,(j||(j=d("I64"))).zero]},[f,e,b]),u=t[0],v=t[1];t=t[2];u=f&&(j||(j=d("I64"))).equal(u!=null?u:(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").ENABLED),(k||(k=d("LSIntEnum"))).ofNumber(c("CommunityMessagingEnableState").DISABLE_REQUESTED));var w=d("MWInboxPersistedUIState").usePersistedUIState(!1,d("MWInboxInfoMembersSectionStorageKey").storageKey),x=w[0];w=c("useMWXEntryPointDialog")(c("MWCMBulkInviteDialog.entrypoint"),{});var y=w[0];w=c("useMWXEntryPointDialog")(c("MWLSGroupMembershipDialog.entrypoint"),{groupID:(j||(j=d("I64"))).to_string((w=e==null?void 0:e.fbGroupId)!=null?w:(j||(j=d("I64"))).zero)});var z=w[0];w=m(function(){return[f?h._(/*BTDS*/"Copy link"):h._(/*BTDS*/"Add"),f?h._(/*BTDS*/"Info"):h._(/*BTDS*/"Name"),e!=null&&i?h._(/*BTDS*/"Contributors"):h._(/*BTDS*/"Members")]},[i,f,e]);var A=w[0],B=w[1];w=w[2];var C=d("LSThreadBitOffset").has(60,b)&&!d("MWCMThreadTypes.react").isMarketplaceThread(b.threadSubtype),D=d("LSThreadBitOffset").has(81,b);r=c("canMWAddMemberToGroupThread")(b,r)&&!d("MWCMThreadTypes.react").isMarketplaceThread(b.threadSubtype);var E=d("LSThreadBitOffset").has(26,b),F=d("LSThreadBitOffset").has(108,b),G=C&&D,H=c("MessengerWebUXLogger").useInteractionLogger();return l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsxs("ul",{className:"x6s0dn4 x78zum5 xl56j7k xsag5q8 x1y1aw1k",children:[f&&!u?v?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconFriendGenericAdd"),label:o,onPress:function(){d("MWPBumpEntityKey").bumpEntityKeyWithAppId("mw.infobar","quick_actions_direct_invite");return y({fbThreadId:(j||(j=d("I64"))).to_string(b.threadKey),parentSurface:"thread_view",source:"invite_button",surface:"thread_view"},c("emptyFunction"))},size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:o})]}):l.jsx(c("MWCMShortLinkShare.react"),{thread:b,children:function(a,b){return l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconLink"),label:A,onPress:b,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}}):null,!f&&q&&F&&(j||(j=d("I64"))).equal(b.threadInvitesEnabledV2,(k||(k=d("LSIntEnum"))).ofNumber(1))?l.jsxs(l.Fragment,{children:[b.threadInviteLink!=null&&l.jsx(c("MWSharePublicChatQuickAction.react"),{thread:b}),b.threadInviteLink!=null&&l.jsx(c("MWCopyLinkPublicChatQuickAction.react"),{threadInviteLink:b.threadInviteLink})]}):null,!f&&r?l.jsx(c("MWGroupLimitContainer.react"),{groupLimitReachedContent:null,thread:b,children:l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWAddMemberToGroupCircleButton.react"),{label:A,threadKey:b.threadKey,threadType:b.threadType}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:A})]})}):null,q&&G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditChannelDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,b){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:p,onPress:function(){return a()},ref:b,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):null,!f&&C&&!G?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWEditThreadNameDialogTrigger.react"),{threadKey:b.threadKey,children:function(a,d){return l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconPencil"),label:B,onPress:function(){a(),H==null||H({eventName:"open_edit_thread_name_dialog",threadKey:b.threadKey,threadType:b.threadType})},ref:d,size:36})}}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:B})]}):null,f&&D&&!u&&t&&!g?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWContextBannerQuickActionsEditChatInfo.react"),{icon:c("MWXIconPencil"),label:p,threadKey:b.threadKey}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:p})]}):c("justknobx")._("1116")?null:E?l.jsxs("li",{className:"x6s0dn4 x78zum5 xdt5ytf x187xtus",children:[l.jsx(c("MWXCircleButton.react"),{icon:c("MWXIconGroup"),label:w,onPress:function(){return z({folder:e},function(){f&&!x&&c("promiseDone")(s())})},ref:a,size:36}),l.jsx(c("MWVerticalRhythm"),{height:8}),l.jsx(c("MWXText.react"),{align:"center",color:"primary",numberOfLines:1,type:"body4",children:w})]}):null]})})}q.displayName=q.name+" [from "+f.id+"]";function a(a){var b=d("react-compiler-runtime").c(2),c;b[0]!==a?(c=l.jsx(d("WebUXLoggingSurfaceContextProvider").WebUXLoggingSurfaceContextProvider,{value:"thread_context_banner",children:l.jsx(q,babelHelpers["extends"]({},a))}),b[0]=a,b[1]=c):c=b[1];return c}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBanner.react",["fbt","MAWEncryptedBackupsRestoreDialog.entrypoint","MWChatEncryptedBackupsQPLEvents","MWChatEncryptedBackupsQPLSource.enum","MWEncryptedBackupsRetrieveQplLoggingAnnotations","MWXLink.react","MWXText.react","QPLUserFlow","promiseDone","react","react-compiler-runtime","requireDeferred","useLabyrinthLogging","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react")),l=j.useRef,m=c("requireDeferred")("mwEBCheckIfEBKeysExistInDisk").__setRef("MWEBRestoreInThreadScrollPersistentBanner.react");function a(){var a=d("react-compiler-runtime").c(17),b;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(b={},a[0]=b):b=a[0];b=c("useMWXEntryPointDialog")(c("MAWEncryptedBackupsRestoreDialog.entrypoint"),b);var e=b[0];b=d("useLabyrinthLogging").useLabyrinthLoggingFlow();var f=b.startFlow,g=(i||(i=c("useReStore")))(),j=l(!1),n=c("MWChatEncryptedBackupsQPLSource.enum").IN_THREAD_SCROLL_PERSISTENT_BANNER;a[1]!==g||a[2]!==f?(b=function(a){d("MWEncryptedBackupsRetrieveQplLoggingAnnotations").encryptedBackupsRetrieveQplLoggingAnnotations({db:g,onFetch:function(b){var e=b.ebsmWiped,g=b.firstUpsellTime,h=b.hasEbKeysLocally,i=b.hasEBSM,k=b.hasPDB,l=b.hasUserRestoredBefore;b=b.hasUserRestoredBeforeTemp;f({additionalAnnotations:{eb_session_identifier:g,ebsm_wiped:e,has_eb_keys_locally:h,has_ebsm:i,has_pdb:k,has_user_restored_before:l,has_user_restored_before_temp:b,restore_upsell_first_impression_time:g},event:d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,source:n});c("QPLUserFlow").addPoint(d("MWChatEncryptedBackupsQPLEvents").restoreQplEvent,a);j.current===!1&&(j.current=!0,c("promiseDone")(m.load(),function(a){return a(h)}))}})},a[1]=g,a[2]=f,a[3]=b):b=a[3];var o=b;a[4]!==o?(b={onVisible:function(){o("RESTORE_IN_THREAD_PERSISTENT_BANNER_IMPRESSION")}},a[4]=o,a[5]=b):b=a[5];b=c("useVisibilityObserver")(b);var p;a[6]===Symbol["for"]("react.memo_cache_sentinel")?(p={className:"xfpmyvw x80vd3b x1q0q8m5 xso031l xt0psk2 x1o1nzlu x10b6aqq x889kno x10l6tqk xh8yej3 x1vjfegm"},a[6]=p):p=a[6];var q;a[7]===Symbol["for"]("react.memo_cache_sentinel")?(q=h._(/*BTDS*/"Messages are missing."),a[7]=q):q=a[7];var r;a[8]!==e||a[9]!==o?(r=function(){o("RESTORE_IN_THREAD_PERSISTENT_BANNER_CTA_CLICKED"),e({source:n})},a[8]=e,a[9]=o,a[10]=r):r=a[10];var s;a[11]===Symbol["for"]("react.memo_cache_sentinel")?(s=k.jsx("div",{style:{color:"var(--mwp-header-button-color)",display:"inline"},children:h._(/*BTDS*/"Restore now")}),a[11]=s):s=a[11];a[12]!==r?(q=k.jsxs(c("MWXText.react"),{align:"center",color:"secondary",numberOfLines:2,type:"meta4",children:[q," ",k.jsx(c("MWXText.react"),{color:"blueLink",type:"bodyLink4",children:k.jsx(c("MWXLink.react"),{onClick:r,target:"_blank",testid:void 0,weight_DEPRECATED:"semibold",children:s})})]}),a[12]=r,a[13]=q):q=a[13];a[14]!==b||a[15]!==q?(s=k.jsx("div",babelHelpers["extends"]({},p,{ref:b,children:q})),a[14]=b,a[15]=q,a[16]=s):s=a[16];return s}g["default"]=a}),226);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapper.react",["MWEBEntrypointsKillswitch.enum","MWEBRestoreInThreadScrollPersistentBanner.react","react","react-compiler-runtime","useCometRouterState","useMWEBBackupState","useMWEBGetUpsellState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(){var a=d("react-compiler-runtime").c(2),b=c("useCometRouterState")();b=b==null?void 0:b.main.route.tabKey;var e;a[0]===Symbol["for"]("react.memo_cache_sentinel")?(e={entrypoint:c("MWEBEntrypointsKillswitch.enum").IN_THREAD_SCROLL_BANNER},a[0]=e):e=a[0];e=c("useMWEBBackupState")(e);var f=c("useMWEBGetUpsellState")();f=f.isRestoreUpsellsDismissed;if(b!=="messenger"&&e===4&&f===!1){a[1]===Symbol["for"]("react.memo_cache_sentinel")?(b=i.jsx(c("MWEBRestoreInThreadScrollPersistentBanner.react"),{}),a[1]=b):b=a[1];return b}return null}g["default"]=a}),98);
__d("MWEBRestoreInThreadScrollPersistentBannerWrapperWithEBCheck.react",["cr:9932"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:9932")}),98);
__d("MWFDSChevronDown.svg.react",["cr:21600"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21600")}),98);
__d("MWFDSFriendGenericAdd.svg.react",["cr:21665"],(function(a,b,c,d,e,f,g){"use strict";g["default"]=b("cr:21665")}),98);
__d("MWFullThreadProvider.react",["ReQL","ReQLSuspense","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i;i||d("react");function a(a){var b=d("react-compiler-runtime").c(9),e=a.children,g=a.threadKey,i=(h||(h=c("useReStore")))();b[0]!==i.tables.threads||b[1]!==g?(a=function(){return d("ReQL").fromTableAscending(i.tables.threads).getKeyRange(g)},b[0]=i.tables.threads,b[1]=g,b[2]=a):a=b[2];var j;b[3]!==i||b[4]!==g?(j=[i,g],b[3]=i,b[4]=g,b[5]=j):j=b[5];a=d("ReQLSuspense").useFirst(a,j,f.id+":25");if(a==null)return;b[6]!==e||b[7]!==a?(j=e(a),b[6]=e,b[7]=a,b[8]=j):j=b[8];return j}g["default"]=a}),98);
__d("MWXIconChevronDown",["MWXSvgIcon","SVGIcon","cr:22264","gkx"],(function(a,b,c,d,e,f,g){"use strict";a=d("MWXSvgIcon").mwxSvgIcon(d("SVGIcon").svgIcon(b("cr:22264")),c("gkx")("23219"));g["default"]=a}),98);
__d("useMAWFetchSecureMessageByPinnedExternalId",["MAWStateContext.react","MWEBEntrypointsKillswitch.enum","ReQL","ReQLSuspense","fetchSecureMissingMessage","promiseDone","react","react-compiler-runtime","useMWEBBackupState","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useContext;function a(a){var b=d("react-compiler-runtime").c(9),e=(h||(h=c("useReStore")))(),g=j(d("MAWStateContext.react").MAWDispatchContext),i;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(i={entrypoint:c("MWEBEntrypointsKillswitch.enum").PINNED_MESSAGES},b[0]=i):i=b[0];i=c("useMWEBBackupState")(i);var m=i===3,n;b[1]!==e||b[2]!==g||b[3]!==m||b[4]!==a?(i=function(){return d("ReQL").fromTableDescending(e.tables.client_web_pinned_messages.index("pinnedMessageDisplayOrder")).getKeyRange(a).map(function(b){b=b.offlineThreadingId;var h=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("optimistic")).getKeyRange(b),f.id+":51");h==null&&c("promiseDone")(c("fetchSecureMissingMessage")(e,a,b,m,g,"MAWFetchPinnedMessage"));return{message:h,pinnedOfflineThreadingId:b}})},n=[e,a,m,g],b[1]=e,b[2]=g,b[3]=m,b[4]=a,b[5]=i,b[6]=n):(i=b[5],n=b[6]);i=d("ReQLSuspense").useArray(i,n,f.id+":41");b[7]!==i?(n=i.map(l).filter(k),b[7]=i,b[8]=n):n=b[8];return n}function k(a){return!(a!=null&&a.isUnsent)}function l(a){return a.message}g["default"]=a}),98);
__d("useMWFetchMessageByPinnedMessageId",["LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","fetchOpenMissingMessage","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(22),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.threads||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.threads,["threadType"]).getKeyRange(a)},b[0]=e.tables.threads,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":34");j=d("MAWThreadCutover").useGetCutoverOpenThreadKey(a);var k=j!=null,l=j!=null?j:a;j=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(j);var m;b[6]!==g?(m=g!=null&&d("LSMessagingThreadTypeUtil").isArmadilloSecure(g.threadType),b[6]=g,b[7]=m):m=b[7];g=m;var n=g&&(!k||j);b[8]!==e.tables.threads||b[9]!==l?(m=function(){return d("ReQL").fromTableDescending(e.tables.threads,["threadKey","threadType","syncGroup"]).getKeyRange(l)},b[8]=e.tables.threads,b[9]=l,b[10]=m):m=b[10];b[11]!==e||b[12]!==l?(g=[e,l],b[11]=e,b[12]=l,b[13]=g):g=b[13];var o=d("ReQLSuspense").useFirst(m,g,f.id+":54");b[14]!==e||b[15]!==n||b[16]!==l||b[17]!==o?(k=function(){return n?d("ReQL").empty():d("ReQL").fromTableDescending(e.tables.msg_pinned_messages_v2.index("pinnedMessageDisplayOrder")).getKeyRange(l).map(function(a){a=a.messageId;var b=d("ReQLSuspense").first(d("ReQL").fromTableDescending(e.tables.messages.index("messageId")).getKeyRange(a),f.id+":73");o!=null&&b==null&&c("promiseDone")(c("fetchOpenMissingMessage")(e,o,a));return{message:b,pinnedMessageId:a}})},j=[e,l,n,o],b[14]=e,b[15]=n,b[16]=l,b[17]=o,b[18]=k,b[19]=j):(k=b[18],j=b[19]);m=d("ReQLSuspense").useArray(k,j,f.id+":64");b[20]!==m?(g=m.map(i).filter(Boolean),b[20]=m,b[21]=g):g=b[21];return g}function i(a){return a.message}g["default"]=a}),98);
__d("useMWJumpToMessageWrapper",["useMWJumpToMessage"],(function(a,b,c,d,e,f,g){"use strict";function a(a){return c("useMWJumpToMessage")(a.source)}g["default"]=a}),98);
__d("MWInboxPinnedMessagesBanner.react",["fbt","BaseMiddot.react","CometErrorBoundary.react","CometPageletWithDiv.react","FBLogger","I64","JSResourceForInteraction","LSIntEnum","LSMessagingThreadTypeUtil","MWBlockedTombstoneMessage.react","MWBroadcastChannelLoggingShapes","MWGroupBlockingProtectionUtils","MWLSThreadDisplayContext","MWLogBroadcastChannelFalcoEvent","MWPActor.react","MWUnvaultedText","MWXColumn.react","MWXColumnItem.react","MWXIconChevronDown","MWXIconForListCell.react","MWXIconPushpin","MWXIconStrict.react","MWXPressable.react","MWXRow.react","MWXRowItem.react","MWXText.react","ReQL","ReQLSuspense","isMWBumpMessage","justknobx","react","react-compiler-runtime","useGetOriginalMsgFromBumpMsg","useMAWFetchSecureMessageByPinnedExternalId","useMWFetchMessageByPinnedMessageId","useMWJumpToMessageWrapper","useMWXLazyDialog","useReStore","useStringWithSubstitutions"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=j||(j=d("react")),n=j.useMemo,o={pinnedMessagesWrapper:{alignItems:"x6s0dn4",display:"x78zum5",$$css:!0},pinnedMessagesWrapperChatTabs:{borderBottomColor:"x80vd3b",borderBottomStyle:"x1q0q8m5",borderBottomWidth:"xso031l",$$css:!0},pinnedMessagesWrapperInbox:{borderTopColor:"x1pdss0j",borderTopStyle:"x13fuv20",borderTopWidth:"x178xt8z",$$css:!0},row:{height:"x10wjd1d",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",$$css:!0},rowText:{height:"xlup9mm",$$css:!0}},p=c("JSResourceForInteraction")("MWPinnedMessagesDialog.react").__setRef("MWInboxPinnedMessagesBanner.react");function q(a,b,e){var f=a==null?void 0:a.text,g=b&&a!=null?(k||(k=d("I64"))).equal(e,a.threadKey):!1;b=n(function(){var b,c;return new Set(g?(b=a==null||(c=a.mentionIds)==null||c.split==null?void 0:c.split(","))!=null?b:[]:[])},[g,a==null?void 0:a.mentionIds]);f=d("MWUnvaultedText").getMWUnvaultedText(g,f);b=(b=(b=d("useStringWithSubstitutions").useStringWithMentionSubstitutionsAndUpdatedRanges(f,[],b,e))==null?void 0:b.textWithSubstitutions)!=null?b:f;e=(e=d("useStringWithSubstitutions").useStringWithSubstitutions(f,e))!=null?e:f;f=c("isMWBumpMessage")(a==null?void 0:a.replyType);return f?e:b}function r(a){if(a==null)return"";if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(2)))return h._(/*BTDS*/"Media");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4)))return h._(/*BTDS*/"Audio");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(4096))||(k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(134217728)))return h._(/*BTDS*/"Sticker");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(16384)))return h._(/*BTDS*/"GIF");else if((k||(k=d("I64"))).equal(a.displayedContentTypes,(l||(l=d("LSIntEnum"))).ofNumber(64)))return h._(/*BTDS*/"File");return h._(/*BTDS*/"Attachment")}function s(a){c("FBLogger")("messenger_web_pinned_messages").catching(a).mustfix("uncaught exception in MWInboxPinnedMessagesBanner.react. Error:%s",a.message)}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{fallback:t,onError:s,children:m.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPinnedMessagesBanner",children:m.jsx(u,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}function t(){return null}function u(a){var b=d("react-compiler-runtime").c(66),e=a.thread;a=c("useMWXLazyDialog")(p);var g=a[0],j=(i||(i=c("useReStore")))();a=c("useMWFetchMessageByPinnedMessageId")(e.threadKey);var l=c("useMAWFetchSecureMessageByPinnedExternalId")(e.threadKey);if(b[0]!==a||b[1]!==l){var n=l.concat(a),s=[];n=n.reduce(v,s);b[0]=a;b[1]=l;b[2]=n}else n=b[2];var t=n;s=d("MWPActor.react").useActor();b[3]===Symbol["for"]("react.memo_cache_sentinel")?(a={source:"Pinned"},b[3]=a):a=b[3];var u=c("useMWJumpToMessageWrapper")(a),w=(t==null?void 0:t.length)>0?t[0]:null;b[4]!==j||b[5]!==w?(l=function(){return(w==null?void 0:w.senderId)!=null?d("ReQL").fromTableAscending(j.tables.contacts).getKeyRange(w.senderId):d("ReQL").empty()},b[4]=j,b[5]=w,b[6]=l):l=b[6];n=w==null?void 0:w.senderId;b[7]!==j||b[8]!==n?(a=[n,j],b[7]=j,b[8]=n,b[9]=a):a=b[9];n=d("ReQLSuspense").useFirst(l,a,f.id+":248");b[10]!==j||b[11]!==w||b[12]!==e.threadKey?(l=function(){return(w==null?void 0:w.senderId)!=null?d("ReQL").fromTableAscending(j.tables.participants).getKeyRange(e.threadKey,w.senderId):d("ReQL").empty()},b[10]=j,b[11]=w,b[12]=e.threadKey,b[13]=l):l=b[13];a=w==null?void 0:w.senderId;var x;b[14]!==j||b[15]!==a||b[16]!==e.threadKey?(x=[a,j,e.threadKey],b[14]=j,b[15]=a,b[16]=e.threadKey,b[17]=x):x=b[17];a=d("ReQLSuspense").useFirst(l,x,f.id+":258");b[18]!==e.threadType?(l=d("LSMessagingThreadTypeUtil").isArmadilloSecure(e.threadType),b[18]=e.threadType,b[19]=l):l=b[19];x=l;l=c("useGetOriginalMsgFromBumpMsg")(w==null?void 0:w.replyType,w==null?void 0:w.replySourceId,w==null?void 0:w.threadKey);l=l!=null?l:w;var y=d("MWGroupBlockingProtectionUtils").useMWIsMessageSentByBlockedContact(l==null?void 0:l.senderId,e.threadKey);x=q(l,x,e.threadKey);bb0:{if(c("justknobx")._("1501")&&y){b[20]===Symbol["for"]("react.memo_cache_sentinel")?(y=d("MWBlockedTombstoneMessage.react").HIDDEN_MESSAGE_LABEL.toString(),b[20]=y):y=b[20];y=y;break bb0}var z;b[21]!==l||b[22]!==x?(z=x!=null&&x!==""?x:r(l),b[21]=l,b[22]=x,b[23]=z):z=b[23];y=z}l=y;x=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext()==="Inbox";if(t.length===0)return null;b[24]!==e.threadKey||b[25]!==e.threadType?(z={eventName:"open_view_pinned_messages_dialog",threadKey:e.threadKey,threadType:e.threadType},b[24]=e.threadKey,b[25]=e.threadType,b[26]=z):z=b[26];y=z;b[27]!==e.threadType?(z=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(e.threadType),b[27]=e.threadType,b[28]=z):z=b[28];var A=z;if(b[29]!==s||b[30]!==w||b[31]!==(n==null?void 0:n.name)||b[32]!==(a==null?void 0:a.nickname)){z=(w==null?void 0:w.senderId)!=null&&(k||(k=d("I64"))).equal(s,w.senderId)?"You":(z=(z=a==null?void 0:a.nickname)!=null?z:n==null?void 0:n.name)!=null?z:"";b[29]=s;b[30]=w;b[31]=n==null?void 0:n.name;b[32]=a==null?void 0:a.nickname;b[33]=z}else z=b[33];s=z;b[34]!==A||b[35]!==l?(n=A?h._(/*BTDS*/"Pinned Messages Banner with last pinned message by broadcast channel admin: {lastPinnedMessage}",[h._param("lastPinnedMessage",l)]):h._(/*BTDS*/"Pinned Messages Banner with last pinned message: {lastPinnedMessage}",[h._param("lastPinnedMessage",l)]),b[34]=A,b[35]=l,b[36]=n):n=b[36];b[37]!==A||b[38]!==u||b[39]!==t[0]||b[40]!==t.length||b[41]!==g||b[42]!==e.threadKey?(a=function(){if(t.length===1){var a=t[0];a!=null&&a.messageId!=null&&a.timestampMs!=null&&u(a.messageId,a.timestampMs)}else g({threadKey:e.threadKey});A&&d("MWLogBroadcastChannelFalcoEvent").logBroadcastChannelFalcoEvent(babelHelpers["extends"]({},d("MWBroadcastChannelLoggingShapes").VIEW_PINNED_MESSAGES_FROM_THREAD_VIEW_BANNER,{clientExtras:{isDialogOpened:(t.length>1).toString()},threadFbid:e.threadKey}))},b[37]=A,b[38]=u,b[39]=t[0],b[40]=t.length,b[41]=g,b[42]=e.threadKey,b[43]=a):a=b[43];z=x?o.pinnedMessagesWrapperInbox:o.pinnedMessagesWrapperChatTabs;b[44]!==z?(x=[o.pinnedMessagesWrapper,z],b[44]=z,b[45]=x):x=b[45];b[46]===Symbol["for"]("react.memo_cache_sentinel")?(z=m.jsx(c("MWXRowItem.react"),{verticalAlign:"center",children:m.jsx(c("MWXIconForListCell.react"),{color:"secondary",icon:c("MWXIconPushpin"),size:"medium"})}),b[46]=z):z=b[46];var B;b[47]!==A||b[48]!==s?(B=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{color:"secondary",numberOfLines:1,type:"meta3",children:A?h._(/*BTDS*/"{channel_creator_name}{middot} Admin",[h._param("channel_creator_name",s),h._param("middot",m.jsx(c("BaseMiddot.react"),{}))]):h._(/*BTDS*/"{message_sender_name}",[h._param("message_sender_name",s)])})}),b[47]=A,b[48]=s,b[49]=B):B=b[49];b[50]!==l?(s=m.jsx(c("MWXColumnItem.react"),{verticalAlign:"center",xstyle:o.rowText,children:m.jsx(c("MWXText.react"),{numberOfLines:1,type:"bodyLink4",children:l})}),b[50]=l,b[51]=s):s=b[51];b[52]!==B||b[53]!==s?(l=m.jsx(c("MWXRowItem.react"),{expanding:!0,verticalAlign:"center",children:m.jsxs(c("MWXColumn.react"),{children:[B,s]})}),b[52]=B,b[53]=s,b[54]=l):l=b[54];b[55]!==t.length?(B=t.length>1&&m.jsx(c("MWXRowItem.react"),{children:m.jsx(c("MWXIconStrict.react"),{color:"secondary",icon:c("MWXIconChevronDown"),size:16})}),b[55]=t.length,b[56]=B):B=b[56];b[57]!==l||b[58]!==B?(s=m.jsxs(c("MWXRow.react"),{expanding:!0,paddingHorizontal:8,paddingVertical:0,verticalAlign:"center",xstyle:o.row,children:[z,l,B]}),b[57]=l,b[58]=B,b[59]=s):s=b[59];b[60]!==y||b[61]!==n||b[62]!==a||b[63]!==x||b[64]!==s?(z=m.jsx(c("MWXPressable.react"),{"aria-label":n,display:"inline",expanding:!0,loggingEvent:y,onPress:a,overlayDisabled:!0,overlayFocusRingPosition:"inset",testid:void 0,xstyle:x,children:s}),b[60]=y,b[61]=n,b[62]=a,b[63]=x,b[64]=s,b[65]=z):z=b[65];return z}function v(a,b){return b!=null?[].concat(a,[b]):a}g["default"]=a}),226);
__d("MWInboxPrecutoverOpenThreadBanner.react",["cr:7109","cr:7110","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||c("react");function a(a){var c=d("react-compiler-runtime").c(4);if(b("cr:7110")!=null){var e;c[0]!==a?(e=i.jsx(b("cr:7110"),babelHelpers["extends"]({},a)),c[0]=a,c[1]=e):e=c[1];return e}else if(b("cr:7109")!=null){c[2]!==a.thread?(e=i.jsx(b("cr:7109"),{thread:a.thread}),c[2]=a.thread,c[3]=e):e=c[3];return e}return null}g["default"]=a}),98);
__d("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint",["JSResourceForInteraction"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{}}},root:c("JSResourceForInteraction")("MWInboxPrecutoverOpenThreadBannerDialog.react").__setRef("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint")};g["default"]=a}),98);
__d("getMWInlineQPBannerStyles",[],(function(a,b,c,d,e,f,g){"use strict";a={inlineQPBanner:{backgroundColor:"x1jx94hy",boxShadow:"xyqbzfk",marginTop:"xdj266r",marginInlineEnd:"x14z9mp",marginBottom:"xat24cr",marginInlineStart:"x1lziwak",position:"x1n2onr6",zIndex:"x1vjfegm",$$css:!0},inlineQPBannerWrapper:{backgroundColor:"x1jx94hy",borderTopColor:"x1pdss0j",borderInlineEndColor:"x1593r2a",borderBottomColor:"x81c4ja",borderInlineStartColor:"xewde0t",borderTopStyle:"x13fuv20",borderInlineEndStyle:"x18b5jzi",borderBottomStyle:"x1q0q8m5",borderInlineStartStyle:"x1t7ytsu",borderTopWidth:"x178xt8z",borderInlineEndWidth:"x10w94by",borderBottomWidth:"x1qhh985",borderInlineStartWidth:"x14e42zd",$$css:!0}};g.inlineQPBannerStyles=a}),98);
__d("setHasDismissedSecretConversationsDeprecationBanner.react",["WebStorage","getMWLocalStorageThreadsWithBannerDismissed"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){if((h||(h=c("WebStorage"))).getLocalStorage()==null||(h||(h=c("WebStorage"))).isLocalStorageQuotaExceeded())return;var e=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(b);Object.prototype.hasOwnProperty.call(e,a)||(e[a]=!0,(h||(h=c("WebStorage"))).setItemGuarded(h.getLocalStorage(),b,JSON.stringify(e)))}g.setHasDismissedSecretConversationsDeprecationBanner=a}),98);
__d("useMWRedirectToEncryptedThreadOfDualThread",["LSIntEnum","ReQL","ReQLSuspense","react","react-compiler-runtime","useMWNavigation","useMWPCreateOneToOneThreadThenNavigate","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;(j||d("react")).useCallback;function a(a){var b=d("react-compiler-runtime").c(13),e=(h||(h=c("useReStore")))(),g;b[0]!==e.tables.mi_act_mapping_table||b[1]!==a?(g=function(){return d("ReQL").fromTableAscending(e.tables.mi_act_mapping_table.index("jid")).getKeyRange(a)},b[0]=e.tables.mi_act_mapping_table,b[1]=a,b[2]=g):g=b[2];var j;b[3]!==e||b[4]!==a?(j=[e,a],b[3]=e,b[4]=a,b[5]=j):j=b[5];g=d("ReQLSuspense").useFirst(g,j,f.id+":31");var k=c("useMWNavigation")(),l=c("useMWPCreateOneToOneThreadThenNavigate")(k,"preCutoverThread","dualThreadCutoverComposer"),m=g!=null,n=g==null?void 0:g.clientThreadPk,o=g==null?void 0:g.serverThreadKey;b[6]!==n||b[7]!==l||b[8]!==m||b[9]!==k||b[10]!==o||b[11]!==a?(j=function(){m&&o!=null?k.openTabOrInbox({clientThreadKey:n,threadKey:o,threadType:(i||(i=d("LSIntEnum"))).ofNumber(15)},"preCutoverThread",void 0,void 0,{subEntrypoint:"dualThreadCutoverComposer"}):l==null||l(a)},b[6]=n,b[7]=l,b[8]=m,b[9]=k,b[10]=o,b[11]=a,b[12]=j):j=b[12];return j}g["default"]=a}),98);
__d("MWInboxPrecutoverOpenThreadBannerV1.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV1.react");function a(a){var b=d("react-compiler-runtime").c(38);a=a.thread;var e=a.threadKey,g=a.threadType,m=(j||(j=c("useReStore")))(),r=d("MWPActor.react").useActor(),s;b[0]!==r||b[1]!==e?(s=(l||(l=d("I64"))).equal(r,e),b[0]=r,b[1]=e,b[2]=s):s=b[2];var t=s,u;b[3]!==r||b[4]!==m||b[5]!==t||b[6]!==e||b[7]!==g?(s=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(m.tables.contacts)).filter(function(a){a=a[1];return t||!(l||(l=d("I64"))).equal(a.id,r)}).map(q):d("ReQL").empty()},u=[m,e,g,r,t],b[3]=r,b[4]=m,b[5]=t,b[6]=e,b[7]=g,b[8]=s,b[9]=u):(s=b[8],u=b[9]);s=d("ReQLSuspense").useFirst(s,u,f.id+":63");var v=d("MAWThreadCutover").useIsCutoverOpenThread(e);u=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e);var w;b[10]!==a?(w=d("LSThreadBitOffset").has(260,a),b[10]=a,b[11]=w):w=b[11];a=w;var x=c("useMWRedirectToEncryptedThreadOfDualThread")(e);b[12]!==e?(w=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(e))},b[12]=e,b[13]=w):w=b[13];w=o(w);var y=w[0],z=w[1];if(b[14]!==t||b[15]!==(s==null?void 0:s.firstName)||b[16]!==(s==null?void 0:s.name)){w=t?h._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat will remain active."):h._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat with {name} will remain active.",[h._param("name",(w=s==null?void 0:s.firstName)!=null?w:s==null?void 0:s.name)]);b[14]=t;b[15]=s==null?void 0:s.firstName;b[16]=s==null?void 0:s.name;b[17]=w}else w=b[17];s=w;var A=c("useMWEntrypoint")();b[18]!==g?(w=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),b[18]=g,b[19]=w):w=b[19];var B=w;b[20]!==A||b[21]!==v||b[22]!==B||b[23]!==e||b[24]!==g?(w={onVisible:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})})}},b[20]=A,b[21]=v,b[22]=B,b[23]=e,b[24]=g,b[25]=w):w=b[25];w=c("useVisibilityObserver")(w);var C;b[26]!==s||b[27]!==A||b[28]!==v||b[29]!==u||b[30]!==a||b[31]!==B||b[32]!==x||b[33]!==w||b[34]!==y||b[35]!==e||b[36]!==g?(C=y&&a&&!v&&!u&&n.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:n.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Switch to other chat"),onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),x()},type:"secondary"},body:s,headline:h._(/*BTDS*/"This chat will be archived soon"),icon:{props:{src:i("876158")},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(e),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),z(!1)},ref:w,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),b[26]=s,b[27]=A,b[28]=v,b[29]=u,b[30]=a,b[31]=B,b[32]=x,b[33]=w,b[34]=y,b[35]=e,b[36]=g,b[37]=C):C=b[37];return C}function q(a){a=a[1];return a}g["default"]=a}),226);
__d("MWInboxPrecutoverOpenThreadBannerV2.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWInboxPrecutoverOpenThreadBannerDialog.entrypoint","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","gkx","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useMWXEntryPointDialog","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV2.react"),q="MI";function a(a){var b=d("react-compiler-runtime").c(43),e=a.source;a=a.thread;var g=a.threadKey,m=a.threadType,s=(j||(j=c("useReStore")))(),t=d("MWPActor.react").useActor(),u;b[0]!==t||b[1]!==g?(u=(l||(l=d("I64"))).equal(t,g),b[0]=t,b[1]=g,b[2]=u):u=b[2];var v=u,w;b[3]!==t||b[4]!==s||b[5]!==v||b[6]!==g||b[7]!==m?(u=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(m)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(s.tables.participants).getKeyRange(g),d("ReQL").fromTableAscending(s.tables.contacts)).filter(function(a){a=a[1];return v||!(l||(l=d("I64"))).equal(a.id,t)}).map(r):d("ReQL").empty()},w=[s,g,m,t,v],b[3]=t,b[4]=s,b[5]=v,b[6]=g,b[7]=m,b[8]=u,b[9]=w):(u=b[8],w=b[9]);var x=d("ReQLSuspense").useFirst(u,w,f.id+":71"),y=d("MAWThreadCutover").useIsCutoverOpenThread(g);u=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(g);b[10]!==a?(w=d("LSThreadBitOffset").has(260,a),b[10]=a,b[11]=w):w=b[11];a=w;var z=c("useMWRedirectToEncryptedThreadOfDualThread")(g),A=c("useMWEntrypoint")();b[12]!==g?(w=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(g))},b[12]=g,b[13]=w):w=b[13];w=o(w);var B=w[0],C=w[1];b[14]!==A||b[15]!==y||b[16]!==g||b[17]!==m?(w={onVisible:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_pre_cutover_thread_banner_impression_event",is_cutover:y,thread_id:(l||(l=d("I64"))).to_string(g),thread_type:l.to_string(m),transport_type:q}})})}},b[14]=A,b[15]=y,b[16]=g,b[17]=m,b[18]=w):w=b[18];w=c("useVisibilityObserver")(w);if(b[19]!==v||b[20]!==(x==null?void 0:x.firstName)||b[21]!==(x==null?void 0:x.name)){var D;D=v?h._(/*BTDS*/"You have two chats with yourself. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable."):h._(/*BTDS*/"You have two chats with {name}. The other chat is end-to-end encrypted, so it will stay active. Archived chats are still viewable.",[h._param("name",(D=x==null?void 0:x.firstName)!=null?D:x==null?void 0:x.name)]);b[19]=v;b[20]=x==null?void 0:x.firstName;b[21]=x==null?void 0:x.name;b[22]=D}else D=b[22];D=D;var E;b[23]===Symbol["for"]("react.memo_cache_sentinel")?(E=c("gkx")("23433")?i("876158"):i("781429"),b[23]=E):E=b[23];E=E;var F;b[24]===Symbol["for"]("react.memo_cache_sentinel")?(F={},b[24]=F):F=b[24];F=c("useMWXEntryPointDialog")(c("MWInboxPrecutoverOpenThreadBannerDialog.entrypoint"),F);var G=F[0],H=F[1],I=F[2];F=F[3];b[25]!==D||b[26]!==A||b[27]!==B||b[28]!==y||b[29]!==u||b[30]!==a||b[31]!==v||b[32]!==H||b[33]!==I||b[34]!==F||b[35]!==G||b[36]!==x||b[37]!==z||b[38]!==w||b[39]!==e||b[40]!==g||b[41]!==m?(E=B&&a&&!y&&!u&&n.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:n.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Open other chat"),onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_pre_cutover_thread_banner_other_chat_cta_click_event",is_cutover:y,thread_id:(l||(l=d("I64"))).to_string(g),thread_type:l.to_string(m),transport_type:q}})}),z()},type:"secondary"},addOnSecondary:{label:h._(/*BTDS*/"Learn more"),onHoverIn:H,onHoverOut:I,onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_pre_cutover_thread_banner_learn_more_cta_click_event",is_cutover:y,thread_id:(l||(l=d("I64"))).to_string(g),thread_type:l.to_string(m),transport_type:q}})}),G({entryPoint:A,isCutoverOpenThread:y,isSecure:!1,isSelfThread:v,otherUserOrSelf:x,source:e,threadKey:g,threadType:m})},onPressIn:F},body:D,headline:h._(/*BTDS*/"This chat will be archived soon"),icon:{props:{isDecorative:!0,src:E},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(g),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED_V2),p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_pre_cutover_thread_banner_dismissed_event",is_cutover:y,thread_id:(l||(l=d("I64"))).to_string(g),thread_type:l.to_string(m),transport_type:q}})}),C(!1)},ref:w,secondaryReduceEmphasis:!1,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),b[25]=D,b[26]=A,b[27]=B,b[28]=y,b[29]=u,b[30]=a,b[31]=v,b[32]=H,b[33]=I,b[34]=F,b[35]=G,b[36]=x,b[37]=z,b[38]=w,b[39]=e,b[40]=g,b[41]=m,b[42]=E):E=b[42];return E}function r(a){a=a[1];return a}g["default"]=a}),226);
__d("MWMDotMeReferrerContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e();function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.referrer;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWMDotMeReferrerContextProvider=a;g.useMDotMeReferrer=b}),98);
__d("MWV2ThreadNullstatePill.react",["MWXPressable.react","react","react-compiler-runtime","useCurrentDisplayMode"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={dark_mode_legible_text_pill:{backgroundColor:"xmd5bsh",color:"xi81zsa",$$css:!0},pill:{alignItems:"x6s0dn4",backgroundColor:"x1eb86dx",borderStartStartRadius:"xbjudin",borderStartEndRadius:"xnlwouz",borderEndEndRadius:"xpp8er5",borderEndStartRadius:"xs9wviy",boxShadow:"x1vnslfi",boxSizing:"x9f619",color:"x1mvi0mv",display:"x3nfvp2",fontSize:"x6prxxf",fontWeight:"xo1l8bm",justifyContent:"xl56j7k",marginTop:"xr9ek0c",marginInlineEnd:"x1xegmmw",marginBottom:"xjpr12u",marginInlineStart:"x13fj5qh",overflowWrap:"x1mzt3pk",paddingTop:"x123j3cw",paddingBottom:"xs9asl8",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",paddingLeft:null,paddingRight:null,wordBreak:"x13faqbe",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(6),e=a.children;a=a.onClick;var f=c("useCurrentDisplayMode")()==="dark";f=f&&j.dark_mode_legible_text_pill;var g;b[0]!==f?(g=[j.pill,f],b[0]=f,b[1]=g):g=b[1];b[2]!==e||b[3]!==a||b[4]!==g?(f=i.jsx(c("MWXPressable.react"),{onPress:a,overlayDisabled:!0,xstyle:g,children:e}),b[2]=e,b[3]=a,b[4]=g,b[5]=f):f=b[5];return f}g["default"]=a}),98);
__d("useMWV2SendIcebreakerMessage",["I64","Int64Hooks","LSFactory","LSIntEnum","LSMailboxType","LSNullstateCTAType","LSOptimisticSendMessageV2StoredProcedure","LSShape","LSThreadAttributionTypeUtil","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint","MWMDotMeReferrerContext.react","MWPActor.react","MessagePowerUp","MessageSendClickFalcoEvent","gkx","promiseDone","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function a(a,b,e,g){var l=d("react-compiler-runtime").c(9),m=(j||(j=c("useReStore")))(),n=d("MWPActor.react").useActor(),o=d("MWMDotMeReferrerContext.react").useMDotMeReferrer(),p,q;l[0]!==n||l[1]!==m||l[2]!==g||l[3]!==e||l[4]!==o||l[5]!==a||l[6]!==b?(p=function(j,l){var p=d("LSThreadAttributionTypeUtil").getSourceAndResetAttribution(a,e),q=j!=null?(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&j.ctaId===l.ctaId:!1;j=c("gkx")("6771")&&j!=null&&(h||(h=d("I64"))).equal(j.ctaType,(i||(i=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").ICEBREAKER))&&j.ctaId===l.ctaId;var r=q||j?o:void 0;c("promiseDone")(m.runInTransaction(function(e){return c("LSOptimisticSendMessageV2StoredProcedure")(c("LSFactory")(e),{extraSendMessageParams:d("LSShape").ofRecord({calculate_denormalizations:!0,initiating_source:g!=null?g:void 0,mark_read:!0,platform_ref:r,platform_token:l.platformToken,power_up_style:(i||(i=d("LSIntEnum"))).ofNumber(c("MessagePowerUp").NONE),source:p}),mailboxType:i.ofNumber(c("LSMailboxType").MESSENGER),senderId:n,text:l.title,threadKey:a,threadType:b})},"readwrite",void 0,void 0,f.id+":79"));var s=(h||(h=d("I64"))).to_string(a);if(q)c("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(){return{page:{id:s}}});else{var t=(j=l.ctaIdentifier)!=null?j:"";c("LsBotComposerQuickReplyTappedFalcoEvent").log(function(){return{display:void 0,page:{id:s},quick_reply:{id:t,type:64}}})}c("MessageSendClickFalcoEvent").log(k)},q=[a,e,o,m,n,b,g],l[0]=n,l[1]=m,l[2]=g,l[3]=e,l[4]=o,l[5]=a,l[6]=b,l[7]=p,l[8]=q):(p=l[7],q=l[8]);return d("Int64Hooks").useCallbackInt64(p,q)}function k(){return{message_send_source:{entry_point:d("LsFalcoEventEntryPoint").icebreaker}}}g["default"]=a}),98);
__d("MWPersistentIcebreakers",["I64","Int64Hooks","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","ReQL","ReQLSuspense","ServerTime","react","react-compiler-runtime","useMWV2SendIcebreakerMessage","useReStore","useStable","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react")),l=i.useState;function m(a){var b=d("react-compiler-runtime").c(21),e=a.initiatingSource,f=a.lsSource,g=a.nullstateCtas,h=a.threadKey;a=a.threadType;f=f===void 0?"unknown":f;var i=c("useMWV2SendIcebreakerMessage")(h,a,f,e);b[0]!==g?(a=g.map(n),b[0]=g,b[1]=a):a=b[1];var m=a;f=l(!1);var o=f[0],p=f[1];b[2]!==m||b[3]!==o||b[4]!==h?(e=function(){if(!o&&m.length>0){p(!0);var a=(j||(j=d("I64"))).to_string(h);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:m,num_items:m.length,type:60},page:{id:a}}})}},a=[o,m,h],b[2]=m,b[3]=o,b[4]=h,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x1n2onr6 xh8yej3 x1eb86dx"},b[9]=f):f=b[9];b[10]===Symbol["for"]("react.memo_cache_sentinel")?(e={className:"xuk3077 x1eb86dx x78zum5 xdt5ytf xm7lytj"},b[10]=e):e=b[10];if(b[11]!==g||b[12]!==i){var q;b[14]!==i?(q=function(a){if(a.ctaType==="nullstate_icebreaker")return k.jsx("li",{className:"xamitd3 xsag5q8 xpdmqnj x1g0dm76 x2b8uid",children:k.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return i(void 0,a)},children:a.title})},(j||(j=d("I64"))).to_string(a.ctaId));else return null},b[14]=i,b[15]=q):q=b[15];q=g.map(q);b[11]=g;b[12]=i;b[13]=q}else q=b[13];b[16]!==q?(g=k.jsx("ul",babelHelpers["extends"]({},e,{children:q})),b[16]=q,b[17]=g):g=b[17];b[18]!==a||b[19]!==g?(e=k.jsx("div",babelHelpers["extends"]({},f,{ref:a,children:g})),b[18]=a,b[19]=g,b[20]=e):e=b[20];return e}function n(a){return a.ctaIdentifier}function a(a){var b=d("react-compiler-runtime").c(8),e=c("useStable")(o),g=(h||(h=c("useReStore")))(),i;b[0]!==g.tables.threads||b[1]!==a.threadKey?(i=function(){return d("ReQL").fromTableAscending(g.tables.threads,["lastActivityTimestampMs"]).getKeyRange(a.threadKey)},b[0]=g.tables.threads,b[1]=a.threadKey,b[2]=i):i=b[2];var l;b[3]!==g||b[4]!==a.threadKey?(l=[g,a.threadKey],b[3]=g,b[4]=a.threadKey,b[5]=l):l=b[5];i=d("ReQLSuspense").useFirst(i,l,f.id+":127");if(i==null)return null;if(a.nullstateCtas.length===0||e-(j||(j=d("I64"))).to_int32(i.lastActivityTimestampMs)<216e5)return null;b[6]!==a?(l=k.jsx(m,babelHelpers["extends"]({},a)),b[6]=a,b[7]=l):l=b[7];return l}function o(){return d("ServerTime").getMillis()}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBanner_eligiblePromotions",selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null}],storageKey:null}],type:"ViewerEligibleQuickPromotionsConnection",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionThreadViewBanner.react",["CometQuickPromotionLoggerContext.react","CometRelay","MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql","react","react-compiler-runtime","useQuickPromotionFalcoEvent"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e,f=d("react-compiler-runtime").c(6);a=a.eligiblePromotions;a=d("CometRelay").useFragment(h!==void 0?h:h=b("MWQuickPromotionThreadViewBanner_eligiblePromotions.graphql"),a);a=a==null||(e=a.nodes[0])==null||(e=e.comet_qp_sections)==null?void 0:e.renderer_strategy;var g;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(g={context_surface_id:8783,context_trigger:"messenger_thread_open"},f[0]=g):g=f[0];g=c("useQuickPromotionFalcoEvent")(g);if(a==null)return null;var i;f[1]!==a?(i=j.jsx(d("CometRelay").MatchContainer,{match:a}),f[1]=a,f[2]=i):i=f[2];f[3]!==g||f[4]!==i?(a=j.jsx(c("CometQuickPromotionLoggerContext.react").Provider,{value:g,children:i}),f[3]=g,f[4]=i,f[5]=a):a=f[5];return a}g["default"]=a}),98);
__d("MWQuickPromotionThreadViewBannerContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"community_id"},{defaultValue:null,kind:"LocalArgument",name:"fb_group_id"},{defaultValue:null,kind:"LocalArgument",name:"thread_id"},{defaultValue:null,kind:"LocalArgument",name:"trigger"}],b=[{kind:"Literal",name:"surface_nux_id",value:10999},{kind:"Variable",name:"trigger",variableName:"trigger"},{fields:[{fields:[{kind:"Variable",name:"community_id",variableName:"community_id"},{kind:"Variable",name:"fb_group_id",variableName:"fb_group_id"},{kind:"Variable",name:"thread_id",variableName:"thread_id"}],kind:"ObjectValue",name:"community_messaging_context"}],kind:"ObjectValue",name:"trigger_context_v2"}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"MWQuickPromotionThreadViewBanner_eligiblePromotions"}],storageKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWQuickPromotionThreadViewBannerContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:"ViewerEligibleQuickPromotionsConnection",kind:"LinkedField",name:"eligible_promotions",plural:!1,selections:[{alias:null,args:null,concreteType:"QuickPromotion",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,concreteType:"CometQuickPromotionSections",kind:"LinkedField",name:"comet_qp_sections",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"supported",value:"1oDyka"}],concreteType:null,kind:"LinkedField",name:"renderer_strategy",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionInboxThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionInboxThreadViewBannerRendererStrategy",abstractKey:null},{kind:"InlineFragment",selections:[{args:null,documentName:"MWQuickPromotionThreadViewBanner_eligiblePromotions",fragmentName:"CometQuickPromotionThemesThreadViewBannerRendererStrategy_promotion",fragmentPropName:"promotion",kind:"ModuleImport"}],type:"CometQuickPromotionThemesThreadViewBannerRendererStrategy",abstractKey:null}],storageKey:'renderer_strategy(supported:"1oDyka")'}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}]},params:{id:"24262581233432542",metadata:{},name:"MWQuickPromotionThreadViewBannerContainerQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWQuickPromotionThreadViewBannerContainer.react",["CometErrorBoundary.react","CometPlaceholder.react","CometRelay","I64","MWCMGetValidId","MWLSThreadDisplayContext","MWQuickPromotionThreadViewBanner.react","MWQuickPromotionThreadViewBannerContainerQuery.graphql","emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l="CHAT_TAB_OPEN",m="MESSENGER_THREAD_OPEN";function n(a){switch(a){case"ChatTab":return l;default:return m}}function o(a){var e,f=a.communityId,g=a.fbGroupId;a=a.threadId;var i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();i=n(i);f=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWQuickPromotionThreadViewBannerContainerQuery.graphql"),{community_id:f!=null?(j||(j=d("I64"))).to_string(f):null,fb_group_id:d("MWCMGetValidId").MWCMHasValidFbGroupId(g)?(j||(j=d("I64"))).to_string(g):null,thread_id:(j||(j=d("I64"))).to_string(a),trigger:i});g=f==null||(e=f.viewer)==null?void 0:e.eligible_promotions;return g==null?null:k.jsx(c("MWQuickPromotionThreadViewBanner.react"),{eligiblePromotions:g})}o.displayName=o.name+" [from "+f.id+"]";function a(a){return k.jsx(c("CometErrorBoundary.react"),{fallback:c("emptyFunction"),children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWQuickPromotionThreadViewBannerContainer",children:k.jsx(o,babelHelpers["extends"]({},a))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadNullstateGreetingAndInstruction.react",["fbt","MWPreloadedText","MWXText.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react")),k=i.useContext;function a(a){var b=d("react-compiler-runtime").c(13),e=a.nullstate;a=a.nullstateCtas;e=e.welcomeText;var f=k(c("MWPreloadedText")),g,i;b[0]!==a||b[1]!==e?(g=h._(/*BTDS*/"Tap to send"),i=e!==g.toString()&&a.length>0,b[0]=a,b[1]=e,b[2]=g,b[3]=i):(g=b[2],i=b[3]);a=i;if(f.text!=null||!a&&e==null)return null;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(i={className:"xmzvs34 xf159sx"},b[4]=i):i=b[4];b[5]!==e?(f=e!=null&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:e})}),b[5]=e,b[6]=f):f=b[6];b[7]!==g||b[8]!==a?(e=a&&j.jsx("div",{className:"x1hhzuzn",children:j.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"headline4",children:g})}),b[7]=g,b[8]=a,b[9]=e):e=b[9];b[10]!==f||b[11]!==e?(g=j.jsxs("div",babelHelpers["extends"]({},i,{children:[f,e]})),b[10]=f,b[11]=e,b[12]=g):g=b[12];return g}g["default"]=a}),226);
__d("MWThreadNullstatePrivacyText.react",["fbt","I64","JSResourceForInteraction","LSIntEnum","LSNullstateCTAType","MWPreloadedText","MWXLink.react","MWXText.react","P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent","gkx","react","react-compiler-runtime","useMWXLazyDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||(i=d("react")),m=i.useContext;function a(a){var b=d("react-compiler-runtime").c(22),e=a.nullstate,f=a.threadKey;a=a.threadTitle;var g=m(c("MWPreloadedText")),i=e.privacyText,p=e.privacyTextCtaTitle,q=e.privacyTextNonWelcomeScreen,r;b[0]!==a?(r=h._(/*BTDS*/"When you send a message, {name} will see your {= public info link}.",[h._param("name",a),h._param("= public info link",l.jsx(c("MWXLink.react"),{color_DEPRECATED:"primary",href:"https://www.facebook.com/help/messenger-app/719578818758231",role:"link",target:"_blank",children:l.jsx(c("MWXText.react"),{type:"body4",children:h._(/*BTDS*/"public info")})}))]),b[0]=a,b[1]=r):r=b[1];a=r;b[2]===Symbol["for"]("react.memo_cache_sentinel")?(r=c("JSResourceForInteraction")("MWPrivacyDisclosureDialog.react").__setRef("MWThreadNullstatePrivacyText.react"),b[2]=r):r=b[2];r=c("useMWXLazyDialog")(r);var s=r[0];r=c("gkx")("8631");r=r?"blueLink":"primary";var t;b[3]!==s||b[4]!==f?(t=function(){s({entryPoint:"NULL_STATE",threadKey:f},n),c("P2bDifferentiationPrivacyDisclosureOpenClickWebFalcoEvent").log(function(){return{consumer_id:"0",entry_point:"NULL_STATE",page_id:(j||(j=d("I64"))).to_string(f)}})},b[3]=s,b[4]=f,b[5]=t):t=b[5];var u;b[6]!==p?(u=p!=null?l.jsx(o,{children:p}):null,b[6]=p,b[7]=u):u=b[7];b[8]!==t||b[9]!==u?(p=l.jsx(c("MWXLink.react"),{color_DEPRECATED:r,onClick:t,role:"link",target:"_blank",children:u}),b[8]=t,b[9]=u,b[10]=p):p=b[10];r=p;t=g.text!=null&&!!q;b[11]!==i||b[12]!==q||b[13]!==t?(u=t||i!=null?l.jsx(c("MWXText.react"),{color:"secondary",type:"body4",children:t?q:i}):null,b[11]=i,b[12]=q,b[13]=t,b[14]=u):u=b[14];p=u;b[15]!==a||b[16]!==e.privacyTextCtaType||b[17]!==p||b[18]!==r?(g=c("gkx")("24144")&&(j||(j=d("I64"))).equal(e.privacyTextCtaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").PRIVACY_DISCLOSURE))?l.jsxs(l.Fragment,{children:[p," ",r]}):a,b[15]=a,b[16]=e.privacyTextCtaType,b[17]=p,b[18]=r,b[19]=g):g=b[19];b[20]!==g?(i=l.jsx(c("MWXText.react"),{align:"center",color:"secondary",type:"body4",children:g}),b[20]=g,b[21]=i):i=b[21];return i}function n(){}function o(a){var b=d("react-compiler-runtime").c(4);a=a.children;var e=c("gkx")("8631");if(e){b[0]!==a?(e=l.jsx(l.Fragment,{children:a}),b[0]=a,b[1]=e):e=b[1];return e}b[2]!==a?(e=l.jsx(c("MWXText.react"),{color:"blueLink",type:"body4",children:a}),b[2]=a,b[3]=e):e=b[3];return e}g["default"]=a}),226);
__d("MWV2ThreadNullstateCTAs.react",["I64","Int64Hooks","LSIntEnum","LSNullstateCTAType","LsBotComposerQuickReplyDisplayedFalcoEvent","MWV2ThreadNullstatePill.react","react","react-compiler-runtime","stylex","useMWV2SendIcebreakerMessage","useVisibilityObserver"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=i||(i=d("react")),m=i.useState,n={cta_list_item:{alignSelf:"xamitd3",paddingBottom:"xsag5q8",paddingInlineEnd:"xpdmqnj",paddingInlineStart:"x1g0dm76",textAlign:"x2b8uid",$$css:!0},cta_list_item_center:{alignSelf:"xamitd3",paddingInlineStart:"x1g0dm76",paddingInlineEnd:"xpdmqnj",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,i=a.nullstateCtas,p=a.threadKey;a=a.threadType;var q=c("useMWV2SendIcebreakerMessage")(p,a,f,e);b[0]!==i?(a=i.map(o).filter(Boolean),b[0]=i,b[1]=a):a=b[1];var r=a;f=m(!1);var s=f[0],t=f[1];b[2]!==r||b[3]!==s||b[4]!==p?(e=function(){if(!s&&r.length>0){t(!0);var a=(j||(j=d("I64"))).to_string(p);c("LsBotComposerQuickReplyDisplayedFalcoEvent").log(function(){return{displayed_quick_reply:{item_ids:r,num_items:String(r.length),type:60},page:{id:a}}})}},a=[s,r,p],b[2]=r,b[3]=s,b[4]=p,b[5]=e,b[6]=a):(e=b[5],a=b[6]);f=d("Int64Hooks").useCallbackInt64(e,a);b[7]!==f?(e={onVisible:f},b[7]=f,b[8]=e):e=b[8];a=c("useVisibilityObserver")(e);b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"xuk3077 x78zum5 xdt5ytf xl56j7k xdj266r x14z9mp xat24cr x1lziwak"},b[9]=f):f=b[9];if(b[10]!==g||b[11]!==i||b[12]!==q){b[14]!==g||b[15]!==q?(e=function(a){var b=(j||(j=d("I64"))).equal(g.ctaType,(k||(k=d("LSIntEnum"))).ofNumber(c("LSNullstateCTAType").GET_STARTED))&&g.ctaId!=null&&(j||(j=d("I64"))).equal(g.ctaId,a.ctaId);return l.createElement("li",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(n.cta_list_item,b?n.cta_list_item_center:!1),{key:(j||(j=d("I64"))).to_string(a.ctaId)}),l.jsx(c("MWV2ThreadNullstatePill.react"),{onClick:function(){return q(g,a)},children:a.title}))},b[14]=g,b[15]=q,b[16]=e):e=b[16];e=i.map(e);b[10]=g;b[11]=i;b[12]=q;b[13]=e}else e=b[13];b[17]!==a||b[18]!==e?(i=l.jsx("ul",babelHelpers["extends"]({},f,{ref:a,children:e})),b[17]=a,b[18]=e,b[19]=i):i=b[19];return i}function o(a){return a.ctaIdentifier}g["default"]=a}),98);
__d("MWV2ThreadNullstate.react",["Int64Hooks","LSThreadTitle.react","MWPreloadedText","MWThreadNullstateGreetingAndInstruction.react","MWThreadNullstatePrivacyText.react","MWV2ThreadNullstateCTAs.react","MWXScrollableArea.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k={privacy_text_offset:{backgroundColor:"x1eb86dx",paddingBottom:"xg8j3zb",paddingTop:"x1iorvi4",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(23),e=a.initiatingSource,f=a.lsSource,g=a.nullstate,h=a.nullstateCtas,l=a.threadKey,m=a.threadName;a=a.threadType;f=f===void 0?"unknown":f;var n=j(c("MWPreloadedText")),o=g.privacyText,p;b[0]!==g||b[1]!==h?(p=i.jsx(c("MWThreadNullstateGreetingAndInstruction.react"),{nullstate:g,nullstateCtas:h}),b[0]=g,b[1]=h,b[2]=p):p=b[2];var q;b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==h||b[7]!==n.text||b[8]!==l||b[9]!==a?(q=n.text!=null?null:i.jsx(c("MWV2ThreadNullstateCTAs.react"),{initiatingSource:e,lsSource:f,nullstate:g,nullstateCtas:h,threadKey:l,threadType:a}),b[3]=e,b[4]=f,b[5]=g,b[6]=h,b[7]=n.text,b[8]=l,b[9]=a,b[10]=q):q=b[10];b[11]!==g||b[12]!==o||b[13]!==l||b[14]!==m||b[15]!==a?(e=o!=null?i.jsx("div",{className:"xx6bls6 xmzvs34 xf159sx",children:i.jsx(c("MWThreadNullstatePrivacyText.react"),{nullstate:g,threadKey:l,threadTitle:i.jsx(c("LSThreadTitle.react"),{thread:{threadKey:l,threadName:m,threadType:a}})})}):null,b[11]=g,b[12]=o,b[13]=l,b[14]=m,b[15]=a,b[16]=e):e=b[16];b[17]!==p||b[18]!==q||b[19]!==e?(f=i.jsxs("div",{children:[p,q,e]}),b[17]=p,b[18]=q,b[19]=e,b[20]=f):f=b[20];h=f;b[21]!==h?(n=i.jsx(c("MWXScrollableArea.react"),{xstyle:k.privacy_text_offset,children:h}),b[21]=h,b[22]=n):n=b[22];return n}b=i.memo(a,d("Int64Hooks").mostlyShallowEqual);g["default"]=b}),98);
__d("MWOpenThreadDetail.react",["CometDebounce","CometPageletWithDiv.react","CometPlaceholder.react","I64","Int64Hooks","LSAuthorityLevel","LSFactory","LSFetchAdditionalThreadDataStoredProcedure","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","MWCMAutoJoinNotifNUX.react","MWCMThreadTypes.react","MWChatUnsendNUX.react","MWChatXACSunsettingBanner.react","MWContextBanner.react","MWContextBannerWithKeyboardFocus.react","MWLSThreadDisplayContext","MWMessageList","MWPActor.react","MWPMessageListColumn.react","MWPQuickReplies.react","MWPersistentIcebreakers","MWPreloadableQueries","MWQuickPromotionThreadViewBannerContainer.react","MWV2ThreadNullstate.react","ReQL","ReQLSuspense","cr:1600","cr:4723","cr:5483","cr:9056","logMessengerWebFalcoEvent","promiseDone","react","react-compiler-runtime","useCommunityFolder","useLSMessagingInitiatingSource","useMWReportThreadOpenOnMountAndFocusWithLogger","usePageletMetadata","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||d("react"),m=c("CometDebounce")(c("logMessengerWebFalcoEvent"));function n(a){var b=d("react-compiler-runtime").c(11),e=(h||(h=c("useReStore")))(),g,i;b[0]!==e||b[1]!==a?(g=function(){return d("MWPreloadableQueries").threadNullStateQuery(e,a)},i=[e,a],b[0]=e,b[1]=a,b[2]=g,b[3]=i):(g=b[2],i=b[3]);g=d("ReQLSuspense").useFirst(g,i,f.id+":93");var j;b[4]!==e||b[5]!==a?(i=function(){return d("MWPreloadableQueries").threadNullStateCtaQuery(e,a)},j=[e,a],b[4]=e,b[5]=a,b[6]=i,b[7]=j):(i=b[6],j=b[7]);i=d("ReQLSuspense").useArray(i,j,f.id+":100");b[8]!==g||b[9]!==i?(j=[g,i],b[8]=g,b[9]=i,b[10]=j):j=b[10];return j}function o(a,b){var e=d("react-compiler-runtime").c(10),f=(h||(h=c("useReStore")))(),g;e[0]!==f.tables.messages||e[1]!==f.tables.reactions||e[2]!==f.tables.threads||e[3]!==b||e[4]!==a?(g=function(){c("promiseDone")(async function(){var c;c=await Promise.all([(c=d("ReQL")).firstAsync(c.fromTableDescending(f.tables.threads).getKeyRange(a)),c.firstAsync(c.fromTableDescending(f.tables.messages).getKeyRange(a)),c.toArrayAsync(c.fromTableDescending(f.tables.reactions).getKeyRange(a).take(20))]);var e=c[0],g=c[1];c=c[2];if(g==null||e==null)return;c=c.reduce(p,(i||(i=d("I64"))).zero);g=i.max(g.timestampMs,c);c=i.compare(g,e.lastActivityTimestampMs)>-1;m({threadKey:e.threadKey,threadType:e.threadType},"thread_and_message_list_last_activity_mismatch",b,{hasMissingMessage:!c,threadLastActivityTimeMs:i.to_string(e.lastActivityTimestampMs),threadLastMessageTimeMs:i.to_string(g)})}())},e[0]=f.tables.messages,e[1]=f.tables.reactions,e[2]=f.tables.threads,e[3]=b,e[4]=a,e[5]=g):g=e[5];var j;e[6]!==f||e[7]!==b||e[8]!==a?(j=[f,b,a],e[6]=f,e[7]=b,e[8]=a,e[9]=j):j=e[9];d("Int64Hooks").useEffectInt64(g,j)}function p(a,b){return(i||(i=d("I64"))).max(a,(a=b.reactionCreationTimestampMs)!=null?a:(i||(i=d("I64"))).zero)}function q(a){var e=d("react-compiler-runtime").c(107),g=a.entryPoint,k=a.messageListRef,m=a.thread,p=(h||(h=c("useReStore")))();a=n(m.threadKey);var q=a[0],s=a[1];e[0]!==p.tables.cm_channel_list||e[1]!==m.threadKey?(a=function(){return d("ReQL").fromTableAscending(p.tables.cm_channel_list.index("threadIdCommunityId"),["channelPrivacy"]).getKeyRange(m.threadKey)},e[0]=p.tables.cm_channel_list,e[1]=m.threadKey,e[2]=a):a=e[2];var t;e[3]!==p||e[4]!==m.threadKey?(t=[p,m.threadKey],e[3]=p,e[4]=m.threadKey,e[5]=t):t=e[5];a=d("ReQLSuspense").useFirst(a,t,f.id+":192");t=(t=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(p.tables.threads,["lastActivityTimestampMs"]).getKeyRange(m.threadKey).map(r)},[p,m.threadKey],f.id+":201"))!=null?t:!1;var u=d("MWPActor.react").useActor(),v;e[6]!==u||e[7]!==p.tables.messages||e[8]!==m.threadKey?(v=function(){return d("ReQL").fromTableAscending(p.tables.messages,["senderId"]).getKeyRange(m.threadKey).filter(function(a){a=a.senderId;return(i||(i=d("I64"))).equal(a,u)})},e[6]=u,e[7]=p.tables.messages,e[8]=m.threadKey,e[9]=v):v=e[9];var w;e[10]!==u||e[11]!==p||e[12]!==m.threadKey?(w=[p,m.threadKey,u],e[10]=u,e[11]=p,e[12]=m.threadKey,e[13]=w):w=e[13];v=d("ReQLSuspense").useFirst(v,w,f.id+":215")!=null;e[14]!==m.threadType?(w=(i||(i=d("I64"))).to_string(m.threadType),e[14]=m.threadType,e[15]=w):w=e[15];c("usePageletMetadata")("threadType",w);e[16]===Symbol.for("react.memo_cache_sentinel")?(w=d("MWPActor.react").isAPPlus(),e[16]=w):w=e[16];w=w;var x;e[17]!==m.threadType?(x=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(m.threadType),e[17]=m.threadType,e[18]=x):x=e[18];x=x;var y=c("useLSMessagingInitiatingSource")(),z;e[19]!==m?(z=b("cr:9056")!=null?l.jsx(b("cr:9056"),{thread:m}):null,e[19]=m,e[20]=z):z=e[20];z=z;var A;e[21]!==m.threadType?(A=d("MWCMThreadTypes.react").isJoinedCMThread(m.threadType),e[21]=m.threadType,e[22]=A):A=e[22];A=A;var B;e[23]!==A||e[24]!==m?(B=d("LSThreadBitOffset").has(167,m)&&A,e[23]=A,e[24]=m,e[25]=B):B=e[25];var C=B;e[26]!==m?(B=d("LSThreadBitOffset").has(193,m),e[26]=m,e[27]=B):B=e[27];B=B;var D,E;e[28]!==p||e[29]!==C||e[30]!==m.threadKey?(D=function(){C&&c("promiseDone")(p.runInTransaction(function(a){return c("LSFetchAdditionalThreadDataStoredProcedure")(c("LSFactory")(a),{threadKey:m.threadKey})},"readwrite",void 0,void 0,f.id+":248"))},E=[p,m.threadKey,C],e[28]=p,e[29]=C,e[30]=m.threadKey,e[31]=D,e[32]=E):(D=e[31],E=e[32]);d("Int64Hooks").useEffectInt64(D,E);e[33]!==y||e[34]!==s||e[35]!==m.threadKey||e[36]!==m.threadType?(D=function(){return l.jsxs(l.Fragment,{children:[l.jsx(c("MWPQuickReplies.react"),{threadKey:m.threadKey}),l.jsx(c("MWPersistentIcebreakers"),{initiatingSource:y,lsSource:"inboxInThread",nullstateCtas:s,threadKey:m.threadKey,threadType:m.threadType})]})},E=[m.threadKey,m.threadType,s,y],e[33]=y,e[34]=s,e[35]=m.threadKey,e[36]=m.threadType,e[37]=D,e[38]=E):(D=e[37],E=e[38]);D=d("Int64Hooks").useCallbackInt64(D,E);var F;e[39]!==m.threadKey||e[40]!==m.threadType?(E=function(){return l.jsxs(d("MWPMessageListColumn.react").MWPMessageListColumnGrowJustified,{children:[l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:20}),l.jsx(c("MWContextBannerWithKeyboardFocus.react"),{threadKey:m.threadKey,threadType:m.threadType}),l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnVerticalRhythm,{height:10})]})},F=[m.threadKey,m.threadType],e[39]=m.threadKey,e[40]=m.threadType,e[41]=E,e[42]=F):(E=e[41],F=e[42]);E=d("Int64Hooks").useCallbackInt64(E,F);o(m.threadKey,g);F=c("useCommunityFolder")(m);var G=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext();G=G!=null&&G==="ChatTab";var H;e[43]!==(a==null?void 0:a.channelPrivacy)?(H=(a==null?void 0:a.channelPrivacy)!=null&&(i||(i=d("I64"))).equal(a==null?void 0:a.channelPrivacy,(j||(j=d("LSIntEnum"))).ofNumber(2)),e[43]=a==null?void 0:a.channelPrivacy,e[44]=H):H=e[44];a=H;e[45]!==m.authorityLevel?(H=(i||(i=d("I64"))).ge(m.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)),e[45]=m.authorityLevel,e[46]=H):H=e[46];H=H;var I;e[47]!==G||e[48]!==m?(I=b("cr:4723")!=null&&!G?l.jsx(b("cr:4723"),{thread:m}):null,e[47]=G,e[48]=m,e[49]=I):I=e[49];G=I;e[50]!==B?(I=c("MWChatXACSunsettingBanner.react")!=null&&B?l.jsx(c("MWChatXACSunsettingBanner.react"),{}):null,e[50]=B,e[51]=I):I=e[51];B=I;e[52]!==a||e[53]!==A||e[54]!==m.parentThreadKey?(I=b("cr:5483")!=null&&A&&!a?l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWOpenThreadDetail.CommunityMessagingNUXDialog",children:l.jsx(b("cr:5483"),{folderId:m.parentThreadKey})}):null,e[52]=a,e[53]=A,e[54]=m.parentThreadKey,e[55]=I):I=e[55];a=I;e[56]!==(F==null?void 0:F.fbGroupId)||e[57]!==(F==null?void 0:F.folderId)||e[58]!==H||e[59]!==m.threadKey?(A=H?l.jsx(c("MWQuickPromotionThreadViewBannerContainer.react"),{communityId:F==null?void 0:F.folderId,fbGroupId:F==null?void 0:F.fbGroupId,threadId:m.threadKey}):null,e[56]=F==null?void 0:F.fbGroupId,e[57]=F==null?void 0:F.folderId,e[58]=H,e[59]=m.threadKey,e[60]=A):A=e[60];I=A;F=c("useMWReportThreadOpenOnMountAndFocusWithLogger")(m);if(q!=null&&!t){e[61]!==m?(H=l.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:m}),e[61]=m,e[62]=H):H=e[62];e[63]!==m.threadKey||e[64]!==m.threadType?(A=l.jsx(c("MWContextBanner.react"),{threadKey:m.threadKey,threadType:m.threadType}),e[63]=m.threadKey,e[64]=m.threadType,e[65]=A):A=e[65];e[66]===Symbol.for("react.memo_cache_sentinel")?(t=l.jsx(d("MWPMessageListColumn.react").MWPMessageListColumnGrow,{children:null}),e[66]=t):t=e[66];var J;e[67]!==y||e[68]!==q||e[69]!==s||e[70]!==m.threadKey||e[71]!==m.threadName||e[72]!==m.threadType?(J=l.jsx(c("MWV2ThreadNullstate.react"),{initiatingSource:y,lsSource:"inboxInThread",nullstate:q,nullstateCtas:s,threadKey:m.threadKey,threadName:m.threadName,threadType:m.threadType}),e[67]=y,e[68]=q,e[69]=s,e[70]=m.threadKey,e[71]=m.threadName,e[72]=m.threadType,e[73]=J):J=e[73];e[74]!==z||e[75]!==B||e[76]!==a||e[77]!==G||e[78]!==I||e[79]!==F||e[80]!==H||e[81]!==A||e[82]!==J?(q=l.jsxs(l.Fragment,{children:[F,I,z,H,a,B,G,A,t,J]}),e[74]=z,e[75]=B,e[76]=a,e[77]=G,e[78]=I,e[79]=F,e[80]=H,e[81]=A,e[82]=J,e[83]=q):q=e[83];return q}e[84]!==m?(t=l.jsx(c("MWCMAutoJoinNotifNUX.react"),{thread:m}),e[84]=m,e[85]=t):t=e[85];e[86]===Symbol.for("react.memo_cache_sentinel")?(H=l.jsx(c("MWChatUnsendNUX.react"),{senderUnsendNUXEnabled:!0}),e[86]=H):H=e[86];e[87]!==g||e[88]!==v||e[89]!==k||e[90]!==D||e[91]!==E||e[92]!==m?(A=l.jsx(c("MWMessageList"),{entryPoint:g,hasUserSentMessage:v,ref:k,renderFooter:D,renderHeader:E,thread:m}),e[87]=g,e[88]=v,e[89]=k,e[90]=D,e[91]=E,e[92]=m,e[93]=A):A=e[93];e[94]!==x||e[95]!==m?(J=w&&x&&b("cr:1600")!=null?l.jsx(b("cr:1600"),{thread:m}):null,e[94]=x,e[95]=m,e[96]=J):J=e[96];e[97]!==z||e[98]!==B||e[99]!==a||e[100]!==G||e[101]!==I||e[102]!==F||e[103]!==t||e[104]!==A||e[105]!==J?(q=l.jsxs(l.Fragment,{children:[F,I,z,t,B,a,H,G,A,J]}),e[97]=z,e[98]=B,e[99]=a,e[100]=G,e[101]=I,e[102]=F,e[103]=t,e[104]=A,e[105]=J,e[106]=q):q=e[106];return q}function r(a){a=a.lastActivityTimestampMs;return!(i||(i=d("I64"))).equal(a,i.zero)}function a(a){var b=d("react-compiler-runtime").c(5),c=a.entryPoint,e=a.messageListRef;a=a.thread;var f;b[0]===Symbol.for("react.memo_cache_sentinel")?(f="x78zum5 xdt5ytf x1iyjqo2 x5yr21d",b[0]=f):f=b[0];b[1]!==c||b[2]!==e||b[3]!==a?(f=l.jsx(d("CometPageletWithDiv.react").Div,{className:f,name:"MWOpenThreadDetail",children:l.jsx(q,{entryPoint:c,messageListRef:e,thread:a})}),b[1]=c,b[2]=e,b[3]=a,b[4]=f):f=b[4];return f}g.default=a}),98);
__d("MWThreadLiveLocationSessionsContextProvider.react",["MWThreadLiveLocationSessionsSetterContext.react","MWThreadLiveLocationSessionsStateContext.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=i||d("react");var j=h||(h=c("react"));b.useCallback;b.useMemo;var k=b.useState;function a(a){var b=d("react-compiler-runtime").c(10);a=a.children;var c;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(c={},b[0]=c):c=b[0];c=k(c);var e=c[0],f=c[1];b[1]===Symbol["for"]("react.memo_cache_sentinel")?(c=function(a,b,c){f(function(d){var e=d[a];if(e==null||e.eventTimeStamp<c){return babelHelpers["extends"]({},d,(e={},e[a]={encryptionKey:b,eventTimeStamp:c},e))}return d})},b[1]=c):c=b[1];c=c;var g;b[2]!==e?(g={sessions:e},b[2]=e,b[3]=g):g=b[3];e=g;g=e;b[4]===Symbol["for"]("react.memo_cache_sentinel")?(e={addOrUpdateSession:c},b[4]=e):e=b[4];c=e;e=c;b[5]!==a?(c=j.jsx(d("MWThreadLiveLocationSessionsSetterContext.react").MAWThreadLiveLocationSessionsSetterContext.Provider,{value:e,children:a}),b[5]=a,b[6]=c):c=b[6];b[7]!==g||b[8]!==c?(e=j.jsx(d("MWThreadLiveLocationSessionsStateContext.react").MAWThreadLiveLocationSessionsStateContext.Provider,{value:g,children:c}),b[7]=g,b[8]=c,b[9]=e):e=b[9];return e}g["default"]=a}),98);
__d("MWOpenAndSecureThreadView.react",["I64","LSIntEnum","LSMessagingThreadTypeUtil","MWLSDatabaseLazySync","MWOpenThreadDetail.react","MWPAudioPlaybackThreadContext.react","MWPThreadGradientBackground.react","MWThreadLiveLocationSessionsContextProvider.react","MessengerWebUXLogger","cr:2441","cr:9772","justknobx","promiseDone","react","react-compiler-runtime","useGroupsCometChatsEngagementImpressionLogger","useIsChatPreviewsEnabled","useIsReactionsV2Enabled","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;f=e.memo;var m=e.useEffect;function a(a){var e=d("react-compiler-runtime").c(34),f=a.entryPoint,g=a.isMinimizedChatTab,k=a.mawSecureThreadQPContainerQueryRef,n=a.messageListRef;a=a.thread;g=g===void 0?!1:g;var o=(h||(h=c("useReStore")))(),p=d("useIsReactionsV2Enabled").useIsReactionsV2Enabled(a.threadKey),q;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(q=babelHelpers["extends"]({eventName:"thread_view_impression"},c("justknobx")._("4581")?{extraData:{isIpad:navigator.userAgent.match(/iPad/)||navigator.userAgent.match(/Mac/)&&navigator.maxTouchPoints!=null&&navigator.maxTouchPoints>2?"1":"0"}}:{}),e[0]=q):q=e[0];q=c("MessengerWebUXLogger").useImpressionLoggerRef(q);var r;e[1]!==f?(r=f?{entry_point:f}:void 0,e[1]=f,e[2]=r):r=e[2];var s;e[3]!==a.parentThreadKey?(s=(i||(i=d("I64"))).to_string(a.parentThreadKey),e[3]=a.parentThreadKey,e[4]=s):s=e[4];var t;e[5]!==a.threadKey?(t=(i||(i=d("I64"))).to_string(a.threadKey),e[5]=a.threadKey,e[6]=t):t=e[6];var u;e[7]!==r||e[8]!==s||e[9]!==t?(u={client_extras:r,community_id:s,event:"chat_preview_open",surface:"chat_preview",thread_id:t},e[7]=r,e[8]=s,e[9]=t,e[10]=u):u=e[10];r=c("useGroupsCometChatsEngagementImpressionLogger")(u);e[11]!==o||e[12]!==p?(s=function(){p&&c("promiseDone")(d("MWLSDatabaseLazySync").sync(o,(j||(j=d("LSIntEnum"))).ofNumber(118)))},t=[o,p],e[11]=o,e[12]=p,e[13]=s,e[14]=t):(s=e[13],t=e[14]);m(s,t);e[15]!==a.threadType?(u=d("LSMessagingThreadTypeUtil").isArmadilloSecure(a.threadType),e[15]=a.threadType,e[16]=u):u=e[16];s=u;t=d("useIsChatPreviewsEnabled").useIsChatPreviewsEnabled(a.threadKey);e[17]===Symbol["for"]("react.memo_cache_sentinel")?(u={className:"x78zum5 xdt5ytf x1iyjqo2 xhc7eg"},e[17]=u):u=e[17];t=t?r:q;e[18]!==f||e[19]!==s||e[20]!==k||e[21]!==n||e[22]!==a?(r=b("cr:9772")==null||!s?l.jsx(c("MWOpenThreadDetail.react"),{entryPoint:f,messageListRef:n,thread:a}):l.jsx(c("MWThreadLiveLocationSessionsContextProvider.react"),{children:l.jsx(b("cr:9772"),{entryPoint:f,mawSecureThreadQPContainerQueryRef:k,messageListRef:n,thread:a})}),e[18]=f,e[19]=s,e[20]=k,e[21]=n,e[22]=a,e[23]=r):r=e[23];e[24]!==g||e[25]!==a.threadKey?(q=b("cr:2441")&&l.jsx(b("cr:2441"),{isMinimizedChatTab:g,threadKey:a.threadKey}),e[24]=g,e[25]=a.threadKey,e[26]=q):q=e[26];e[27]!==r||e[28]!==q||e[29]!==a.threadKey?(f=l.jsx(d("MWPThreadGradientBackground.react").MWPThreadGradientBackground,{children:l.jsxs(d("MWPAudioPlaybackThreadContext.react").MWPAudioPlaybackThreadContextProvider,{threadKey:a.threadKey,children:[r,q]})}),e[27]=r,e[28]=q,e[29]=a.threadKey,e[30]=f):f=e[30];e[31]!==t||e[32]!==f?(s=l.jsx("div",babelHelpers["extends"]({},u,{ref:t,children:f})),e[31]=t,e[32]=f,e[33]=s):s=e[33];return s}e=f(a);g["default"]=e}),98);
__d("MWPThreadPreview.react",["CometHeroInteractionWithDiv.react","FBLogger","I64","Int64Hooks","InteractionTracingMetrics","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSLocalCreateOptimisticGroupThreadStoredProcedure","LSMessagingThreadTypeUtil","LSVec","LSVerifyContactRowExistsStoredProcedure","LSVerifyThreadRowExistsStoredProcedure","MWChatInteraction","MWPActor.react","MWPThreadThemeProvider.react","MWThreadKey.react","MWXSpinner.react","Promise","ReQL","ReQLSuspense","cr:13308","cr:9777","gkx","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect;e.useMemo;var o={preview:{display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",minHeight:"x2lwn1j",$$css:!0}};function p(a){var e=d("react-compiler-runtime").c(8),g=(k||(k=c("useReStore")))(),j;e[0]!==g||e[1]!==a?(j=function(){c("promiseDone")(g.runInTransaction(function(e){return(h||(h=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:i.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:i.ofNumber(c("LSContactIdType").FBID),contactType:i.ofNumber(c("LSContactType").USER),contactViewerRelationship:i.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:i.ofNumber(c("LSContactGender").UNKNOWN),id:a.id,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:i.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,f.id+":91"))},e[0]=g,e[1]=a,e[2]=j):j=e[2];var l;e[3]!==a?(l=JSON.stringify(a.map(q)),e[3]=a,e[4]=l):l=e[4];var m;e[5]!==g||e[6]!==l?(m=[g,l],e[5]=g,e[6]=l,e[7]=m):m=e[7];n(j,m)}function q(a){return(j||(j=d("I64"))).to_string(a.id)}function r(a){var b=d("react-compiler-runtime").c(25),e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.thread;b[0]===Symbol["for"]("react.memo_cache_sentinel")?(a=d("MWChatInteraction").get("open_with_tokens"),b[0]=a):a=b[0];var i=a,k;b[1]!==h.threadKey||b[2]!==h.threadType?(a=function(){i!=null&&(c("InteractionTracingMetrics").addAnnotation(i,"thread_id",(j||(j=d("I64"))).to_string(h.threadKey)),c("InteractionTracingMetrics").addAnnotation(i,"thread_type",j.to_string(h.threadType)),c("InteractionTracingMetrics").addAnnotationBoolean(i,"is_secure",d("LSMessagingThreadTypeUtil").isArmadilloSecure(h.threadType)))},k=[i,h.threadKey,h.threadType],b[1]=h.threadKey,b[2]=h.threadType,b[3]=a,b[4]=k):(a=b[3],k=b[4]);n(a,k);if(f!=null){b[5]!==e||b[6]!==f||b[7]!==h?(a=f(h,e),b[5]=e,b[6]=f,b[7]=h,b[8]=a):a=b[8];return a}k=h.threadKey;b[9]===Symbol["for"]("react.memo_cache_sentinel")?(f={className:"x78zum5 xdt5ytf x1iyjqo2 x6prxxf x2lwn1j"},b[9]=f):f=b[9];a=h.themeFbid;var l;b[10]!==g||b[11]!==h?(l=g(h),b[10]=g,b[11]=h,b[12]=l):l=b[12];b[13]!==l||b[14]!==h.themeFbid?(g=m.jsx(c("CometHeroInteractionWithDiv.react"),{interactionDesc:"MWV2_CHAT_TAB",interactionUUID:i,pageletName:"ChatTab",xstyle:o.preview,children:m.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:l})}),b[13]=l,b[14]=h.themeFbid,b[15]=g):g=b[15];b[16]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"x2lah0s x879a55"},b[16]=a):a=b[16];b[17]!==e?(l=m.jsx("div",babelHelpers["extends"]({},a,{children:e})),b[17]=e,b[18]=l):l=b[18];b[19]!==l||b[20]!==g?(a=m.jsxs("div",babelHelpers["extends"]({},f,{children:[g,l]})),b[19]=l,b[20]=g,b[21]=a):a=b[21];b[22]!==a||b[23]!==h.threadKey?(e=m.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:k,children:a}),b[22]=a,b[23]=h.threadKey,b[24]=e):e=b[24];return e}function s(a){var b=d("react-compiler-runtime").c(22),e=a.children,g=a.recipientToken,h=a.renderThreadPreview,j=a.renderThreadView,l=a.setPreviewThread,o=(k||(k=c("useReStore")))(),q=g.threadType,s=g.id;b[0]!==g?(a=[g],b[0]=g,b[1]=a):a=b[1];p(a);b[2]!==s||b[3]!==o||b[4]!==q?(g=function(){c("promiseDone")(o.runInTransaction(function(a){return c("LSVerifyThreadRowExistsStoredProcedure")(c("LSFactory")(a),{syncGroup:(i||(i=d("LSIntEnum"))).ofNumber(1),threadKey:s,threadType:q})},"readwrite",void 0,void 0,f.id+":188"))},a=[o,s,q],b[2]=s,b[3]=o,b[4]=q,b[5]=g,b[6]=a):(g=b[5],a=b[6]);d("Int64Hooks").useEffectInt64(g,a);b[7]!==s||b[8]!==o.tables.threads?(g=function(){return d("ReQL").fromTableAscending(o.tables.threads).getKeyRange(s)},b[7]=s,b[8]=o.tables.threads,b[9]=g):g=b[9];b[10]!==s||b[11]!==o?(a=[o,s],b[10]=s,b[11]=o,b[12]=a):a=b[12];var t=d("ReQLSuspense").useFirst(g,a,f.id+":199");b[13]!==l||b[14]!==t?(g=function(){l(t)},a=[l,t],b[13]=l,b[14]=t,b[15]=g,b[16]=a):(g=b[15],a=b[16]);n(g,a);if(t!=null){b[17]!==e||b[18]!==h||b[19]!==j||b[20]!==t?(g=m.jsx(r,{renderThreadPreview:h,renderThreadView:j,thread:t,children:e}),b[17]=e,b[18]=h,b[19]=j,b[20]=t,b[21]=g):g=b[21];return g}else return null}function t(a,b,e){var g=d("react-compiler-runtime").c(21),h=(k||(k=c("useReStore")))(),i=(j||(j=d("I64"))).to_string(d("MWPActor.react").useActor()),l;g[0]!==h.tables.participants||g[1]!==b?(l=function(){return d("ReQL").fromTableAscending(h.tables.participants).filter(function(a){return b.has((j||(j=d("I64"))).to_string(a.contactId))}).map(y)},g[0]=h.tables.participants,g[1]=b,g[2]=l):l=g[2];var m;g[3]!==h||g[4]!==b?(m=[h,b],g[3]=h,g[4]=b,g[5]=m):m=g[5];var n=d("ReQLSuspense").useArray(l,m,f.id+":235");g[6]!==i||g[7]!==h.tables.participants||g[8]!==h.tables.threads||g[9]!==e||g[10]!==n||g[11]!==b||g[12]!==a.length?(l=function(){var c=new Set(n);return d("ReQL").fromTableAscending(h.tables.threads).filter(function(a){return(j||(j=d("I64"))).equal(a.threadType,e)}).filter(x).filter(function(a){a=a.clientThreadKey;if(a!=null)return c.has((j||(j=d("I64"))).to_string(a));else return!1}).filter(w).map(function(a){var b=a.clientThreadKey;b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(h.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(b).map(v).filter(function(a){return a!==i}),f.id+":275");return{participantsWithoutActor:b,thread:a}}).filter(function(c){c=c.participantsWithoutActor;if(a.length===1&&c.length===0)return!0;else if(c.every(function(a){return b.has(a)}))return c.length===b.size;else return!1}).map(u)},g[6]=i,g[7]=h.tables.participants,g[8]=h.tables.threads,g[9]=e,g[10]=n,g[11]=b,g[12]=a.length,g[13]=l):l=g[13];g[14]!==i||g[15]!==h||g[16]!==e||g[17]!==n||g[18]!==b||g[19]!==a.length?(m=[n,h,e,a.length,i,b],g[14]=i,g[15]=h,g[16]=e,g[17]=n,g[18]=b,g[19]=a.length,g[20]=m):m=g[20];return d("ReQLSuspense").useFirst(l,m,f.id+":248")}function u(a){return a.thread}function v(a){return(j||(j=d("I64"))).to_string(a.contactId)}function w(a){a=a.clientThreadKey;return a==null?!1:!0}function x(a){return a.threadName==null}function y(a){return(j||(j=d("I64"))).to_string(a.threadKey)}function z(a,e,g,h,l,m){var n=d("react-compiler-runtime").c(9),o=l===void 0?null:l,p=m===void 0?null:m,q=(k||(k=c("useReStore")))(),r=a==null;n[0]!==h||n[1]!==q||n[2]!==r||n[3]!==o||n[4]!==p||n[5]!==e||n[6]!==g?(l=function(){if(r){if((j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(2))){c("promiseDone")(q.runInTransaction(function(a){return c("LSLocalCreateOptimisticGroupThreadStoredProcedure")(c("LSFactory")(a),{checkExistingThreads:h,participants:c("LSVec").ofArray(g.map(B)),threadMetadata:o!=null?o:void 0,threadName:p!=null?p:void 0}).then(A)},"readwrite",void 0,void 0,f.id+":334"));return}else if((j||(j=d("I64"))).equal(e,(i||(i=d("LSIntEnum"))).ofNumber(15))&&g.length===1&&b("cr:13308")!=null&&c("gkx")("17734")){c("promiseDone")(b("cr:13308").call(q,g[0].id,void 0,"MAWThreadPreview"));return}else if(d("LSMessagingThreadTypeUtil").isArmadilloSecure(e)){if(b("cr:9777")==null)return;c("promiseDone")(q.runInTransaction(function(a){return b("cr:9777").call(a,g,e)},"readwrite",void 0,void 0,f.id+":375"));return}c("FBLogger")("messenger_web_creation").mustfix("Don't know how to create optimistic thread for thread of thread type %s",e!=null?(j||(j=d("I64"))).to_string(e):"")}},m=[h,q,r,g,o,e,p],n[0]=h,n[1]=q,n[2]=r,n[3]=o,n[4]=p,n[5]=e,n[6]=g,n[7]=l,n[8]=m):(l=n[7],m=n[8]);d("Int64Hooks").useEffectInt64(l,m)}function A(){}function B(a){return a.id}function C(a){var b=d("react-compiler-runtime").c(8),c=a.checkExistingThreads,e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.setPreviewThread,i=a.threadMetadata,j=a.threadName,k=a.threadType,l=a.tokenContactIdsMaybeExcludingActor,o=a.tokens;a=a.tokensMaybeExcludingActor;i=i===void 0?null:i;j=j===void 0?null:j;var q=t(a,l,k);p(a);z(q,k,o,c,i,j);b[0]!==h||b[1]!==q?(l=function(){h(q)},b[0]=h,b[1]=q,b[2]=l):l=b[2];n(l,void 0);if(q!=null){b[3]!==e||b[4]!==f||b[5]!==g||b[6]!==q?(a=m.jsx(r,{renderThreadPreview:f,renderThreadView:g,thread:q,children:e}),b[3]=e,b[4]=f,b[5]=g,b[6]=q,b[7]=a):a=b[7];return a}else return null}function D(a,b,e,g,h,l){var m=d("react-compiler-runtime").c(28),n=(k||(k=c("useReStore")))(),o=(j||(j=d("I64"))).to_string(d("MWPActor.react").useActor()),p;m[0]!==n.tables.participants||m[1]!==b?(p=function(){return d("ReQL").fromTableAscending(n.tables.participants).filter(function(a){return b.has((j||(j=d("I64"))).to_string(a.contactId))}).map(H)},m[0]=n.tables.participants,m[1]=b,m[2]=p):p=m[2];var q;m[3]!==n||m[4]!==b?(q=[n,b],m[3]=n,m[4]=b,m[5]=q):q=m[5];var r=d("ReQLSuspense").useArray(p,q,f.id+":462"),s=c("gkx")("24167")||c("gkx")("33038");m[6]!==o||m[7]!==g||m[8]!==n.tables.participants||m[9]!==n.tables.threads||m[10]!==l||m[11]!==h||m[12]!==e||m[13]!==r||m[14]!==b||m[15]!==a.length?(p=function(){var k=new Set(r),m=function(){var b=a.length>1;if(b)if(l)return d("ReQL").fromTableAscending(n.tables.threads).filter(G);else if(c("gkx")("5703"))return d("ReQL").fromTableDescending(n.tables.threads.index("lastActivityTimestampMs"));return d("ReQL").fromTableAscending(n.tables.threads).filter(function(a){return(j||(j=d("I64"))).equal(a.threadType,e)})};m=m();return m.filter(function(a){return s&&h!=null?a.threadName===h:a.threadName==null}).filter(function(a){if(g)return!0;else return(j||(j=d("I64"))).equal(a.authorityLevel,(i||(i=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").OPTIMISTIC))}).filter(function(a){return k.has((j||(j=d("I64"))).to_string(a.threadKey))}).map(function(a){var b=d("ReQLSuspense").toArray(d("ReQL").fromTableDescending(n.tables.participants.index("threadKeyReadWatermarkTimestampMs")).getKeyRange(a.threadKey).map(F),f.id+":534");return{participantsWithActor:b,thread:a}}).filter(function(a){a=a.participantsWithActor;var c=a.filter(function(a){return a!==o});if(c.length===0&&a.length===1)return!0;else if(a.length===c.length||c.length!==b.size)return!1;else return c.every(function(a){return b.has(a)})}).map(E)},m[6]=o,m[7]=g,m[8]=n.tables.participants,m[9]=n.tables.threads,m[10]=l,m[11]=h,m[12]=e,m[13]=r,m[14]=b,m[15]=a.length,m[16]=p):p=m[16];m[17]!==e?(q=JSON.stringify(e),m[17]=e,m[18]=q):q=m[18];var t;m[19]!==o||m[20]!==g||m[21]!==n||m[22]!==q||m[23]!==h||m[24]!==r||m[25]!==b||m[26]!==a?(t=[r,n,q,g,a,b,o,h,s],m[19]=o,m[20]=g,m[21]=n,m[22]=q,m[23]=h,m[24]=r,m[25]=b,m[26]=a,m[27]=t):t=m[27];return d("ReQLSuspense").useFirst(p,t,f.id+":478")}function E(a){return a.thread}function F(a){return(j||(j=d("I64"))).to_string(a.contactId)}function G(a){return(j||(j=d("I64"))).equal(a.threadType,(i||(i=d("LSIntEnum"))).ofNumber(16))}function H(a){return(j||(j=d("I64"))).to_string(a.threadKey)}function I(a){var b=d("react-compiler-runtime").c(23),c=a.checkExistingThreads,e=a.children,f=a.renderThreadPreview,g=a.renderThreadView,h=a.secureThreadToggleEnabled,i=a.setPreviewThread,j=a.threadMetadata,k=a.threadName,l=a.threadType,o=a.tokens;a=a.tokensMaybeExcludingActor;j=j===void 0?null:j;k=k===void 0?null:k;var p;b[0]!==a?(p=new Set(a.map(J)),b[0]=a,b[1]=p):p=b[1];p=p;p=p;var q=D(a,p,l,c,k,h),s;b[2]!==i||b[3]!==q?(h=function(){q!=null&&i(q)},s=[i,q],b[2]=i,b[3]=q,b[4]=h,b[5]=s):(h=b[4],s=b[5]);n(h,s);if(q!=null){b[6]!==e||b[7]!==f||b[8]!==g||b[9]!==q?(h=m.jsx(r,{renderThreadPreview:f,renderThreadView:g,thread:q,children:e}),b[6]=e,b[7]=f,b[8]=g,b[9]=q,b[10]=h):h=b[10];return h}else{b[11]!==c||b[12]!==e||b[13]!==f||b[14]!==g||b[15]!==i||b[16]!==j||b[17]!==k||b[18]!==l||b[19]!==p||b[20]!==o||b[21]!==a?(s=m.jsx(C,{checkExistingThreads:c,renderThreadPreview:f,renderThreadView:g,setPreviewThread:i,threadMetadata:j,threadName:k,threadType:l,tokenContactIdsMaybeExcludingActor:p,tokens:o,tokensMaybeExcludingActor:a,children:e}),b[11]=c,b[12]=e,b[13]=f,b[14]=g,b[15]=i,b[16]=j,b[17]=k,b[18]=l,b[19]=p,b[20]=o,b[21]=a,b[22]=s):s=b[22];return s}}function J(a){return(j||(j=d("I64"))).to_string(a.id)}function a(a){var b=d("react-compiler-runtime").c(59),e=a.areWeCreatingASecureThread,f=a.checkExistingThreads,g=a.children,h=a.isCutoverInProgress,k=a.nullstate,l=a.renderThreadPreview,o=a.renderThreadView,p=a.secureThreadToggleEnabled,q=a.setPreviewThread,r=a.threadMetadata,t=a.threadName,u=a.tokens;a=f===void 0?!0:f;f=h===void 0?!1:h;h=k===void 0?null:k;k=p===void 0?!1:p;p=r===void 0?null:r;r=t===void 0?null:t;var v=d("MWPActor.react").useActor();if(b[0]!==v||b[1]!==u){b[3]!==v?(t=function(a){return!(j||(j=d("I64"))).equal(a.id,v)},b[3]=v,b[4]=t):t=b[4];t=u.filter(t);b[0]=v;b[1]=u;b[2]=t}else t=b[2];t=t;t=t;var w;b[5]!==q||b[6]!==u.length?(w=function(){u.length===0&&q()},b[5]=q,b[6]=u.length,b[7]=w):w=b[7];var x;b[8]!==q||b[9]!==u?(x=[q,u],b[8]=q,b[9]=u,b[10]=x):x=b[10];n(w,x);if(f){b[11]===Symbol["for"]("react.memo_cache_sentinel")?(w=m.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:m.jsx(c("MWXSpinner.react"),{color:"disabled_DEPRECATED",size:24})}),b[11]=w):w=b[11];return w}if(u.length===0)return h;x=t.length;if(x!==1){if(x===0){if(e){b[12]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(15),b[12]=f):f=b[12];b[13]!==a||b[14]!==g||b[15]!==l||b[16]!==o||b[17]!==k||b[18]!==q||b[19]!==p||b[20]!==u?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadType:f,tokens:u,tokensMaybeExcludingActor:u,children:g}),b[13]=a,b[14]=g,b[15]=l,b[16]=o,b[17]=k,b[18]=q,b[19]=p,b[20]=u,b[21]=w):w=b[21];return w}b[22]!==g||b[23]!==l||b[24]!==o||b[25]!==q||b[26]!==u[0]?(h=m.jsx(s,{recipientToken:u[0],renderThreadPreview:l,renderThreadView:o,setPreviewThread:q,children:g}),b[22]=g,b[23]=l,b[24]=o,b[25]=q,b[26]=u[0],b[27]=h):h=b[27];return h}}else{x=t[0];if(a)if(e){b[28]===Symbol["for"]("react.memo_cache_sentinel")?(f=(i||(i=d("LSIntEnum"))).ofNumber(15),b[28]=f):f=b[28];b[29]!==a||b[30]!==g||b[31]!==l||b[32]!==o||b[33]!==k||b[34]!==q||b[35]!==p||b[36]!==u||b[37]!==t?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadType:f,tokens:u,tokensMaybeExcludingActor:t,children:g}),b[29]=a,b[30]=g,b[31]=l,b[32]=o,b[33]=k,b[34]=q,b[35]=p,b[36]=u,b[37]=t,b[38]=w):w=b[38];return w}else{b[39]!==g||b[40]!==x||b[41]!==l||b[42]!==o||b[43]!==q?(h=m.jsx(s,{recipientToken:x,renderThreadPreview:l,renderThreadView:o,setPreviewThread:q,children:g}),b[39]=g,b[40]=x,b[41]=l,b[42]=o,b[43]=q,b[44]=h):h=b[44];return h}}b[45]!==e?(f=e?(i||(i=d("LSIntEnum"))).ofNumber(16):(i||(i=d("LSIntEnum"))).ofNumber(2),b[45]=e,b[46]=f):f=b[46];b[47]!==a||b[48]!==g||b[49]!==l||b[50]!==o||b[51]!==k||b[52]!==q||b[53]!==f||b[54]!==p||b[55]!==r||b[56]!==u||b[57]!==t?(w=m.jsx(I,{checkExistingThreads:a,renderThreadPreview:l,renderThreadView:o,secureThreadToggleEnabled:k,setPreviewThread:q,threadMetadata:p,threadName:r,threadType:f,tokens:u,tokensMaybeExcludingActor:t,children:g}),b[47]=a,b[48]=g,b[49]=l,b[50]=o,b[51]=k,b[52]=q,b[53]=f,b[54]=p,b[55]=r,b[56]=u,b[57]=t,b[58]=w):w=b[58];return w}g["default"]=a}),98);
__d("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative",["Int64Hooks","LSAuthorityLevel","LSIntEnum","MWChatStateActions","MWChatStateV2.react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b,e){var f=d("react-compiler-runtime").c(12),g;f[0]!==e?(g=e===void 0?{shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1}:e,f[0]=e,f[1]=g):g=f[1];var i=g,j=d("MWChatStateV2.react").useDispatch(),k=a==null?void 0:a.threadKey,l=a==null?void 0:a.clientThreadKey,m=a==null?void 0:a.threadType,n=a==null?void 0:a.authorityLevel;f[2]!==n||f[3]!==j||f[4]!==l||f[5]!==k||f[6]!==m||f[7]!==i.shouldClearOldHiddenTab||f[8]!==i.shouldUpdateThreadType||f[9]!==b.tabId?(e=function(){k!=null&&n!=null&&(h||(h=d("LSIntEnum"))).toNumber(n)>=c("LSAuthorityLevel").AUTHORITATIVE&&j(d("MWChatStateActions").updateThreadKeyDescriptor(b.tabId,k,l,i.shouldUpdateThreadType?m:void 0,{shouldClearOldHiddenTab:i.shouldClearOldHiddenTab}))},g=[b.tabId,k,l,j,n,m,i.shouldUpdateThreadType,i.shouldClearOldHiddenTab],f[2]=n,f[3]=j,f[4]=l,f[5]=k,f[6]=m,f[7]=i.shouldClearOldHiddenTab,f[8]=i.shouldUpdateThreadType,f[9]=b.tabId,f[10]=e,f[11]=g):(e=f[10],g=f[11]);d("Int64Hooks").useEffectInt64(e,g)}g["default"]=a}),98);
__d("MWOptimisticSecureThreadPreview.react",["CometPlaceholder.react","FDSProgressRingIndeterminate.react","I64","LSIntEnum","LSThreadAttributionStore","MWComposerGating.react","MWLSChatTabHeaderRoot.react","MWOpenAndSecureThreadView.react","MWPThreadPreview.react","MWPThreadThemeProvider.react","MWV2TabContainer","ReQL","ReQLSuspense","cr:9410","react","react-compiler-runtime","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=k||(k=d("react"));e=k;var m=e.useEffect;e.useMemo;var n=e.useState;function a(a){var e=d("react-compiler-runtime").c(25),g=a.otherContactIdForOptimisticSecureThread,k=a.tab,p=(h||(h=c("useReStore")))(),q;e[0]!==p||e[1]!==g?(a=function(){return g==null?d("ReQL").empty():d("ReQL").fromTableAscending(p.tables.contacts,["blockedByViewerStatus","name","profilePictureUrl","id"]).getKeyRange(g)},q=[p,g],e[0]=p,e[1]=g,e[2]=a,e[3]=q):(a=e[2],q=e[3]);a=d("ReQLSuspense").useFirst(a,q,f.id+":58");q=n();var r=q[0];q=q[1];var s;e[4]===Symbol["for"]("react.memo_cache_sentinel")?(s={shouldClearOldHiddenTab:!1,shouldUpdateThreadType:!1},e[4]=s):s=e[4];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(r,k,s);var t=r==null?void 0:r.threadKey,u;e[5]!==g||e[6]!==t?(s=function(){if(t==null||g==null)return;var a=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(i||(i=d("I64"))).to_string(g));a.value!=="unknown"&&(a.type==="LSThreadAttribution"?d("LSThreadAttributionStore").setLSMessagingThreadAttribution((i||(i=d("I64"))).to_string(t),i.to_string(a.value)):d("LSThreadAttributionStore").setSource((i||(i=d("I64"))).to_string(t),a.value))},u=[t,g],e[5]=g,e[6]=t,e[7]=s,e[8]=u):(s=e[7],u=e[8]);m(s,u);e[9]===Symbol["for"]("react.memo_cache_sentinel")?(s=l.jsx("div",{className:"x6s0dn4 x78zum5 x1iyjqo2 xl56j7k",children:l.jsx(c("FDSProgressRingIndeterminate.react"),{color:"disabled_DEPRECATED",size:24})}),e[9]=s):s=e[9];u=s;if(e[10]!==r){s=r!=null&&l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.Composer",children:l.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:r.themeFbid,children:l.jsx(d("MWComposerGating.react").MWChatComposerGating,{isPreviewThread:!0,thread:r},(i||(i=d("I64"))).to_string((s=r.clientThreadKey)!=null?s:r.threadKey))})});e[10]=r;e[11]=s}else s=e[11];s=s;var v;e[12]!==a?(v=a!=null?[{blockedByViewerStatus:a.blockedByViewerStatus,contextLine:"",displayName:a.name,id:a.id,profilePicUrl:a.profilePictureUrl,threadType:(j||(j=d("LSIntEnum"))).ofNumber(15),type_:(j||(j=d("LSIntEnum"))).ofNumber(1)}]:[],e[12]=a,e[13]=v):v=e[13];a=v;v=a;e[14]!==v||e[15]!==s?(a=l.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWDefaultE2eeThreadPreview.ThreadPreview",children:l.jsx(c("MWPThreadPreview.react"),{areWeCreatingASecureThread:!0,nullstate:u,renderThreadView:o,setPreviewThread:q,tokens:v,children:s})}),e[14]=v,e[15]=s,e[16]=a):a=e[16];var w=a;q=(u=r==null?void 0:r.threadKey)!=null?u:void 0;e[17]!==w||e[18]!==r||e[19]!==k?(v=b("cr:9410")!=null?l.jsx(b("cr:9410"),{children:function(a){return l.jsxs(l.Fragment,{children:[r&&l.jsx(c("MWLSChatTabHeaderRoot.react"),{pushPage:a,tab:k,threadKey:r.threadKey}),w]})}}):l.jsxs(l.Fragment,{children:[r&&l.jsx(c("MWLSChatTabHeaderRoot.react"),{tab:k,threadKey:r.threadKey}),w]}),e[17]=w,e[18]=r,e[19]=k,e[20]=v):v=e[20];e[21]!==q||e[22]!==v||e[23]!==k?(s=l.jsx(d("MWV2TabContainer").MWV2TabContainer,{tab:k,threadKey:q,children:v}),e[21]=q,e[22]=v,e[23]=k,e[24]=s):s=e[24];return s}function o(a){return l.jsx(c("MWOpenAndSecureThreadView.react"),{thread:a})}o.displayName=o.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWOnDemandCutoverThreadPreview.react",["Int64Hooks","MAWOnDemandCutoverTrigger","MWOptimisticSecureThreadPreview.react","promiseDone","react","react-compiler-runtime","useAsyncReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(7),e=a.otherContactIdForOnDemandCutoverThread;a=a.tab;var f=c("useAsyncReStore")(),g,h;b[0]!==f||b[1]!==e?(g=function(){if(e==null)return;c("promiseDone")(f,function(a){d("MAWOnDemandCutoverTrigger").triggerOnDemandCutoverAndCreateSecureThread(a,e,"chatTab")})},h=[f,e],b[0]=f,b[1]=e,b[2]=g,b[3]=h):(g=b[2],h=b[3]);d("Int64Hooks").useEffectInt64(g,h);b[4]!==e||b[5]!==a?(g=i.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:e,tab:a}),b[4]=e,b[5]=a,b[6]=g):g=b[6];return g}g["default"]=a}),98);
__d("MWPNewMessageAnnouncementHeader.react",["fbt","I64","LSIntEnum","LSMessageReplySourceTypeV2","MWPActor.react","MWPForwardedContent","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=i||d("react");function m(a){var b=d("react-compiler-runtime").c(2),c=a.message;a=a.outgoing;c=d("MWPForwardedContent").useTitle(c,a);b[0]!==c?(a=h._(/*BTDS*/"{forward title}",[h._param("forward title",c)]),b[0]=c,b[1]=a):a=b[1];return a}function a(a){var b=d("react-compiler-runtime").c(11),e=a.message,f=a.participant;a=a.sender;var g=d("MWPActor.react").useActor(),i;b[0]!==g||b[1]!==a.id?(i=(j||(j=d("I64"))).equal(a.id,g),b[0]=g,b[1]=a.id,b[2]=i):i=b[2];g=i;i=e.replySourceTypeV2!=null&&(j||(j=d("I64"))).equal(e.replySourceTypeV2,(k||(k=d("LSIntEnum"))).ofNumber(c("LSMessageReplySourceTypeV2").FORWARD));f=(f=(f=f==null?void 0:f.nickname)!=null?f:a.firstName)!=null?f:a.name;if(i){b[3]!==g||b[4]!==e?(a=l.jsx(m,{message:e,outgoing:g}),b[3]=g,b[4]=e,b[5]=a):a=b[5];return a}i=e.replySnippet;if(i!=null){b[6]!==i?(a=h._(/*BTDS*/"{reply snippet}",[h._param("reply snippet",i)]),b[6]=i,b[7]=a):a=b[7];return a}else if(g){b[8]===Symbol["for"]("react.memo_cache_sentinel")?(e=h._(/*BTDS*/"You sent,"),b[8]=e):e=b[8];return e}else{b[9]!==f?(i=h._(/*BTDS*/"{name of sender} sent,",[h._param("name of sender",f)]),b[9]=f,b[10]=i):i=b[10];return i}}g["default"]=a}),226);
__d("useMWPAnnounceMessageForScreenReader",["I64","Int64Hooks","MWPActor.react","Promise","ReQL","ServerTime","promiseDone","react","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k,l=(k||d("react")).useRef;function a(a,e){var f=d("react-compiler-runtime").c(12),g=(i||(i=c("useReStore")))(),k=d("MWPActor.react").useActor(),m;f[0]===Symbol["for"]("react.memo_cache_sentinel")?(m=d("ServerTime").getMillis(),f[0]=m):m=f[0];var n=l(m),o=e.threadKey;f[1]!==a||f[2]!==g.tables.contacts||f[3]!==g.tables.messages||f[4]!==g.tables.participants||f[5]!==o?(m=function(){return d("ReQL").fromTableAscending(g.tables.messages).getKeyRange(o).subscribe(function(e,f){if(f.operation!=="add")return;var i=f.value;(j||(j=d("I64"))).to_float(i.timestampMs)>n.current&&(n.current=(j||(j=d("I64"))).to_float(i.timestampMs),c("promiseDone")((h||(h=b("Promise"))).all([d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.contacts).getKeyRange(i.senderId)),d("ReQL").firstAsync(d("ReQL").fromTableAscending(g.tables.participants).getKeyRange(i.threadKey,i.senderId))]),function(b){var c=b[0];b=b[1];if(c!=null)return a(i,c,b)}))})},f[1]=a,f[2]=g.tables.contacts,f[3]=g.tables.messages,f[4]=g.tables.participants,f[5]=o,f[6]=m):m=f[6];f[7]!==k||f[8]!==a||f[9]!==g||f[10]!==o?(e=[g,k,a,o],f[7]=k,f[8]=a,f[9]=g,f[10]=o,f[11]=e):e=f[11];d("Int64Hooks").useEffectInt64(m,e)}g["default"]=a}),98);
__d("MWPNewMessageAnnouncementForScreenReaders.react",["CometAccessibilityAnnouncementForDynamicContent.react","CometErrorBoundary.react","CometPageletWithDiv.react","I64","LSAuthorityLevel","LSIntEnum","MWPAttachmentDataContext","MWPNewMessageAnnouncementHeader.react","clearTimeout","cr:2472","getMWPAttachmentMessageAnnouncement","mwpMessageHasAttachment","react","react-compiler-runtime","setTimeout","useMWPAnnounceMessageForScreenReader"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j;function k(a){if(null==a)throw new TypeError("Cannot destructure "+a)}var l=h||(h=d("react"));e=h;e.useCallback;var m=e.useEffect,n=e.useState;function o(a){var b=d("react-compiler-runtime").c(2);a=a.message;a=d("MWPAttachmentDataContext").useMWPGetAttachments(a);var e;b[0]!==a?(e=c("getMWPAttachmentMessageAnnouncement")(a),b[0]=a,b[1]=e):e=b[1];return e}function p(a){var e=d("react-compiler-runtime").c(14),f=a.message,g=a.participant;a=a.sender;var h=n(!1),i=h[0],j=h[1],k;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(h=function(){var a=c("setTimeout")(function(){return j(!0)},100);return function(){c("clearTimeout")(a)}},k=[],e[0]=h,e[1]=k):(h=e[0],k=e[1]);m(h,k);if(!i)return null;e[2]!==f.text?(h=f.text!=null&&b("cr:2472")!=null?b("cr:2472").unvault(f.text):f.text,e[2]=f.text,e[3]=h):h=e[3];k=h;e[4]!==f||e[5]!==g||e[6]!==a?(i=l.jsx(c("MWPNewMessageAnnouncementHeader.react"),{message:f,participant:g,sender:a}),e[4]=f,e[5]=g,e[6]=a,e[7]=i):i=e[7];h=k!=null?k:null;e[8]!==f?(g=c("mwpMessageHasAttachment")(f)?l.jsx(o,{message:f}):null,e[8]=f,e[9]=g):g=e[9];e[10]!==i||e[11]!==h||e[12]!==g?(a=l.jsxs(c("CometAccessibilityAnnouncementForDynamicContent.react"),{children:[i,h,g]}),e[10]=i,e[11]=h,e[12]=g,e[13]=a):a=e[13];return a}function q(a){var b=d("react-compiler-runtime").c(1);a=a.thread;var e=n(null),f=e[0],g=e[1];b[0]===Symbol["for"]("react.memo_cache_sentinel")?(e=function(a,b,e){if((i||(i=d("I64"))).equal(a.authorityLevel,(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").AUTHORITATIVE)))return g(function(){return l.jsx(p,{message:a,participant:e,sender:b})})},b[0]=e):e=b[0];b=e;c("useMWPAnnounceMessageForScreenReader")(b,a);return f}function a(a){var b=d("react-compiler-runtime").c(4),e;b[0]!==a?(e=babelHelpers["extends"]({},(k(a),a)),b[0]=a,b[1]=e):e=b[1];b[2]!==e?(a=l.jsx(c("CometErrorBoundary.react"),{fallback:void 0,children:l.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWPNewMessageAnnouncementForScreenReaders",children:l.jsx(q,babelHelpers["extends"]({},e))})}),b[2]=e,b[3]=a):a=b[3];return a}g["default"]=a}),98);
__d("MWPublicChatMemberRequestsBanner.react",["fbt","CometErrorBoundary.react","CometPlaceholder.react","FBLogger","FDSButtonGroup.react","FDSContextualMessage.react","FDSFriendAddFilled16Icon","FDSSkittleIcon.react","LSAuthorityLevel","LSContactBlockedByViewerStatus","LSContactGender","LSContactIdType","LSContactType","LSContactViewerRelationship","LSContactWorkForeignEntityType","LSFactory","LSIntEnum","LSMessagingThreadTypeUtil","LSThreadBitOffset","LSVerifyContactRowExistsStoredProcedure","MWCMThreadTypes.react","MWInboxInfoPanelContext.react","Promise","ReQL","ReQLSuspense","cr:4923","promiseDone","react","react-compiler-runtime","usePrevious","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l,m=l||(l=d("react"));e=l;var n=e.useEffect,o=e.useState;function p(a){if(a.length===0){c("FBLogger")("messenger_web").mustfix("No member requests?");return void 0}else if(a.length===1){var b;return h._(/*BTDS*/"{name} wants to join",[h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}else{b=a.length-1;return h._(/*BTDS*/"_j{\"*\":\"{name} and {number} others want to join\",\"_1\":\"{name} and 1 other want to join\"}",[h._plural(b,"number"),h._param("name",((b=a[0][1])==null?void 0:b.name)||"")])}}function q(a){var e=d("react-compiler-runtime").c(25),f=a.memberRequests,g=a.setWasClosed;a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var i=a.isOnMemberRequestsPageRef,j=a.pushMemberRequestsPage,k=a.setShouldNavToMemberRequests,l=a.setThreadInfoVisible,n=a.threadInfoVisible;e[0]===Symbol["for"]("react.memo_cache_sentinel")?(a={className:"xcrg951 x7m3og9 x1vjfegm"},e[0]=a):a=e[0];var o;e[1]!==f.length?(o=h._(/*BTDS*/"_j{\"*\":\"See requests\",\"_1\":\"See request\"}",[h._plural(f.length)]),e[1]=f.length,e[2]=o):o=e[2];var q;e[3]!==i||e[4]!==j||e[5]!==k||e[6]!==l||e[7]!==g||e[8]!==n?(q=function(){i.current!==!0&&(n===!0?j():(k(!0),l(!0))),g(!0)},e[3]=i,e[4]=j,e[5]=k,e[6]=l,e[7]=g,e[8]=n,e[9]=q):q=e[9];var r;e[10]!==o||e[11]!==q?(r=m.jsx(c("FDSButtonGroup.react"),{primary:{label:o,onPress:q,padding:"wide",type:"secondary"}}),e[10]=o,e[11]=q,e[12]=r):r=e[12];e[13]!==f?(o=p(f),e[13]=f,e[14]=o):o=e[14];e[15]!==f.length?(q=h._(/*BTDS*/"_j{\"*\":\"{number} member requests\",\"_1\":\"1 member request\"}",[h._plural(f.length,"number")]),e[15]=f.length,e[16]=q):q=e[16];e[17]===Symbol["for"]("react.memo_cache_sentinel")?(f=m.jsx(c("FDSSkittleIcon.react"),{color:"gray",icon:b("cr:4923")!=null?b("cr:4923"):c("FDSFriendAddFilled16Icon"),size:36}),e[17]=f):f=e[17];var s;e[18]!==g?(s=function(){g(!0)},e[18]=g,e[19]=s):s=e[19];e[20]!==r||e[21]!==o||e[22]!==q||e[23]!==s?(a=m.jsx("div",babelHelpers["extends"]({},a,{children:m.jsx(c("FDSContextualMessage.react"),{addOnPrimary:r,body:o,headline:q,icon:f,level:4,onClose:s})})),e[20]=r,e[21]=o,e[22]=q,e[23]=s,e[24]=a):a=e[24];return a}function r(a){var e=d("react-compiler-runtime").c(22),g=a.threadKey;a=o(!1);var h=a[0],l=a[1],p=(k||(k=c("useReStore")))();e[0]!==p.tables.contacts||e[1]!==p.tables.group_membership_approval_requests||e[2]!==g?(a=function(){return d("ReQL").fromTableAscending(p.tables.group_membership_approval_requests).getKeyRange(g).map(function(a){var b=d("ReQLSuspense").first(d("ReQL").fromTableAscending(p.tables.contacts).getKeyRange(a.contactId),f.id+":173");return[a,b]})},e[0]=p.tables.contacts,e[1]=p.tables.group_membership_approval_requests,e[2]=g,e[3]=a):a=e[3];var r;e[4]!==p||e[5]!==g?(r=[p,g],e[4]=p,e[5]=g,e[6]=r):r=e[6];var t=d("ReQLSuspense").useArray(a,r,f.id+":168"),u=t.length,v=c("usePrevious")(u);a=d("MWInboxInfoPanelContext.react").useMWInboxInfoPanelContext();var w=a.isOnMemberRequestsPageRef;e[7]!==w.current||e[8]!==u||e[9]!==v?(r=function(){w.current!==!0&&v!==null&&u>v&&l(!1)},e[7]=w.current,e[8]=u,e[9]=v,e[10]=r):r=e[10];e[11]!==w||e[12]!==u||e[13]!==v?(a=[u,v,l,w],e[11]=w,e[12]=u,e[13]=v,e[14]=a):a=e[14];n(r,a);e[15]!==p||e[16]!==t?(r=function(){var a=t.map(s);c("promiseDone")(p.runInTransaction(function(e){return(i||(i=b("Promise"))).all(a.map(function(a){return c("LSVerifyContactRowExistsStoredProcedure")(c("LSFactory")(e),{authorityLevel:(j||(j=d("LSIntEnum"))).ofNumber(c("LSAuthorityLevel").CLIENT_PARTIAL),blockedByViewerStatus:j.ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contactIdType:j.ofNumber(c("LSContactIdType").FBID),contactType:j.ofNumber(c("LSContactType").USER),contactViewerRelationship:j.ofNumber(c("LSContactViewerRelationship").UNKNOWN),gender:j.ofNumber(c("LSContactGender").UNKNOWN),id:a,isBlocked:!1,isMemorialized:!1,isSelf:!1,workForeignEntityType:j.ofNumber(c("LSContactWorkForeignEntityType").UNKNOWN)})}))},"readwrite",void 0,void 0,f.id+":205"))},a=[p,t],e[15]=p,e[16]=t,e[17]=r,e[18]=a):(r=e[17],a=e[18]);n(r,a);e[19]!==t||e[20]!==h?(r=!h&&t.length>0?m.jsx(q,{memberRequests:t,setWasClosed:l}):null,e[19]=t,e[20]=h,e[21]=r):r=e[21];return r}function s(a){return a[0].contactId}function t(a){var b=d("react-compiler-runtime").c(8);a=a.thread;var c;b[0]!==a.threadType?(c=d("LSMessagingThreadTypeUtil").isJoinedSocialChannel(a.threadType),b[0]=a.threadType,b[1]=c):c=b[1];c=c;var e;b[2]!==a?(e=d("LSThreadBitOffset").has(66,a)&&!d("MWCMThreadTypes.react").isStandardCMThread(a.threadType),b[2]=a,b[3]=e):e=b[3];e=e;var f;b[4]!==c||b[5]!==e||b[6]!==a.threadKey?(f=e&&c?m.jsx(r,{threadKey:a.threadKey}):null,b[4]=c,b[5]=e,b[6]=a.threadKey,b[7]=f):f=b[7];return f}function a(a){var b=d("react-compiler-runtime").c(2);a=a.thread;var e;b[0]!==a?(e=m.jsx(c("CometErrorBoundary.react"),{children:m.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWPublicChatMemberRequestsBanner",children:m.jsx(t,{thread:a})})}),b[0]=a,b[1]=e):e=b[1];return e}g["default"]=a}),226);
__d("MWV2ChatTabThreadLinkHashContext.react",["react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));c=h;e=c.createContext;var j=c.useContext,k=e(null);function a(a){var b=d("react-compiler-runtime").c(3),c=a.children;a=a.threadLinkHash;a=a!=null?a:null;var e;b[0]!==c||b[1]!==a?(e=i.jsx(k.Provider,{value:a,children:c}),b[0]=c,b[1]=a,b[2]=e):e=b[2];return e}function b(){return j(k)}g.MWV2ChatTabThreadLinkHashContextProvider=a;g.useGetChatTabThreadLinkHash=b}),98);
__d("XPlatWebAudioPlaybackContextProvider.react",["cr:6234"],(function(a,b,c,d,e,f,g){"use strict";function a(a){a=a.children;return a}d=(c=b("cr:6234")==null?void 0:b("cr:6234").MWPAudioPlaybackContextProvider)!=null?c:a;e=d;g["default"]=e}),98);
__d("useC4gEngagementImpressionLogging",["GroupsCometChatsEngagementLogger","I64","Int64Hooks","MWV2IsTabFocusedContext.react","mwCMIsAnyCMThread","mwCMIsCMSubthread","react-compiler-runtime","useC4GEngagementSurface"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var b=d("react-compiler-runtime").c(7),e=a.isSubthreadDisplayed,f=a.threadKey,g=a.threadType,i=e===void 0?!1:e,j=d("MWV2IsTabFocusedContext.react").useIsTabFocused(),k=c("useC4GEngagementSurface")();b[0]!==j||b[1]!==i||b[2]!==k||b[3]!==f||b[4]!==g?(a=function(){j&&(c("mwCMIsAnyCMThread")(g)||c("mwCMIsCMSubthread")(g)&&i)&&d("GroupsCometChatsEngagementLogger").log({action:"impression",client_extras:c("mwCMIsCMSubthread")(g)?{is_subthread:"1"}:void 0,event:"thread_focus",source:"thread_view",surface:k,thread_id:(h||(h=d("I64"))).to_string(f)})},e=[f,g,j,k,i],b[0]=j,b[1]=i,b[2]=k,b[3]=f,b[4]=g,b[5]=a,b[6]=e):(a=b[5],e=b[6]);d("Int64Hooks").useEffectInt64(a,e)}g["default"]=a}),98);
__d("useCometSubscribeMessengerIsOnDemandCutoverEligible",["LSContactBitOffset","LSMessagingThreadTypeUtil","MAWThreadCutover","ReQL","ReQLSuspense","react-compiler-runtime","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var e=d("react-compiler-runtime").c(12),g=(h||(h=c("useReStore")))(),i,j;e[0]!==g||e[1]!==a||e[2]!==b?(i=function(){return a!=null&&b!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)?d("ReQL").fromTableAscending(g.tables.contacts,[].concat(d("LSContactBitOffset").contactCapabilityFields,["id"])).getKeyRange(a):d("ReQL").empty()},j=[g,a,b],e[0]=g,e[1]=a,e[2]=b,e[3]=i,e[4]=j):(i=e[3],j=e[4]);i=d("ReQLSuspense").useFirst(i,j,f.id+":34");j=d("MAWThreadCutover").useIsCutoverOpenThread(a);if(b==null||!d("LSMessagingThreadTypeUtil").isOpenOneToOne(b)||j){e[5]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!0,null],e[5]=j):j=e[5];return j}if(i==null){e[6]===Symbol["for"]("react.memo_cache_sentinel")?(j=[!1,!1,null],e[6]=j):j=e[6];return j}e[7]!==i?(j=i!=null&&d("LSContactBitOffset").has(76,i),e[7]=i,e[8]=j):j=e[8];j=j;var k;e[9]!==j||e[10]!==i.id?(k=[j,!0,i.id],e[9]=j,e[10]=i.id,e[11]=k):k=e[11];return k}g["default"]=a}),98);
__d("useMWCloseDuplicateChatTabs",["I64","MWChatStateActions","MWChatStateContext","MWChatStateV2.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(h||d("react")).useEffect;function a(a){var b=d("react-compiler-runtime").c(9),c=d("MWChatStateContext").useChatState(k),e=d("MWChatStateV2.react").useDispatch(),f;b[0]!==e||b[1]!==a.tabId||b[2]!==a.tabType.threadKeyDescriptor||b[3]!==c?(f=function(){var b;if(((b=a.tabType.threadKeyDescriptor)==null?void 0:b.threadKey)==null)return;b=Array.from(c.values()).filter(function(b){var c,e=b.tabId;b=b.tabType;return((c=b.threadKeyDescriptor)==null?void 0:c.threadKey)==null||((c=a.tabType.threadKeyDescriptor)==null?void 0:c.threadKey)==null?!1:a.tabId>e&&(i||(i=d("I64"))).equal(b.threadKeyDescriptor.threadKey,a.tabType.threadKeyDescriptor.threadKey)});b.forEach(function(a){var b=a.closeWatermark,c=a.openWatermark;a=a.tabId;c>b&&e(d("MWChatStateActions").closeTab(Date.now(),a))})},b[0]=e,b[1]=a.tabId,b[2]=a.tabType.threadKeyDescriptor,b[3]=c,b[4]=f):f=b[4];var g;b[5]!==e||b[6]!==a||b[7]!==c?(g=[e,a,c],b[5]=e,b[6]=a,b[7]=c,b[8]=g):g=b[8];j(f,g)}function k(a){return a.tabs}g["default"]=a}),98);
__d("MWV2ChatTab.react",["BaseHeadingContextWrapper.react","CometErrorBoundary.react","CometMessagingChatTabErrorState.react","CometPageletWithDiv.react","CometPlaceholder.react","CometTransientDialogProvider.react","I64","Int64Hooks","InteractionTracingMetrics","LSContactUtils","LSFactory","LSMessagingThreadTypeUtil","LSPlatformWaitForTaskCompletion","LSThreadAttributionStore","LSThreadBitOffset","LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure","LegacyHidden","MAWThreadCutover","MAWUnrecoverableErrorBoundary.react","MWCMSubThreadChatTabWithSubthread.react","MWChatConnectionStatusCard.react","MWChatInteraction","MWChatStateContext","MWChatTabInThreadBanner.react","MWChatTabInThreadBannerLazyLoaded.react","MWChatTabLSDependencies","MWComposerGating.react","MWCreatorMessagingUtils","MWFullThreadProvider.react","MWInChatTabContextProvider.react","MWInboxPinnedMessagesBanner.react","MWLSChatTabHeaderRoot.react","MWOnDemandCutoverThreadPreview.react","MWOpenAndSecureThreadView.react","MWOptimisticSecureThreadPreview.react","MWPNewMessageAnnouncementForScreenReaders.react","MWPThemeCSSProvider.react","MWPThreadIsPage.react","MWPThreadThemeProvider.react","MWPVisibleMessageContext.react","MWThreadKey.react","MWV2ChatTabHeaderLoadingWithGlimmers.react","MWV2ChatTabThreadLinkHashContext.react","MWV2ComposerActionsContext.react","MWV2ComposerHasContentContext.react","MWV2EnsureThatChatTabExists","MWV2ErrorComposer.react","MWV2FileDropzone.react","MWV2TabContainer","MetaConfig","QPLUserFlow","ReQL","ReQLSuspense","XPlatWebAudioPlaybackContextProvider.react","cr:10518","cr:1113","cr:21386","cr:9410","emptyFunction","promiseDone","qpl","react","react-compiler-runtime","useC4gEngagementImpressionLogging","useCometSubscribeMessengerHasDefaultThreadOneToOneCapability","useCometSubscribeMessengerIsOnDemandCutoverEligible","useEmptyFunction","useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative","useMWCloseDuplicateChatTabs","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||(i=d("react"));e=i;var l=e.memo;e.useCallback;var m=e.useLayoutEffect,n=e.useRef;d("MWChatTabLSDependencies").init();var o=(e=b("cr:1113"))!=null?e:c("useEmptyFunction"),p=(e=b("cr:10518"))!=null?e:c("useEmptyFunction");function q(a){var b=a.children;a=a.themeFbid;return d("MWPThemeCSSProvider.react").useIsThemeV2()?k.jsx(c("CometTransientDialogProvider.react"),{children:k.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:b})}):k.jsx(c("MWPThreadThemeProvider.react"),{themeFbid:a,children:k.jsx(c("CometTransientDialogProvider.react"),{children:b})})}function r(a){var e=d("react-compiler-runtime").c(88),f=a.isMinimized,g=a.mawSecureThreadQPContainerQueryRef,h=a.mwChatTabInThreadBannerQueryRef,i=a.otherContactIdForDefaultE2eeThread,l=a.otherContactIdForOnDemandCutover,r=a.shouldUseDefaultE2eeOneToOne,w=a.shouldUseOnDemandCutover,x=a.tab,y=a.thread;a=a.threadLinkHash;var z=y.themeFbid,A=y.threadKey,B=y.threadType,C;e[0]!==y?(C={thread:y},e[0]=y,e[1]=C):C=e[1];o(C);e[2]!==A||e[3]!==B?(C={threadKey:A,threadType:B},e[2]=A,e[3]=B,e[4]=C):C=e[4];c("useC4gEngagementImpressionLogging")(C);p(y);e[5]!==B?(C=d("LSMessagingThreadTypeUtil").isDiscoverablePublicBroadcastChannel(B),e[5]=B,e[6]=C):C=e[6];B=C;e[7]!==y?(C=d("LSThreadBitOffset").has(167,y),e[7]=y,e[8]=C):C=e[8];C=C;var D=!d("LSThreadBitOffset").has(56,y),E;e[9]===Symbol["for"]("react.memo_cache_sentinel")?(E={getScrollAreaElement:c("emptyFunction"),jumpToMostRecentMessage:c("emptyFunction"),restoreScrollPosition:c("emptyFunction")},e[9]=E):E=e[9];var F=n(E),G=d("MWChatStateContext").useChatState(v);c("useMWCloseDuplicateChatTabs")(x);var H;e[10]!==G||e[11]!==x.tabId?(E=function(){if(G!==x.tabId){var a;(a=F.current)==null||a.restoreScrollPosition()}},H=[G,x.tabId],e[10]=G,e[11]=x.tabId,e[12]=E,e[13]=H):(E=e[12],H=e[13]);m(E,H);e[14]!==B||e[15]!==y?(E=d("LSThreadBitOffset").has(106,y)&&B&&c("MetaConfig")._("105"),e[14]=B,e[15]=y,e[16]=E):E=e[16];H=E;e[17]===Symbol["for"]("react.memo_cache_sentinel")?(B=function(){var a;(a=F.current)==null||a.jumpToMostRecentMessage()},e[17]=B):B=e[17];E=B;e[18]!==y?(B=function(){d("MWCreatorMessagingUtils").isAPPlusMessageRequest(y)&&c("QPLUserFlow").endSuccess(c("qpl")._(421070823,"2981"),{annotations:{string:{action:"accept"}},instanceKey:(j||(j=d("I64"))).to_int32(y.threadKey)})},e[18]=y,e[19]=B):B=e[19];var I=B;B=d("LSContactUtils").useOtherUserReachabilityStatus(y);var J;e[20]!==B?(J=d("LSContactUtils").getHasTextOnlyComposer(B),e[20]=B,e[21]=J):J=e[21];B=J;e[22]!==G||e[23]!==x.tabId||e[24]!==y?(J=x.tabId!==G?null:k.jsx(c("MWPNewMessageAnnouncementForScreenReaders.react"),{thread:y}),e[22]=G,e[23]=x.tabId,e[24]=y,e[25]=J):J=e[25];var K;e[26]===Symbol["for"]("react.memo_cache_sentinel")?(K=k.jsx(c("MWChatConnectionStatusCard.react"),{}),e[26]=K):K=e[26];var L;e[27]!==h||e[28]!==y?(L=k.jsx(c("CometErrorBoundary.react"),{fallback:u,children:k.jsx(c("CometPlaceholder.react"),{fallback:null,name:"MWChatTabInThreadBanner.Root",children:h!=null?k.jsx(c("MWChatTabInThreadBanner.react"),{mwChatTabInThreadBannerQueryRef:h,thread:y}):k.jsx(c("MWChatTabInThreadBannerLazyLoaded.react"),{thread:y})})}),e[27]=h,e[28]=y,e[29]=L):L=e[29];e[30]!==H||e[31]!==y?(h=H&&k.jsx(c("MWInboxPinnedMessagesBanner.react"),{thread:y}),e[30]=H,e[31]=y,e[32]=h):h=e[32];e[33]!==f||e[34]!==g||e[35]!==y?(H=k.jsx(c("MWOpenAndSecureThreadView.react"),{entryPoint:"popup_chat_box",isMinimizedChatTab:f,mawSecureThreadQPContainerQueryRef:g,messageListRef:F,thread:y}),e[33]=f,e[34]=g,e[35]=y,e[36]=H):H=e[36];e[37]!==I?(f=function(a){return k.jsx(d("MWComposerGating.react").MWChatComposerGating,{afterSendMessage:I,isMessengerInbox:!1,isPreviewThread:!1,thread:a})},e[37]=I,e[38]=f):f=e[38];e[39]!==f||e[40]!==A?(g=k.jsx(d("MWV2ComposerActionsContext.react").MWV2ComposerActionsListener,{onMessageSendAttempt:E,children:k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:null,name:"MWComposer",children:k.jsx(c("MWFullThreadProvider.react"),{threadKey:A,children:f})})}),e[39]=f,e[40]=A,e[41]=g):g=e[41];e[42]!==g||e[43]!==a?(E=k.jsx(c("MAWUnrecoverableErrorBoundary.react"),{fallback:t,children:k.jsx(c("CometErrorBoundary.react"),{fallback:s,children:k.jsx(d("MWV2ChatTabThreadLinkHashContext.react").MWV2ChatTabThreadLinkHashContextProvider,{threadLinkHash:a,children:g})})}),e[42]=g,e[43]=a,e[44]=E):E=e[44];e[45]!==B||e[46]!==D||e[47]!==H||e[48]!==E||e[49]!==y?(f=k.jsxs(d("MWV2FileDropzone.react").MWV2FileDropzone,{isDisabled:B,isMediaOnly:D,thread:y,children:[H,E]}),e[45]=B,e[46]=D,e[47]=H,e[48]=E,e[49]=y,e[50]=f):f=e[50];e[51]!==J||e[52]!==L||e[53]!==h||e[54]!==f?(g=k.jsxs(k.Fragment,{children:[J,K,L,h,f]}),e[51]=J,e[52]=L,e[53]=h,e[54]=f,e[55]=g):g=e[55];var M=g;e[56]!==M||e[57]!==C||e[58]!==x||e[59]!==y?(a=C?b("cr:21386")!=null?k.jsx(b("cr:21386").MWPConversationSearchContext,{children:k.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:x,thread:y,children:M})}):k.jsx(c("MWCMSubThreadChatTabWithSubthread.react"),{tab:x,thread:y,children:M}):null,e[56]=M,e[57]=C,e[58]=x,e[59]=y,e[60]=a):a=e[60];B=a;e[61]!==r||e[62]!==w||e[63]!==A?(D=function(a){return r||w?k.jsx(k.Fragment,{children:a}):k.jsx(d("MWThreadKey.react").MWThreadKeyProvider,{id:A,children:a})},e[61]=r,e[62]=w,e[63]=A,e[64]=D):D=e[64];H=D;e[65]!==M||e[66]!==x||e[67]!==A?(E=b("cr:9410")!=null?k.jsx(d("MWV2TabContainer").MWV2TabContainer,{tab:x,threadKey:A,children:k.jsx(b("cr:9410"),{children:function(a){return k.jsxs(k.Fragment,{children:[k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:k.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:x}),name:"MWChatTabHeader",children:k.jsx(c("MWLSChatTabHeaderRoot.react"),{pushPage:a,tab:x,threadKey:A})}),M]})}})}):k.jsxs(d("MWV2TabContainer").MWV2TabContainer,{tab:x,threadKey:A,children:[k.jsx(d("CometPageletWithDiv.react").Placeholder,{fallback:k.jsx(c("MWV2ChatTabHeaderLoadingWithGlimmers.react"),{tab:x}),name:"MWChatTabHeader",children:k.jsx(c("MWLSChatTabHeaderRoot.react"),{tab:x,threadKey:A})}),M]}),e[65]=M,e[66]=x,e[67]=A,e[68]=E):E=e[68];K=E;e[69]!==K||e[70]!==B||e[71]!==i||e[72]!==l||e[73]!==r||e[74]!==w||e[75]!==x?(J=B!=null?B:r&&c("MWOptimisticSecureThreadPreview.react")!=null?k.jsx(c("MWOptimisticSecureThreadPreview.react"),{otherContactIdForOptimisticSecureThread:i,tab:x}):w?k.jsx(c("MWOnDemandCutoverThreadPreview.react"),{otherContactIdForOnDemandCutoverThread:l,tab:x}):K,e[69]=K,e[70]=B,e[71]=i,e[72]=l,e[73]=r,e[74]=w,e[75]=x,e[76]=J):J=e[76];L=J;e[77]!==L?(h=k.jsx(d("MWV2ComposerHasContentContext.react").MWV2ComposerHasContentContextProvider,{children:k.jsx(d("MWInChatTabContextProvider.react").InChatTabContextProvider,{children:k.jsx(c("BaseHeadingContextWrapper.react"),{children:L})})}),e[77]=L,e[78]=h):h=e[78];e[79]!==h||e[80]!==z?(f=k.jsx(c("XPlatWebAudioPlaybackContextProvider.react"),{children:k.jsx(d("MWPVisibleMessageContext.react").MWPVisibleMessageContextProvider,{children:k.jsx(q,{themeFbid:z,children:h})})}),e[79]=h,e[80]=z,e[81]=f):f=e[81];e[82]!==f||e[83]!==H?(g=H(f),e[82]=f,e[83]=H,e[84]=g):g=e[84];e[85]!==g||e[86]!==A?(C=k.jsx(d("MWPThreadIsPage.react").Provider,{threadKey:A,children:g}),e[85]=g,e[86]=A,e[87]=C):C=e[87];return C}function s(){return k.jsx(c("MWV2ErrorComposer.react"),{})}s.displayName=s.name+" [from "+f.id+"]";function t(a){return k.jsx(c("CometMessagingChatTabErrorState.react"),{error:a})}t.displayName=t.name+" [from "+f.id+"]";function u(){return null}function v(a){return a.focusedTabId}function w(a,b){var e=d("react-compiler-runtime").c(12),g=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(a),i=(d("MAWThreadCutover").useIsCutoverOpenThread(a)||b!=null&&d("LSThreadBitOffset").has(128,b))&&!g;e[0]!==a?(b=(j||(j=d("I64"))).to_string(a),e[0]=a,e[1]=b):b=e[1];var k=d("MAWThreadCutover").useGetCutoverSecureThreadKey(b),l=(h||(h=c("useReStore")))(),m;e[2]!==k||e[3]!==l||e[4]!==i||e[5]!==a?(b=function(){if(!i)return;if(k==null)c("promiseDone")(c("LSPlatformWaitForTaskCompletion")(l,function(b){return c("LSThreadPointQueryAndRestoreMessagesWithJIDStoredProcedure")(c("LSFactory")(b),{waJid:a})},"readwrite"));else{var b=d("MWChatInteraction").get((j||(j=d("I64"))).to_string(a));if(b!=null){var e;d("MWChatInteraction").set(k,b);(e=c("InteractionTracingMetrics")).addMetadata(b,"thread_id",k);e.addMetadata(b,"thread_type",15..toString());e.addMetadata(b,"is_secure",!0);e.addMetadata(b,"redirectedFromPreCutover",1)}}},m=[k,l,i,a],e[2]=k,e[3]=l,e[4]=i,e[5]=a,e[6]=b,e[7]=m):(b=e[6],m=e[7]);d("Int64Hooks").useEffectInt64(b,m);e[8]!==k||e[9]!==l?(b=function(){return k!=null?d("ReQL").fromTableAscending(l.tables.threads).getKeyRange((j||(j=d("I64"))).of_string(k)):d("ReQL").empty()},m=[l,k],e[8]=k,e[9]=l,e[10]=b,e[11]=m):(b=e[10],m=e[11]);e=d("ReQLSuspense").useFirst(b,m,f.id+":465");b=g?void 0:e;if(b!=null){m=d("LSThreadAttributionStore").getSourceWithoutReset(void 0,(j||(j=d("I64"))).to_string(a));m.type==="MWLSEntrypoint"&&m.value!=="unknown"&&d("LSThreadAttributionStore").setSource((j||(j=d("I64"))).to_string(b.threadKey),m.value)}return b}function a(a){var b,e=d("react-compiler-runtime").c(34),g=a.isMinimized,i=a.mawSecureThreadQPContainerQueryRef,j=a.mwChatTabInThreadBannerQueryRef,l=a.tab;a=a.threadKeyDescriptor;g=g===void 0?!1:g;var m=(h||(h=c("useReStore")))(),n=a.clientThreadKey,o=a.threadKey,p=a.threadLinkHash;d("MWV2EnsureThatChatTabExists").useMWV2EnsureThatChatTabExists(o,a.threadType,n,"MWV2ChatTab");e[0]!==m.tables.threads||e[1]!==o?(a=function(){return d("ReQL").fromTableAscending(m.tables.threads,["folderName","themeFbid","threadKey","threadType","parentThreadKey","threadSubtype","threadName","authorityLevel","cannotUnsendReason","threadStatus","cannotReplyReason","clientThreadKey","consistentThreadFbid","metadata"].concat(d("LSThreadBitOffset").threadCapabilityFields)).getKeyRange(o)},e[0]=m.tables.threads,e[1]=o,e[2]=a):a=e[2];var q;e[3]!==m||e[4]!==o?(q=[m,o],e[3]=m,e[4]=o,e[5]=q):q=e[5];a=d("ReQLSuspense").useFirst(a,q,f.id+":517");e[6]!==n||e[7]!==m.tables.threads?(q=function(){return n!=null?d("ReQL").fromTableAscending(m.tables.threads.index("clientThreadKey")).getKeyRange(n):d("ReQL").empty()},e[6]=n,e[7]=m.tables.threads,e[8]=q):q=e[8];var s;e[9]!==n||e[10]!==m?(s=[m,n],e[9]=n,e[10]=m,e[11]=s):s=e[11];q=d("ReQLSuspense").useFirst(q,s,f.id+":537");s=w(o,a);a=(s=s!=null?s:a)!=null?s:q;e[12]===Symbol["for"]("react.memo_cache_sentinel")?(s={shouldClearOldHiddenTab:!0,shouldUpdateThreadType:!0},e[12]=s):s=e[12];c("useMWChatStateUpdateThreadKeyDescriptorIfAuthoritative")(a,l,s);s=c("useCometSubscribeMessengerHasDefaultThreadOneToOneCapability")((q=a==null?void 0:a.threadKey)!=null?q:o,a==null?void 0:a.threadType);q=s[0];s=s[2];b=c("useCometSubscribeMessengerIsOnDemandCutoverEligible")((b=a==null?void 0:a.threadKey)!=null?b:o,a==null?void 0:a.threadType);var t=b[0];b=b[2];if(a!=null){var u=g?"mwchat-tab-wrapper-minimized":void 0,v=g?"hidden":"visible",x;e[13]!==q||e[14]!==a?(x=a!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&q,e[13]=q,e[14]=a,e[15]=x):x=e[15];e[16]!==t||e[17]!==a?(q=a!=null&&d("LSMessagingThreadTypeUtil").isOpenOneToOne(a.threadType)&&t,e[16]=t,e[17]=a,e[18]=q):q=e[18];e[19]!==s||e[20]!==g||e[21]!==i||e[22]!==j||e[23]!==b||e[24]!==q||e[25]!==x||e[26]!==l||e[27]!==p||e[28]!==a?(t=k.jsx(r,{isMinimized:g,mawSecureThreadQPContainerQueryRef:i,mwChatTabInThreadBannerQueryRef:j,otherContactIdForDefaultE2eeThread:s,otherContactIdForOnDemandCutover:b,shouldUseDefaultE2eeOneToOne:x,shouldUseOnDemandCutover:q,tab:l,thread:a,threadLinkHash:p}),e[19]=s,e[20]=g,e[21]=i,e[22]=j,e[23]=b,e[24]=q,e[25]=x,e[26]=l,e[27]=p,e[28]=a,e[29]=t):t=e[29];e[30]!==t||e[31]!==u||e[32]!==v?(s=k.jsx(c("LegacyHidden"),{"data-testid":void 0,mode:v,children:t}),e[30]=t,e[31]=u,e[32]=v,e[33]=s):s=e[33];return s}return null}e=l(a);g["default"]=e}),98);
__d("MWV2ChatTabRoot.react",["MWV2ChatTab.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){var b=d("react-compiler-runtime").c(6),e=a.props;a=a.queries;var f=e.isMinimized,g=e.tab;e=e.threadKeyDescriptor;var h=a.mawSecureThreadQPContainerQueryRef;a=a.mwChatTabInThreadBannerQueryRef;var j;b[0]!==f||b[1]!==h||b[2]!==a||b[3]!==g||b[4]!==e?(j=i.jsx(c("MWV2ChatTab.react"),{isMinimized:f,mawSecureThreadQPContainerQueryRef:h,mwChatTabInThreadBannerQueryRef:a,tab:g,threadKeyDescriptor:e}),b[0]=f,b[1]=h,b[2]=a,b[3]=g,b[4]=e,b[5]=j):j=b[5];return j}g["default"]=a}),98);
__d("useMWInboxMessageSearchRestoreTrigger",["Int64Hooks","MAWFTSRestoreSyncDeferred","MAWFTSSyncConsts","MAWMiActOnActThreadReadyDeferred","MWLSThreadDisplayContext","Promise","promiseDone","qex","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=(i||d("react")).useRef;function a(a,e){var f=d("react-compiler-runtime").c(5),g=j(null),i=d("MWLSThreadDisplayContext").useMWLSThreadDisplayContext(),k,l;f[0]!==a||f[1]!==i||f[2]!==e?(k=function(){var f=function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(a){a.setActiveThreadId(null),i==="ChatTab"&&c("qex")._("1028")===!0&&a.setShouldPauseRestore(!0)})),g.current!=null&&window.clearTimeout(g.current)};if(i!=="Inbox"&&c("qex")._("1482")!==!0)return f;g.current!=null&&window.clearTimeout(g.current);g.current=window.setTimeout(function(){c("promiseDone")(d("MAWFTSRestoreSyncDeferred").getInstance().then(function(d){c("promiseDone")(c("MAWMiActOnActThreadReadyDeferred")(a,e,"useMWInboxMessageSearchRestoreTrigger",function(a,e){d.setActiveThreadId(e,!1);c("promiseDone")(d.startSyncingLoop());return(h||(h=b("Promise"))).resolve()}))}))},d("MAWFTSSyncConsts").THREAD_VIEW_DELAY_UNTIL_RESTORE);return f},l=[a,i,e],f[0]=a,f[1]=i,f[2]=e,f[3]=k,f[4]=l):(k=f[3],l=f[4]);d("Int64Hooks").useEffectInt64(k,l)}g["default"]=a}),98);